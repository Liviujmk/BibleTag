{"version":3,"sources":["webpack://data-workspace/./node_modules/@microsoft/ads-extension-telemetry/lib/telemetryReporter.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/adapters/fs.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/constants.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/index.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/providers/async.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/providers/common.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/providers/sync.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/settings.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/utils/fs.js","webpack://data-workspace/./node_modules/@nodelib/fs.scandir/out/utils/index.js","webpack://data-workspace/./node_modules/@nodelib/fs.stat/out/adapters/fs.js","webpack://data-workspace/./node_modules/@nodelib/fs.stat/out/index.js","webpack://data-workspace/./node_modules/@nodelib/fs.stat/out/providers/async.js","webpack://data-workspace/./node_modules/@nodelib/fs.stat/out/providers/sync.js","webpack://data-workspace/./node_modules/@nodelib/fs.stat/out/settings.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/index.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/providers/async.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/providers/stream.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/providers/sync.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/readers/async.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/readers/common.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/readers/reader.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/readers/sync.js","webpack://data-workspace/./node_modules/@nodelib/fs.walk/out/settings.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/Console.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/CorrelationContextManager.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/Exceptions.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/HttpDependencies.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/HttpDependencyParser.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/HttpRequestParser.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/HttpRequests.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/NativePerformance.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/Performance.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/RequestParser.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/bunyan.sub.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/console.sub.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/initialization.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mongodb.sub.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/mysql.sub.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/postgres.sub.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/redis.sub.js","webpack://data-workspace/./node_modules/applicationinsights/out/AutoCollection/diagnostic-channel/winston.sub.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Constants.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Constants.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/AvailabilityData.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Base.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ContextTagKeys.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Data.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPoint.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/DataPointType.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Domain.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/Envelope.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/EventData.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionData.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/ExceptionDetails.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/MessageData.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/MetricData.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/PageViewData.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/RemoteDependencyData.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/RequestData.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/SeverityLevel.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/StackFrame.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/Generated/index.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/TelemetryType.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/TelemetryTypes/index.js","webpack://data-workspace/./node_modules/applicationinsights/out/Declarations/Contracts/index.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/Channel.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/Config.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/ConnectionStringParser.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/Context.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/CorrelationIdManager.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/EnvelopeFactory.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/Logging.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/NodeClient.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/QuickPulseEnvelopeFactory.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/QuickPulseSender.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/QuickPulseStateManager.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/RequestResponseHeaders.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/Sender.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/TelemetryClient.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/Traceparent.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/Tracestate.js","webpack://data-workspace/./node_modules/applicationinsights/out/Library/Util.js","webpack://data-workspace/./node_modules/applicationinsights/out/TelemetryProcessors/PerformanceMetricsTelemetryProcessor.js","webpack://data-workspace/./node_modules/applicationinsights/out/TelemetryProcessors/SamplingTelemetryProcessor.js","webpack://data-workspace/./node_modules/applicationinsights/out/TelemetryProcessors/index.js","webpack://data-workspace/./node_modules/applicationinsights/out/applicationinsights.js","webpack://data-workspace/./node_modules/async-hook-jl/async-hook.js","webpack://data-workspace/./node_modules/async-hook-jl/index.js","webpack://data-workspace/./node_modules/async-hook-jl/patches/next-tick.js","webpack://data-workspace/./node_modules/async-hook-jl/patches/promise.js","webpack://data-workspace/./node_modules/async-hook-jl/patches/timers.js","webpack://data-workspace/./node_modules/async-listener/es6-wrapped-promise.js","webpack://data-workspace/./node_modules/async-listener/glue.js","webpack://data-workspace/./node_modules/async-listener/index.js","webpack://data-workspace/./node_modules/braces/index.js","webpack://data-workspace/./node_modules/braces/lib/compile.js","webpack://data-workspace/./node_modules/braces/lib/constants.js","webpack://data-workspace/./node_modules/braces/lib/expand.js","webpack://data-workspace/./node_modules/braces/lib/parse.js","webpack://data-workspace/./node_modules/braces/lib/stringify.js","webpack://data-workspace/./node_modules/braces/lib/utils.js","webpack://data-workspace/./node_modules/cls-hooked/context-legacy.js","webpack://data-workspace/./node_modules/cls-hooked/context.js","webpack://data-workspace/./node_modules/cls-hooked/index.js","webpack://data-workspace/./node_modules/continuation-local-storage/context.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/azure-coretracing.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/bunyan.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/console.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/index.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/mongodb-core.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/mongodb.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/mysql.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/pg-pool.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/pg.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/redis.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/tedious.pub.js","webpack://data-workspace/./node_modules/diagnostic-channel-publishers/dist/src/winston.pub.js","webpack://data-workspace//__w/1/s/extensions/data-workspace/node_modules/diagnostic-channel-publishers/dist/src|sync|/^.*\\/lib\\/Connection$/","webpack://data-workspace//__w/1/s/extensions/data-workspace/node_modules/diagnostic-channel-publishers/dist/src|sync|/^.*\\/lib\\/Pool$/","webpack://data-workspace/./node_modules/diagnostic-channel/dist/src/channel.js","webpack://data-workspace/./node_modules/diagnostic-channel/dist/src/patchRequire.js","webpack://data-workspace/./node_modules/emitter-listener/listener.js","webpack://data-workspace/./node_modules/fast-glob/out/index.js","webpack://data-workspace/./node_modules/fast-glob/out/managers/tasks.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/async.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/filters/deep.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/filters/entry.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/filters/error.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/matchers/matcher.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/matchers/partial.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/provider.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/stream.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/sync.js","webpack://data-workspace/./node_modules/fast-glob/out/providers/transformers/entry.js","webpack://data-workspace/./node_modules/fast-glob/out/readers/reader.js","webpack://data-workspace/./node_modules/fast-glob/out/readers/stream.js","webpack://data-workspace/./node_modules/fast-glob/out/readers/sync.js","webpack://data-workspace/./node_modules/fast-glob/out/settings.js","webpack://data-workspace/./node_modules/fast-glob/out/utils/array.js","webpack://data-workspace/./node_modules/fast-glob/out/utils/errno.js","webpack://data-workspace/./node_modules/fast-glob/out/utils/fs.js","webpack://data-workspace/./node_modules/fast-glob/out/utils/index.js","webpack://data-workspace/./node_modules/fast-glob/out/utils/path.js","webpack://data-workspace/./node_modules/fast-glob/out/utils/pattern.js","webpack://data-workspace/./node_modules/fast-glob/out/utils/stream.js","webpack://data-workspace/./node_modules/fast-glob/out/utils/string.js","webpack://data-workspace/./node_modules/fastq/queue.js","webpack://data-workspace/./node_modules/fill-range/index.js","webpack://data-workspace/./node_modules/glob-parent/index.js","webpack://data-workspace/./node_modules/is-extglob/index.js","webpack://data-workspace/./node_modules/is-glob/index.js","webpack://data-workspace/./node_modules/is-number/index.js","webpack://data-workspace/./node_modules/merge2/index.js","webpack://data-workspace/./node_modules/micromatch/index.js","webpack://data-workspace/./node_modules/micromatch/node_modules/picomatch/index.js","webpack://data-workspace/./node_modules/micromatch/node_modules/picomatch/lib/constants.js","webpack://data-workspace/./node_modules/micromatch/node_modules/picomatch/lib/parse.js","webpack://data-workspace/./node_modules/micromatch/node_modules/picomatch/lib/picomatch.js","webpack://data-workspace/./node_modules/micromatch/node_modules/picomatch/lib/scan.js","webpack://data-workspace/./node_modules/micromatch/node_modules/picomatch/lib/utils.js","webpack://data-workspace/./node_modules/reusify/reusify.js","webpack://data-workspace/./node_modules/run-parallel/index.js","webpack://data-workspace/./node_modules/semver/semver.js","webpack://data-workspace/./node_modules/shimmer/index.js","webpack://data-workspace/./node_modules/stack-chain/format.js","webpack://data-workspace/./node_modules/stack-chain/index.js","webpack://data-workspace/./node_modules/stack-chain/stack-chain.js","webpack://data-workspace/./node_modules/to-regex-range/index.js","webpack://data-workspace/./node_modules/vscode-extension-telemetry/lib/telemetryReporter.js","webpack://data-workspace/./node_modules/vscode-nls/lib/main.js","webpack://data-workspace/./src/common/constants.ts","webpack://data-workspace/./src/common/dataWorkspaceExtension.ts","webpack://data-workspace/./src/common/iconHelper.ts","webpack://data-workspace/./src/common/logger.ts","webpack://data-workspace/./src/common/projectLocationHelper.ts","webpack://data-workspace/./src/common/projectProviderRegistry.ts","webpack://data-workspace/./src/common/promise.ts","webpack://data-workspace/./src/common/telemetry.ts","webpack://data-workspace/./src/common/utils.ts","webpack://data-workspace/./src/common/workspaceTreeDataProvider.ts","webpack://data-workspace/./src/dialogs/dialogBase.ts","webpack://data-workspace/./src/dialogs/newProjectDialog.ts","webpack://data-workspace/./src/dialogs/newProjectQuickpick.ts","webpack://data-workspace/./src/dialogs/openExistingDialog.ts","webpack://data-workspace/./src/dialogs/projectDashboard.ts","webpack://data-workspace/./src/services/workspaceService.ts","webpack://data-workspace/external \"@opentelemetry/tracing\"","webpack://data-workspace/external \"applicationinsights-native-metrics\"","webpack://data-workspace/external \"assert\"","webpack://data-workspace/external \"async_hooks\"","webpack://data-workspace/external \"azdata\"","webpack://data-workspace/external \"child_process\"","webpack://data-workspace/external \"console\"","webpack://data-workspace/external \"constants\"","webpack://data-workspace/external \"crypto\"","webpack://data-workspace/external \"dns\"","webpack://data-workspace/external \"events\"","webpack://data-workspace/external \"fs\"","webpack://data-workspace/external \"http\"","webpack://data-workspace/external \"https\"","webpack://data-workspace/external \"module\"","webpack://data-workspace/external \"net\"","webpack://data-workspace/external \"os\"","webpack://data-workspace/external \"path\"","webpack://data-workspace/external \"stream\"","webpack://data-workspace/external \"timers\"","webpack://data-workspace/external \"url\"","webpack://data-workspace/external \"util\"","webpack://data-workspace/external \"vscode\"","webpack://data-workspace/external \"zlib\"","webpack://data-workspace/webpack/bootstrap","webpack://data-workspace/webpack/runtime/hasOwnProperty shorthand","webpack://data-workspace/./src/main.ts"],"names":["Object","defineProperty","exports","value","vscode_extension_telemetry_1","commonProperties","azdata","version","err","TelemetryEventImpl","constructor","reporter","eventName","properties","measurements","this","assign","send","sendTelemetryEvent","e","msg","Error","message","console","error","withAdditionalProperties","additionalProperties","withAdditionalMeasurements","additionalMeasurements","withConnectionInfo","connectionInfo","authenticationType","providerName","serverType","engineType","default","extensionId","extensionVersion","key","_telemetryReporter","createViewEvent","view","sendViewEvent","createActionEvent","action","target","source","durationInMs","measures","sendActionEvent","createMetricsEvent","metrics","groupName","sendMetricsEvent","createErrorEvent","name","errorCode","errorType","sendErrorEvent","createTelemetryEvent","dispose","createFileSystemAdapter","FILE_SYSTEM_ADAPTER","fs","lstat","stat","lstatSync","statSync","readdir","readdirSync","fsMethods","undefined","IS_SUPPORT_READDIR_WITH_FILE_TYPES","NODE_PROCESS_VERSION_PARTS","process","versions","node","split","MAJOR_VERSION","parseInt","MINOR_VERSION","IS_MATCHED_BY_MAJOR","IS_MATCHED_BY_MAJOR_AND_MINOR","Settings","scandirSync","scandir","async","sync","settings_1","getSettings","settingsOrOptions","path","optionsOrSettingsOrCallback","callback","read","optionsOrSettings","settings","readdirWithFileTypes","fsStat","rpl","constants_1","utils","common","directory","withFileTypes","readdirError","dirents","callFailureCallback","entries","map","dirent","joinPathSegments","pathSegmentSeparator","followSymbolicLinks","callSuccessCallback","tasks","entry","done","isSymbolicLink","statError","stats","throwErrorOnBrokenSymbolicLink","createDirentFromStats","makeRplTaskEntry","rplError","rplEntries","names","filepaths","filepath","fsStatSettings","results","forEach","index","push","result","a","b","separator","endsWith","entryPath","_options","_getValue","sep","followSymbolicLink","option","DirentFromStats","isBlockDevice","bind","isCharacterDevice","isDirectory","isFIFO","isFile","isSocket","lstatError","markSymbolicLink","walkStream","walkSync","walk","async_1","stream_1","sync_1","_root","_settings","_reader","_storage","Set","onError","onEntry","add","onEnd","_stream","Readable","objectMode","destroy","isDestroyed","emit","events_1","fsScandir","fastq","reader_1","AsyncReader","super","_scandir","_emitter","EventEmitter","_queue","_worker","concurrency","_isFatalError","_isDestroyed","drain","setImmediate","_pushToQueue","basePath","killAndDrain","on","once","base","queueItem","_handleError","item","fsScandirSettings","_handleEntry","isFatalError","fullpath","isAppliedFilter","entryFilter","_emitEntry","deepFilter","replacePathSegmentSeparator","errorFilter","filter","join","SyncReader","arguments","_handleQueue","values","_handleDirectory","_pushToStorage","Infinity","DiagChannel","AutoCollectConsole","client","INSTANCE","_client","prototype","enable","isEnabled","collectConsoleLog","IsInitialized","isInitialized","_isInitialized","_methodNames","module","Logging","CorrelationContextManager","getCurrentContext","enabled","context","session","get","CONTEXT_NAME","generateContextObject","operationId","parentId","operationName","correlationContextHeader","traceparent","tracestate","operation","id","customProperties","CustomPropertiesImpl","runWithContext","fn","_a","wrapEmitter","emitter","bindEmitter","wrapCallback","forceClsHooked","isNodeVersionCompatible","hasEverEnabled","cls","shouldUseClsHooked","createNamespace","registerContextPreservation","cb","disable","reset","nodeVer","canUseClsHooked","greater800","less820","greater470","header","props","addHeaderData","keyvals","keyval","parts","concat","serializeToHeader","getProperty","prop","i","length","setProperty","val","bannedCharacters","test","warn","AutoCollectExceptions","_canUseUncaughtExceptionMonitor","_this","_exceptionListenerHandle","handle","reThrow","_FALLBACK_ERROR_MESSAGE","trackException","exception","flush","isAppCrashing","listeners","exit","UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME","UNCAUGHT_EXCEPTION_HANDLER_NAME","_rejectionListenerHandle","UNHANDLED_REJECTION_HANDLER_NAME","removeListener","_RETHROW_EXIT_MESSAGE","http","https","Util","RequestResponseHeaders","HttpDependencyParser","CorrelationContextManager_1","CorrelationIdManager","Traceparent","AutoCollectHttpDependencies","_isEnabled","_initialize","originalRequest","request","originalHttpsRequest","clientRequestPatch","options","shouldCollect","disableCollectionRequestOption","alreadyAutoCollectedFlag","trackRequest","requestArgs","_i","call","apply","end","telemetry","uniqueRequestId","uniqueTraceparent","requestParser","currentContext","isValidTraceId","traceId","updateSpanId","getBackCompatRequestId","w3cEnabled","toString","requestNumber","canIncludeCorrelationHeader","getUrl","getHeader","setHeader","config","correlationId","correlationHeader","requestContextHeader","safeIncludeCorrelationHeader","requestIdHeader","parentIdHeader","rootIdHeader","traceparentHeader","traceStateHeader","response","onResponse","dependencyTelemetry","getDependencyTelemetry","contextObjects","trackDependency","info","extendStatics","__extends","setPrototypeOf","__proto__","Array","d","p","hasOwnProperty","__","create","url","Contracts","RequestParser","_super","requestOptions","method","_getUrlFromRequestOptions","startTime","Date","_setStatus","statusCode","getCorrelationContextTarget","requestContextTargetKey","baseTelemetry","dependencyId","urlObject","parse","search","hash","dependencyName","toUpperCase","pathname","remoteDependencyType","RemoteDependencyDataConstants","TYPE_HTTP","remoteDependencyTarget","hostname","TYPE_AI","correlationIdPrefix","port","data","duration","success","_isSuccess","resultCode","dependencyTypeName","originalOptions_1","keys","parsedQuery","host","protocol","agent","format","Tracestate","HttpRequestParser","requestId","_getAbsoluteUrl","socketRemoteAddress","socket","remoteAddress","parseHeaders","connection","connectionRemoteAddress","legacySocketRemoteAddress","ellapsedMilliseconds","getRequestTelemetry","requestTelemetry","sourceCorrelationId","getRequestTags","tags","newTags","locationIp","_getIp","sessionId","_getId","userId","userAuthUserId","getOperationName","operationParentId","getOperationParentId","getOperationId","getRequestId","getCorrelationContextHeader","getTraceparent","getTracestate","getLegacyRootId","legacyRootId","headers","encrypted","requestUrl","pathName","ipMatch","check","str","exec","ip","rawHeaders","substr","cookie","parseId","getCookie","setBackCompatFromThisTraceContext","userAgent","requestContextSourceKey","tracestateHeader","legacy_parentId","legacy_rootId","generateRequestId","getRootId","cookieValue","cookieParts","ContextTagKeys","AutoCollectPerformance","AutoCollectHttpRequests","_isAutoCorrelating","useAutoCorrelation","isAutoCorrelating","_generateCorrelationContext","wrapOnRequestHandler","onRequest","requestParser_1","correlationContext","wrapServerEventHandler","server","originalAddListener","addListener","eventType","eventHandler","originalHttpServer","createServer","originalHttpsServer","trackRequestSync","addResponseCorrelationIdHeader","endRequest","_requestParser","headersSent","tagOverrides","__assign","t","s","n","Config","Context","AutoCollectNativePerformance","_disabledMetrics","disabledMetrics","collectionInterval","_metricsAvailable","NativeMetricsEmitters","_handle","setInterval","_trackNativeMetrics","unref","clearInterval","parseEnabled","collectExtendedMetrics","disableAll","env","ENV_nativeMetricsDisableAll","individualOptOuts","ENV_nativeMetricsDisablers","optOutsArr","optOutsArr_1","shouldSendAll","_trackGarbageCollection","_trackEventLoop","_trackHeapUsage","gc","gcData","getGCData","name_1","stdDev","Math","sqrt","sumSquares","count","pow","total","trackMetric","max","min","internalSdkVersion","sdkVersion","loop","getLoopData","loopUsage","heap","_b","_c","memoryUsage","heapUsed","heapTotal","rss","os","Constants","enableLiveMetricsCounters","_lastIntervalRequestExecutionTime","_lastIntervalDependencyExecutionTime","_collectionInterval","_enableLiveMetricsCounters","_lastCpus","cpus","_lastRequests","totalRequestCount","_totalRequestCount","totalFailedRequestCount","_totalFailedRequestCount","time","_lastDependencies","totalDependencyCount","_totalDependencyCount","totalFailedDependencyCount","_totalFailedDependencyCount","_lastExceptions","totalExceptionCount","_totalExceptionCount","cpuUsage","_lastAppCpuUsage","_lastHrtime","hrtime","trackPerformance","countRequest","durationMs","_intervalRequestExecutionTime","countException","countDependency","_intervalDependencyExecutionTime","_trackCpu","_trackMemory","_trackNetwork","_trackDependencyRate","_trackExceptionRate","totalUser","totalSys","totalNice","totalIdle","totalIrq","cpu","lastCpu","times","model","speed","lastTimes","user","sys","nice","idle","irq","appCpuPercent","appCpuUsage","totalApp","system","combinedTotal","PerformanceCounter","PROCESSOR_TIME","PROCESS_TIME","freeMem","freemem","usedMem","committedMemory","totalmem","PRIVATE_BYTES","AVAILABLE_BYTES","QuickPulseCounter","COMMITTED_BYTES","lastRequests","requests","intervalRequests","intervalFailedRequests","elapsedMs","elapsedSeconds","averageRequestExecutionTime","requestsPerSec","failedRequestsPerSec","REQUEST_RATE","REQUEST_DURATION","REQUEST_FAILURE_RATE","lastDependencies","dependencies","intervalDependencies","intervalFailedDependencies","averageDependencyExecutionTime","dependenciesPerSec","failedDependenciesPerSec","DEPENDENCY_RATE","DEPENDENCY_FAILURE_RATE","DEPENDENCY_DURATION","lastExceptions","exceptions","intervalExceptions","exceptionsPerSec","EXCEPTION_RATE","_lastRequestExecutionTime","_lastDependencyExecutionTime","status","endTime","Contracts_1","diagnostic_channel_1","clients","bunyanToAILevelMap","SeverityLevel","Verbose","Information","Warning","Critical","subscriber","event","AIlevel","level","trackTrace","severity","channel","subscribe","c","unsubscribe","lastIndexOf","substring","stderr","TAG","publishers","unpatchedModules","modules","bunyan","mongodb","mongodbCore","mysql","redis","pg","pgPool","winston","mod","indexOf","commandName","dbName","startedData","databaseName","succeeded","queryObj","query","sqlString","sql","connectionConfig","_connection","socketPath","q","preparable","text","plan","conn","database","commandObj","command","address","winstonToAILevelMap","syslog","og","emerg","alert","crit","warning","notice","debug","npm","verbose","silly","unknown","meta","levelKind","DEFAULT_BREEZE_ENDPOINT","DEFAULT_LIVEMETRICS_ENDPOINT","DEFAULT_LIVEMETRICS_HOST","PerformanceToQuickPulseCounter","QuickPulseDocumentType","Event","Exception","Trace","Metric","Request","Dependency","Availability","QuickPulseType","TelemetryTypeStringToQuickPulseType","EventData","ExceptionData","MessageData","MetricData","RequestData","RemoteDependencyData","AvailabilityData","TelemetryTypeStringToQuickPulseDocumentType","Generated_1","domainSupportsProperties","domain","PageViewData","ver","applicationVersion","deviceId","deviceLocale","deviceModel","deviceOEMName","deviceOSVersion","deviceType","operationSyntheticSource","operationCorrelationVector","sessionIsFirst","userAccountId","cloudRole","cloudRoleInstance","internalAgentVersion","internalNodeName","Data","DataPointType","kind","Measurement","sampleRate","hasFullStack","parsedStack","Base","DataPoint","Domain","Envelope","ExceptionDetails","StackFrame","TelemetryType","telemetryTypeToBaseType","type","baseTypeToTelemetryType","baseType","TelemetryTypeString","m","__export","Channel","isDisabled","getBatchSize","getBatchIntervalMs","sender","_buffer","_lastSend","_isDisabled","_getBatchSize","_getBatchIntervalMs","_sender","setUseDiskRetryCaching","resendInterval","maxBytesOnDisk","setDiskRetryMode","envelope","payload","_stringify","triggerSend","_timeoutHandle","setTimeout","isNodeCrashing","bufferIsEmpty","batch","saveOnCrash","Buffer","from","clearTimeout","JSON","stringify","ConnectionStringParser","setupString","endpointBase","connectionStringEnv","ENV_connectionString","csCode","csEnv","iKeyCode","instrumentationkey","instrumentationKey","_getInstrumentationKey","endpointUrl","ingestionendpoint","maxBatchSize","maxBatchIntervalMs","disableAppInsights","samplingPercentage","correlationIdRetryIntervalMs","correlationHeaderExcludedDomains","setCorrelationId","proxyHttpUrl","ENV_http_proxy","proxyHttpsUrl","ENV_https_proxy","httpAgent","httpsAgent","profileQueryEndpoint","ENV_profileQueryEndpoint","_quickPulseHost","liveendpoint","ENV_quickPulseHost","match","_profileQueryEndpoint","set","endpoint","cancelCorrelationIdQuery","queryCorrelationId","enumerable","configurable","iKey","ENV_iKey","ENV_azurePrefix","legacy_ENV_iKey","connectionString","_FIELDS_SEPARATOR","reduce","fields","kv","kvParts","_FIELD_KEY_VALUE_SEPARATOR","toLowerCase","endpointsuffix","locationPrefix","location","packageJsonPath","_loadApplicationContext","_loadDeviceContext","_loadInternalContext","resolve","__dirname","appVersion","packageJson","readFileSync","release","DefaultRoleName","arch","platform","appIdUrlString","completedLookups","pendingLookups","fetchAppId","disableAppInsightsAutoCollection","req","makeRequest","res","appId_1","setEncoding","suffix","currentRootId","appendSuffix","generateRootId","endIndex","startIndex","w3cTraceId","delimiter","requestIdMaxLength","trimPosition","randomu32","EnvelopeFactory","createEnvelope","telemetryType","createTraceData","createDependencyData","createEventData","createExceptionData","createRequestData","createMetricData","createAvailabilityData","baseData","validateStringMap","replace","getTags","toISOString","trace","isNaN","severityLevel","remoteDependency","slice","msToTimeSpan","stack","exceptionDetails","typeName","parseStack","isArray","requestData","responseCode","metric","Aggregation","availabilityData","runLocation","frames","totalSizeInBytes","frame","_StackFrame","regex","parsedFrame","sizeInBytes","left","right","size","acceptedLeft","acceptedRight","howMany","splice","assembly","trim","matches","fileName","line","baseSize","optionalParams","enableDebug","disableWarnings","disableErrors","TelemetryClient","ServerRequestTracking","ClientRequestTracking","NodeClient","trackNodeHttpRequestSync","trackNodeHttpRequest","trackNodeHttpDependency","StreamId","QuickPulseEnvelopeFactory","createQuickPulseEnvelope","documents","machineName","instance","Documents","InstrumentationKey","Metrics","InvariantVersion","Timestamp","now","Version","MachineName","Instance","createQuickPulseMetric","Name","Value","Weight","telemetryEnvelopeToQuickPulseDocument","createQuickPulseEventDocument","createQuickPulseExceptionDocument","createQuickPulseTraceDocument","createQuickPulseDependencyDocument","createQuickPulseRequestDocument","document","createQuickPulseDocument","Message","exceptionMessage","exceptionType","ExceptionMessage","ExceptionType","Success","Duration","ResponseCode","OperationName","Target","ResultCode","CommandName","OperationId","DependencyTypeName","documentType","__type","DocumentType","Properties","aggregateProperties","meas","property","QuickPulseSender","_config","_consecutiveErrors","ping","_submitData","post","postOrPing","quickPulseHost","byteLength","shouldPOSTData","MAX_QPS_FAILURES_BEFORE_WARN","write","QuickPulseStateManager","_isCollectingData","_lastSuccessTime","_lastSendSucceeded","_metrics","_documents","_collectors","addCollector","collector","_addMetric","addDocument","_goQuickPulse","enableCollectors","_resetQuickPulseBuffer","k","_post","_ping","currentTimeout","POST_INTERVAL","PING_INTERVAL","MAX_POST_WAIT_TIME","FALLBACK_INTERVAL","MAX_PING_WAIT_TIME","_quickPulseDone","shouldPOST","zlib","child_process","Sender","onSuccess","_onSuccess","_onError","_enableDiskRetryMode","_resendInterval","WAIT_BETWEEN_RESEND","_maxBytesOnDisk","MAX_BYTES_ON_DISK","_numConsecutiveFailures","OS_PROVIDES_FILE_PROTECTION","USE_ICACLS","existsSync","ICACLS_PATH","floor","withCredentials","gzip","buffer","dataToSend","responseString","_sendFirstFileOnDisk","_storeToDisk","MAX_CONNECTION_FAILURES_BEFORE_WARN","_onErrorHelper","errorMessage","_storeToDiskSync","_runICACLS","args","aclProc","spawn","windowsHide","code","signal","_runICACLSSync","spawnSync","_getACLIdentity","ACL_IDENTITY","psProc","POWERSHELL_PATH","stdio","stdout","_getACLIdentitySync","_getACLArguments","identity","_applyACLRules","ACLED_DIRECTORIES","_applyACLRulesSync","_confirmDirExists","mkdir","_getShallowDirectorySize","files","totalSize","fileStats","_getShallowDirectorySizeSync","tmpdir","TEMPDIR_PREFIX","getTime","fileFullPath","writeFile","mode","mkdirSync","dirSize","writeFileSync","tempDir","exists","f","basename","firstFile","filePath","readFile","unlink","systemdrive","TelemetryProcessors","_telemetryProcessors","trackAvailability","track","isError","trackEvent","accepted","runTelemetryProcessors","samplingTelemetryProcessor","performanceMetricsTelemetryProcessor","quickPulseClient","addTelemetryProcessor","telemetryProcessor","clearTelemetryProcessors","telemetryProcessorsCount","processor","traceFlag","DEFAULT_TRACE_FLAG","DEFAULT_VERSION","spanId","traceparentArr","len","isValidSpanId","fieldmap","parseHeader","fieldarr","validateKeyChars","keyParts","tenant","vendor","tenantValid","Boolean","vendorValid","keydeduper","parts_1","part","pair","strict","constants","cookieName","cookies","int32ArrayToBase64","array","toChar","v","String","fromCharCode","x","random32","random","tmp","hexValues","oct","clockSequenceHi","isValidW3CId","obj","isPrimitive","input","propType","isDate","totalms","sec","toFixed","hour","days","extractError","looseError","extractObject","origProperty","toJSON","field","stringTarget","MAX_PROPERTY_LENGTH","excludedDomains","RegExp","contextHeaders","keyValues","keyValue","requestCallback","requestUrlParsed","proxyUrl","proxyUrlParsed","Host","isHttps","tlsRestrictedAgent","addCorrelationIdHeaderFromString","components","some","Agent","secureOptions","SSL_OP_NO_SSLv2","SSL_OP_NO_SSLv3","SSL_OP_NO_TLSv1","SSL_OP_NO_TLSv1_1","remoteDependencyData","getSamplingHashCode","csharpMax","charCodeAt","abs","DistributedTracingModes","QuickPulseClient","NativePerformance_1","_forceClsHooked","_disabledExtendedMetrics","_console","_exceptions","_performance","_nativePerformance","_serverRequests","_clientRequests","_performanceLiveMetrics","_isConsole","_isConsoleLog","_isExceptions","_isPerformance","_isRequests","_isDependencies","_isDiskRetry","_isCorrelating","_isSendingLiveMetrics","_isNativePerformance","_diskRetryInterval","_diskRetryMaxBytes","_isStarted","start","defaultClient","liveMetricsClient","Configuration","setup","getCorrelationContext","wrapWithCorrelationContext","setDistributedTracingMode","AI_AND_W3C","setAutoCollectConsole","setAutoCollectExceptions","setAutoCollectPerformance","extendedMetricsConfig","setAutoCollectRequests","setAutoCollectDependencies","setAutoDependencyCorrelation","useAsyncHooks","setInternalLogging","enableDebugLogging","enableWarningLogging","setSendLiveMetrics","asyncWrap","binding","TIMERWRAP","Providers","patchs","ignoreUIDs","State","counter","Hooks","initFns","preFns","postFns","destroyFns","init","uid","provider","parentUid","parentHandle","hook","pre","has","didThrow","delete","removeElement","AsyncHook","_state","_hooks","providers","setupHooks","hooks","remove","addHooks","removeHooks","global","_asyncHook","attach","callSite","filename","getFileName","NextTickWrap","state","oldNextTick","nextTick","TypeError","listenerCount","PromiseWrap","Promise","oldThen","then","makeWrappedHandler","isOnFulfilled","makeUnhandledResolutionHandler","makeUnhandledRejectionHandler","onFulfilled","onRejected","timers","TimeoutWrap","IntervalWrap","ImmediateWrap","timeoutMap","Map","intervalMap","ImmediateMap","activeCallback","clearedInCallback","patchTimer","setFn","clearFn","Handle","timerMap","singleCall","oldSetFn","oldClearFn","timerId","clearImmediate","ensureAslWrapper","executor","reject","promise","asyncCatcher","wrap","inAsyncTick","listenerStack","union","dest","added","destLength","addedLength","returned","j","missing","_fatalException","errorValues","inErrorTick","er","handled","listener","flags","pop","original","list","before","after","errorThrew","threw","_originalNextTick","AsyncListener","callbacks","createAsyncListener","addAsyncListener","registered","removeAsyncListener","simpleWrap","shimmer","semver","massWrap","util","v6plus","gte","v7plus","v8plus","v11plus","net","wrapSetUpListenHandle","onread","onconnection","patchOnRead","ctx","_originalOnread","_normalizeArgs","arg0","Number","_normalizeConnectArgs","Server","Socket","getOwnPropertySymbols","onSocket","childProcess","wrapChildProcess","child","activatorFirst","onexit","ChildProcess","processors","_nextDomainTick","_tickDomainCallback","activator","asynchronizers","patchGlobalTimers","dns","resolveNaptr","crypto","lchown","lchmod","ftruncate","Deflate","proto","getPrototypeOf","_transform","toWrap","instrumentPromise","promiseListener","fallback","cbIdx","wrappedPromise","overwrite","__asl_wrapper","propagateAslWrapper","next","nextResult","returnVal","errorVal","wrapThen","last","inherits","chain","wrapPromise","compile","expand","braces","output","pattern","nodupes","noempty","fill","ast","parent","invalidBlock","isInvalidBrace","invalidNode","invalid","escapeInvalid","prefix","isOpen","isClose","prev","nodes","ranges","range","toRegex","MAX_LENGTH","CHAR_0","CHAR_9","CHAR_UPPERCASE_A","CHAR_LOWERCASE_A","CHAR_UPPERCASE_Z","CHAR_LOWERCASE_Z","CHAR_LEFT_PARENTHESES","CHAR_RIGHT_PARENTHESES","CHAR_ASTERISK","CHAR_AMPERSAND","CHAR_AT","CHAR_BACKSLASH","CHAR_BACKTICK","CHAR_CARRIAGE_RETURN","CHAR_CIRCUMFLEX_ACCENT","CHAR_COLON","CHAR_COMMA","CHAR_DOLLAR","CHAR_DOT","CHAR_DOUBLE_QUOTE","CHAR_EQUAL","CHAR_EXCLAMATION_MARK","CHAR_FORM_FEED","CHAR_FORWARD_SLASH","CHAR_HASH","CHAR_HYPHEN_MINUS","CHAR_LEFT_ANGLE_BRACKET","CHAR_LEFT_CURLY_BRACE","CHAR_LEFT_SQUARE_BRACKET","CHAR_LINE_FEED","CHAR_NO_BREAK_SPACE","CHAR_PERCENT","CHAR_PLUS","CHAR_QUESTION_MARK","CHAR_RIGHT_ANGLE_BRACKET","CHAR_RIGHT_CURLY_BRACE","CHAR_RIGHT_SQUARE_BRACKET","CHAR_SEMICOLON","CHAR_SINGLE_QUOTE","CHAR_SPACE","CHAR_TAB","CHAR_UNDERSCORE","CHAR_VERTICAL_LINE","CHAR_ZERO_WIDTH_NOBREAK_SPACE","append","queue","stash","enclose","flatten","ele","rangeLimit","dollar","exceedsLimit","step","RangeError","encloseBrace","block","opts","maxLength","SyntaxError","brackets","depth","advance","open","shift","commas","siblings","close","keepQuotes","keepEscaping","isOpenOrClose","isInteger","num","find","limit","escapeNode","escaped","acc","flat","arr","assert","asyncHook","ERROR_SYMBOL","invertedProviders","DEBUG_CLS_HOOKED","currentUid","Namespace","active","_set","_contexts","getNamespace","namespaces","destroyNamespace","namespace","ok","inspect","debug2","DEBUG","_rawDebug","getFunctionName","enter","createContext","_ns_name","run","runAndReturn","runPromise","catch","self","thisSymbol","CONTEXTS_SYMBOL","unwrapped","wrapped","unwrappedContexts","thunk","fromException","stackChain","modifier","_modifiers","deattach","async_hooks","_indent","createHook","asyncId","triggerId","resource","executionAsyncId","repeat","showHidden","colors","triggerAsyncId","triggerIdContext","asyncHooksCurrentId","indentStr","currentId","contexts","storage","AzureMonitorSymbol","AzureMonitorSpanProcessor","onStart","span","publish","shutdown","azureCoreTracing","versionSpecifier","patch","coreTracing","tracer_1","BasicTracer","spanContextPropagator","scopeManager","startSpanOriginal_1","startSpan","parentOperation","getCurrentSpan","addEvent","addSpanProcessor","setTracer","registerMonkeyPatch","originalBunyan","originalEmit","_emit","rec","noemit","ret","originalConsole","aiLoggingOutStream","Writable","aiLoggingErrStream","chunk","aiLoggingConsole","Console","_loop_1","originalMethod","consoleMethods_1","azuresdk","consolePub","tedious","mongoCore","originalMongoCore","originalConnect","connect","originalWrite","pool","cbidx","bindToContext","originalLogout","logout","mongo2","originalMongo","instrument","operationIdGenerator","eventMap","mongo3","contextMap","mongo330","coreTopology","mongodbcorePatchFunction","originalMysql","originalMysqlPath","patchObjectFunction","func","cbWrapper","originalFunc","resultContainer","startDate","patchClassMemberFunction","classObject","connectionClass","dirname","hrDuration","callbackArgs","poolClass","postgresPool1","originalPgPool","postgres6","originalPg","originalPgPath","originalClientQuery","Client","diagnosticOriginalFunc","queryResult","connectionParameters","patchCallback","trackingCallback","rowCount","ceil","postgres7","callbackProvided","_Promise","originalRedis","originalSend","RedisClient","internal_send_command","cb_1","pubsubBound","address_1","startTime_1","startDate_1","originalTedious","originalMakeRequest","Connection","getPatchedCallback","origCallback","rows","parametersByName","statement","__rest","winston3","originalWinston","AppInsightsTransport","log","splat","Symbol","levels","mapLevelToKind","Transport","patchedConfigure","lastLevel","origCreate","createLogger","origConfigure","configure","origRootConfigure","winston2","curLevels","originalLog","Logger","loggingFilter","filters","webpackEmptyContext","patchRequire_1","patchRequire_2","makePatchingRequire","trueFilter","publishing","ContextPreservingEventEmitter","subscribers","contextPreservationFunction","knownPatches","currentlyPublishing","shouldPublish","standardEvent_1","timestamp","getOwnPropertyNames","addContextPreservation","preserver","previousPreservationStack","packageName","patcher","getPatchesObject","diagnosticsSource","require","moduleModule","nativeModules","originalRequire","patchedModules","moduleId","originalModule","modulePath","_resolveFilename","moduleVersion","prereleaseTagIndex","modifiedModule","modulePatcher","satisfies","unwrap","SYMBOL","propertyIsEnumerable","writable","_listeners","_events","_wrap","visit","onAddListener","onEmit","adding","existing","unprocessed","l","_process","_findAndProcess","__wrapped","remover","taskManager","FastGlob","assertPatternsInput","works","getWorks","all","_Provider","patterns","generate","every","string","isString","isEmpty","stream","merge","generateTasks","isDynamicPattern","escapePath","escape","convertPatternGroupToTask","convertPatternGroupsToTasks","groupPatternsByBaseDirectory","getNegativePatternsAsPositive","getPositivePatterns","convertPatternsToTasks","positive","negative","dynamic","patternsOutsideCurrentDirectory","getPatternsOutsideCurrentDirectory","patternsInsideCurrentDirectory","getPatternsInsideCurrentDirectory","outsideCurrentDirectoryGroup","insideCurrentDirectoryGroup","ignore","getNegativePatterns","convertToPositivePattern","collection","getBaseDirectory","convertToNegativePattern","positivePatterns","negativePatterns","staticPatterns","isStaticPattern","dynamicPatterns","staticTasks","dynamicTasks","provider_1","ProviderAsync","task","root","_getRootDirectory","_getReaderOptions","api","transform","static","partial_1","_micromatchOptions","getFilter","matcher","_getMatcher","negativeRe","_getNegativePatternsRe","_filter","affectDepthOfReadingPatterns","isAffectDepthOfReadingPattern","convertPatternsToRe","_isSkippedByDeep","_isSkippedSymbolicLink","removeLeadingDotSegment","_isSkippedByPositivePatterns","_isSkippedByNegativePatterns","deep","_getEntryLevel","entryPathDepth","baseNameMatch","patternsRe","matchAny","positiveRe","unique","_isDuplicateEntry","_onlyFileFilter","_onlyDirectoryFilter","_isSkippedByAbsoluteNegativePatterns","isMatched","_isMatchToPatterns","_createIndexRecord","onlyFiles","onlyDirectories","absolute","makeAbsolute","cwd","_isNonFatalError","errno","isEnoentCodeError","suppressErrors","_patterns","_fillStorage","expandPatternsWithBraceExpansion","segments","_getPatternSegments","sections","_splitSegmentsIntoSections","complete","getPatternParts","patternRe","makeRe","splitWhen","segment","hasGlobStar","matcher_1","PartialMatcher","section","deep_1","entry_1","error_1","entry_2","_getMicromatchOptions","entryTransformer","getTransformer","dot","matchBase","nobrace","braceExpansion","nocase","caseSensitiveMatch","noext","extglob","noglobstar","globstar","posix","strictSlashes","stream_2","ProviderStream","destination","ProviderSync","unixify","markDirectories","_fsStatSettings","_getFullEntryPath","_makeEntry","fsWalk","ReaderStream","_walkStream","_stat","PassThrough","_write","_enc","_getEntry","_getStat","ReaderSync","_walkSync","_statSync","DEFAULT_FILE_SYSTEM_ADAPTER","CPU_COUNT","_getFileSystemMethods","methods","items","predicate","groupIndex","UNESCAPED_GLOB_SYMBOLS_RE","charAt","secondCharactery","expandBraceExpansion","endsWithSlashGlobStar","isPatternRelatedToParentDirectory","isPositivePattern","isNegativePattern","globParent","micromatch","COMMON_GLOB_SYMBOLS_RE","REGEX_CHARACTER_CLASS_SYMBOLS_RE","REGEX_GROUP_SYMBOLS_RE","GLOB_EXTENSION_SYMBOLS_RE","BRACE_EXPANSIONS_SYMBOLS_RE","includes","startsWith","flipBackslashes","scan","unshift","merge2","propagateCloseEventToSources","streams","mergedStream","reusify","noop","Task","errorHandler","worked","worker","cache","queueHead","queueTail","_running","current","paused","saturated","pause","running","resume","getQueue","empty","kill","handler","holder","toRegexRange","isObject","isValidValue","isNumber","zeros","pad","toNumber","dash","padStart","toMaxLen","toRange","isNumbers","capture","rangeError","invalidRange","strictRanges","descending","startString","endString","stepString","padded","maxLen","negatives","positives","sort","toSequence","fillNumbers","fillLetters","invalidStep","isGlob","pathPosixDirname","isWin32","backslash","enclosure","globby","isExtglob","chars","strictRegex","relaxedRegex","idx","isFinite","pauseStreams","_readableState","pipe","streamsQueue","merging","doEnd","doPipeError","pipeError","highWaterMark","addStream","mergeStream","endStream","pipesCount","onend","onerror","endEmitted","setMaxListeners","picomatch","isEmptyString","omit","keep","onResult","isMatch","negated","negatedExtglob","matched","failglob","nonull","nullglob","unescape","any","not","contains","matchKeys","glob","isWindows","toPosixSlashes","braceExpand","DOTS_SLASH","POSIX_CHARS","DOT_LITERAL","PLUS_LITERAL","QMARK_LITERAL","SLASH_LITERAL","ONE_CHAR","QMARK","END_ANCHOR","NO_DOT","NO_DOTS","NO_DOT_SLASH","NO_DOTS_SLASH","QMARK_NO_DOT","STAR","START_ANCHOR","WINDOWS_CHARS","POSIX_REGEX_SOURCE","alnum","alpha","ascii","blank","cntrl","digit","graph","lower","print","punct","space","upper","word","xdigit","REGEX_BACKSLASH","REGEX_NON_SPECIAL_CHARS","REGEX_SPECIAL_CHARS","REGEX_SPECIAL_CHARS_BACKREF","REGEX_SPECIAL_CHARS_GLOBAL","REGEX_REMOVE_BACKSLASH","REPLACEMENTS","CHAR_BACKWARD_SLASH","CHAR_GRAVE_ACCENT","SEP","extglobChars","globChars","win32","expandRange","ex","escapeRegex","syntaxError","char","bos","prepend","tokens","PLATFORM_CHARS","EXTGLOB_CHARS","nodot","qmarkNoDot","star","bash","noextglob","consumed","backtrack","parens","quotes","removePrefix","extglobs","eos","peek","remaining","consume","token","negate","increment","decrement","tok","isBrace","inner","extglobOpen","conditions","extglobClose","rest","extglobStar","fastpaths","backslashes","esc","first","wrapOutput","slashes","strictBrackets","nobracket","prevValue","literalBrackets","hasRegexChars","outputIndex","tokensIndex","brace","dots","comma","out","toks","supportsLookbehinds","nonegate","prior","isStart","afterStar","escapeLast","slashDot","returnState","fns","isState","compileRe","isIgnored","ignoreOpts","onMatch","returnObject","onIgnore","returnOutput","parsed","isPathSeparator","isPrefix","isGlobstar","scanToEnd","lastIndex","isBracket","braceEscaped","finished","noparen","removeBackslashes","maxDepth","prevIndex","isRegexChar","segs","windows","lastIdx","Constructor","head","tail","pending","isSync","each","SemVer","NODE_DEBUG","SEMVER_SPEC_VERSION","MAX_SAFE_INTEGER","re","src","R","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","MAINVERSION","MAINVERSIONLOOSE","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","PRERELEASE","PRERELEASELOOSE","BUILDIDENTIFIER","BUILD","FULL","FULLPLAIN","LOOSEPLAIN","LOOSE","GTLT","XRANGEIDENTIFIERLOOSE","XRANGEIDENTIFIER","XRANGEPLAIN","XRANGEPLAINLOOSE","XRANGE","XRANGELOOSE","COERCE","LONETILDE","TILDETRIM","TILDE","TILDELOOSE","LONECARET","CARETTRIM","CARET","CARETLOOSE","COMPARATORLOOSE","COMPARATOR","COMPARATORTRIM","HYPHENRANGE","HYPHENRANGELOOSE","loose","includePrerelease","raw","major","minor","prerelease","build","valid","clean","compare","other","compareMain","comparePre","compareIdentifiers","inc","identifier","diff","version1","version2","eq","v1","v2","defaultResult","numeric","anum","bnum","gt","lt","neq","lte","cmp","op","Comparator","comp","ANY","operator","rcompareIdentifiers","compareLoose","rcompare","rsort","Range","parseRange","isX","hyphenReplace","$0","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","testSet","allowed","outside","hilo","gtfn","ltefn","ltfn","ecomp","comparators","high","low","comparator","r","intersects","rangeTmp","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","comps","hr","compRe","_","M","pr","replaceCaret","replaceCarets","replaceTilde","replaceTildes","gtlt","xM","xm","xp","replaceXRange","replaceXRanges","replaceStars","parseComparator","thisComparators","thisComparator","rangeComparators","rangeComparator","toComparators","maxSatisfying","maxSV","rangeObj","minSatisfying","minSV","minVersion","minver","compver","validRange","ltr","gtr","r1","r2","coerce","isFunction","funktion","logger","nodule","wrapper","__unwrap","nodules","massUnwrap","lines","ee","FormatErrorString","_stackChain","defaultFormater","extend","TraceModifier","StackFormater","SHORTCIRCUIT_CALLSITE","collectCallSites","captureStackTrace","callSites","_modify","_formater","_previous","formater","restore","_backup","_roolback","prepareStackTrace","SHORTCIRCUIT_FORMATER","originalFrames","stackTraceLimit","isExtensible","getOwnPropertyDescriptor","mutated","relaxZeros","strictZeros","cacheKey","shorthand","isPadded","hasPadding","splitToPatterns","neg","pos","onlyNegative","filterPatterns","onlyPositive","intersected","collatePatterns","rangeToPattern","stop","digits","zipped","zip","startDigit","stopDigit","nines","countNines","stops","countZeros","splitToRanges","padZeros","toQuantifier","comparison","intersection","integer","relax","clearCache","vscode","appInsights","TelemetryReporter","firstParty","userOptIn","logFilePath","logStream","createWriteStream","encoding","autoClose","updateUserOptIn","configListener","workspace","onDidChangeConfiguration","getConfiguration","TELEMETRY_CONFIG_ID","TELEMETRY_CONFIG_ENABLED_ID","createAppInsightsClient","appInsightsClient","getCommonProperties","machineId","uiKind","UIKind","Web","Desktop","cleanRemoteName","remoteName","shouldSendErrorTelemetry","extension","extensionKind","ExtensionKind","Workspace","_extension","extensions","getExtension","cloneAndChange","change","anonymizeFilePaths","cleanupPatterns","appRoot","extensionPath","updatedStack","cleanUpIndexes","cleanupPatterns_1","regexp","nodeModulesRegex","fileRegex","y","cleanupPatterns_2","cleanProperties","_key","sendTelemetryErrorEvent","errorProps","sendTelemetryException","flushEventsToLogger","flushEventsToAI","MessageFormat","BundleFormat","LocalizeInfo","resolvedBundles","isPseudo","isDefined","readJsonFileSync","arg","replacement","createScopedLocalizeFunction","messages","localize","cacheBundle","bundle","loadDefaultNlsBundle","bundlePath","folder","metaData","module_1","createDefaultNlsBundle","loadNlsBundle","languagePackSupport","cacheRoot","languagePackId","translationsConfigFile","translationsConfig","file","useMemoryOnly","writeBundle","flag","utimes","metaDataPath","languagePackLocation","languagePack","contents","module_2","translations","outDir","resultMessages","messageKey","translatedMessage","createNLSBundle","loadNlsBundleOrCreateFromI18n","candidate","language","findInTheBoxBundle","loadMessageBundle","ext","extname","messageFormat","both","headerFile","tryFindMetaDataHeaderFile","nlsBundle","module_3","json","resolvedLanguage","cacheLanguageResolution","locale","resolveLanguage","is","comment","VSCODE_NLS_CONFIG","vscodeOptions","availableLanguages","isBoolean","_languagePackSupport","_cacheRoot","_languagePackId","_translationsConfigFile","_corruptedFile","initializeSettings","bundleFormat","standalone","workspaceService","getProjectsInWorkspace","refreshFromDisk","addProjectsToWorkspace","projectFiles","showProjectsView","commands","executeCommand","refreshProjectsTree","defaultProjectSaveLocation","validateWorkspace","openSpecificProjectNewProjectDialog","projectType","IconPathHelper","extensionContext","makeIcon","refresh","sameIcon","dark","asAbsolutePath","light","Log","projectSaveLocationSetting","ProjectConfigurationKey","ProjectSaveLocationKey","Uri","ProjectProviderRegistry","_providers","_providerFileExtensionMapping","_providerProjectTypeMapping","registerProvider","providerId","validateProvider","supportedProjectTypes","projectFileExtension","TelemetryViews","ProviderRegistration","TelemetryActions","ProviderRegistered","Disposable","clear","getProviderByProjectExtension","getProviderByProjectType","onfulfilled","onrejected","packageInfo","getPackageInfo","aiKey","getFileStatus","promises","azdataApi","directoryPath","link","window","showInformationMessage","LearnMore","openExternal","_workspaceService","_onDidChangeTreeData","onDidChangeTreeData","onDidWorkspaceProjectsChange","fire","getTreeItem","element","treeDataProvider","getChildren","projects","unknownProjects","treeItems","typeMetric","errorCount","project","projectProvider","getProjectProvider","incrementProjectTypeMetric","getProjectTreeDataProvider","showErrorMessage","ProjectsFailedToLoad","UnknownProjectsError","projectUri","fsPath","dialogTitle","dialogName","okButtonText","dialogWidth","_toDispose","initDialogPromise","initDialogComplete","dialogObject","getAzdataApi","createModelViewDialog","okButton","label","register","cancelButton","onClick","onCancelButtonClicked","onOkButtonClicked","registerCloseValidator","validate","tab","createTab","registerContent","initialize","content","openDialog","onComplete","disposable","MessageLevel","getErrorMessage","createHorizontalContainer","modelBuilder","flexContainer","withItems","CSSStyles","withLayout","flexFlow","alignItems","component","NewProjectDialogModel","projectTypeId","dialog","NewProjectDialog","newDialogPromise","DialogBase","specificProjectType","NewProjectDialogTitle","CreateButtonText","newProjectDialogComplete","NewProjectDialogLaunched","isWorkspaceOpen","workspaceFile","directoryExist","ProjectDirectoryAlreadyExistError","ProjectParentDirectoryNotExistError","NewProjectDialogCompleted","projectTemplateId","createProject","targetPlatform","sdkStyleProject","allProjectTypes","getAllProjectTypes","projectTypeRadioCardGroup","radioCardGroup","withProps","cards","displayName","icon","descriptions","textValue","textStyles","description","iconHeight","iconWidth","cardWidth","cardHeight","ariaLabel","TypeTitle","width","iconPosition","selectedCardId","onSelectionChanged","cardId","selectedProject","targetPlatforms","targetPlatformDropdown","getDefaultTargetPlatform","formBuilder","insertFormItem","targetPlatformDropdownFormComponent","removeFormItem","sdkStyleOption","sdkProjectCheckbox","checked","sdkStyleLearnMoreUrl","sdkLearnMore","updateProperty","sdkFormComponentGroup","addItem","removeItem","addFormItem","sdkProjectCheckboxFormComponent","projectNameTextBox","inputBox","ProjectNameTitle","placeHolder","ProjectNamePlaceholder","required","DefaultInputWidth","onTextChanged","locationTextBox","ProjectLocationTitle","ProjectLocationPlaceholder","browseFolderButton","button","BrowseButtonText","iconPath","height","onDidClick","folderUris","showOpenDialog","canSelectFiles","canSelectFolders","canSelectMany","defaultUri","selectedFolder","dropDown","TargetPlatform","onValueChanged","title","checkBox","SdkStyleProject","onChanged","hyperlink","flex","formContainer","withFormItems","initializeModel","defaultTargetPlatform","projectTypes","projType","sdkOption","sdkLearnMoreUrl","learnMoreUrl","showQuickPick","SelectProjectType","ignoreFocusOut","projectName","showInputBox","EnterProjectName","validateInput","NameCannotBeEmpty","defaultProjectSaveLoc","browseProjectLocationOptions","BrowseEllipsisWithIcon","sdkStyle","projectLocation","browseProjectLocationTitle","SelectProjectLocation","browseProjectLocation","locations","openLabel","Select","ProjectDirectoryAlreadyExistErrorShort","defaultIndex","findIndex","Default","selectedTargetPlatform","SelectTargetPlatform","sdkLearnMoreButton","ThemeIcon","tooltip","quickPick","createQuickPick","YesRecommended","No","disposables","buttons","placeholder","SdkLearnMorePlaceholder","sdkStylePromise","onDidHide","onDidChangeSelection","onDidTriggerButton","show","hide","showInfoMessageWithLearnMoreLink","LocalDevInfo","OpenExistingDialog","OpenExistingDialogTitle","OpenButtonText","OpenExistingDialogLaunched","localRadioButton","validateFile","filePathTextBox","Project","validateClonePath","localClonePathTextBox","fileType","fileExist","FileNotExistError","CloneParentDirectoryNotExistError","telemetryProps","hasWorkspaceOpen","addProjectsPromise","remoteGitRepoRadioButton","GitClone","selectedTarget","gitCloneProject","gitRepoTextBoxComponent","cancelled","OpeningProject","radioButton","Local","onDidChangeCheckedState","localClonePathComponent","filePathAndButtonComponent","RemoteGitRepo","locationRadioButtonFormComponent","LocationSelectorTitle","ariaRole","gitRepoTextBox","GitRepoUrlTitle","GitRepoUrlPlaceholder","LocalClonePathTitle","LocalClonePathPlaceholder","localClonePathBrowseFolderButton","ProjectFilePlaceholder","localProjectBrowseFolderButton","onBrowseButtonClick","updateCssStyles","projectFilePath","browseForProject","AllProjectTypes","SelectProjectFileActionName","_treeItem","fileDoesNotExist","projectFileName","projectNameNull","ProviderNotFoundForProjectTypeError","createDashboard","dashboard","createModelViewDashboard","alwaysShowTabs","registerTabs","modelView","overviewTab","createContainer","toolbar","createToolbarContainer","projectActions","projectToolbarActions","projectActionsLength","actionIndex","isProjectAction","createButton","toolbarSeparatorAfter","groupLength","actions","groupAction","refreshButton","Refresh","rootContainer","tableContainer","createTables","toolbarContainer","withToolbarItems","projectAction","headerContainer","createHeader","titleLabel","projectFolderPath","locationLabel","backgroundImage","image","backgroundUri","with","scheme","projectFile","dashboardData","getDashboardComponents","tableNameLabel","cssStyles","noDataText","noPreviousData","toLocaleLowerCase","noDataLabel","columns","column","col","valueType","DeclarativeDataType","isReadOnly","headerCssStyles","tableHeader","rowCssStyles","tableRow","columnValue","iconComponent","stringComponent","columnData","table","declarativeTable","dataValues","WorkspaceConfigurationName","ExcludedProjectsConfigurationName","_onDidWorkspaceProjectsChange","openedProjects","getProjectsPromise","WorkspaceTreePane","ProjectsLoaded","openProjectCount","exludedProjectCount","excludedProjects","packageJSON","contributes","workspaceFolders","showWarningMessage","RestartConfirmation","modal","OkButtonText","newWorkspaceFolders","relativePath","asRelativePath","updateWorkspaceFolders","uri","previousProjects","newProjectAdded","projectsAlreadyOpen","ProjectAlreadyOpened","ProjectAddedToWorkspace","getWorkspaceConfigurationValue","updatedExcludedProjects","excludedProj","newProj","setWorkspaceConfigurationValue","ensureProviderExtensionLoaded","refreshProjectsFromDisk","openedProjectsUndefinedAfterRefresh","excludedProject","Deferred","projectPromises","getAllProjectsInFolder","curr","supportedProjectExtensions","escapedPath","projFilter","projectTargetVersion","localClonePath","gitApi","getAPI","ProgressLocation","Notification","gitCloneMessage","cancellable","repositoryPath","withProgress","progress","clone","parentPath","recursive","repoProjects","gitCloneError","proj","handleProjectProviderExtension","isActive","activate","ExtensionActivationError","ProjectRemovedFromWorkspace","configurationName","update","ConfigurationTarget","__webpack_module_cache__","__webpack_require__","cachedModule","__webpack_modules__","o","setProjectProviderContextValue","isProjectProviderAvailable","WorkspaceService","workspaceTreeDataProvider","WorkspaceTreeDataProvider","subscriptions","onDidChangeWorkspaceFolders","dataWorkspaceExtension","DataWorkspaceExtension","registerTreeDataProvider","onDidChange","registerCommand","createNewProjectWithQuickpick","projectFileUri","treeItem","removeProject","ProjectDashboard","showDashboard","setExtensionContext"],"mappings":";yCAIAA,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMC,EAA+B,EAAQ,MACvCC,EAAmB,GACzB,IACI,MAAMC,EAAS,EAAQ,MACvBD,EAAiB,qBAAuBC,aAAuC,EAASA,EAAOC,QAEnG,MAAOC,IAGP,MAAMC,EACFC,YAAYC,EAAUC,EAAWC,EAAYC,GACzCC,KAAKJ,SAAWA,EAChBI,KAAKH,UAAYA,EACjBG,KAAKF,WAAaA,EAClBE,KAAKD,aAAeA,EACpBC,KAAKF,WAAaA,GAAc,GAChCb,OAAOgB,OAAOD,KAAKF,WAAYR,GAC/BU,KAAKD,aAAeA,GAAgB,GAExCG,OACI,IACIF,KAAKJ,SAASO,mBAAmBH,KAAKH,UAAWG,KAAKF,WAAYE,KAAKD,cAE3E,MAAOK,GAEH,MAAMC,EAAMD,aAAaE,MAAQF,EAAEG,QAAUH,EAC7CI,QAAQC,MAAM,iBAAiBT,KAAKH,mBAAmBQ,MAG/DK,yBAAyBC,GAErB,OADA1B,OAAOgB,OAAOD,KAAKF,WAAYa,GACxBX,KAEXY,2BAA2BC,GAEvB,OADA5B,OAAOgB,OAAOD,KAAKD,aAAcc,GAC1Bb,KAEXc,mBAAmBC,GAOf,OANA9B,OAAOgB,OAAOD,KAAKF,WAAY,CAC3BkB,mBAAoBD,EAAeC,mBACnCC,aAAcF,EAAeE,aAC7BC,WAAYH,EAAeG,WAC3BC,WAAYJ,EAAeI,aAExBnB,MAiHfb,EAAQiC,QA9GR,MACIzB,YAAY0B,EAAaC,EAAkBC,GACvCvB,KAAKwB,mBAAqB,IAAInC,EAA6B+B,QAAQC,EAAaC,EAAkBC,GAMtGE,gBAAgBC,GACZ,OAAO,IAAIhC,EAAmBM,KAAKwB,mBAAoB,OAAQ,CAC3DE,KAAMA,IAOdC,cAAcD,GACV1B,KAAKyB,gBAAgBC,GAAMxB,OAS/B0B,kBAAkBF,EAAMG,EAAQC,EAAS,GAAIC,EAAS,GAAIC,GACtD,MAAMC,EAAWD,EAAe,CAAEA,aAAcA,GAAiB,GACjE,OAAO,IAAItC,EAAmBM,KAAKwB,mBAAoB,SAAU,CAC7DE,KAAMA,EACNG,OAAQA,EACRC,OAAQA,EACRC,OAAQA,GACTE,GASPC,gBAAgBR,EAAMG,EAAQC,EAAS,GAAIC,EAAS,GAAIC,GACpDhC,KAAK4B,kBAAkBF,EAAMG,EAAQC,EAAQC,EAAQC,GAAc9B,OAMvEiC,mBAAmBC,EAASC,EAAY,IACpC,OAAO,IAAI3C,EAAmBM,KAAKwB,mBAAoB,UAAW,CAAEa,UAAWA,GAAaD,GAMhGE,iBAAiBF,EAASC,EAAY,IAClCrC,KAAKmC,mBAAmBC,EAASC,GAAWnC,OAUhDqC,iBAAiBb,EAAMc,EAAMC,EAAY,GAAIC,EAAY,IACrD,OAAO,IAAIhD,EAAmBM,KAAKwB,mBAAoB,QAAS,CAC5DE,KAAMA,EACNc,KAAMA,EACNC,UAAWA,EACXC,UAAWA,IAUnBC,eAAejB,EAAMc,EAAMC,EAAY,GAAIC,EAAY,IACnD1C,KAAKuC,iBAAiBb,EAAMc,EAAMC,EAAWC,GAAWxC,OAS5D0C,qBAAqB/C,EAAWC,EAAYC,GACxC,OAAO,IAAIL,EAAmBM,KAAKwB,mBAAoB3B,EAAWC,EAAYC,GASlFI,mBAAmBN,EAAWC,EAAYC,GACtCC,KAAK4C,qBAAqB/C,EAAWC,EAAYC,GAAcG,OAEnE2C,UACI,OAAO7C,KAAKwB,mBAAmBqB,a,4BC9JvC5D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2D,wBAA0B3D,EAAQ4D,yBAAsB,EAChE,MAAMC,EAAK,EAAQ,MACnB7D,EAAQ4D,oBAAsB,CAC1BE,MAAOD,EAAGC,MACVC,KAAMF,EAAGE,KACTC,UAAWH,EAAGG,UACdC,SAAUJ,EAAGI,SACbC,QAASL,EAAGK,QACZC,YAAaN,EAAGM,aAQpBnE,EAAQ2D,wBANR,SAAiCS,GAC7B,YAAkBC,IAAdD,EACOpE,EAAQ4D,oBAEZ9D,OAAOgB,OAAOhB,OAAOgB,OAAO,GAAId,EAAQ4D,qBAAsBQ,K,0BCfzEtE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQsE,wCAAqC,EAC7C,MAAMC,EAA6BC,QAAQC,SAASC,KAAKC,MAAM,KACzDC,EAAgBC,SAASN,EAA2B,GAAI,IACxDO,EAAgBD,SAASN,EAA2B,GAAI,IAGxDQ,EAAsBH,EAFI,GAG1BI,EAH0B,KAGMJ,GAA6CE,GAFnD,GAMhC9E,EAAQsE,mCAAqCS,GAAuBC,G,4BCZpElF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiF,SAAWjF,EAAQkF,YAAclF,EAAQmF,aAAU,EAC3D,MAAMC,EAAQ,EAAQ,MAChBC,EAAO,EAAQ,MACfC,EAAa,EAAQ,MAc3B,SAASC,EAAYC,EAAoB,IACrC,OAAIA,aAA6BF,EAAWrD,QACjCuD,EAEJ,IAAIF,EAAWrD,QAAQuD,GAjBlCxF,EAAQiF,SAAWK,EAAWrD,QAO9BjC,EAAQmF,QANR,SAAiBM,EAAMC,EAA6BC,GAChD,GAA2C,mBAAhCD,EACP,OAAON,EAAMQ,KAAKH,EAAMF,IAAeG,GAE3CN,EAAMQ,KAAKH,EAAMF,EAAYG,GAA8BC,IAO/D3F,EAAQkF,YAJR,SAAqBO,EAAMI,GACvB,MAAMC,EAAWP,EAAYM,GAC7B,OAAOR,EAAKO,KAAKH,EAAMK,K,4BCf3BhG,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkE,QAAUlE,EAAQ+F,qBAAuB/F,EAAQ4F,UAAO,EAChE,MAAMI,EAAS,EAAQ,MACjBC,EAAM,EAAQ,MACdC,EAAc,EAAQ,MACtBC,EAAQ,EAAQ,MAChBC,EAAS,EAAQ,MAQvB,SAASL,EAAqBM,EAAWP,EAAUH,GAC/CG,EAASjC,GAAGK,QAAQmC,EAAW,CAAEC,eAAe,IAAQ,CAACC,EAAcC,KACnE,GAAqB,OAAjBD,EACA,OAAOE,EAAoBd,EAAUY,GAEzC,MAAMG,EAAUF,EAAQG,KAAKC,IAAW,CACpCA,SACAvD,KAAMuD,EAAOvD,KACboC,KAAMW,EAAOS,iBAAiBR,EAAWO,EAAOvD,KAAMyC,EAASgB,0BAEnE,IAAKhB,EAASiB,oBACV,OAAOC,EAAoBrB,EAAUe,GAEzC,MAAMO,EAAQP,EAAQC,KAAKO,GAUnC,SAA0BA,EAAOpB,GAC7B,OAAQqB,IACJ,IAAKD,EAAMN,OAAOQ,iBACd,OAAOD,EAAK,KAAMD,GAEtBpB,EAASjC,GAAGE,KAAKmD,EAAMzB,MAAM,CAAC4B,EAAWC,IACnB,OAAdD,EACIvB,EAASyB,+BACFJ,EAAKE,GAETF,EAAK,KAAMD,IAEtBA,EAAMN,OAAST,EAAMtC,GAAG2D,sBAAsBN,EAAM7D,KAAMiE,GACnDH,EAAK,KAAMD,OAvBeO,CAAiBP,EAAOpB,KAC7DG,EAAIgB,GAAO,CAACS,EAAUC,KAClB,GAAiB,OAAbD,EACA,OAAOjB,EAAoBd,EAAU+B,GAEzCV,EAAoBrB,EAAUgC,SAsB1C,SAASzD,EAAQmC,EAAWP,EAAUH,GAClCG,EAASjC,GAAGK,QAAQmC,GAAW,CAACE,EAAcqB,KAC1C,GAAqB,OAAjBrB,EACA,OAAOE,EAAoBd,EAAUY,GAEzC,MAAMsB,EAAYD,EAAMjB,KAAKtD,GAAS+C,EAAOS,iBAAiBR,EAAWhD,EAAMyC,EAASgB,wBAClFG,EAAQY,EAAUlB,KAAKmB,GACjBX,GAASnB,EAAOjC,KAAK+D,EAAUhC,EAASiC,eAAgBZ,KAEpElB,EAAIgB,GAAO,CAACS,EAAUM,KAClB,GAAiB,OAAbN,EACA,OAAOjB,EAAoBd,EAAU+B,GAEzC,MAAMhB,EAAU,GAChBkB,EAAMK,SAAQ,CAAC5E,EAAM6E,KACjB,MAAMZ,EAAQU,EAAQE,GAChBhB,EAAQ,CACV7D,OACAoC,KAAMoC,EAAUK,GAChBtB,OAAQT,EAAMtC,GAAG2D,sBAAsBnE,EAAMiE,IAE7CxB,EAASwB,QACTJ,EAAMI,MAAQA,GAElBZ,EAAQyB,KAAKjB,MAEjBF,EAAoBrB,EAAUe,SAK1C,SAASD,EAAoBd,EAAUrE,GACnCqE,EAASrE,GAEb,SAAS0F,EAAoBrB,EAAUyC,GACnCzC,EAAS,KAAMyC,GA5EnBpI,EAAQ4F,KANR,SAAcS,EAAWP,EAAUH,GAC/B,OAAKG,EAASwB,OAASpB,EAAY5B,mCACxByB,EAAqBM,EAAWP,EAAUH,GAE9CzB,EAAQmC,EAAWP,EAAUH,IAyBxC3F,EAAQ+F,qBAAuBA,EAgD/B/F,EAAQkE,QAAUA,G,0BCpFlBpE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6G,sBAAmB,EAU3B7G,EAAQ6G,iBATR,SAA0BwB,EAAGC,EAAGC,GAI5B,OAAIF,EAAEG,SAASD,GACJF,EAAIC,EAERD,EAAIE,EAAYD,I,4BCT3BxI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkE,QAAUlE,EAAQ+F,qBAAuB/F,EAAQ4F,UAAO,EAChE,MAAMI,EAAS,EAAQ,MACjBE,EAAc,EAAQ,MACtBC,EAAQ,EAAQ,MAChBC,EAAS,EAAQ,MAQvB,SAASL,EAAqBM,EAAWP,GAErC,OADgBA,EAASjC,GAAGM,YAAYkC,EAAW,CAAEC,eAAe,IACrDK,KAAKC,IAChB,MAAMM,EAAQ,CACVN,SACAvD,KAAMuD,EAAOvD,KACboC,KAAMW,EAAOS,iBAAiBR,EAAWO,EAAOvD,KAAMyC,EAASgB,uBAEnE,GAAII,EAAMN,OAAOQ,kBAAoBtB,EAASiB,oBAC1C,IACI,MAAMO,EAAQxB,EAASjC,GAAGI,SAASiD,EAAMzB,MACzCyB,EAAMN,OAAST,EAAMtC,GAAG2D,sBAAsBN,EAAM7D,KAAMiE,GAE9D,MAAOhG,GACH,GAAIwE,EAASyB,+BACT,MAAMjG,EAIlB,OAAO4F,KAIf,SAAShD,EAAQmC,EAAWP,GAExB,OADcA,EAASjC,GAAGM,YAAYkC,GACzBM,KAAKtD,IACd,MAAMoF,EAAYrC,EAAOS,iBAAiBR,EAAWhD,EAAMyC,EAASgB,sBAC9DQ,EAAQtB,EAAO/B,SAASwE,EAAW3C,EAASiC,gBAC5Cb,EAAQ,CACV7D,OACAoC,KAAMgD,EACN7B,OAAQT,EAAMtC,GAAG2D,sBAAsBnE,EAAMiE,IAKjD,OAHIxB,EAASwB,QACTJ,EAAMI,MAAQA,GAEXJ,KArCflH,EAAQ4F,KANR,SAAcS,EAAWP,GACrB,OAAKA,EAASwB,OAASpB,EAAY5B,mCACxByB,EAAqBM,EAAWP,GAEpC5B,EAAQmC,EAAWP,IAyB9B9F,EAAQ+F,qBAAuBA,EAiB/B/F,EAAQkE,QAAUA,G,4BCpDlBpE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMwF,EAAO,EAAQ,MACfO,EAAS,EAAQ,MACjBnC,EAAK,EAAQ,MAmBnB7D,EAAQiC,QAlBR,MACIzB,YAAYkI,EAAW,IACnB7H,KAAK6H,SAAWA,EAChB7H,KAAKkG,oBAAsBlG,KAAK8H,UAAU9H,KAAK6H,SAAS3B,qBAAqB,GAC7ElG,KAAKgD,GAAKA,EAAGF,wBAAwB9C,KAAK6H,SAAS7E,IACnDhD,KAAKiG,qBAAuBjG,KAAK8H,UAAU9H,KAAK6H,SAAS5B,qBAAsBrB,EAAKmD,KACpF/H,KAAKyG,MAAQzG,KAAK8H,UAAU9H,KAAK6H,SAASpB,OAAO,GACjDzG,KAAK0G,+BAAiC1G,KAAK8H,UAAU9H,KAAK6H,SAASnB,gCAAgC,GACnG1G,KAAKkH,eAAiB,IAAI/B,EAAOf,SAAS,CACtC4D,mBAAoBhI,KAAKkG,oBACzBlD,GAAIhD,KAAKgD,GACT0D,+BAAgC1G,KAAK0G,iCAG7CoB,UAAUG,EAAQ7I,GACd,OAAO6I,QAAuCA,EAAS7I,K,yBCnB/DH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwH,2BAAwB,EAChC,MAAMuB,EACFvI,YAAY6C,EAAMiE,GACdzG,KAAKwC,KAAOA,EACZxC,KAAKmI,cAAgB1B,EAAM0B,cAAcC,KAAK3B,GAC9CzG,KAAKqI,kBAAoB5B,EAAM4B,kBAAkBD,KAAK3B,GACtDzG,KAAKsI,YAAc7B,EAAM6B,YAAYF,KAAK3B,GAC1CzG,KAAKuI,OAAS9B,EAAM8B,OAAOH,KAAK3B,GAChCzG,KAAKwI,OAAS/B,EAAM+B,OAAOJ,KAAK3B,GAChCzG,KAAKyI,SAAWhC,EAAMgC,SAASL,KAAK3B,GACpCzG,KAAKuG,eAAiBE,EAAMF,eAAe6B,KAAK3B,IAMxDtH,EAAQwH,sBAHR,SAA+BnE,EAAMiE,GACjC,OAAO,IAAIyB,EAAgB1F,EAAMiE,K,4BCfrCxH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6D,QAAK,EACb,MAAMA,EAAK,EAAQ,KACnB7D,EAAQ6D,GAAKA,G,4BCHb/D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2D,wBAA0B3D,EAAQ4D,yBAAsB,EAChE,MAAMC,EAAK,EAAQ,MACnB7D,EAAQ4D,oBAAsB,CAC1BE,MAAOD,EAAGC,MACVC,KAAMF,EAAGE,KACTC,UAAWH,EAAGG,UACdC,SAAUJ,EAAGI,UAQjBjE,EAAQ2D,wBANR,SAAiCS,GAC7B,YAAkBC,IAAdD,EACOpE,EAAQ4D,oBAEZ9D,OAAOgB,OAAOhB,OAAOgB,OAAO,GAAId,EAAQ4D,qBAAsBQ,K,4BCbzEtE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiE,SAAWjE,EAAQ+D,KAAO/D,EAAQiF,cAAW,EACrD,MAAMG,EAAQ,EAAQ,MAChBC,EAAO,EAAQ,MACfC,EAAa,EAAQ,MAc3B,SAASC,EAAYC,EAAoB,IACrC,OAAIA,aAA6BF,EAAWrD,QACjCuD,EAEJ,IAAIF,EAAWrD,QAAQuD,GAjBlCxF,EAAQiF,SAAWK,EAAWrD,QAO9BjC,EAAQ+D,KANR,SAAc0B,EAAMC,EAA6BC,GAC7C,GAA2C,mBAAhCD,EACP,OAAON,EAAMQ,KAAKH,EAAMF,IAAeG,GAE3CN,EAAMQ,KAAKH,EAAMF,EAAYG,GAA8BC,IAO/D3F,EAAQiE,SAJR,SAAkBwB,EAAMI,GACpB,MAAMC,EAAWP,EAAYM,GAC7B,OAAOR,EAAKO,KAAKH,EAAMK,K,0BCU3B,SAASW,EAAoBd,EAAUrE,GACnCqE,EAASrE,GAEb,SAAS0F,EAAoBrB,EAAUyC,GACnCzC,EAAS,KAAMyC,GA7BnBtI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4F,UAAO,EAuBf5F,EAAQ4F,KAtBR,SAAcH,EAAMK,EAAUH,GAC1BG,EAASjC,GAAGC,MAAM2B,GAAM,CAAC8D,EAAYzF,IACd,OAAfyF,EACO9C,EAAoBd,EAAU4D,GAEpCzF,EAAMsD,kBAAqBtB,EAAS+C,wBAGzC/C,EAASjC,GAAGE,KAAK0B,GAAM,CAAC4B,EAAWtD,KAC/B,GAAkB,OAAdsD,EACA,OAAIvB,EAASyB,+BACFd,EAAoBd,EAAU0B,GAElCL,EAAoBrB,EAAU7B,GAErCgC,EAAS0D,mBACTzF,EAAKqD,eAAiB,KAAM,GAEhCJ,EAAoBrB,EAAU5B,MAZvBiD,EAAoBrB,EAAU7B,O,0BCRjDhE,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ4F,UAAO,EAoBf5F,EAAQ4F,KAnBR,SAAcH,EAAMK,GAChB,MAAMhC,EAAQgC,EAASjC,GAAGG,UAAUyB,GACpC,IAAK3B,EAAMsD,mBAAqBtB,EAAS+C,mBACrC,OAAO/E,EAEX,IACI,MAAMC,EAAO+B,EAASjC,GAAGI,SAASwB,GAIlC,OAHIK,EAAS0D,mBACTzF,EAAKqD,eAAiB,KAAM,GAEzBrD,EAEX,MAAOzC,GACH,IAAKwE,EAASyB,+BACV,OAAOzD,EAEX,MAAMxC,K,4BClBdxB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM4D,EAAK,EAAQ,MAanB7D,EAAQiC,QAZR,MACIzB,YAAYkI,EAAW,IACnB7H,KAAK6H,SAAWA,EAChB7H,KAAKgI,mBAAqBhI,KAAK8H,UAAU9H,KAAK6H,SAASG,oBAAoB,GAC3EhI,KAAKgD,GAAKA,EAAGF,wBAAwB9C,KAAK6H,SAAS7E,IACnDhD,KAAK2I,iBAAmB3I,KAAK8H,UAAU9H,KAAK6H,SAASc,kBAAkB,GACvE3I,KAAK0G,+BAAiC1G,KAAK8H,UAAU9H,KAAK6H,SAASnB,gCAAgC,GAEvGoB,UAAUG,EAAQ7I,GACd,OAAO6I,QAAuCA,EAAS7I,K,4BCX/DH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQiF,SAAWjF,EAAQyJ,WAAazJ,EAAQ0J,SAAW1J,EAAQ2J,UAAO,EAC1E,MAAMC,EAAU,EAAQ,MAClBC,EAAW,EAAQ,KACnBC,EAAS,EAAQ,MACjBxE,EAAa,EAAQ,MAqB3B,SAASC,EAAYC,EAAoB,IACrC,OAAIA,aAA6BF,EAAWrD,QACjCuD,EAEJ,IAAIF,EAAWrD,QAAQuD,GAxBlCxF,EAAQiF,SAAWK,EAAWrD,QAO9BjC,EAAQ2J,KANR,SAActD,EAAWX,EAA6BC,GAClD,GAA2C,mBAAhCD,EACP,OAAO,IAAIkE,EAAQ3H,QAAQoE,EAAWd,KAAeK,KAAKF,GAE9D,IAAIkE,EAAQ3H,QAAQoE,EAAWd,EAAYG,IAA8BE,KAAKD,IAQlF3F,EAAQ0J,SALR,SAAkBrD,EAAWR,GACzB,MAAMC,EAAWP,EAAYM,GAE7B,OADiB,IAAIiE,EAAO7H,QAAQoE,EAAWP,GAC/BF,QAQpB5F,EAAQyJ,WALR,SAAoBpD,EAAWR,GAC3B,MAAMC,EAAWP,EAAYM,GAE7B,OADiB,IAAIgE,EAAS5H,QAAQoE,EAAWP,GACjCF,S,4BCvBpB9F,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM2J,EAAU,EAAQ,MAqBxB5J,EAAQiC,QApBR,MACIzB,YAAYuJ,EAAOC,GACfnJ,KAAKkJ,MAAQA,EACblJ,KAAKmJ,UAAYA,EACjBnJ,KAAKoJ,QAAU,IAAIL,EAAQ3H,QAAQpB,KAAKkJ,MAAOlJ,KAAKmJ,WACpDnJ,KAAKqJ,SAAW,IAAIC,IAExBvE,KAAKD,GACD9E,KAAKoJ,QAAQG,SAAS9I,KAa9B,SAA6BqE,EAAUrE,GACnCqE,EAASrE,GAbDmF,CAAoBd,EAAUrE,MAElCT,KAAKoJ,QAAQI,SAASnD,IAClBrG,KAAKqJ,SAASI,IAAIpD,MAEtBrG,KAAKoJ,QAAQM,OAAM,MAU3B,SAA6B5E,EAAUe,GACnCf,EAAS,KAAMe,GAVPM,CAAoBrB,EAAU,IAAI9E,KAAKqJ,cAE3CrJ,KAAKoJ,QAAQrE,U,2BCnBrB9F,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM4J,EAAW,EAAQ,MACnBD,EAAU,EAAQ,MA8BxB5J,EAAQiC,QA7BR,MACIzB,YAAYuJ,EAAOC,GACfnJ,KAAKkJ,MAAQA,EACblJ,KAAKmJ,UAAYA,EACjBnJ,KAAKoJ,QAAU,IAAIL,EAAQ3H,QAAQpB,KAAKkJ,MAAOlJ,KAAKmJ,WACpDnJ,KAAK2J,QAAU,IAAIX,EAASY,SAAS,CACjCC,YAAY,EACZ9E,KAAM,OACN+E,QAAS,KACA9J,KAAKoJ,QAAQW,aACd/J,KAAKoJ,QAAQU,aAK7B/E,OAWI,OAVA/E,KAAKoJ,QAAQG,SAAS9I,IAClBT,KAAK2J,QAAQK,KAAK,QAASvJ,MAE/BT,KAAKoJ,QAAQI,SAASnD,IAClBrG,KAAK2J,QAAQrC,KAAKjB,MAEtBrG,KAAKoJ,QAAQM,OAAM,KACf1J,KAAK2J,QAAQrC,KAAK,SAEtBtH,KAAKoJ,QAAQrE,OACN/E,KAAK2J,W,4BC7BpB1K,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM6J,EAAS,EAAQ,MAWvB9J,EAAQiC,QAVR,MACIzB,YAAYuJ,EAAOC,GACfnJ,KAAKkJ,MAAQA,EACblJ,KAAKmJ,UAAYA,EACjBnJ,KAAKoJ,QAAU,IAAIH,EAAO7H,QAAQpB,KAAKkJ,MAAOlJ,KAAKmJ,WAEvDpE,OACI,OAAO/E,KAAKoJ,QAAQrE,U,4BCT5B9F,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM6K,EAAW,EAAQ,MACnBC,EAAY,EAAQ,MACpBC,EAAQ,EAAQ,KAChB5E,EAAS,EAAQ,MACjB6E,EAAW,EAAQ,MACzB,MAAMC,UAAoBD,EAAShJ,QAC/BzB,YAAYuJ,EAAOC,GACfmB,MAAMpB,EAAOC,GACbnJ,KAAKmJ,UAAYA,EACjBnJ,KAAKuK,SAAWL,EAAU5F,QAC1BtE,KAAKwK,SAAW,IAAIP,EAASQ,aAC7BzK,KAAK0K,OAASP,EAAMnK,KAAK2K,QAAQvC,KAAKpI,MAAOA,KAAKmJ,UAAUyB,aAC5D5K,KAAK6K,eAAgB,EACrB7K,KAAK8K,cAAe,EACpB9K,KAAK0K,OAAOK,MAAQ,KACX/K,KAAK6K,eACN7K,KAAKwK,SAASR,KAAK,QAI/BjF,OAMI,OALA/E,KAAK6K,eAAgB,EACrB7K,KAAK8K,cAAe,EACpBE,cAAa,KACThL,KAAKiL,aAAajL,KAAKkJ,MAAOlJ,KAAKmJ,UAAU+B,aAE1ClL,KAAKwK,SAEhB,kBACI,OAAOxK,KAAK8K,aAEhBhB,UACI,GAAI9J,KAAK8K,aACL,MAAM,IAAIxK,MAAM,mCAEpBN,KAAK8K,cAAe,EACpB9K,KAAK0K,OAAOS,eAEhB3B,QAAQ1E,GACJ9E,KAAKwK,SAASY,GAAG,QAAStG,GAE9ByE,QAAQzE,GACJ9E,KAAKwK,SAASa,KAAK,QAASvG,GAEhC4E,MAAM5E,GACF9E,KAAKwK,SAASa,KAAK,MAAOvG,GAE9BmG,aAAazF,EAAW8F,GACpB,MAAMC,EAAY,CAAE/F,YAAW8F,QAC/BtL,KAAK0K,OAAOpD,KAAKiE,GAAY9K,IACX,OAAVA,GACAT,KAAKwL,aAAa/K,MAI9BkK,QAAQc,EAAMnF,GACVtG,KAAKuK,SAASkB,EAAKjG,UAAWxF,KAAKmJ,UAAUuC,mBAAmB,CAACjL,EAAOoF,KACpE,GAAc,OAAVpF,EACA,OAAO6F,EAAK7F,OAAO+C,GAEvB,IAAK,MAAM6C,KAASR,EAChB7F,KAAK2L,aAAatF,EAAOoF,EAAKH,MAElChF,EAAK,UAAM9C,MAGnBgI,aAAa/K,IACLT,KAAK8K,cAAiBvF,EAAOqG,aAAa5L,KAAKmJ,UAAW1I,KAG9DT,KAAK6K,eAAgB,EACrB7K,KAAK8K,cAAe,EACpB9K,KAAKwK,SAASR,KAAK,QAASvJ,IAEhCkL,aAAatF,EAAOiF,GAChB,GAAItL,KAAK8K,cAAgB9K,KAAK6K,cAC1B,OAEJ,MAAMgB,EAAWxF,EAAMzB,UACVpB,IAAT8H,IACAjF,EAAMzB,KAAOW,EAAOS,iBAAiBsF,EAAMjF,EAAM7D,KAAMxC,KAAKmJ,UAAUlD,uBAEtEV,EAAOuG,gBAAgB9L,KAAKmJ,UAAU4C,YAAa1F,IACnDrG,KAAKgM,WAAW3F,GAEhBA,EAAMN,OAAOuC,eAAiB/C,EAAOuG,gBAAgB9L,KAAKmJ,UAAU8C,WAAY5F,IAChFrG,KAAKiL,aAAaY,EAAUxF,EAAMzB,MAG1CoH,WAAW3F,GACPrG,KAAKwK,SAASR,KAAK,QAAS3D,IAGpClH,EAAQiC,QAAUiJ,G,0BC9FlBpL,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6G,iBAAmB7G,EAAQ+M,4BAA8B/M,EAAQ2M,gBAAkB3M,EAAQyM,kBAAe,EAOlHzM,EAAQyM,aANR,SAAsB3G,EAAUxE,GAC5B,OAA6B,OAAzBwE,EAASkH,cAGLlH,EAASkH,YAAY1L,IAMjCtB,EAAQ2M,gBAHR,SAAyBM,EAAQhN,GAC7B,OAAkB,OAAXgN,GAAmBA,EAAOhN,IAMrCD,EAAQ+M,4BAHR,SAAqCjF,EAAUS,GAC3C,OAAOT,EAASnD,MAAM,SAASuI,KAAK3E,IAexCvI,EAAQ6G,iBAZR,SAA0BwB,EAAGC,EAAGC,GAC5B,MAAU,KAANF,EACOC,EAKPD,EAAEG,SAASD,GACJF,EAAIC,EAERD,EAAIE,EAAYD,I,4BC3B3BxI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMmG,EAAS,EAAQ,MAQvBpG,EAAQiC,QAPR,MACIzB,YAAYuJ,EAAOC,GACfnJ,KAAKkJ,MAAQA,EACblJ,KAAKmJ,UAAYA,EACjBnJ,KAAKkJ,MAAQ3D,EAAO2G,4BAA4BhD,EAAOC,EAAUlD,yB,4BCNzEhH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM8K,EAAY,EAAQ,MACpB3E,EAAS,EAAQ,MACjB6E,EAAW,EAAQ,MACzB,MAAMkC,UAAmBlC,EAAShJ,QAC9BzB,cACI2K,SAASiC,WACTvM,KAAKuK,SAAWL,EAAU7F,YAC1BrE,KAAKqJ,SAAW,IAAIC,IACpBtJ,KAAK0K,OAAS,IAAIpB,IAEtBvE,OAGI,OAFA/E,KAAKiL,aAAajL,KAAKkJ,MAAOlJ,KAAKmJ,UAAU+B,UAC7ClL,KAAKwM,eACE,IAAIxM,KAAKqJ,UAEpB4B,aAAazF,EAAW8F,GACpBtL,KAAK0K,OAAOjB,IAAI,CAAEjE,YAAW8F,SAEjCkB,eACI,IAAK,MAAMf,KAAQzL,KAAK0K,OAAO+B,SAC3BzM,KAAK0M,iBAAiBjB,EAAKjG,UAAWiG,EAAKH,MAGnDoB,iBAAiBlH,EAAW8F,GACxB,IACI,MAAMzF,EAAU7F,KAAKuK,SAAS/E,EAAWxF,KAAKmJ,UAAUuC,mBACxD,IAAK,MAAMrF,KAASR,EAChB7F,KAAK2L,aAAatF,EAAOiF,GAGjC,MAAO7K,GACHT,KAAKwL,aAAa/K,IAG1B+K,aAAa/K,GACT,GAAK8E,EAAOqG,aAAa5L,KAAKmJ,UAAW1I,GAGzC,MAAMA,EAEVkL,aAAatF,EAAOiF,GAChB,MAAMO,EAAWxF,EAAMzB,UACVpB,IAAT8H,IACAjF,EAAMzB,KAAOW,EAAOS,iBAAiBsF,EAAMjF,EAAM7D,KAAMxC,KAAKmJ,UAAUlD,uBAEtEV,EAAOuG,gBAAgB9L,KAAKmJ,UAAU4C,YAAa1F,IACnDrG,KAAK2M,eAAetG,GAEpBA,EAAMN,OAAOuC,eAAiB/C,EAAOuG,gBAAgB9L,KAAKmJ,UAAU8C,WAAY5F,IAChFrG,KAAKiL,aAAaY,EAAUxF,EAAMzB,MAG1C+H,eAAetG,GACXrG,KAAKqJ,SAASI,IAAIpD,IAG1BlH,EAAQiC,QAAUkL,G,4BCzDlBrN,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMwF,EAAO,EAAQ,MACfsF,EAAY,EAAQ,MAsB1B/K,EAAQiC,QArBR,MACIzB,YAAYkI,EAAW,IACnB7H,KAAK6H,SAAWA,EAChB7H,KAAKkL,SAAWlL,KAAK8H,UAAU9H,KAAK6H,SAASqD,cAAU1H,GACvDxD,KAAK4K,YAAc5K,KAAK8H,UAAU9H,KAAK6H,SAAS+C,YAAagC,KAC7D5M,KAAKiM,WAAajM,KAAK8H,UAAU9H,KAAK6H,SAASoE,WAAY,MAC3DjM,KAAK+L,YAAc/L,KAAK8H,UAAU9H,KAAK6H,SAASkE,YAAa,MAC7D/L,KAAKmM,YAAcnM,KAAK8H,UAAU9H,KAAK6H,SAASsE,YAAa,MAC7DnM,KAAKiG,qBAAuBjG,KAAK8H,UAAU9H,KAAK6H,SAAS5B,qBAAsBrB,EAAKmD,KACpF/H,KAAK0L,kBAAoB,IAAIxB,EAAU9F,SAAS,CAC5C8B,oBAAqBlG,KAAK6H,SAAS3B,oBACnClD,GAAIhD,KAAK6H,SAAS7E,GAClBiD,qBAAsBjG,KAAK6H,SAAS5B,qBACpCQ,MAAOzG,KAAK6H,SAASpB,MACrBC,+BAAgC1G,KAAK6H,SAASnB,iCAGtDoB,UAAUG,EAAQ7I,GACd,OAAO6I,QAAuCA,EAAS7I,K,4BCrB/D,IAAIyN,EAAc,EAAQ,MACtBC,EAAsB,WACtB,SAASA,EAAmBC,GACxB,GAAMD,EAAmBE,SACrB,MAAM,IAAI1M,MAAM,6FAEpBN,KAAKiN,QAAUF,EACfD,EAAmBE,SAAWhN,KAiBlC,OAfA8M,EAAmBI,UAAUC,OAAS,SAAUC,EAAWC,GACnDR,EAAYS,gBACZ,WAAmDF,GAAaC,EAAmBrN,KAAKiN,SACxF,WAAkDG,EAAWpN,KAAKiN,SAClE,UAAmDG,EAAWpN,KAAKiN,WAG3EH,EAAmBI,UAAUK,cAAgB,WACzC,OAAOvN,KAAKwN,gBAEhBV,EAAmBI,UAAUrK,QAAU,WACnCiK,EAAmBE,SAAW,KAC9BhN,KAAKmN,QAAO,GAAO,IAEvBL,EAAmBW,aAAe,CAAC,QAAS,OAAQ,MAAO,OAAQ,SAC5DX,EAvBc,GAyBzBY,EAAOvO,QAAU2N,G,2BC1BjB7N,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIuO,EAAU,EAAQ,MAClBd,EAAc,EAAQ,MACtBe,EAA6B,WAC7B,SAASA,KAiJT,OA1IAA,EAA0BC,kBAAoB,WAC1C,IAAKD,EAA0BE,QAC3B,OAAO,KAEX,IAAIC,EAAUH,EAA0BI,QAAQC,IAAIL,EAA0BM,cAC9E,YAAgB1K,IAAZuK,EACO,KAEJA,GAKXH,EAA0BO,sBAAwB,SAAUC,EAAaC,EAAUC,EAAeC,EAA0BC,EAAaC,GAErI,OADAJ,EAAWA,GAAYD,EACnBpO,KAAK8N,QACE,CACHY,UAAW,CACPlM,KAAM8L,EACNK,GAAIP,EACJC,SAAUA,EACVG,YAAaA,EACbC,WAAYA,GAEhBG,iBAAkB,IAAIC,EAAqBN,IAG5C,MAOXX,EAA0BkB,eAAiB,SAAUf,EAASgB,GAC1D,OAAInB,EAA0BE,QACnBF,EAA0BI,QAAQ5F,KAAK2G,IAAKC,EAAK,IAAOpB,EAA0BM,cAAgBH,EAASiB,GAA3GpB,GAGAmB,IAEX,IAAIC,GAKRpB,EAA0BqB,YAAc,SAAUC,GAC1CtB,EAA0BE,SAC1BF,EAA0BI,QAAQmB,YAAYD,IAUtDtB,EAA0BwB,aAAe,SAAUL,GAC/C,OAAInB,EAA0BE,QACnBF,EAA0BI,QAAQ5F,KAAK2G,GAE3CA,GAKXnB,EAA0BT,OAAS,SAAUkC,GACrCrP,KAAK8N,UAGJ9N,KAAKsP,2BAIL1B,EAA0B2B,iBAC3BvP,KAAKqP,eAAiBA,EACtBrP,KAAKuP,gBAAiB,OACE,IAAbvP,KAAKwP,OACsC,IAA7C5B,EAA0ByB,qBAA0E7L,IAA7CoK,EAA0ByB,gBAAgCzB,EAA0B6B,qBAC5IzP,KAAKwP,IAAM,EAAQ,MAGnBxP,KAAKwP,IAAM,EAAQ,OAG3B5B,EAA0BI,QAAUhO,KAAKwP,IAAIE,gBAAgB,kBAC7D7C,EAAY8C,6BAA4B,SAAUC,GAC9C,OAAOhC,EAA0BI,QAAQ5F,KAAKwH,OAGtD5P,KAAK8N,SAAU,GAnBX9N,KAAK8N,SAAU,IAwBvBF,EAA0BiC,QAAU,WAChC7P,KAAK8N,SAAU,GAKnBF,EAA0BkC,MAAQ,WAC1BlC,EAA0B2B,iBAC1B3B,EAA0BI,QAAU,KACpCJ,EAA0BI,QAAUhO,KAAKwP,IAAIE,gBAAgB,oBAMrE9B,EAA0B0B,wBAA0B,WAChD,IAAIS,EAAUpM,QAAQC,SAASC,KAAKC,MAAM,KAC1C,OAAOE,SAAS+L,EAAQ,IAAM,GAAM/L,SAAS+L,EAAQ,IAAM,GAAK/L,SAAS+L,EAAQ,IAAM,GAM3FnC,EAA0B6B,mBAAqB,WAC3C,IAAIM,EAAUpM,QAAQC,SAASC,KAAKC,MAAM,KAC1C,OAAQE,SAAS+L,EAAQ,IAAM,GAAO/L,SAAS+L,EAAQ,KAAO,GAAK/L,SAAS+L,EAAQ,KAAO,GAM/FnC,EAA0BoC,gBAAkB,WACxC,IAAID,EAAUpM,QAAQC,SAASC,KAAKC,MAAM,KACtCmM,EAAcjM,SAAS+L,EAAQ,IAAM,GAAO/L,SAAS+L,EAAQ,KAAO,GAAK/L,SAAS+L,EAAQ,KAAO,EACjGG,EAAWlM,SAAS+L,EAAQ,IAAM,GAAO/L,SAAS+L,EAAQ,KAAO,GAAK/L,SAAS+L,EAAQ,IAAM,EAC7FI,EAAanM,SAAS+L,EAAQ,IAAM,GAAM/L,SAAS+L,EAAQ,KAAO,GAAK/L,SAAS+L,EAAQ,KAAO,EACnG,QAASE,GAAcC,IAAYC,GAEvCvC,EAA0BE,SAAU,EACpCF,EAA0B2B,gBAAiB,EAC3C3B,EAA0ByB,oBAAiB7L,EAC3CoK,EAA0BM,aAAe,8BAClCN,EAlJqB,GAoJhCzO,EAAQyO,0BAA4BA,EACpC,IAAIiB,EAAwB,WACxB,SAASA,EAAqBuB,GAC1BpQ,KAAKqQ,MAAQ,GACbrQ,KAAKsQ,cAAcF,GAyCvB,OAvCAvB,EAAqB3B,UAAUoD,cAAgB,SAAUF,GACrD,IAAIG,EAAUH,EAASA,EAAOtM,MAAM,MAAQ,GAC5C9D,KAAKqQ,MAAQE,EAAQzK,KAAI,SAAU0K,GAC/B,IAAIC,EAAQD,EAAO1M,MAAM,KACzB,MAAO,CAAEvC,IAAKkP,EAAM,GAAIrR,MAAOqR,EAAM,OACtCC,OAAO1Q,KAAKqQ,QAEnBxB,EAAqB3B,UAAUyD,kBAAoB,WAC/C,OAAO3Q,KAAKqQ,MAAMvK,KAAI,SAAU0K,GAC5B,OAAOA,EAAOjP,IAAM,IAAMiP,EAAOpR,SAClCiN,KAAK,OAEZwC,EAAqB3B,UAAU0D,YAAc,SAAUC,GACnD,IAAK,IAAIC,EAAI,EAAGA,EAAI9Q,KAAKqQ,MAAMU,SAAUD,EAAG,CACxC,IAAIN,EAASxQ,KAAKqQ,MAAMS,GACxB,GAAIN,EAAOjP,MAAQsP,EACf,OAAOL,EAAOpR,QAQ1ByP,EAAqB3B,UAAU8D,YAAc,SAAUH,EAAMI,GACzD,GAAIpC,EAAqBqC,iBAAiBC,KAAKN,IAAShC,EAAqBqC,iBAAiBC,KAAKF,GAC/FtD,EAAQyD,KAAK,8GAAgHP,EAAO,eAAiBI,OADzJ,CAIA,IAAK,IAAIH,EAAI,EAAGA,EAAI9Q,KAAKqQ,MAAMU,SAAUD,EAAG,CACxC,IAAIN,EAASxQ,KAAKqQ,MAAMS,GACxB,GAAIN,EAAOjP,MAAQsP,EAEf,YADAL,EAAOpR,MAAQ6R,GAIvBjR,KAAKqQ,MAAM/I,KAAK,CAAE/F,IAAKsP,EAAMzR,MAAO6R,MAExCpC,EAAqBqC,iBAAmB,OACjCrC,EA5CgB,I,sBCxJ3B,IAAIwC,EAAyB,WACzB,SAASA,EAAsBtE,GAC3B,GAAMsE,EAAsBrE,SACxB,MAAM,IAAI1M,MAAM,+EAEpB+Q,EAAsBrE,SAAWhN,KACjCA,KAAKiN,QAAUF,EAEf,IAAIgD,EAAUpM,QAAQC,SAASC,KAAKC,MAAM,KAC1CuN,EAAsBC,gCAAkCtN,SAAS+L,EAAQ,IAAM,IAAgC,KAAzB/L,SAAS+L,EAAQ,KAAc/L,SAAS+L,EAAQ,KAAO,EAgEjJ,OA9DAsB,EAAsBnE,UAAUK,cAAgB,WAC5C,OAAOvN,KAAKwN,gBAEhB6D,EAAsBnE,UAAUC,OAAS,SAAUC,GAC/C,IAAImE,EAAQvR,KACZ,GAAIoN,GAGA,GAFApN,KAAKwN,gBAAiB,GAEjBxN,KAAKwR,yBAA0B,CAGhC,IAAIC,EAAS,SAAUC,EAASlP,EAAM/B,QACpB,IAAVA,IAAoBA,EAAQ,IAAIH,MAAM+Q,EAAsBM,0BAChEJ,EAAMtE,QAAQ2E,eAAe,CAAEC,UAAWpR,IAC1C8Q,EAAMtE,QAAQ6E,MAAM,CAAEC,eAAe,IAEjCL,GAAWlP,GAA2C,IAAnCmB,QAAQqO,UAAUxP,GAAMuO,SAC3CvQ,QAAQC,MAAMA,GACdkD,QAAQsO,KAAK,KAGjBZ,EAAsBC,iCAEtBtR,KAAKwR,yBAA2BC,EAAOrJ,KAAKpI,MAAM,GAClD2D,QAAQyH,GAAGiG,EAAsBa,wCAAyClS,KAAKwR,4BAG/ExR,KAAKwR,yBAA2BC,EAAOrJ,KAAKpI,MAAM,EAAMqR,EAAsBc,iCAC9EnS,KAAKoS,yBAA2BX,EAAOrJ,KAAKpI,MAAM,GAClD2D,QAAQyH,GAAGiG,EAAsBc,gCAAiCnS,KAAKwR,0BACvE7N,QAAQyH,GAAGiG,EAAsBgB,iCAAkCrS,KAAKoS,iCAK5EpS,KAAKwR,2BACDH,EAAsBC,gCACtB3N,QAAQ2O,eAAejB,EAAsBa,wCAAyClS,KAAKwR,2BAG3F7N,QAAQ2O,eAAejB,EAAsBc,gCAAiCnS,KAAKwR,0BACnF7N,QAAQ2O,eAAejB,EAAsBgB,iCAAkCrS,KAAKoS,2BAExFpS,KAAKwR,8BAA2BhO,EAChCxD,KAAKoS,8BAA2B5O,SACzBxD,KAAKwR,gCACLxR,KAAKoS,2BAIxBf,EAAsBnE,UAAUrK,QAAU,WACtCwO,EAAsBrE,SAAW,KACjChN,KAAKmN,QAAO,GACZnN,KAAKwN,gBAAiB,GAE1B6D,EAAsBrE,SAAW,KACjCqE,EAAsBa,wCAA0C,2BAChEb,EAAsBc,gCAAkC,oBACxDd,EAAsBgB,iCAAmC,qBACzDhB,EAAsBkB,sBAAwB,iDAC9ClB,EAAsBM,wBAA0B,8GAChDN,EAAsBC,iCAAkC,EACjDD,EAzEiB,GA2E5B3D,EAAOvO,QAAUkS,G,4BC3EjB,IAAImB,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChB9E,EAAU,EAAQ,MAClB+E,EAAO,EAAQ,MACfC,EAAyB,EAAQ,MACjCC,EAAuB,EAAQ,MAC/BC,EAA8B,EAAQ,KACtCC,EAAuB,EAAQ,MAC/BC,EAAc,EAAQ,MACtBlG,EAAc,EAAQ,MACtBmG,EAA+B,WAC/B,SAASA,EAA4BjG,GACjC,GAAMiG,EAA4BhG,SAC9B,MAAM,IAAI1M,MAAM,oFAEpB0S,EAA4BhG,SAAWhN,KACvCA,KAAKiN,QAAUF,EAqLnB,OAnLAiG,EAA4B9F,UAAUC,OAAS,SAAUC,GACrDpN,KAAKiT,WAAa7F,EACdpN,KAAKiT,aAAejT,KAAKwN,gBACzBxN,KAAKkT,cAELrG,EAAYS,gBACZ,WAAmDF,EAAWpN,KAAKiN,SACnE,WAAiDG,EAAWpN,KAAKiN,SACjE,WAAiDG,EAAWpN,KAAKiN,SACjE,WAAoDG,EAAWpN,KAAKiN,WAG5E+F,EAA4B9F,UAAUK,cAAgB,WAClD,OAAOvN,KAAKwN,gBAEhBwF,EAA4B9F,UAAUgG,YAAc,WAChD,IAAI3B,EAAQvR,KACZA,KAAKwN,gBAAiB,EACJgF,EAAKvE,IAAvB,IACIkF,EAAkBX,EAAKY,QACvBC,EAAuBZ,EAAMW,QAC7BE,EAAqB,SAAUF,EAASG,GACxC,IAAIC,GAAiBD,EAAQP,EAA4BS,kCACpDL,EAAQJ,EAA4BU,0BACzCN,EAAQJ,EAA4BU,2BAA4B,EAC5DN,GAAWG,GAAWC,IACtBX,EAA4BjF,0BAA0BqB,YAAYmE,GAClEJ,EAA4BW,aAAapC,EAAMtE,QAAS,CAAEsG,QAASA,EAASH,QAASA,MAO7FZ,EAAKY,QAAU,SAAUG,GAErB,IADA,IAAIK,EAAc,GACTC,EAAK,EAAGA,EAAKtH,UAAUwE,OAAQ8C,IACpCD,EAAYC,EAAK,GAAKtH,UAAUsH,GAEpC,IAAIT,EAAUD,EAAgBW,KAAKC,MAAMZ,EAAiB,CAACX,EAAMe,GAAS7C,OAAOkD,IAEjF,OADAN,EAAmBF,EAASG,GACrBH,GAEXX,EAAMW,QAAU,SAAUG,GAEtB,IADA,IAAIK,EAAc,GACTC,EAAK,EAAGA,EAAKtH,UAAUwE,OAAQ8C,IACpCD,EAAYC,EAAK,GAAKtH,UAAUsH,GAEpC,IAAIT,EAAUC,EAAqBS,KAAKC,MAAMV,EAAsB,CAACZ,EAAOc,GAAS7C,OAAOkD,IAE5F,OADAN,EAAmBF,EAASG,GACrBH,GAMXZ,EAAKvE,IAAM,SAAUsF,GAEjB,IADA,IAAIK,EAAc,GACTC,EAAK,EAAGA,EAAKtH,UAAUwE,OAAQ8C,IACpCD,EAAYC,EAAK,GAAKtH,UAAUsH,GAEpC,IAGI7E,EAHAoE,GAAWpE,EAAKwD,EAAKY,SAASU,KAAKC,MAAM/E,EAAI,CAACwD,EAAMe,GAAS7C,OAAOkD,IAExE,OADAR,EAAQY,MACDZ,GAGXX,EAAMxE,IAAM,SAAUsF,GAElB,IADA,IAAIK,EAAc,GACTC,EAAK,EAAGA,EAAKtH,UAAUwE,OAAQ8C,IACpCD,EAAYC,EAAK,GAAKtH,UAAUsH,GAEpC,IAGI7E,EAHAoE,GAAWpE,EAAKyD,EAAMW,SAASU,KAAKC,MAAM/E,EAAI,CAACyD,EAAOc,GAAS7C,OAAOkD,IAE1E,OADAR,EAAQY,MACDZ,IAQfJ,EAA4BW,aAAe,SAAU5G,EAAQkH,GACzD,GAAKA,EAAUV,SAAYU,EAAUb,SAAYrG,EAAjD,CAIA,IAEImH,EACAC,EAHAC,EAAgB,IAAIxB,EAAqBqB,EAAUV,QAASU,EAAUb,SACtEiB,EAAiBxB,EAA4BjF,0BAA0BC,oBAoB3E,GAjBIwG,GAAkBA,EAAe3F,WAAa2F,EAAe3F,UAAUF,aAAeuE,EAAYuB,eAAeD,EAAe3F,UAAUF,YAAY+F,UACtJF,EAAe3F,UAAUF,YAAYgG,eACrCN,EAAkBG,EAAe3F,UAAUF,YAAYiG,0BAElD3B,EAAqB4B,YAG1BP,GADI3F,EAAc,IAAIuE,GACU4B,WAChCT,EAAkB1F,EAAYiG,0BAG9BP,EAAkBG,GAAkBA,EAAe3F,WAAc2F,EAAe3F,UAAUL,SAAW2E,EAA4B4B,gBAAkB,IAMnJlC,EAAKmC,4BAA4B9H,EAAQqH,EAAcU,WAAab,EAAUb,QAAQ2B,WAAad,EAAUb,QAAQ4B,WACjHjI,EAAOkI,QAAUlI,EAAOkI,OAAOC,cAAe,CAE9C,IAAIC,EAAoBlB,EAAUb,QAAQ2B,UAAUpC,EAAuByC,sBAC3E,IACI1C,EAAK2C,6BAA6BtI,EAAQkH,EAAUb,QAAS+B,GAEjE,MAAO1V,GACHkO,EAAQyD,KAAK,+EAAgF3R,GAEjG,GAAI4U,GAAkBA,EAAe3F,UACjC,IAMI,GALAuF,EAAUb,QAAQ4B,UAAUrC,EAAuB2C,gBAAiBpB,GAEpED,EAAUb,QAAQ4B,UAAUrC,EAAuB4C,eAAgBlB,EAAe3F,UAAUC,IAC5FsF,EAAUb,QAAQ4B,UAAUrC,EAAuB6C,aAActB,GAE7DC,GAAqBE,EAAe3F,UAAUF,YAC9CyF,EAAUb,QAAQ4B,UAAUrC,EAAuB8C,kBAAmBtB,GAAqBE,EAAe3F,UAAUF,YAAYmG,iBAE/H,GAAI7B,EAAqB4B,WAAY,CAEtC,IAAIlG,GAAc,IAAIuE,GAAc4B,WACpCV,EAAUb,QAAQ4B,UAAUrC,EAAuB8C,kBAAmBjH,GAE1E,GAAI6F,EAAe3F,UAAUD,WAAY,CACrC,IAAIA,EAAa4F,EAAe3F,UAAUD,WAAWkG,WACjDlG,GACAwF,EAAUb,QAAQ4B,UAAUrC,EAAuB+C,iBAAkBjH,GAG7E,IAAIF,EAA2B8F,EAAezF,iBAAiB+B,oBAC3DpC,GACA0F,EAAUb,QAAQ4B,UAAUrC,EAAuBpE,yBAA0BA,GAGrF,MAAO9O,GACHkO,EAAQyD,KAAK,6EAA8E3R,IAMvGwU,EAAUb,QAAQhI,KAClB6I,EAAUb,QAAQhI,GAAG,YAAY,SAAUuK,GACvCvB,EAAcwB,WAAWD,GACzB,IAAIE,EAAsBzB,EAAc0B,uBAAuB7B,EAAWC,GAC1E2B,EAAoBE,eAAiBF,EAAoBE,gBAAkB,GAC3EF,EAAoBE,eAAe,uBAAyB9B,EAAUV,QACtEsC,EAAoBE,eAAe,sBAAwB9B,EAAUb,QACrEyC,EAAoBE,eAAe,uBAAyBJ,EAC5D5I,EAAOiJ,gBAAgBH,MAE3B5B,EAAUb,QAAQhI,GAAG,SAAS,SAAUhL,GACpCgU,EAAc7K,QAAQnJ,GACtB,IAAIyV,EAAsBzB,EAAc0B,uBAAuB7B,EAAWC,GAC1E2B,EAAoBE,eAAiBF,EAAoBE,gBAAkB,GAC3EF,EAAoBE,eAAe,uBAAyB9B,EAAUV,QACtEsC,EAAoBE,eAAe,sBAAwB9B,EAAUb,QACrEyC,EAAoBE,eAAsB,MAAI3V,EAC9C2M,EAAOiJ,gBAAgBH,YApF3BlI,EAAQsI,KAAK,iFAAkFhC,EAAUV,SAAUU,EAAUb,SAAUrG,IAwF/IiG,EAA4B9F,UAAUrK,QAAU,WAC5CmQ,EAA4BhG,SAAW,KACvChN,KAAKmN,QAAO,GACZnN,KAAKwN,gBAAiB,GAE1BwF,EAA4BS,+BAAiC,mCAC7DT,EAA4B4B,cAAgB,EAC5C5B,EAA4BU,yBAA2B,4BAChDV,EA3LuB,GA6LlCtF,EAAOvO,QAAU6T,G,kCCvMjB,IACQkD,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KAGnFE,EAAM,EAAQ,MACdC,EAAY,EAAQ,MACpBnE,EAAO,EAAQ,MACfC,EAAyB,EAAQ,MACjCmE,EAAgB,EAAQ,MACxBhE,EAAuB,EAAQ,MAI/BF,EAAwB,SAAUmE,GAElC,SAASnE,EAAqBoE,EAAgB5D,GAC1C,IAAI7B,EAAQwF,EAAOjD,KAAK9T,OAASA,KAOjC,OANIoT,GAAWA,EAAQ6D,QAAUD,IAE7BzF,EAAM0F,OAAS7D,EAAQ6D,OACvB1F,EAAMqF,IAAMhE,EAAqBsE,0BAA0BF,EAAgB5D,GAC3E7B,EAAM4F,WAAa,IAAIC,MAEpB7F,EA+GX,OAxHA4E,EAAUvD,EAAsBmE,GAchCnE,EAAqB1F,UAAU3D,QAAU,SAAU9I,GAC/CT,KAAKqX,gBAAW7T,EAAW/C,IAK/BmS,EAAqB1F,UAAU0I,WAAa,SAAUD,GAClD3V,KAAKqX,WAAW1B,EAAS2B,gBAAY9T,GACrCxD,KAAKkV,cAAgBxC,EAAK6E,4BAA4B5B,EAAUhD,EAAuB6E,0BAK3F5E,EAAqB1F,UAAU4I,uBAAyB,SAAU2B,EAAeC,GAC7E,IAAIC,EAAYf,EAAIgB,MAAM5X,KAAK4W,KAC/Be,EAAUE,YAASrU,EACnBmU,EAAUG,UAAOtU,EACjB,IAAIuU,EAAiB/X,KAAKiX,OAAOe,cAAgB,IAAML,EAAUM,SAC7DC,EAAuBrB,EAAUsB,8BAA8BC,UAC/DC,EAAyBV,EAAUW,SACnCtY,KAAKkV,eACLgD,EAAuBrB,EAAUsB,8BAA8BI,QAC3DvY,KAAKkV,gBAAkBpC,EAAqB0F,sBAC5CH,EAAyBV,EAAUW,SAAW,MAAQtY,KAAKkV,gBAI/DgD,EAAuBrB,EAAUsB,8BAA8BC,UAE/DT,EAAUc,OACVJ,GAA0B,IAAMV,EAAUc,MAE9C,IAAI5C,EAAsB,CACtBlH,GAAI+I,EACJlV,KAAMuV,EACNW,KAAM1Y,KAAK4W,IACX+B,SAAU3Y,KAAK2Y,SACfC,QAAS5Y,KAAK6Y,aACdC,WAAY9Y,KAAKsX,WAAatX,KAAKsX,WAAW3C,WAAa,KAC3D7U,WAAYE,KAAKF,YAAc,GAC/BiZ,mBAAoBb,EACpBpW,OAAQuW,GAKZ,GAAIZ,EAAe,CAEf,IAAK,IAAIlW,KAAOkW,EACP5B,EAAoBtU,KACrBsU,EAAoBtU,GAAOkW,EAAclW,IAIjD,GAAIkW,EAAc3X,WACd,IAAK,IAAIyB,KAAOkW,EAAc3X,WAC1B+V,EAAoB/V,WAAWyB,GAAOkW,EAAc3X,WAAWyB,GAI3E,OAAOsU,GAMXjD,EAAqBsE,0BAA4B,SAAU3D,EAASH,GAChE,GAAuB,iBAAZG,EACPA,EAAUqD,EAAIgB,MAAMrE,OAEnB,CAED,IAAIyF,EAAoBzF,EACxBA,EAAU,GACNyF,GACA/Z,OAAOga,KAAKD,GAAmB5R,SAAQ,SAAU7F,GAC7CgS,EAAQhS,GAAOyX,EAAkBzX,MAM7C,GAAIgS,EAAQ3O,KAAM,CACd,IAAIsU,EAActC,EAAIgB,MAAMrE,EAAQ3O,MACpC2O,EAAQ0E,SAAWiB,EAAYjB,SAC/B1E,EAAQsE,OAASqB,EAAYrB,OAmBjC,OAZItE,EAAQ4F,MAAQ5F,EAAQkF,OAGP7B,EAAIgB,MAAM,UAAYrE,EAAQ4F,MAC/BV,MAAQlF,EAAQkF,OAC5BlF,EAAQ+E,SAAW/E,EAAQ4F,YACpB5F,EAAQ4F,MAIvB5F,EAAQ6F,SAAW7F,EAAQ6F,UAAahG,EAAQiG,OAASjG,EAAQiG,MAAMD,eAAa5V,EACpF+P,EAAQ+E,SAAW/E,EAAQ+E,UAAY,YAChC1B,EAAI0C,OAAO/F,IAEfX,EAzHgB,CA0HzBkE,GACFpJ,EAAOvO,QAAUyT,G,kCC9IjB,IACQsD,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KAGnFE,EAAM,EAAQ,MACdC,EAAY,EAAQ,MACpBnE,EAAO,EAAQ,MACfC,EAAyB,EAAQ,MACjCmE,EAAgB,EAAQ,MACxBhE,EAAuB,EAAQ,MAC/ByG,EAAa,EAAQ,MACrBxG,EAAc,EAAQ,MAItByG,EAAqB,SAAUzC,GAE/B,SAASyC,EAAkBpG,EAASqG,GAChC,IAAIlI,EAAQwF,EAAOjD,KAAK9T,OAASA,KAYjC,OAXIoT,IACA7B,EAAM0F,OAAS7D,EAAQ6D,OACvB1F,EAAMqF,IAAMrF,EAAMmI,gBAAgBtG,GAClC7B,EAAM4F,WAAa,IAAIC,KACvB7F,EAAMoI,oBAAsBvG,EAAQwG,QAAUxG,EAAQwG,OAAOC,cAC7DtI,EAAMuI,aAAa1G,EAASqG,GACxBrG,EAAQ2G,aACRxI,EAAMyI,wBAA0B5G,EAAQ2G,WAAWF,cACnDtI,EAAM0I,0BAA4B7G,EAAQ2G,WAAmB,QAAK3G,EAAQ2G,WAAmB,OAAEF,gBAGhGtI,EAoNX,OAlOA4E,EAAUqD,EAAmBzC,GAgB7ByC,EAAkBtM,UAAU3D,QAAU,SAAU9I,EAAOyZ,GACnDla,KAAKqX,gBAAW7T,EAAW/C,GAEvByZ,IACAla,KAAK2Y,SAAWuB,IAGxBV,EAAkBtM,UAAU0I,WAAa,SAAUD,EAAUuE,GACzDla,KAAKqX,WAAW1B,EAAS2B,gBAAY9T,GAEjC0W,IACAla,KAAK2Y,SAAWuB,IAGxBV,EAAkBtM,UAAUiN,oBAAsB,SAAU1C,GACxD,IAAI2C,EAAmB,CACnBzL,GAAI3O,KAAKyZ,UACTjX,KAAMxC,KAAKiX,OAAS,IAAML,EAAIgB,MAAM5X,KAAK4W,KAAKqB,SAC9CrB,IAAK5W,KAAK4W,IAKV7U,OAAQ/B,KAAKqa,oBACb1B,SAAU3Y,KAAK2Y,SACfG,WAAY9Y,KAAKsX,WAAatX,KAAKsX,WAAW3C,WAAa,KAC3DiE,QAAS5Y,KAAK6Y,aACd/Y,WAAYE,KAAKF,YAKrB,GAAI2X,EAAe,CAEf,IAAK,IAAIlW,KAAOkW,EACP2C,EAAiB7Y,KAClB6Y,EAAiB7Y,GAAOkW,EAAclW,IAI9C,GAAIkW,EAAc3X,WACd,IAAK,IAAIyB,KAAOkW,EAAc3X,WAC1Bsa,EAAiBta,WAAWyB,GAAOkW,EAAc3X,WAAWyB,GAIxE,OAAO6Y,GAEXZ,EAAkBtM,UAAUoN,eAAiB,SAAUC,GAEnD,IAAIC,EAAU,GACd,IAAK,IAAIjZ,KAAOgZ,EACZC,EAAQjZ,GAAOgZ,EAAKhZ,GAUxB,OAPAiZ,EAAQhB,EAAkBP,KAAKwB,YAAcF,EAAKf,EAAkBP,KAAKwB,aAAeza,KAAK0a,SAC7FF,EAAQhB,EAAkBP,KAAK0B,WAAaJ,EAAKf,EAAkBP,KAAK0B,YAAc3a,KAAK4a,OAAO,cAClGJ,EAAQhB,EAAkBP,KAAK4B,QAAUN,EAAKf,EAAkBP,KAAK4B,SAAW7a,KAAK4a,OAAO,WAC5FJ,EAAQhB,EAAkBP,KAAK6B,gBAAkBP,EAAKf,EAAkBP,KAAK6B,iBAAmB9a,KAAK4a,OAAO,eAC5GJ,EAAQhB,EAAkBP,KAAK3K,eAAiBtO,KAAK+a,iBAAiBR,GACtEC,EAAQhB,EAAkBP,KAAK+B,mBAAqBhb,KAAKib,qBAAqBV,GAC9EC,EAAQhB,EAAkBP,KAAK7K,aAAepO,KAAKkb,eAAeX,GAC3DC,GAEXhB,EAAkBtM,UAAUgO,eAAiB,SAAUX,GACnD,OAAOA,EAAKf,EAAkBP,KAAK7K,cAAgBpO,KAAKoO,aAE5DoL,EAAkBtM,UAAU+N,qBAAuB,SAAUV,GACzD,OAAOA,EAAKf,EAAkBP,KAAK+B,oBAAsBhb,KAAKqO,UAAYrO,KAAKkb,eAAeX,IAElGf,EAAkBtM,UAAU6N,iBAAmB,SAAUR,GACrD,OAAOA,EAAKf,EAAkBP,KAAK3K,gBAAkBtO,KAAKiX,OAAS,IAAML,EAAIgB,MAAM5X,KAAK4W,KAAKqB,UAEjGuB,EAAkBtM,UAAUiO,aAAe,WACvC,OAAOnb,KAAKyZ,WAEhBD,EAAkBtM,UAAUkO,4BAA8B,WACtD,OAAOpb,KAAKuO,0BAEhBiL,EAAkBtM,UAAUmO,eAAiB,WACzC,OAAOrb,KAAKwO,aAEhBgL,EAAkBtM,UAAUoO,cAAgB,WACxC,OAAOtb,KAAKyO,YAEhB+K,EAAkBtM,UAAUqO,gBAAkB,WAC1C,OAAOvb,KAAKwb,cAEhBhC,EAAkBtM,UAAUwM,gBAAkB,SAAUtG,GACpD,IAAKA,EAAQqI,QACT,OAAOrI,EAAQwD,IAEnB,IAAI8E,EAAYtI,EAAQ2G,WAAa3G,EAAQ2G,WAAW2B,UAAY,KAChEC,EAAa/E,EAAIgB,MAAMxE,EAAQwD,KAC/BgF,EAAWD,EAAW1D,SACtBJ,EAAS8D,EAAW9D,OAOxB,OANkBjB,EAAI0C,OAAO,CACzBF,SAAUsC,EAAY,QAAU,OAChCvC,KAAM/F,EAAQqI,QAAQtC,KACtBlB,SAAU2D,EACV/D,OAAQA,KAIhB2B,EAAkBtM,UAAUwN,OAAS,WAGjC,IAAImB,EAAU,iDACVC,EAAQ,SAAUC,GAClB,IAAI5U,EAAU0U,EAAQG,KAAKD,GAC3B,GAAI5U,EACA,OAAOA,EAAQ,IAGnB8U,EAAKH,EAAM9b,KAAKkc,WAAW,qBACxBJ,EAAM9b,KAAKkc,WAAW,iBACtBJ,EAAM9b,KAAKkc,WAAW,eACtBJ,EAAM9b,KAAKga,0BACX8B,EAAM9b,KAAK2Z,sBACXmC,EAAM9b,KAAKia,2BAQlB,OANKgC,GACEjc,KAAKga,yBACLha,KAAKga,wBAAwBmC,QACiB,OAA9Cnc,KAAKga,wBAAwBmC,OAAO,EAAG,KAC1CF,EAAK,aAEFA,GAEXzC,EAAkBtM,UAAU0N,OAAS,SAAUpY,GAC3C,IAAI4Z,EAAUpc,KAAKkc,YAAclc,KAAKkc,WAAmB,QAChB,iBAA9Blc,KAAKkc,WAAmB,QAAkBlc,KAAKkc,WAAmB,QAAM,GAEnF,OADY1C,EAAkB6C,QAAQ3J,EAAK4J,UAAU9Z,EAAM4Z,KAM/D5C,EAAkBtM,UAAUqP,kCAAoC,WAE5Dvc,KAAKoO,YAAcpO,KAAKwO,YAAY+F,QAChCvU,KAAKwO,YAAYgN,eACjBxb,KAAKwb,aAAexb,KAAKwO,YAAYgN,cAGzCxb,KAAKqO,SAAWrO,KAAKwO,YAAYH,SAEjCrO,KAAKwO,YAAYgG,eACjBxU,KAAKyZ,UAAYzZ,KAAKwO,YAAYiG,0BAEtC+E,EAAkBtM,UAAU4M,aAAe,SAAU1G,EAASqG,GAI1D,GAHAzZ,KAAKkc,WAAa9I,EAAQqI,SAAWrI,EAAQ8I,WAC7Clc,KAAKwc,UAAYpJ,EAAQqI,SAAWrI,EAAQqI,QAAQ,cACpDzb,KAAKqa,oBAAsB3H,EAAK6E,4BAA4BnE,EAAST,EAAuB8J,yBACxFrJ,EAAQqI,QAAS,CACjB,IAAIiB,EAAmBtJ,EAAQqI,QAAQ9I,EAAuB+C,kBAC1DD,EAAoBrC,EAAQqI,QAAQ9I,EAAuB8C,mBAC3DH,EAAkBlC,EAAQqI,QAAQ9I,EAAuB2C,iBACzDqH,EAAkBvJ,EAAQqI,QAAQ9I,EAAuB4C,gBACzDqH,EAAgBxJ,EAAQqI,QAAQ9I,EAAuB6C,cAC3DxV,KAAKuO,yBAA2B6E,EAAQqI,QAAQ9I,EAAuBpE,0BACnEuE,EAAqB4B,aAAee,GAAqBiH,IAEzD1c,KAAKwO,YAAc,IAAIuE,EAAY0C,GACnCzV,KAAKyO,WAAagH,GAAqBiH,GAAoB,IAAInD,EAAWmD,GAC1E1c,KAAKuc,qCAEAjH,EAEDxC,EAAqB4B,YACrB1U,KAAKwO,YAAc,IAAIuE,EAAY,KAAMuC,GACzCtV,KAAKuc,sCAGLvc,KAAKqO,SAAWiH,EAChBtV,KAAKyZ,UAAY3G,EAAqB+J,kBAAkB7c,KAAKqO,UAC7DrO,KAAKoO,YAAc0E,EAAqBgK,UAAU9c,KAAKyZ,YAKvD3G,EAAqB4B,YACrB1U,KAAKwO,YAAc,IAAIuE,EACvB/S,KAAKwO,YAAYH,SAAWsO,EAC5B3c,KAAKwO,YAAYgN,aAAeoB,GAAiBD,EACjD3c,KAAKuc,sCAGLvc,KAAKqO,SAAWsO,EAChB3c,KAAKyZ,UAAY3G,EAAqB+J,kBAAkBD,GAAiB5c,KAAKqO,UAC9ErO,KAAKuO,yBAA2B,KAChCvO,KAAKoO,YAAc0E,EAAqBgK,UAAU9c,KAAKyZ,YAG3DA,IAGAzZ,KAAKyZ,UAAYA,EACjBzZ,KAAKoO,YAAc0E,EAAqBgK,UAAU9c,KAAKyZ,cAInED,EAAkB6C,QAAU,SAAUU,GAClC,IAAIC,EAAcD,EAAYjZ,MAAM,KACpC,OAAIkZ,EAAYjM,OAAS,EACdiM,EAAY,GAEhB,IAEXxD,EAAkBP,KAAO,IAAIpC,EAAUoG,eAChCzD,EAnOa,CAoOtB1C,GACFpJ,EAAOvO,QAAUqa,G,2BC1PjB,IAAIhH,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChB9E,EAAU,EAAQ,MAClB+E,EAAO,EAAQ,MACfC,EAAyB,EAAQ,MACjC6G,EAAoB,EAAQ,MAC5B3G,EAA8B,EAAQ,KACtCqK,EAAyB,EAAQ,MACjCC,EAA2B,WAC3B,SAASA,EAAwBpQ,GAC7B,GAAMoQ,EAAwBnQ,SAC1B,MAAM,IAAI1M,MAAM,oFAEpB6c,EAAwBnQ,SAAWhN,KACnCA,KAAKiN,QAAUF,EAiNnB,OA/MAoQ,EAAwBjQ,UAAUC,OAAS,SAAUC,GACjDpN,KAAKiT,WAAa7F,GAIbpN,KAAKod,oBAAsBpd,KAAKiT,YAAciK,EAAuB9P,eAAiBpN,KAAKwN,iBAC5FxN,KAAKqd,mBAAmBrd,KAAKod,oBAC7Bpd,KAAKkT,gBAGbiK,EAAwBjQ,UAAUmQ,mBAAqB,SAAUjQ,EAAWiC,GACpEjC,IAAcpN,KAAKod,mBACnBvK,EAA4BjF,0BAA0BT,OAAOkC,IAEvDjC,GAAapN,KAAKod,oBACxBvK,EAA4BjF,0BAA0BiC,UAE1D7P,KAAKod,mBAAqBhQ,GAE9B+P,EAAwBjQ,UAAUK,cAAgB,WAC9C,OAAOvN,KAAKwN,gBAEhB2P,EAAwBjQ,UAAUoQ,kBAAoB,WAClD,OAAOtd,KAAKod,oBAEhBD,EAAwBjQ,UAAUqQ,4BAA8B,SAAUnJ,GACtE,GAAKpU,KAAKod,mBAGV,OAAOvK,EAA4BjF,0BAA0BO,sBAAsBiG,EAAc8G,eAAelb,KAAKiN,QAAQc,QAAQwM,MAAOnG,EAAc+G,eAAgB/G,EAAc2G,iBAAiB/a,KAAKiN,QAAQc,QAAQwM,MAAOnG,EAAcgH,8BAA+BhH,EAAciH,iBAAkBjH,EAAckH,kBAEpU6B,EAAwBjQ,UAAUgG,YAAc,WAC5C,IAAI3B,EAAQvR,KACZA,KAAKwN,gBAAiB,EACtB,IAAIgQ,EAAuB,SAAUC,GACjC,GAAKA,EAAL,CAGA,GAAyB,mBAAdA,EACP,MAAM,IAAInd,MAAM,wCAEpB,OAAO,SAAU8S,EAASuC,GACtB9C,EAA4BjF,0BAA0BqB,YAAYmE,GAClEP,EAA4BjF,0BAA0BqB,YAAY0G,GAClE,IAAInC,EAAgBJ,IAAYA,EAAQ+J,EAAwBzJ,0BAChE,GAAIN,GAAWI,EAAe,CAE1B,IAAIkK,EAAkB,IAAIlE,EAAkBpG,GACxCuK,EAAqBpM,EAAMgM,4BAA4BG,GAG3D7K,EAA4BjF,0BAA0BkB,eAAe6O,GAAoB,WACjFpM,EAAM0B,aAENG,EAAQ+J,EAAwBzJ,2BAA4B,EAE5DyJ,EAAwBxJ,aAAapC,EAAMtE,QAAS,CAAEmG,QAASA,EAASuC,SAAUA,GAAY+H,IAEzE,mBAAdD,GACPA,EAAUrK,EAASuC,UAKF,mBAAd8H,GACPA,EAAUrK,EAASuC,MAkB/BiI,EAAyB,SAAUC,GACnC,IAAIC,EAAsBD,EAAOE,YAAY3V,KAAKyV,GAClDA,EAAOE,YAAc,SAAUC,EAAWC,GACtC,OAAQD,GACJ,IAAK,UACL,IAAK,gBACD,OAAOF,EAAoBE,EAAWR,EAAqBS,IAC/D,QACI,OAAOH,EAAoBE,EAAWC,KAIlDJ,EAAOzS,GAAKyS,EAAOE,aAEnBG,EAAqB1L,EAAK2L,aAC9B3L,EAAK2L,aAAe,SAAUV,GAE1B,IAAII,EAASK,EAAmBV,EAAqBC,IAErD,OADAG,EAAuBC,GAChBA,GAEX,IAAIO,EAAsB3L,EAAM0L,aAChC1L,EAAM0L,aAAe,SAAU5K,EAASkK,GACpC,IAAII,EAASO,EAAoB7K,EAASiK,EAAqBC,IAE/D,OADAG,EAAuBC,GAChBA,IAMfV,EAAwBkB,iBAAmB,SAAUtR,EAAQkH,GACzD,GAAKA,EAAUb,SAAYa,EAAU0B,UAAa5I,EAAlD,CAIAoQ,EAAwBmB,+BAA+BvR,EAAQkH,EAAU0B,UAEzE,IAAIgI,EAAqB9K,EAA4BjF,0BAA0BC,oBAC3EuG,EAAgB,IAAIoF,EAAkBvF,EAAUb,QAAUuK,GAAsBA,EAAmBjP,UAAUL,UAE7GsP,IACAA,EAAmBjP,UAAUC,GAAKyF,EAAc8G,eAAenO,EAAOgB,QAAQwM,OAASoD,EAAmBjP,UAAUC,GACpHgP,EAAmBjP,UAAUlM,KAAO4R,EAAc2G,iBAAiBhO,EAAOgB,QAAQwM,OAASoD,EAAmBjP,UAAUlM,KACxHmb,EAAmBjP,UAAUL,SAAW+F,EAAc+G,gBAAkBwC,EAAmBjP,UAAUL,SACrGsP,EAAmB/O,iBAAiB0B,cAAc8D,EAAcgH,gCAEpE+B,EAAwBoB,WAAWxR,EAAQqH,EAAeH,EAAWA,EAAU0E,SAAU1E,EAAUxT,YAd/FkN,EAAQsI,KAAK,iFAAkFhC,EAAUb,SAAUa,EAAU0B,UAAW5I,IAmBhJoQ,EAAwBxJ,aAAe,SAAU5G,EAAQkH,EAAWuK,GAChE,GAAKvK,EAAUb,SAAYa,EAAU0B,UAAa5I,EAAlD,CAKA,IAAI4Q,EAAqB9K,EAA4BjF,0BAA0BC,oBAC3EuG,EAAgBoK,GAAkB,IAAIhF,EAAkBvF,EAAUb,QAASuK,GAAsBA,EAAmBjP,UAAUL,UAC9HqE,EAAKmC,4BAA4B9H,EAAQqH,EAAcU,WACvDqI,EAAwBmB,+BAA+BvR,EAAQkH,EAAU0B,UAGzEgI,IAAuBa,IACvBb,EAAmBjP,UAAUC,GAAKyF,EAAc8G,eAAenO,EAAOgB,QAAQwM,OAASoD,EAAmBjP,UAAUC,GACpHgP,EAAmBjP,UAAUlM,KAAO4R,EAAc2G,iBAAiBhO,EAAOgB,QAAQwM,OAASoD,EAAmBjP,UAAUlM,KACxHmb,EAAmBjP,UAAUL,SAAW+F,EAAc6G,qBAAqBlO,EAAOgB,QAAQwM,OAASoD,EAAmBjP,UAAUL,SAChIsP,EAAmB/O,iBAAiB0B,cAAc8D,EAAcgH,gCAGhEnH,EAAU0B,SAAStK,MACnB4I,EAAU0B,SAAStK,KAAK,UAAU,WAC9B8R,EAAwBoB,WAAWxR,EAAQqH,EAAeH,EAAW,KAAM,SAI/EA,EAAUb,QAAQhI,IAClB6I,EAAUb,QAAQhI,GAAG,SAAS,SAAU3K,GACpC0c,EAAwBoB,WAAWxR,EAAQqH,EAAeH,EAAW,KAAMxT,WAzB/EkN,EAAQsI,KAAK,6EAA8EhC,EAAUb,SAAUa,EAAU0B,UAAW5I,IAgC5IoQ,EAAwBmB,+BAAiC,SAAUvR,EAAQ4I,GACvE,GAAI5I,EAAOkI,QAAUlI,EAAOkI,OAAOC,eAC/BS,EAASZ,WAAaY,EAASX,YAAcW,EAAS8I,YAAa,CACnE,IAAItJ,EAAoBQ,EAASZ,UAAUpC,EAAuByC,sBAClE1C,EAAK2C,6BAA6BtI,EAAQ4I,EAAUR,KAG5DgI,EAAwBoB,WAAa,SAAUxR,EAAQqH,EAAeH,EAAWiG,EAAsBzZ,GAC/FA,EACA2T,EAAc7K,QAAQ9I,EAAOyZ,GAG7B9F,EAAcwB,WAAW3B,EAAU0B,SAAUuE,GAEjD,IAAIE,EAAmBhG,EAAc+F,oBAAoBlG,GAEzD,GADAmG,EAAiBsE,aAAetK,EAAckG,eAAevN,EAAOgB,QAAQwM,MACxEtG,EAAUyK,aACV,IAAK,IAAInd,KAAO0S,EAAUyK,aACtBtE,EAAiBsE,aAAand,GAAO0S,EAAUyK,aAAand,GAGpE,IAAIia,EAAepH,EAAcmH,kBAC7BC,IACApB,EAAiBta,WAA4B,gBAAI0b,GAErDpB,EAAiBrE,eAAiBqE,EAAiBrE,gBAAkB,GACrEqE,EAAiBrE,eAAe,sBAAwB9B,EAAUb,QAClEgH,EAAiBrE,eAAe,uBAAyB9B,EAAU0B,SACnE5I,EAAO4G,aAAayG,IAExB+C,EAAwBjQ,UAAUrK,QAAU,WACxCsa,EAAwBnQ,SAAW,KACnChN,KAAKmN,QAAO,GACZnN,KAAKwN,gBAAiB,EACtBqF,EAA4BjF,0BAA0BiC,UACtD7P,KAAKod,oBAAqB,GAE9BD,EAAwBzJ,yBAA2B,4BAC5CyJ,EAvNmB,GAyN9BzP,EAAOvO,QAAUge,G,kCCjOjB,IAAIwB,EAAY3e,MAAQA,KAAK2e,UAAa1f,OAAOgB,QAAU,SAAS2e,GAChE,IAAK,IAAIC,EAAG/N,EAAI,EAAGgO,EAAIvS,UAAUwE,OAAQD,EAAIgO,EAAGhO,IAE5C,IAAK,IAAI0F,KADTqI,EAAItS,UAAUuE,GACO7R,OAAOiO,UAAUuJ,eAAe3C,KAAK+K,EAAGrI,KACzDoI,EAAEpI,GAAKqI,EAAErI,IAEjB,OAAOoI,GAEX3f,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI2f,EAAS,EAAQ,MACjBC,EAAU,EAAQ,MAClBrR,EAAU,EAAQ,MAClBsR,EAAgC,WAChC,SAASA,EAA6BlS,GAClC/M,KAAKkf,iBAAmB,GAGpBD,EAA6BjS,UAC7BiS,EAA6BjS,SAASnK,UAE1Coc,EAA6BjS,SAAWhN,KACxCA,KAAKiN,QAAUF,EAiOnB,OA5NAkS,EAA6B3P,wBAA0B,WACnD,IAAIS,EAAUpM,QAAQC,SAASC,KAAKC,MAAM,KAC1C,OAAOE,SAAS+L,EAAQ,KAAO,GASnCkP,EAA6B/R,UAAUC,OAAS,SAAUC,EAAW+R,EAAiBC,GAClF,IAAI7N,EAAQvR,KAGZ,QAFwB,IAApBmf,IAA8BA,EAAkB,SACzB,IAAvBC,IAAiCA,EAAqB,KACrDH,EAA6B3P,0BAAlC,CAGA,GAAsD9L,MAAlDyb,EAA6BI,mBAAkCjS,IAAcpN,KAAKwN,eAElF,IACI,IAAI8R,EAAwB,EAAQ,MACpCL,EAA6BzU,SAAW,IAAI8U,EAC5CL,EAA6BI,mBAAoB,EACjD1R,EAAQsI,KAAK,8CAEjB,MAAOxW,GAGH,YADAwf,EAA6BI,mBAAoB,GAIzDrf,KAAKiT,WAAa7F,EAClBpN,KAAKkf,iBAAmBC,EACpBnf,KAAKiT,aAAejT,KAAKwN,iBACzBxN,KAAKwN,gBAAiB,GAGtBxN,KAAKiT,YAAcgM,EAA6BzU,UAEhDyU,EAA6BzU,SAAS2C,QAAO,EAAMiS,GACnDpf,KAAKuf,QAAUC,aAAY,WAAc,OAAOjO,EAAMkO,wBAA0BL,GAChFpf,KAAKuf,QAAQG,SAERT,EAA6BzU,WAElCyU,EAA6BzU,SAAS2C,QAAO,GACzCnN,KAAKuf,UACLI,cAAc3f,KAAKuf,SACnBvf,KAAKuf,aAAU/b,MAS3Byb,EAA6B/R,UAAUrK,QAAU,WAC7C7C,KAAKmN,QAAO,IAWhB8R,EAA6BW,aAAe,SAAUC,GAClD,IAAIC,EAAanc,QAAQoc,IAAIhB,EAAOiB,6BAChCC,EAAoBtc,QAAQoc,IAAIhB,EAAOmB,4BAE3C,GAAIJ,EACA,MAAO,CAAE1S,WAAW,EAAO+R,gBAAiB,IAGhD,GAAIc,EAAmB,CACnB,IAAIE,EAAaF,EAAkBnc,MAAM,KACrCqb,EAAkB,GACtB,GAAIgB,EAAWpP,OAAS,EACpB,IAAK,IAAI8C,EAAK,EAAGuM,EAAeD,EAAYtM,EAAKuM,EAAarP,OAAQ8C,IAElEsL,EADUiB,EAAavM,KACA,EAI/B,MAAsC,iBAA3BgM,EACA,CAAEzS,WAAW,EAAM+R,gBAAiBR,EAAS,GAAIkB,EAAwBV,IAG7E,CAAE/R,UAAWyS,EAAwBV,gBAAiBA,GAGjE,MAAsC,kBAA3BU,EACA,CAAEzS,UAAWyS,EAAwBV,gBAAiB,IAItD,CAAE/R,WAAW,EAAM+R,gBAAiBU,IASnDZ,EAA6B/R,UAAUuS,oBAAsB,WACzD,IAAIY,GAAgB,EACW,iBAApBrgB,KAAKiT,aACZoN,EAAgBrgB,KAAKiT,YAErBoN,IACArgB,KAAKsgB,0BACLtgB,KAAKugB,kBACLvgB,KAAKwgB,oBAUbvB,EAA6B/R,UAAUoT,wBAA0B,WAC7D,IAAItgB,KAAKkf,iBAAiBuB,GAA1B,CAGA,IAiBIzR,EAjBA0R,EAASzB,EAA6BzU,SAASmW,YACnD,IAAK,IAAIF,KAAMC,EAAQ,CACnB,IAAIte,EAAUse,EAAOD,GAAIre,QACrBwe,EAASH,EAAK,+BACdI,EAASC,KAAKC,KAAK3e,EAAQ4e,WAAa5e,EAAQ6e,MAAQH,KAAKI,IAAI9e,EAAQ+e,MAAQ/e,EAAQ6e,MAAO,KAAO,EAC3GjhB,KAAKiN,QAAQmU,YAAY,CACrB5e,KAAMoe,EACNxhB,MAAOgD,EAAQ+e,MACfF,MAAO7e,EAAQ6e,MACfI,IAAKjf,EAAQif,IACbC,IAAKlf,EAAQkf,IACbT,OAAQA,EACRnC,cAAe1P,EAAK,GAChBA,EAAGhP,KAAKiN,QAAQc,QAAQkL,KAAKsI,oBAAsB,mBAAqBvC,EAAQwC,WAChFxS,QAahBiQ,EAA6B/R,UAAUqT,gBAAkB,WACrD,IAAIvgB,KAAKkf,iBAAiBuC,KAA1B,CAGA,IACIrf,EADW6c,EAA6BzU,SAASkX,cAC9BC,UACvB,GAAqB,GAAjBvf,EAAQ6e,MAAZ,CAGA,IAaIjS,EAZA6R,EAASC,KAAKC,KAAK3e,EAAQ4e,WAAa5e,EAAQ6e,MAAQH,KAAKI,IAAI9e,EAAQ+e,MAAQ/e,EAAQ6e,MAAO,KAAO,EAC3GjhB,KAAKiN,QAAQmU,YAAY,CACrB5e,KAHO,sBAIPpD,MAAOgD,EAAQ+e,MACfF,MAAO7e,EAAQ6e,MACfK,IAAKlf,EAAQkf,IACbD,IAAKjf,EAAQif,IACbR,OAAQA,EACRnC,cAAe1P,EAAK,GAChBA,EAAGhP,KAAKiN,QAAQc,QAAQkL,KAAKsI,oBAAsB,mBAAqBvC,EAAQwC,WAChFxS,QAUZiQ,EAA6B/R,UAAUsT,gBAAkB,WACrD,IAAIxgB,KAAKkf,iBAAiB0C,KAA1B,CAGA,IA0BI5S,EAAI6S,EAAIC,EA1BRC,EAAcpe,QAAQoe,cACtBC,EAAWD,EAAYC,SAAUC,EAAYF,EAAYE,UAAWC,EAAMH,EAAYG,IAC1FliB,KAAKiN,QAAQmU,YAAY,CACrB5e,KAAM,sBACNpD,MAAO4iB,EACPf,MAAO,EACPvC,cAAe1P,EAAK,GAChBA,EAAGhP,KAAKiN,QAAQc,QAAQkL,KAAKsI,oBAAsB,mBAAqBvC,EAAQwC,WAChFxS,KAERhP,KAAKiN,QAAQmU,YAAY,CACrB5e,KAAM,sBACNpD,MAAO6iB,EACPhB,MAAO,EACPvC,cAAemD,EAAK,GAChBA,EAAG7hB,KAAKiN,QAAQc,QAAQkL,KAAKsI,oBAAsB,mBAAqBvC,EAAQwC,WAChFK,KAER7hB,KAAKiN,QAAQmU,YAAY,CACrB5e,KAAM,0BACNpD,MAAO8iB,EAAMD,EACbhB,MAAO,EACPvC,cAAeoD,EAAK,GAChBA,EAAG9hB,KAAKiN,QAAQc,QAAQkL,KAAKsI,oBAAsB,mBAAqBvC,EAAQwC,WAChFM,OAIL7C,EA1OwB,GA4OnC9f,EAAQ8f,6BAA+BA,G,4BCxPvC,IAAIkD,EAAK,EAAQ,MACbC,EAAY,EAAQ,MACpBlF,EAA0B,WAI1B,SAASA,EAAuBnQ,EAAQqS,EAAoBiD,QAC7B,IAAvBjD,IAAiCA,EAAqB,UACxB,IAA9BiD,IAAwCA,GAA4B,GACxEriB,KAAKsiB,kCAAoC,EACzCtiB,KAAKuiB,qCAAuC,EACvCrF,EAAuBlQ,WACxBkQ,EAAuBlQ,SAAWhN,MAEtCA,KAAKwN,gBAAiB,EACtBxN,KAAKiN,QAAUF,EACf/M,KAAKwiB,oBAAsBpD,EAC3Bpf,KAAKyiB,2BAA6BJ,EAgQtC,OA9PAnF,EAAuBhQ,UAAUC,OAAS,SAAUC,EAAWgS,GAC3D,IAAI7N,EAAQvR,KACZA,KAAKiT,WAAa7F,EACdpN,KAAKiT,aAAejT,KAAKwN,iBACzBxN,KAAKwN,gBAAiB,GAEtBJ,EACKpN,KAAKuf,UACNvf,KAAK0iB,UAAYP,EAAGQ,OACpB3iB,KAAK4iB,cAAgB,CACjBC,kBAAmB3F,EAAuB4F,mBAC1CC,wBAAyB7F,EAAuB8F,yBAChDC,MAAO,IAAI7L,MAEfpX,KAAKkjB,kBAAoB,CACrBC,qBAAsBjG,EAAuBkG,sBAC7CC,2BAA4BnG,EAAuBoG,4BACnDL,MAAO,IAAI7L,MAEfpX,KAAKujB,gBAAkB,CACnBC,oBAAqBtG,EAAuBuG,qBAC5CR,MAAO,IAAI7L,MAEiB,mBAArBzT,QAAQ+f,WACf1jB,KAAK2jB,iBAAmBhgB,QAAQ+f,YAEpC1jB,KAAK4jB,YAAcjgB,QAAQkgB,SAC3B7jB,KAAKwiB,oBAAsBpD,GAAsBpf,KAAKwiB,oBACtDxiB,KAAKuf,QAAUC,aAAY,WAAc,OAAOjO,EAAMuS,qBAAuB9jB,KAAKwiB,qBAClFxiB,KAAKuf,QAAQG,SAIb1f,KAAKuf,UACLI,cAAc3f,KAAKuf,SACnBvf,KAAKuf,aAAU/b,IAI3B0Z,EAAuB6G,aAAe,SAAUpL,EAAUC,GACtD,IAAIoL,EACJ,GAAK9G,EAAuB9P,YAA5B,CAGA,GAAwB,iBAAbuL,EAEPqL,GAAc,IAAI5M,KAAK,cAAgBuB,EAAW,SAEjD,IAAwB,iBAAbA,EAIZ,OAHAqL,EAAarL,EAKjBuE,EAAuB+G,+BAAiCD,GACxC,IAAZpL,GACAsE,EAAuB8F,2BAE3B9F,EAAuB4F,uBAE3B5F,EAAuBgH,eAAiB,WACpChH,EAAuBuG,wBAE3BvG,EAAuBiH,gBAAkB,SAAUxL,EAAUC,GACzD,IAAIoL,EACJ,GAAK9G,EAAuB9P,YAA5B,CAGA,GAAwB,iBAAbuL,EAEPqL,GAAc,IAAI5M,KAAK,cAAgBuB,EAAW,SAEjD,IAAwB,iBAAbA,EAIZ,OAHAqL,EAAarL,EAKjBuE,EAAuBkH,kCAAoCJ,GAC3C,IAAZpL,GACAsE,EAAuBoG,8BAE3BpG,EAAuBkG,0BAE3BlG,EAAuBhQ,UAAUK,cAAgB,WAC7C,OAAOvN,KAAKwN,gBAEhB0P,EAAuB9P,UAAY,WAC/B,OAAO8P,EAAuBlQ,UAAYkQ,EAAuBlQ,SAASiG,YAE9EiK,EAAuBhQ,UAAU4W,iBAAmB,WAChD9jB,KAAKqkB,YACLrkB,KAAKskB,eACLtkB,KAAKukB,gBACLvkB,KAAKwkB,uBACLxkB,KAAKykB,uBAETvH,EAAuBhQ,UAAUmX,UAAY,WAGzC,IAAI1B,EAAOR,EAAGQ,OACd,GAAIA,GAAQA,EAAK5R,QAAU/Q,KAAK0iB,WAAaC,EAAK5R,SAAW/Q,KAAK0iB,UAAU3R,OAAQ,CAMhF,IALA,IAAI2T,EAAY,EACZC,EAAW,EACXC,EAAY,EACZC,EAAY,EACZC,EAAW,EACNhU,EAAI,EAAK6R,GAAQ7R,EAAI6R,EAAK5R,OAAQD,IAAK,CAC5C,IAAIiU,EAAMpC,EAAK7R,GACXkU,EAAUhlB,KAAK0iB,UAAU5R,GAIzBmU,GAFQF,EAAIG,MACJH,EAAII,MACJJ,EAAIE,OACZG,EAAYJ,EAAQC,MAGxBP,GADYO,EAAMI,KAAOD,EAAUC,MAAS,EAI5CV,GADWM,EAAMK,IAAMF,EAAUE,KAAQ,EAIzCV,GADYK,EAAMM,KAAOH,EAAUG,MAAS,EAI5CV,GADYI,EAAMO,KAAOJ,EAAUI,MAAS,EAI5CV,GADWG,EAAMQ,IAAML,EAAUK,KAAQ,EAI7C,IAAIC,OAAgBliB,EACpB,GAAgC,mBAArBG,QAAQ+f,SAAyB,CACxC,IAAIiC,EAAchiB,QAAQ+f,WACtBG,EAASlgB,QAAQkgB,SACjB+B,EAAaD,EAAYN,KAAOrlB,KAAK2jB,iBAAiB0B,MAASM,EAAYE,OAAS7lB,KAAK2jB,iBAAiBkC,SAAY,OAC1F,IAArB7lB,KAAK4jB,aAA2D,IAA5B5jB,KAAK4jB,YAAY7S,SAE5D2U,EAAgB,IAAME,IADiC,KAAnC/B,EAAO,GAAK7jB,KAAK4jB,YAAY,KAAaC,EAAO,GAAK7jB,KAAK4jB,YAAY,IAAM,KAAQ,GACzDjB,EAAK5R,SAGzD/Q,KAAK2jB,iBAAmBgC,EACxB3lB,KAAK4jB,YAAcC,EAEvB,IAAIiC,EAAiBpB,EAAYC,EAAWC,EAAYC,EAAYC,GAAa,EACjF9kB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAU2D,mBAAmBC,eAAgB5mB,OAAS0mB,EAAgBjB,GAAaiB,EAAiB,MACrI9lB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAU2D,mBAAmBE,aAAc7mB,MAAOsmB,GAAmBhB,EAAYoB,EAAiB,MAEvI9lB,KAAK0iB,UAAYC,GAErBzF,EAAuBhQ,UAAUoX,aAAe,WAC5C,IAAI4B,EAAU/D,EAAGgE,UACbC,EAAUziB,QAAQoe,cAAcG,IAChCmE,EAAkBlE,EAAGmE,WAAaJ,EACtClmB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAU2D,mBAAmBQ,cAAennB,MAAOgnB,IACpFpmB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAU2D,mBAAmBS,gBAAiBpnB,MAAO8mB,IAElFlmB,KAAKyiB,4BACLziB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAUqE,kBAAkBC,gBAAiBtnB,MAAOinB,KAG7FnJ,EAAuBhQ,UAAUqX,cAAgB,WAE7C,IAAIoC,EAAe3mB,KAAK4iB,cACpBgE,EAAW,CACX/D,kBAAmB3F,EAAuB4F,mBAC1CC,wBAAyB7F,EAAuB8F,yBAChDC,MAAO,IAAI7L,MAEXyP,EAAoBD,EAAS/D,kBAAoB8D,EAAa9D,mBAAsB,EACpFiE,EAA0BF,EAAS7D,wBAA0B4D,EAAa5D,yBAA4B,EACtGgE,EAAYH,EAAS3D,KAAO0D,EAAa1D,KACzC+D,EAAiBD,EAAY,IAC7BE,GAAgC/J,EAAuB+G,8BAAgCjkB,KAAKsiB,mCAAqCuE,GAAqB,EAE1J,GADA7mB,KAAKsiB,kCAAoCpF,EAAuB+G,8BAC5D8C,EAAY,EAAG,CACf,IAAIG,EAAiBL,EAAmBG,EACpCG,EAAuBL,EAAyBE,EACpDhnB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAU2D,mBAAmBqB,aAAchoB,MAAO8nB,MAE9ElnB,KAAKyiB,4BAA8BoE,EAAmB,IACvD7mB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAU2D,mBAAmBsB,iBAAkBjoB,MAAO6nB,IAGvFjnB,KAAKyiB,4BACLziB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAUqE,kBAAkBa,qBAAsBloB,MAAO+nB,IAGlGnnB,KAAK4iB,cAAgBgE,GAIzB1J,EAAuBhQ,UAAUsX,qBAAuB,WACpD,GAAIxkB,KAAKyiB,2BAA4B,CACjC,IAAI8E,EAAmBvnB,KAAKkjB,kBACxBsE,EAAe,CACfrE,qBAAsBjG,EAAuBkG,sBAC7CC,2BAA4BnG,EAAuBoG,4BACnDL,MAAO,IAAI7L,MAEXqQ,EAAwBD,EAAarE,qBAAuBoE,EAAiBpE,sBAAyB,EACtGuE,EAA8BF,EAAanE,2BAA6BkE,EAAiBlE,4BAA+B,EACxH0D,EAAYS,EAAavE,KAAOsE,EAAiBtE,KACjD+D,EAAiBD,EAAY,IAC7BY,GAAmCzK,EAAuBkH,iCAAmCpkB,KAAKuiB,sCAAwCkF,GAAyB,EAEvK,GADAznB,KAAKuiB,qCAAuCrF,EAAuBkH,iCAC/D2C,EAAY,EAAG,CACf,IAAIa,EAAqBH,EAAuBT,EAC5Ca,EAA2BH,EAA6BV,EAC5DhnB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAUqE,kBAAkBqB,gBAAiB1oB,MAAOwoB,IACrF5nB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAUqE,kBAAkBsB,wBAAyB3oB,MAAOyoB,MAGxF7nB,KAAKyiB,4BAA8BgF,EAAuB,IAC3DznB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAUqE,kBAAkBuB,oBAAqB5oB,MAAOuoB,IAGjG3nB,KAAKkjB,kBAAoBsE,IAKjCtK,EAAuBhQ,UAAUuX,oBAAsB,WACnD,GAAIzkB,KAAKyiB,2BAA4B,CACjC,IAAIwF,EAAiBjoB,KAAKujB,gBACtB2E,EAAa,CACb1E,oBAAqBtG,EAAuBuG,qBAC5CR,MAAO,IAAI7L,MAEX+Q,EAAsBD,EAAW1E,oBAAsByE,EAAezE,qBAAwB,EAC9FuD,EAAYmB,EAAWjF,KAAOgF,EAAehF,KAEjD,GAAI8D,EAAY,EAAG,CACf,IAAIqB,EAAmBD,GAFNpB,EAAY,KAG7B/mB,KAAKiN,QAAQmU,YAAY,CAAE5e,KAAM4f,EAAUqE,kBAAkB4B,eAAgBjpB,MAAOgpB,IAExFpoB,KAAKujB,gBAAkB2E,IAG/BhL,EAAuBhQ,UAAUrK,QAAU,WACvCqa,EAAuBlQ,SAAW,KAClChN,KAAKmN,QAAO,GACZnN,KAAKwN,gBAAiB,GAE1B0P,EAAuB4F,mBAAqB,EAC5C5F,EAAuB8F,yBAA2B,EAClD9F,EAAuBoL,0BAA4B,EACnDpL,EAAuBkG,sBAAwB,EAC/ClG,EAAuBoG,4BAA8B,EACrDpG,EAAuBqL,6BAA+B,EACtDrL,EAAuBuG,qBAAuB,EAC9CvG,EAAuBkH,iCAAmC,EAC1DlH,EAAuB+G,8BAAgC,EAChD/G,EA/QkB,GAiR7BxP,EAAOvO,QAAU+d,G,sBC/QjB,IAAIpG,EAAiB,WACjB,SAASA,KAkCT,OA7BAA,EAAc5J,UAAU4H,OAAS,WAC7B,OAAO9U,KAAK4W,KAEhBE,EAAc5J,UAAU4J,cAAgB,WACpC9W,KAAKmX,WAAa,IAAIC,MAE1BN,EAAc5J,UAAUmK,WAAa,SAAUmR,EAAQ/nB,GACnD,IAAIgoB,GAAW,IAAIrR,KACnBpX,KAAK2Y,SAAW8P,EAAUzoB,KAAKmX,UAC/BnX,KAAKsX,WAAakR,EAClB,IAAI1oB,EAAaE,KAAKF,YAAc,GACpC,GAAIW,EACA,GAAqB,iBAAVA,EACPX,EAAkB,MAAIW,OAErB,GAAIA,aAAiBH,MACtBR,EAAkB,MAAIW,EAAMF,aAE3B,GAAqB,iBAAVE,EACZ,IAAK,IAAIc,KAAOd,EACZX,EAAWyB,GAAOd,EAAMc,IAAQd,EAAMc,GAAKoT,UAAYlU,EAAMc,GAAKoT,WAI9E3U,KAAKF,WAAaA,GAEtBgX,EAAc5J,UAAU2L,WAAa,WACjC,OAAQ,EAAI7Y,KAAKsX,YAAgBtX,KAAKsX,WAAa,KAEhDR,EAnCS,GAqCpBpJ,EAAOvO,QAAU2X,G,4BCxCjB,IAAI4R,EAAc,EAAQ,MACtBC,EAAuB,EAAQ,MAC/BC,EAAU,GAEVC,EAAqB,CACrB,GAAIH,EAAYI,cAAcC,QAC9B,GAAIL,EAAYI,cAAcC,QAC9B,GAAIL,EAAYI,cAAcE,YAC9B,GAAIN,EAAYI,cAAcG,QAC9B,GAAIP,EAAYI,cAAcxoB,MAC9B,GAAIooB,EAAYI,cAAcI,UAE9BC,EAAa,SAAUC,GACvB,IAAI7oB,EAAU6oB,EAAM1Q,KAAKnR,OACzBqhB,EAAQxhB,SAAQ,SAAU2F,GACtB,IAAIsc,EAAUR,EAAmBO,EAAM1Q,KAAK4Q,OACxC/oB,aAAmBD,MACnByM,EAAO6E,eAAe,CAAEC,UAAW,IAGnC9E,EAAOwc,WAAW,CAAEhpB,QAASA,EAASipB,SAAUH,QAmB5DlqB,EAAQ,GAfR,SAAgB2O,EAASf,GACjBe,GACuB,IAAnB8a,EAAQ7X,QACR4X,EAAqBc,QAAQC,UAAU,SAAUP,GAGrDP,EAAQthB,KAAKyF,IAIU,KADvB6b,EAAUA,EAAQxc,QAAO,SAAUud,GAAK,OAAOA,GAAK5c,MACxCgE,QACR4X,EAAqBc,QAAQG,YAAY,SAAUT,K,4BCnC/D,IAAIT,EAAc,EAAQ,MACtBC,EAAuB,EAAQ,MAC/BC,EAAU,GACVO,EAAa,SAAUC,GACvB,IAAI7oB,EAAU6oB,EAAM1Q,KAAKnY,QACzBqoB,EAAQxhB,SAAQ,SAAU2F,GAClBxM,aAAmBD,MACnByM,EAAO6E,eAAe,CAAEC,UAAWtR,KAI/BA,EAAQspB,YAAY,OAAStpB,EAAQwQ,OAAS,IAC9CxQ,EAAUA,EAAQupB,UAAU,EAAGvpB,EAAQwQ,OAAS,IAEpDhE,EAAOwc,WAAW,CAAEhpB,QAASA,EAASipB,SAAWJ,EAAM1Q,KAAKqR,OAASrB,EAAYI,cAAcG,QAAUP,EAAYI,cAAcE,mBAmB/I7pB,EAAQ,GAfR,SAAgB2O,EAASf,GACjBe,GACuB,IAAnB8a,EAAQ7X,QACR4X,EAAqBc,QAAQC,UAAU,UAAWP,GAGtDP,EAAQthB,KAAKyF,IAIU,KADvB6b,EAAUA,EAAQxc,QAAO,SAAUud,GAAK,OAAOA,GAAK5c,MACxCgE,QACR4X,EAAqBc,QAAQG,YAAY,UAAWT,K,4BC5BhElqB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIuO,EAAU,EAAQ,MACtBxO,EAAQmO,eAAiB3J,QAAQoc,IAAgD,2CACjF,IAAIiK,EAAM,oBACV,GAAI7qB,EAAQmO,cAAe,CACvB,IAAI2c,EAAa,EAAQ,MAErBC,GADoBvmB,QAAQoc,IAA2C,uCAAK,IACvCjc,MAAM,KAC3CqmB,EAAU,CACVC,OAAQH,EAAWG,OACnB5pB,QAASypB,EAAWzpB,QACpB6pB,QAASJ,EAAWI,QACpBC,YAAaL,EAAWK,YACxBC,MAAON,EAAWM,MAClBC,MAAOP,EAAWO,MAClBC,GAAIR,EAAWQ,GACfC,OAAQT,EAAWS,OACnBC,QAASV,EAAWU,SAExB,IAAK,IAAIC,KAAOT,GAC2B,IAAnCD,EAAiBW,QAAQD,KACzBT,EAAQS,GAAKzd,SACbQ,EAAQsI,KAAK+T,EAAK,iBAAmBY,EAAM,YAG/CV,EAAiBnZ,OAAS,GAC1BpD,EAAQsI,KAAK+T,EAAK,mCAAoCE,QAI1Dvc,EAAQsI,KAAK+T,EAAK,2GAQtB7qB,EAAQwQ,4BANR,SAAqCC,GAC5BzQ,EAAQmO,eAGb,uCAA6DsC,K,4BCrCjE,IAAI+Y,EAAuB,EAAQ,MAC/BC,EAAU,GACdzpB,EAAQ,GAAa,SAAUiqB,GACvBA,EAAM1Q,KAAK0Q,MAAM0B,YAGrBlC,EAAQxhB,SAAQ,SAAU2F,GACtB,IAAIge,EAAU3B,EAAM1Q,KAAKsS,aAAe5B,EAAM1Q,KAAKsS,YAAYC,cAAiB,mBAChFle,EAAOiJ,gBAAgB,CACnBlU,OAAQipB,EACRrS,KAAM0Q,EAAM1Q,KAAK0Q,MAAM0B,YACvBtoB,KAAM4mB,EAAM1Q,KAAK0Q,MAAM0B,YACvBnS,SAAUyQ,EAAM1Q,KAAK0Q,MAAMzQ,SAC3BC,QAASwQ,EAAM1Q,KAAKwS,UAEpBpS,WAAYsQ,EAAM1Q,KAAKwS,UAAY,IAAM,IACzCnS,mBAAoB,gBAmBhC5Z,EAAQ,GAfR,SAAgB2O,EAASf,GACjBe,GACuB,IAAnB8a,EAAQ7X,QACR4X,EAAqBc,QAAQC,UAAU,UAAWvqB,EAAQ,IAG9DypB,EAAQthB,KAAKyF,IAIU,KADvB6b,EAAUA,EAAQxc,QAAO,SAAUud,GAAK,OAAOA,GAAK5c,MACxCgE,QACR4X,EAAqBc,QAAQG,YAAY,UAAWzqB,EAAQ,M,4BC/BxE,IAAIwpB,EAAuB,EAAQ,MAC/BC,EAAU,GACdzpB,EAAQ,GAAa,SAAUiqB,GAC3BR,EAAQxhB,SAAQ,SAAU2F,GACtB,IAAIoe,EAAW/B,EAAM1Q,KAAK0S,OAAS,GAC/BC,EAAYF,EAASG,KAAO,gBAC5B1S,GAAWwQ,EAAM1Q,KAAKjZ,IAEtB8rB,GADaJ,EAASK,aAAe,IACPvW,QAAU,GACxC8V,EAASQ,EAAiBE,WAAaF,EAAiBE,YAAcF,EAAiBpS,MAAQ,aAAe,IAAMoS,EAAiB9S,KACzI1L,EAAOiJ,gBAAgB,CACnBlU,OAAQipB,EACRrS,KAAM2S,EACN7oB,KAAM6oB,EACN1S,SAAUyQ,EAAM1Q,KAAKC,SACrBC,QAASA,EAETE,WAAYF,EAAU,IAAM,IAC5BG,mBAAoB,cAmBhC5Z,EAAQ,GAfR,SAAgB2O,EAASf,GACjBe,GACuB,IAAnB8a,EAAQ7X,QACR4X,EAAqBc,QAAQC,UAAU,QAASvqB,EAAQ,IAG5DypB,EAAQthB,KAAKyF,IAIU,KADvB6b,EAAUA,EAAQxc,QAAO,SAAUud,GAAK,OAAOA,GAAK5c,MACxCgE,QACR4X,EAAqBc,QAAQG,YAAY,QAASzqB,EAAQ,M,4BCjCtE,IAAIwpB,EAAuB,EAAQ,MAC/BC,EAAU,GACdzpB,EAAQ,GAAa,SAAUiqB,GAC3BR,EAAQxhB,SAAQ,SAAU2F,GACtB,IAAI2e,EAAItC,EAAM1Q,KAAK0S,MACfE,EAAOI,EAAEC,YAAcD,EAAEC,WAAWC,MAASF,EAAEG,MAAQH,EAAEE,MAAQ,gBACjEhT,GAAWwQ,EAAM1Q,KAAKjY,MACtBqrB,EAAO1C,EAAM1Q,KAAKqT,SAAS5S,KAAO,IAAMiQ,EAAM1Q,KAAKqT,SAAStT,KAChE1L,EAAOiJ,gBAAgB,CACnBlU,OAAQgqB,EACRpT,KAAM4S,EACN9oB,KAAM8oB,EACN3S,SAAUyQ,EAAM1Q,KAAKC,SACrBC,QAASA,EACTE,WAAYF,EAAU,IAAM,IAC5BG,mBAAoB,iBAmBhC5Z,EAAQ,GAfR,SAAgB2O,EAASf,GACjBe,GACuB,IAAnB8a,EAAQ7X,QACR4X,EAAqBc,QAAQC,UAAU,WAAYvqB,EAAQ,IAG/DypB,EAAQthB,KAAKyF,IAIU,KADvB6b,EAAUA,EAAQxc,QAAO,SAAUud,GAAK,OAAOA,GAAK5c,MACxCgE,QACR4X,EAAqBc,QAAQG,YAAY,WAAYzqB,EAAQ,M,4BC9BzE,IAAIwpB,EAAuB,EAAQ,MAC/BC,EAAU,GACdzpB,EAAQ,GAAa,SAAUiqB,GAC3BR,EAAQxhB,SAAQ,SAAU2F,GACgB,SAAlCqc,EAAM1Q,KAAKsT,WAAWC,SAI1Blf,EAAOiJ,gBAAgB,CACnBlU,OAAQsnB,EAAM1Q,KAAKwT,QACnB1pB,KAAM4mB,EAAM1Q,KAAKsT,WAAWC,QAC5BvT,KAAM0Q,EAAM1Q,KAAKsT,WAAWC,QAC5BtT,SAAUyQ,EAAM1Q,KAAKC,SACrBC,SAAUwQ,EAAM1Q,KAAKjZ,IAErBqZ,WAAYsQ,EAAM1Q,KAAKjZ,IAAM,IAAM,IACnCsZ,mBAAoB,cAmBhC5Z,EAAQ,GAfR,SAAgB2O,EAASf,GACjBe,GACuB,IAAnB8a,EAAQ7X,QACR4X,EAAqBc,QAAQC,UAAU,QAASvqB,EAAQ,IAG5DypB,EAAQthB,KAAKyF,IAIU,KADvB6b,EAAUA,EAAQxc,QAAO,SAAUud,GAAK,OAAOA,GAAK5c,MACxCgE,QACR4X,EAAqBc,QAAQG,YAAY,QAASzqB,EAAQ,M,2BC/BtE,IAAIupB,EAAc,EAAQ,MACtBC,EAAuB,EAAQ,MAC/BC,EAAU,GACVuD,EAAsB,CACtBC,OAAQ,SAAUC,GACd,IAAIvmB,EAAM,CACNwmB,MAAO5D,EAAYI,cAAcI,SACjCqD,MAAO7D,EAAYI,cAAcI,SACjCsD,KAAM9D,EAAYI,cAAcI,SAChCzoB,MAAOioB,EAAYI,cAAcxoB,MACjCmsB,QAAS/D,EAAYI,cAAcG,QACnCyD,OAAQhE,EAAYI,cAAcE,YAClC/S,KAAMyS,EAAYI,cAAcE,YAChC2D,MAAOjE,EAAYI,cAAcC,SAErC,YAAmBvlB,IAAZsC,EAAIumB,GAAoB3D,EAAYI,cAAcE,YAAcljB,EAAIumB,IAE/EO,IAAK,SAAUP,GACX,IAAIvmB,EAAM,CACNrF,MAAOioB,EAAYI,cAAcxoB,MACjC8Q,KAAMsX,EAAYI,cAAcG,QAChChT,KAAMyS,EAAYI,cAAcE,YAChC6D,QAASnE,EAAYI,cAAcC,QACnC4D,MAAOjE,EAAYI,cAAcC,QACjC+D,MAAOpE,EAAYI,cAAcC,SAErC,YAAmBvlB,IAAZsC,EAAIumB,GAAoB3D,EAAYI,cAAcE,YAAcljB,EAAIumB,IAE/EU,QAAS,SAAUV,GACf,OAAO3D,EAAYI,cAAcE,cAGrCG,EAAa,SAAUC,GACvB,IAAI7oB,EAAU6oB,EAAM1Q,KAAKnY,QACzBqoB,EAAQxhB,SAAQ,SAAU2F,GACtB,GAAIxM,aAAmBD,MACnByM,EAAO6E,eAAe,CAClBC,UAAWtR,EACXT,WAAYspB,EAAM1Q,KAAKsU,WAG1B,CACD,IAAI3D,EAAU8C,EAAoB/C,EAAM1Q,KAAKuU,WAAW7D,EAAM1Q,KAAK4Q,OACnEvc,EAAOwc,WAAW,CACdhpB,QAASA,EACTipB,SAAUH,EACVvpB,WAAYspB,EAAM1Q,KAAKsU,YAoBvC7tB,EAAQ,GAfR,SAAgB2O,EAASf,GACjBe,GACuB,IAAnB8a,EAAQ7X,QACR4X,EAAqBc,QAAQC,UAAU,UAAWP,GAGtDP,EAAQthB,KAAKyF,IAIU,KADvB6b,EAAUA,EAAQxc,QAAO,SAAUud,GAAK,OAAOA,GAAK5c,MACxCgE,QACR4X,EAAqBc,QAAQG,YAAY,UAAWT,K,0BC3DhE,IAAI1C,EAiBAV,EAgEA/W,EArFJ/P,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ+tB,wBAA0B,uCAClC/tB,EAAQguB,6BAA+B,uCACvChuB,EAAQiuB,yBAA2B,+BAEnC,SAAW3G,GAEPA,EAAmC,gBAAI,4BAEvCA,EAAkC,eAAI,wCAEtCA,EAAgC,aAAI,sCACpCA,EAAwC,qBAAI,6CAC5CA,EAAoC,iBAAI,0CAExCA,EAAmC,gBAAI,8CACvCA,EAA2C,wBAAI,qDAC/CA,EAAuC,oBAAI,kDAE3CA,EAAkC,eAAI,wCAd1C,CAeGA,EAAoBtnB,EAAQsnB,oBAAsBtnB,EAAQsnB,kBAAoB,KAEjF,SAAWV,GAEPA,EAAkC,cAAI,+CACtCA,EAAoC,gBAAI,4BAExCA,EAAmC,eAAI,wCACvCA,EAAiC,aAAI,kDAErCA,EAAiC,aAAI,2DACrCA,EAAqC,iBAAI,qEAT7C,CAUGA,EAAqB5mB,EAAQ4mB,qBAAuB5mB,EAAQ4mB,mBAAqB,KAKpF5mB,EAAQkuB,iCAAkCre,EAAK,IACxC+W,EAAmBC,gBAAkBS,EAAkBT,eAC1DhX,EAAG+W,EAAmBqB,cAAgBX,EAAkBW,aACxDpY,EAAG+W,EAAmBsB,kBAAoBZ,EAAkBY,iBAE5DrY,EAAGyX,EAAkBC,iBAAmBD,EAAkBC,gBAC1D1X,EAAGyX,EAAkBa,sBAAwBb,EAAkBa,qBAC/DtY,EAAGyX,EAAkBqB,iBAAmBrB,EAAkBqB,gBAC1D9Y,EAAGyX,EAAkBsB,yBAA2BtB,EAAkBsB,wBAClE/Y,EAAGyX,EAAkBuB,qBAAuBvB,EAAkBuB,oBAC9DhZ,EAAGyX,EAAkB4B,gBAAkB5B,EAAkB4B,eACzDrZ,GACJ7P,EAAQmuB,uBAAyB,CAC7BC,MAAO,QACPC,UAAW,YACXC,MAAO,QACPC,OAAQ,SACRC,QAAS,UACTC,WAAY,mBACZC,aAAc,gBAElB1uB,EAAQ2uB,eAAiB,CACrBP,MAAO,yBACPC,UAAW,6BACXC,MAAO,yBACPC,OAAQ,0BACRC,QAAS,2BACTC,WAAY,8BACZC,aAAc,iCAElB1uB,EAAQ4uB,oCAAsC,CAC1CC,UAAW7uB,EAAQ2uB,eAAeP,MAClCU,cAAe9uB,EAAQ2uB,eAAeN,UACtCU,YAAa/uB,EAAQ2uB,eAAeL,MACpCU,WAAYhvB,EAAQ2uB,eAAeJ,OACnCU,YAAajvB,EAAQ2uB,eAAeH,QACpCU,qBAAsBlvB,EAAQ2uB,eAAeF,WAC7CU,iBAAkBnvB,EAAQ2uB,eAAeD,cAE7C1uB,EAAQovB,4CAA8C,CAClDP,UAAW7uB,EAAQmuB,uBAAuBC,MAC1CU,cAAe9uB,EAAQmuB,uBAAuBE,UAC9CU,YAAa/uB,EAAQmuB,uBAAuBG,MAC5CU,WAAYhvB,EAAQmuB,uBAAuBI,OAC3CU,YAAajvB,EAAQmuB,uBAAuBK,QAC5CU,qBAAsBlvB,EAAQmuB,uBAAuBM,WACrDU,iBAAkBnvB,EAAQmuB,uBAAuBO,e,4BCnFrD5uB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIovB,EAAc,EAAQ,MACtBrW,EAAiC,WACjC,SAASA,KAIT,OAFAA,EAA8BC,UAAY,OAC1CD,EAA8BI,QAAU,2BACjCJ,EALyB,GAOpChZ,EAAQgZ,8BAAgCA,EAWxChZ,EAAQsvB,yBAVR,SAAkCC,GAC9B,MAAO,eAAgBA,GACnBA,aAAkBF,EAAYR,WAC9BU,aAAkBF,EAAYP,eAC9BS,aAAkBF,EAAYN,aAC9BQ,aAAkBF,EAAYL,YAC9BO,aAAkBF,EAAYG,cAC9BD,aAAkBF,EAAYH,sBAC9BK,aAAkBF,EAAYJ,c,kCClBtC,IACQlY,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnF4X,EAAoB,SAAUvX,GAE9B,SAASuX,IACL,IAAI/c,EAAQwF,EAAOjD,KAAK9T,OAASA,KAIjC,OAHAuR,EAAMqd,IAAM,EACZrd,EAAMzR,WAAa,GACnByR,EAAMxR,aAAe,GACdwR,EAEX,OARA4E,EAAUmY,EAAkBvX,GAQrBuX,EATY,CALV,EAAQ,OAgBrB5gB,EAAOvO,QAAUmvB,G,sBClBjB5gB,EAAOvO,QAJH,c,sBCwBJuO,EAAOvO,QA3BH,WACIa,KAAK6uB,mBAAqB,qBAC1B7uB,KAAK8uB,SAAW,eAChB9uB,KAAK+uB,aAAe,mBACpB/uB,KAAKgvB,YAAc,kBACnBhvB,KAAKivB,cAAgB,oBACrBjvB,KAAKkvB,gBAAkB,sBACvBlvB,KAAKmvB,WAAa,iBAClBnvB,KAAKya,WAAa,iBAClBza,KAAKoO,YAAc,kBACnBpO,KAAKsO,cAAgB,oBACrBtO,KAAKgb,kBAAoB,wBACzBhb,KAAKovB,yBAA2B,+BAChCpvB,KAAKqvB,2BAA6B,iCAClCrvB,KAAK2a,UAAY,gBACjB3a,KAAKsvB,eAAiB,qBACtBtvB,KAAKuvB,cAAgB,oBACrBvvB,KAAK6a,OAAS,aACd7a,KAAK8a,eAAiB,qBACtB9a,KAAKwvB,UAAY,gBACjBxvB,KAAKyvB,kBAAoB,wBACzBzvB,KAAKuhB,mBAAqB,yBAC1BvhB,KAAK0vB,qBAAuB,2BAC5B1vB,KAAK2vB,iBAAmB,yB,iCCzBhC,IACQzZ,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnFkZ,EAAQ,SAAU7Y,GAElB,SAAS6Y,IACL,OAAO7Y,EAAOjD,KAAK9T,OAASA,KAEhC,OAJAmW,EAAUyZ,EAAM7Y,GAIT6Y,EALA,CALA,EAAQ,OAYnBliB,EAAOvO,QAAUywB,G,4BCtBjB,IAAIC,EAAgB,EAAQ,KAW5BniB,EAAOvO,QALH,WACIa,KAAK8vB,KAAOD,EAAcE,c,qBCJlC,IAAIF,GACJ,SAAWA,GACPA,EAAcA,EAA2B,YAAI,GAAK,cAClDA,EAAcA,EAA2B,YAAI,GAAK,cAFtD,CAGGA,IAAkBA,EAAgB,KACrCniB,EAAOvO,QAAU0wB,G,sBCAjBniB,EAAOvO,QAJH,c,sBCMJuO,EAAOvO,QAPH,WACIa,KAAK4uB,IAAM,EACX5uB,KAAKgwB,WAAa,IAClBhwB,KAAKua,KAAO,K,kCCPpB,IACQrE,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnFsX,EAAa,SAAUjX,GAEvB,SAASiX,IACL,IAAIzc,EAAQwF,EAAOjD,KAAK9T,OAASA,KAIjC,OAHAuR,EAAMqd,IAAM,EACZrd,EAAMzR,WAAa,GACnByR,EAAMxR,aAAe,GACdwR,EAEX,OARA4E,EAAU6X,EAAWjX,GAQdiX,EATK,CALH,EAAQ,OAgBrBtgB,EAAOvO,QAAU6uB,G,iCC3BjB,IACQ9X,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnFuX,EAAiB,SAAUlX,GAE3B,SAASkX,IACL,IAAI1c,EAAQwF,EAAOjD,KAAK9T,OAASA,KAKjC,OAJAuR,EAAMqd,IAAM,EACZrd,EAAM2W,WAAa,GACnB3W,EAAMzR,WAAa,GACnByR,EAAMxR,aAAe,GACdwR,EAEX,OATA4E,EAAU8X,EAAelX,GASlBkX,EAVS,CALP,EAAQ,OAiBrBvgB,EAAOvO,QAAU8uB,G,sBClBjBvgB,EAAOvO,QANH,WACIa,KAAKiwB,cAAe,EACpBjwB,KAAKkwB,YAAc,K,iCCN3B,IACQha,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnFwX,EAAe,SAAUnX,GAEzB,SAASmX,IACL,IAAI3c,EAAQwF,EAAOjD,KAAK9T,OAASA,KAGjC,OAFAuR,EAAMqd,IAAM,EACZrd,EAAMzR,WAAa,GACZyR,EAEX,OAPA4E,EAAU+X,EAAanX,GAOhBmX,EARO,CALL,EAAQ,OAerBxgB,EAAOvO,QAAU+uB,G,kCC1BjB,IACQhY,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnFyX,EAAc,SAAUpX,GAExB,SAASoX,IACL,IAAI5c,EAAQwF,EAAOjD,KAAK9T,OAASA,KAIjC,OAHAuR,EAAMqd,IAAM,EACZrd,EAAMnP,QAAU,GAChBmP,EAAMzR,WAAa,GACZyR,EAEX,OARA4E,EAAUgY,EAAYpX,GAQfoX,EATM,CALJ,EAAQ,OAgBrBzgB,EAAOvO,QAAUgvB,G,kCC3BjB,IACQjY,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnFiY,EAAgB,SAAU5X,GAE1B,SAAS4X,IACL,IAAIpd,EAAQwF,EAAOjD,KAAK9T,OAASA,KAIjC,OAHAuR,EAAMqd,IAAM,EACZrd,EAAMzR,WAAa,GACnByR,EAAMxR,aAAe,GACdwR,EAEX,OARA4E,EAAUwY,EAAc5X,GAQjB4X,EATQ,CALH,EAAQ,OAgBxBjhB,EAAOvO,QAAUwvB,G,kCC3BjB,IACQzY,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnF2X,EAAwB,SAAUtX,GAElC,SAASsX,IACL,IAAI9c,EAAQwF,EAAOjD,KAAK9T,OAASA,KAKjC,OAJAuR,EAAMqd,IAAM,EACZrd,EAAMqH,SAAU,EAChBrH,EAAMzR,WAAa,GACnByR,EAAMxR,aAAe,GACdwR,EAEX,OATA4E,EAAUkY,EAAsBtX,GASzBsX,EAVgB,CALd,EAAQ,OAiBrB3gB,EAAOvO,QAAUkvB,G,kCC5BjB,IACQnY,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KASnF0X,EAAe,SAAUrX,GAEzB,SAASqX,IACL,IAAI7c,EAAQwF,EAAOjD,KAAK9T,OAASA,KAIjC,OAHAuR,EAAMqd,IAAM,EACZrd,EAAMzR,WAAa,GACnByR,EAAMxR,aAAe,GACdwR,EAEX,OARA4E,EAAUiY,EAAarX,GAQhBqX,EATO,CALL,EAAQ,OAgBrB1gB,EAAOvO,QAAUivB,G,sBCvBjB,IAAItF,GACJ,SAAWA,GACPA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAA2B,YAAI,GAAK,cAClDA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAwB,SAAI,GAAK,WALnD,CAMGA,IAAkBA,EAAgB,KACrCpb,EAAOvO,QAAU2pB,G,sBCHjBpb,EAAOvO,QAJH,c,4BCJJF,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQmvB,iBAAmB,EAA3B,MACAnvB,EAAQgxB,KAAO,EAAf,MACAhxB,EAAQ8d,eAAiB,EAAzB,MACA9d,EAAQywB,KAAO,EAAf,KACAzwB,EAAQixB,UAAY,EAApB,MACAjxB,EAAQ0wB,cAAgB,EAAxB,KACA1wB,EAAQkxB,OAAS,EAAjB,MACAlxB,EAAQmxB,SAAW,EAAnB,MACAnxB,EAAQ6uB,UAAY,EAApB,MACA7uB,EAAQ8uB,cAAgB,EAAxB,KACA9uB,EAAQoxB,iBAAmB,EAA3B,MACApxB,EAAQ+uB,YAAc,EAAtB,KACA/uB,EAAQgvB,WAAa,EAArB,MACAhvB,EAAQwvB,aAAe,EAAvB,MACAxvB,EAAQkvB,qBAAuB,EAA/B,MACAlvB,EAAQivB,YAAc,EAAtB,MACAjvB,EAAQ2pB,cAAgB,EAAxB,MACA3pB,EAAQqxB,WAAa,EAArB,O,0BC0CA,IAAIC,EA7DJxxB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAwBtDD,EAAQuxB,wBAnBR,SAAiCC,GAC7B,OAAQA,GACJ,KAAKF,EAAclD,MACf,MAAO,YACX,KAAKkD,EAAcjD,UACf,MAAO,gBACX,KAAKiD,EAAchD,MACf,MAAO,cACX,KAAKgD,EAAc/C,OACf,MAAO,aACX,KAAK+C,EAAc9C,QACf,MAAO,cACX,KAAK8C,EAAc7C,WACf,MAAO,uBACX,KAAK6C,EAAc5C,aACf,MAAO,qBA4BnB1uB,EAAQyxB,wBAnBR,SAAiCC,GAC7B,OAAQA,GACJ,IAAK,YACD,OAAOJ,EAAclD,MACzB,IAAK,gBACD,OAAOkD,EAAcjD,UACzB,IAAK,cACD,OAAOiD,EAAchD,MACzB,IAAK,aACD,OAAOgD,EAAc/C,OACzB,IAAK,cACD,OAAO+C,EAAc9C,QACzB,IAAK,uBACD,OAAO8C,EAAc7C,WACzB,IAAK,mBACD,OAAO6C,EAAc5C,eAKjC1uB,EAAQ2xB,oBAAsB,CAC1BvD,MAAO,YACPC,UAAW,gBACXC,MAAO,cACPC,OAAQ,aACRC,QAAS,cACTC,WAAY,uBACZC,aAAc,oBAMlB,SAAW4C,GACPA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAyB,UAAI,GAAK,YAChDA,EAAcA,EAAqB,MAAI,GAAK,QAC5CA,EAAcA,EAAsB,OAAI,GAAK,SAC7CA,EAAcA,EAAuB,QAAI,GAAK,UAC9CA,EAAcA,EAA0B,WAAI,GAAK,aACjDA,EAAcA,EAA4B,aAAI,GAAK,eAPvD,CAQGA,EAAgBtxB,EAAQsxB,gBAAkBtxB,EAAQsxB,cAAgB,M,4BCnErExxB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAHtD,SAAkB2xB,GACd,IAAK,IAAIva,KAAKua,EAAQ5xB,EAAQsX,eAAeD,KAAIrX,EAAQqX,GAAKua,EAAEva,IAGpEwa,CAAS,EAAQ,Q,4BCJjB,SAASA,EAASD,GACd,IAAK,IAAIva,KAAKua,EAAQ5xB,EAAQsX,eAAeD,KAAIrX,EAAQqX,GAAKua,EAAEva,IAEpEvX,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD4xB,EAAS,EAAQ,OACjBA,EAAS,EAAQ,OACjBA,EAAS,EAAQ,Q,4BCNjB,IAAIrjB,EAAU,EAAQ,MAClBsjB,EAAW,WACX,SAASA,EAAQC,EAAYC,EAAcC,EAAoBC,GAC3DrxB,KAAKsxB,QAAU,GACftxB,KAAKuxB,UAAY,EACjBvxB,KAAKwxB,YAAcN,EACnBlxB,KAAKyxB,cAAgBN,EACrBnxB,KAAK0xB,oBAAsBN,EAC3BpxB,KAAK2xB,QAAUN,EAqFnB,OA3EAJ,EAAQ/jB,UAAU0kB,uBAAyB,SAAUxyB,EAAOyyB,EAAgBC,GACxE9xB,KAAK2xB,QAAQI,iBAAiB3yB,EAAOyyB,EAAgBC,IAKzDb,EAAQ/jB,UAAUhN,KAAO,SAAU8xB,GAC/B,IAAIzgB,EAAQvR,KAEZ,IAAIA,KAAKwxB,cAKT,GAAKQ,EAAL,CAKA,IAAIC,EAAUjyB,KAAKkyB,WAAWF,GACP,iBAAZC,IAIXjyB,KAAKsxB,QAAQhqB,KAAK2qB,GAEdjyB,KAAKsxB,QAAQvgB,QAAU/Q,KAAKyxB,gBAC5BzxB,KAAKmyB,aAAY,IAIhBnyB,KAAKoyB,gBAAkBpyB,KAAKsxB,QAAQvgB,OAAS,IAC9C/Q,KAAKoyB,eAAiBC,YAAW,WAC7B9gB,EAAM6gB,eAAiB,KACvB7gB,EAAM4gB,aAAY,KACnBnyB,KAAK0xB,8BApBR/jB,EAAQyD,KAAK,yCA0BrB6f,EAAQ/jB,UAAUilB,YAAc,SAAUG,EAAgBxtB,GACtD,IAAIytB,EAAgBvyB,KAAKsxB,QAAQvgB,OAAS,EAC1C,IAAKwhB,EAAe,CAEhB,IAAIC,EAAQxyB,KAAKsxB,QAAQjlB,KAAK,MAE1BimB,GACAtyB,KAAK2xB,QAAQc,YAAYD,GACD,mBAAb1tB,GACPA,EAAS,wBAIb9E,KAAK2xB,QAAQzxB,KAAKwyB,OAAOC,KAAOD,OAAOC,KAAKH,GAAS,IAAIE,OAAOF,GAAQ1tB,GAIhF9E,KAAKuxB,WAAa,IAAIna,KAEtBpX,KAAKsxB,QAAQvgB,OAAS,EACtB6hB,aAAa5yB,KAAKoyB,gBAClBpyB,KAAKoyB,eAAiB,KAClBG,GAAqC,mBAAbztB,GACxBA,EAAS,oBAGjBmsB,EAAQ/jB,UAAUglB,WAAa,SAAUF,GACrC,IACI,OAAOa,KAAKC,UAAUd,GAE1B,MAAOvxB,GACHkN,EAAQyD,KAAK,8BAA+B3Q,EAAOuxB,KAGpDf,EA5FG,GA8FdvjB,EAAOvO,QAAU8xB,G,4BC/FjB,IAAIne,EAAuB,EAAQ,MAC/BigB,EAAyB,EAAQ,MACjC3Q,EAAY,EAAQ,MACpBxL,EAAM,EAAQ,MACdmI,EAAU,WACV,SAASA,EAAOiU,GACZ,IAAIzhB,EAAQvR,KACZA,KAAKizB,aAAe7Q,EAAU8K,wBAC9B,IAAIgG,EAAsBvvB,QAAQoc,IAAIhB,EAAOoU,sBACzCC,EAASL,EAAuBnb,MAAMob,GACtCK,EAAQN,EAAuBnb,MAAMsb,GACrCI,GAAYF,EAAOG,oBAAsBt0B,OAAOga,KAAKma,GAAQriB,OAAS,EACpE,KACAiiB,EACNhzB,KAAKwzB,mBAAqBJ,EAAOG,oBAAsBD,GAAyCD,EAAME,oBAAsBxU,EAAO0U,yBACnIzzB,KAAK0zB,aAAeN,EAAOO,mBAAqBN,EAAMM,mBAAqB3zB,KAAKizB,cAAgB,YAChGjzB,KAAK4zB,aAAe,IACpB5zB,KAAK6zB,mBAAqB,KAC1B7zB,KAAK8zB,oBAAqB,EAC1B9zB,KAAK+zB,mBAAqB,IAC1B/zB,KAAKg0B,6BAA+B,IACpCh0B,KAAKi0B,iCAAmC,CACpC,qBACA,0BACA,qBACA,2BACA,0BACA,wBAEJj0B,KAAKk0B,iBAAmB,SAAUhf,GAAiB,OAAO3D,EAAM2D,cAAgBA,GAChFlV,KAAKm0B,aAAexwB,QAAQoc,IAAIhB,EAAOqV,sBAAmB5wB,EAC1DxD,KAAKq0B,cAAgB1wB,QAAQoc,IAAIhB,EAAOuV,uBAAoB9wB,EAC5DxD,KAAKu0B,eAAY/wB,EACjBxD,KAAKw0B,gBAAahxB,EAClBxD,KAAKy0B,qBAAuBrB,EAAOO,mBAAqBN,EAAMM,mBAAqBhwB,QAAQoc,IAAIhB,EAAO2V,2BAA6B10B,KAAKizB,aACxIjzB,KAAK20B,gBAAkBvB,EAAOwB,cAAgBvB,EAAMuB,cAAgBjxB,QAAQoc,IAAIhB,EAAO8V,qBAAuBzS,EAAUgL,yBAEpHptB,KAAK20B,gBAAgBG,MAAM,kBAC3B90B,KAAK20B,gBAAkB/d,EAAIgB,MAAM5X,KAAK20B,iBAAiBxb,MAmD/D,OAhDAla,OAAOC,eAAe6f,EAAO7R,UAAW,uBAAwB,CAC5De,IAAK,WACD,OAAOjO,KAAK+0B,uBAEhBC,IAAK,SAAUC,GACXniB,EAAqBoiB,yBAAyBl1B,KAAMA,KAAKk0B,kBACzDl0B,KAAK+0B,sBAAwBE,EAC7Bj1B,KAAKkV,cAAgBpC,EAAqB0F,oBAC1C1F,EAAqBqiB,mBAAmBn1B,KAAMA,KAAKk0B,mBAEvDkB,YAAY,EACZC,cAAc,IAElBp2B,OAAOC,eAAe6f,EAAO7R,UAAW,iBAAkB,CACtDe,IAAK,WACD,OAAOjO,KAAK20B,iBAEhBK,IAAK,SAAU7b,GACXnZ,KAAK20B,gBAAkBxb,GAE3Bic,YAAY,EACZC,cAAc,IAElBtW,EAAO0U,uBAAyB,WAE5B,IAAI6B,EAAO3xB,QAAQoc,IAAIhB,EAAOwW,WACvB5xB,QAAQoc,IAAIhB,EAAOyW,gBAAkBzW,EAAOwW,WAC5C5xB,QAAQoc,IAAIhB,EAAO0W,kBACnB9xB,QAAQoc,IAAIhB,EAAOyW,gBAAkBzW,EAAO0W,iBACnD,IAAKH,GAAgB,IAARA,EACT,MAAM,IAAIh1B,MAAM,iLAEpB,OAAOg1B,GAGXvW,EAAOyW,gBAAkB,cAEzBzW,EAAOwW,SAAW,iCAClBxW,EAAO0W,gBAAkB,kCACzB1W,EAAO2V,yBAA2B,qCAClC3V,EAAO8V,mBAAqB,8BAE5B9V,EAAOoU,qBAAuB,wCAE9BpU,EAAOmB,2BAA6B,+CACpCnB,EAAOiB,4BAA8B,oDACrCjB,EAAOqV,eAAiB,aACxBrV,EAAOuV,gBAAkB,cAClBvV,EArFE,GAuFbrR,EAAOvO,QAAU4f,G,4BC3FjB,IAAIqD,EAAY,EAAQ,MACpB2Q,EAA0B,WAC1B,SAASA,KAgCT,OA9BAA,EAAuBnb,MAAQ,SAAU8d,GACrC,IAAKA,EACD,MAAO,GAEX,IACInuB,EADUmuB,EAAiB5xB,MAAMivB,EAAuB4C,mBACvCC,QAAO,SAAUC,EAAQC,GAC1C,IAAIC,EAAUD,EAAGhyB,MAAMivB,EAAuBiD,4BAC9C,GAAuB,IAAnBD,EAAQhlB,OAAc,CACtB,IAAIxP,EAAMw0B,EAAQ,GAAGE,cACjB72B,EAAQ22B,EAAQ,GACpBF,EAAOt0B,GAAOnC,EAElB,OAAOy2B,IACR,IACH,GAAI52B,OAAOga,KAAK1R,GAAQwJ,OAAS,EAAG,CAEhC,GAAIxJ,EAAO2uB,eAAgB,CAEvB,IAAIC,EAAiB5uB,EAAO6uB,SAAW7uB,EAAO6uB,SAAW,IAAM,GAC/D7uB,EAAOosB,kBAAoBpsB,EAAOosB,mBAAsB,WAAawC,EAAiB,MAAQ5uB,EAAO2uB,eACrG3uB,EAAOqtB,aAAertB,EAAOqtB,cAAiB,WAAauB,EAAiB,QAAU5uB,EAAO2uB,eAGjG3uB,EAAOosB,kBAAoBpsB,EAAOosB,mBAAqBvR,EAAU8K,wBACjE3lB,EAAOqtB,aAAertB,EAAOqtB,cAAgBxS,EAAU+K,6BAE3D,OAAO5lB,GAEXwrB,EAAuB4C,kBAAoB,IAC3C5C,EAAuBiD,2BAA6B,IAC7CjD,EAjCkB,GAmC7BrlB,EAAOvO,QAAU4zB,G,4BCpCjB,IAAI5Q,EAAK,EAAQ,MACbnf,EAAK,EAAQ,MACb4B,EAAO,EAAQ,MACfiS,EAAY,EAAQ,MACpBlJ,EAAU,EAAQ,MAClBqR,EAAW,WACX,SAASA,EAAQqX,GACbr2B,KAAKiZ,KAAO,IAAIpC,EAAUoG,eAC1Bjd,KAAKua,KAAO,GACZva,KAAKs2B,0BACLt2B,KAAKu2B,qBACLv2B,KAAKw2B,uBAgDT,OA9CAxX,EAAQ9R,UAAUopB,wBAA0B,SAAUD,GAGlD,GADAA,EAAkBA,GAAmBzxB,EAAK6xB,QAAQC,UAAW,6BACxD1X,EAAQ2X,WAAWN,GAAkB,CACtCrX,EAAQ2X,WAAWN,GAAmB,UACtC,IACI,IAAIO,EAAc/D,KAAKjb,MAAM5U,EAAG6zB,aAAaR,EAAiB,SAC1DO,GAA8C,iBAAxBA,EAAYp3B,UAClCwf,EAAQ2X,WAAWN,GAAmBO,EAAYp3B,SAG1D,MAAOqS,GACHlE,EAAQsI,KAAK,+BAAgCpE,IAGrD7R,KAAKua,KAAKva,KAAKiZ,KAAK4V,oBAAsB7P,EAAQ2X,WAAWN,IAEjErX,EAAQ9R,UAAUqpB,mBAAqB,WACnCv2B,KAAKua,KAAKva,KAAKiZ,KAAK6V,UAAY,GAChC9uB,KAAKua,KAAKva,KAAKiZ,KAAKwW,mBAAqBtN,GAAMA,EAAG7J,WAClDtY,KAAKua,KAAKva,KAAKiZ,KAAKiW,iBAAmB/M,GAAOA,EAAGwO,OAAS,IAAMxO,EAAG2U,UACnE92B,KAAKua,KAAKva,KAAKiZ,KAAKuW,WAAaxQ,EAAQ+X,gBAEzC/2B,KAAKua,KAAK,4BAA8B4H,GAAMA,EAAG6U,OACjDh3B,KAAKua,KAAK,wBAA0B4H,GAAMA,EAAG8U,YAEjDjY,EAAQ9R,UAAUspB,qBAAuB,WAErC,IAAIH,EAAkBzxB,EAAK6xB,QAAQC,UAAW,sBAC9C,IAAK1X,EAAQwC,WAAY,CACrBxC,EAAQwC,WAAa,UACrB,IACI,IAAIoV,EAAc/D,KAAKjb,MAAM5U,EAAG6zB,aAAaR,EAAiB,SAC1DO,GAA8C,iBAAxBA,EAAYp3B,UAClCwf,EAAQwC,WAAaoV,EAAYp3B,SAGzC,MAAOqS,GACHlE,EAAQsI,KAAK,+BAAgCpE,IAGrD7R,KAAKua,KAAKva,KAAKiZ,KAAKsI,oBAAsB,QAAUvC,EAAQwC,YAEhExC,EAAQ+X,gBAAkB,MAC1B/X,EAAQ2X,WAAa,GACrB3X,EAAQwC,WAAa,KACdxC,EAtDG,GAwDdtR,EAAOvO,QAAU6f,G,4BC7DjB,IAAItM,EAAO,EAAQ,MACf/E,EAAU,EAAQ,MAClBmF,EAAwB,WACxB,SAASA,KAiJT,OA/IAA,EAAqBqiB,mBAAqB,SAAUlgB,EAAQnQ,GAIxD,IAAIoyB,EAAiBjiB,EAAOwf,qBAAuB,iBAAmBxf,EAAOue,mBAAqB,SAClG,GAAI1gB,EAAqBqkB,iBAAiB1gB,eAAeygB,GACrDpyB,EAASgO,EAAqBqkB,iBAAiBD,SAG9C,GAAIpkB,EAAqBskB,eAAeF,GACzCpkB,EAAqBskB,eAAeF,GAAgB5vB,KAAKxC,OADxD,CAILgO,EAAqBskB,eAAeF,GAAkB,CAACpyB,GACvD,IAAIuyB,EAAa,WACb,GAAKvkB,EAAqBskB,eAAeF,GAAzC,CAIA,IAAIlgB,EAAiB,CACjBC,OAAQ,MAGRqgB,kCAAkC,GAEtC3pB,EAAQsI,KAAKnD,EAAqBkX,IAAKhT,GACvC,IAAIugB,EAAM7kB,EAAK8kB,YAAYviB,EAAQiiB,EAAgBlgB,GAAgB,SAAUygB,GACzE,GAAuB,MAAnBA,EAAIngB,WAAoB,CAExB,IAAIogB,EAAU,GACdD,EAAIE,YAAY,SAChBF,EAAIrsB,GAAG,QAAQ,SAAUsN,GACrBgf,GAAWhf,KAEf+e,EAAIrsB,GAAG,OAAO,WACVuC,EAAQsI,KAAKnD,EAAqBkX,IAAK0N,GACvC,IAAInwB,EAASuL,EAAqB0F,oBAAsBkf,EACxD5kB,EAAqBqkB,iBAAiBD,GAAkB3vB,EACpDuL,EAAqBskB,eAAeF,IACpCpkB,EAAqBskB,eAAeF,GAAgB9vB,SAAQ,SAAUwI,GAAM,OAAOA,EAAGrI,aAEnFuL,EAAqBskB,eAAeF,WAG1CO,EAAIngB,YAAc,KAAOmgB,EAAIngB,WAAa,KAE/CxE,EAAqBqkB,iBAAiBD,QAAkB1zB,SACjDsP,EAAqBskB,eAAeF,IAI3C7E,WAAWgF,EAAYpiB,EAAO+e,iCAGlCuD,IACAA,EAAInsB,GAAG,SAAS,SAAU3K,GAGtBkN,EAAQyD,KAAK0B,EAAqBkX,IAAKvpB,MAE3C82B,EAAIvjB,SAGZqe,WAAWgF,EAAY,KAE3BvkB,EAAqBoiB,yBAA2B,SAAUjgB,EAAQnQ,GAC9D,IAAIoyB,EAAiBjiB,EAAOwf,qBAAuB,iBAAmBxf,EAAOue,mBAAqB,SAC9F4D,EAAiBtkB,EAAqBskB,eAAeF,GACrDE,IACAtkB,EAAqBskB,eAAeF,GAAkBE,EAAehrB,QAAO,SAAUwD,GAAM,OAAOA,GAAM9K,KACvC,GAA9DgO,EAAqBskB,eAAeF,GAAgBnmB,eAC7C+B,EAAqBskB,eAAeF,KAQvDpkB,EAAqB+J,kBAAoB,SAAUxO,GAC/C,GAAIA,EAAU,CAE4B,OADtCA,EAA0B,KAAfA,EAAS,GAAYA,EAAW,IAAMA,GACpCA,EAAS0C,OAAS,KAC3B1C,GAAY,KAEhB,IAAIupB,GAAU9kB,EAAqB+kB,iBAAiBljB,SAAS,IAC7D,OAAO7B,EAAqBglB,aAAazpB,EAAUupB,EAAQ,KAG3D,OAAO9kB,EAAqBilB,kBAQpCjlB,EAAqBgK,UAAY,SAAUnO,GACvC,IAAIqpB,EAAWrpB,EAAGkc,QAAQ,KACtBmN,EAAW,IACXA,EAAWrpB,EAAGoC,QAElB,IAAIknB,EAAuB,MAAVtpB,EAAG,GAAa,EAAI,EACrC,OAAOA,EAAGmb,UAAUmO,EAAYD,IAEpCllB,EAAqBilB,eAAiB,WAClC,MAAO,IAAMrlB,EAAKwlB,aAAe,KAErCplB,EAAqBglB,aAAe,SAAUzpB,EAAUupB,EAAQO,GAC5D,GAAI9pB,EAAS0C,OAAS6mB,EAAO7mB,OAAS+B,EAAqBslB,mBACvD,OAAO/pB,EAAWupB,EAASO,EAK/B,IAAIE,EAAevlB,EAAqBslB,mBAAqB,EAC7D,GAAI/pB,EAAS0C,OAASsnB,EAClB,KAAOA,EAAe,IAAKA,EAAc,CACrC,IAAI1O,EAAItb,EAASgqB,EAAe,GAChC,GAAU,MAAN1O,GAAmB,MAANA,EACb,MAIZ,GAAI0O,GAAgB,EAEhB,OAAOvlB,EAAqBilB,iBAGhC,IADAH,EAASllB,EAAK4lB,YAAY3jB,SAAS,IAC5BijB,EAAO7mB,OAAS,GACnB6mB,EAAS,IAAMA,EAEnB,OAAOvpB,EAASyb,UAAU,EAAGuO,GAAgBT,EAAS,KAE1D9kB,EAAqBkX,IAAM,uBAC3BlX,EAAqB0F,oBAAsB,UAC3C1F,EAAqB4B,YAAa,EAGlC5B,EAAqBskB,eAAiB,GACtCtkB,EAAqBqkB,iBAAmB,GACxCrkB,EAAqBslB,mBAAqB,KAC1CtlB,EAAqB+kB,cAAgBnlB,EAAK4lB,YACnCxlB,EAlJgB,GAoJ3BpF,EAAOvO,QAAU2T,G,4BCtJjB,IAAI+D,EAAY,EAAQ,MACpBnE,EAAO,EAAQ,MACfG,EAA8B,EAAQ,KAItC0lB,EAAmB,WACnB,SAASA,KA+QT,OArQAA,EAAgBC,eAAiB,SAAUvkB,EAAWwkB,EAAen5B,EAAkByO,EAASkH,GAC5F,IAAIyD,EAAO,KACX,OAAQ+f,GACJ,KAAK5hB,EAAU4Z,cAAchD,MACzB/U,EAAO6f,EAAgBG,gBAAgBzkB,GACvC,MACJ,KAAK4C,EAAU4Z,cAAc7C,WACzBlV,EAAO6f,EAAgBI,qBAAqB1kB,GAC5C,MACJ,KAAK4C,EAAU4Z,cAAclD,MACzB7U,EAAO6f,EAAgBK,gBAAgB3kB,GACvC,MACJ,KAAK4C,EAAU4Z,cAAcjD,UACzB9U,EAAO6f,EAAgBM,oBAAoB5kB,GAC3C,MACJ,KAAK4C,EAAU4Z,cAAc9C,QACzBjV,EAAO6f,EAAgBO,kBAAkB7kB,GACzC,MACJ,KAAK4C,EAAU4Z,cAAc/C,OACzBhV,EAAO6f,EAAgBQ,iBAAiB9kB,GACxC,MACJ,KAAK4C,EAAU4Z,cAAc5C,aACzBnV,EAAO6f,EAAgBS,uBAAuB/kB,GAGtD,GAAI3U,GAAoBuX,EAAU4X,yBAAyB/V,EAAKugB,UAAW,CACvE,GAAIvgB,GAAQA,EAAKugB,SAEb,GAAKvgB,EAAKugB,SAASn5B,WAKf,IAAK,IAAI0C,KAAQlD,EAERoZ,EAAKugB,SAASn5B,WAAW0C,KAC1BkW,EAAKugB,SAASn5B,WAAW0C,GAAQlD,EAAiBkD,SAP1DkW,EAAKugB,SAASn5B,WAAaR,EAanCoZ,EAAKugB,SAASn5B,WAAa4S,EAAKwmB,kBAAkBxgB,EAAKugB,SAASn5B,YAEpE,IAAIw1B,EAAOrgB,GAASA,EAAOue,oBAA2B,GAClDxB,EAAW,IAAInb,EAAUyZ,SAiB7B,OAhBA0B,EAAStZ,KAAOA,EAChBsZ,EAASsD,KAAOA,EAEhBtD,EAASxvB,KACL,iCACI8yB,EAAK6D,QAAQ,KAAM,IACnB,IACAzgB,EAAKmY,SAAS1U,OAAO,EAAGzD,EAAKmY,SAAS9f,OAAS,GACvDihB,EAASzX,KAAOva,KAAKo5B,QAAQrrB,EAASkG,EAAUyK,cAChDsT,EAAS/O,MAAO,IAAK7L,MAAQiiB,cAC7BrH,EAASpD,IAAM,EACfoD,EAAShC,WAAa/a,EAASA,EAAO8e,mBAAqB,IAEvD0E,IAAkB5hB,EAAU4Z,cAAc/C,SAC1CsE,EAAShC,WAAa,KAEnBgC,GAEXuG,EAAgBG,gBAAkB,SAAUzkB,GACxC,IAAIqlB,EAAQ,IAAIziB,EAAUqX,YAC1BoL,EAAM/4B,QAAU0T,EAAU1T,QAC1B+4B,EAAMx5B,WAAamU,EAAUnU,WACxBy5B,MAAMtlB,EAAUuV,UAIjB8P,EAAME,cAAgB3iB,EAAUiS,cAAcE,YAH9CsQ,EAAME,cAAgBvlB,EAAUuV,SAKpC,IAAI9Q,EAAO,IAAI7B,EAAU+Y,KAGzB,OAFAlX,EAAKmY,SAAWha,EAAU6Z,wBAAwB7Z,EAAU4Z,cAAchD,OAC1E/U,EAAKugB,SAAWK,EACT5gB,GAEX6f,EAAgBI,qBAAuB,SAAU1kB,GAC7C,IAAIwlB,EAAmB,IAAI5iB,EAAUwX,qBACP,iBAAnBpa,EAAUzR,OACjBi3B,EAAiBj3B,KAAOyR,EAAUzR,KAAKuO,OAAS,KAAOkD,EAAUzR,KAAKk3B,MAAM,EAAG,MAAQ,MAAQzlB,EAAUzR,MAE7Gi3B,EAAiB/gB,KAAOzE,EAAUyE,KAClC+gB,EAAiB33B,OAASmS,EAAUnS,OACpC23B,EAAiB9gB,SAAWjG,EAAKinB,aAAa1lB,EAAU0E,UACxD8gB,EAAiB7gB,QAAU3E,EAAU2E,QACrC6gB,EAAiB9I,KAAO1c,EAAU8E,mBAClC0gB,EAAiB35B,WAAamU,EAAUnU,WACxC25B,EAAiB3gB,WAAc7E,EAAU6E,WAAa7E,EAAU6E,WAAa,GAAK,GAC9E7E,EAAUtF,GACV8qB,EAAiB9qB,GAAKsF,EAAUtF,GAGhC8qB,EAAiB9qB,GAAK+D,EAAKwlB,aAE/B,IAAIxf,EAAO,IAAI7B,EAAU+Y,KAGzB,OAFAlX,EAAKmY,SAAWha,EAAU6Z,wBAAwB7Z,EAAU4Z,cAAc7C,YAC1ElV,EAAKugB,SAAWQ,EACT/gB,GAEX6f,EAAgBK,gBAAkB,SAAU3kB,GACxC,IAAImV,EAAQ,IAAIvS,EAAUmX,UAC1B5E,EAAM5mB,KAAOyR,EAAUzR,KACvB4mB,EAAMtpB,WAAamU,EAAUnU,WAC7BspB,EAAMrpB,aAAekU,EAAUlU,aAC/B,IAAI2Y,EAAO,IAAI7B,EAAU+Y,KAGzB,OAFAlX,EAAKmY,SAAWha,EAAU6Z,wBAAwB7Z,EAAU4Z,cAAclD,OAC1E7U,EAAKugB,SAAW7P,EACT1Q,GAEX6f,EAAgBM,oBAAsB,SAAU5kB,GAC5C,IAAIpC,EAAY,IAAIgF,EAAUoX,cAC9Bpc,EAAU/R,WAAamU,EAAUnU,WAC5By5B,MAAMtlB,EAAUuV,UAIjB3X,EAAU2nB,cAAgB3iB,EAAUiS,cAAcxoB,MAHlDuR,EAAU2nB,cAAgBvlB,EAAUuV,SAKxC3X,EAAU9R,aAAekU,EAAUlU,aACnC8R,EAAUqW,WAAa,GACvB,IAAI0R,EAAQ3lB,EAAUpC,UAAiB,MACnCgoB,EAAmB,IAAIhjB,EAAU0Z,iBACrCsJ,EAAiBt5B,QAAU0T,EAAUpC,UAAUtR,QAC/Cs5B,EAAiBC,SAAW7lB,EAAUpC,UAAUrP,KAChDq3B,EAAiB3J,YAAclwB,KAAK+5B,WAAWH,GAC/CC,EAAiB5J,aAAevd,EAAKsnB,QAAQH,EAAiB3J,cAAgB2J,EAAiB3J,YAAYnf,OAAS,EACpHc,EAAUqW,WAAW5gB,KAAKuyB,GAC1B,IAAInhB,EAAO,IAAI7B,EAAU+Y,KAGzB,OAFAlX,EAAKmY,SAAWha,EAAU6Z,wBAAwB7Z,EAAU4Z,cAAcjD,WAC1E9U,EAAKugB,SAAWpnB,EACT6G,GAEX6f,EAAgBO,kBAAoB,SAAU7kB,GAC1C,IAAIgmB,EAAc,IAAIpjB,EAAUuX,YAC5Bna,EAAUtF,GACVsrB,EAAYtrB,GAAKsF,EAAUtF,GAG3BsrB,EAAYtrB,GAAK+D,EAAKwlB,aAE1B+B,EAAYz3B,KAAOyR,EAAUzR,KAC7By3B,EAAYrjB,IAAM3C,EAAU2C,IAC5BqjB,EAAYl4B,OAASkS,EAAUlS,OAC/Bk4B,EAAYthB,SAAWjG,EAAKinB,aAAa1lB,EAAU0E,UACnDshB,EAAYC,aAAgBjmB,EAAU6E,WAAa7E,EAAU6E,WAAa,GAAK,GAC/EmhB,EAAYrhB,QAAU3E,EAAU2E,QAChCqhB,EAAYn6B,WAAamU,EAAUnU,WACnC,IAAI4Y,EAAO,IAAI7B,EAAU+Y,KAGzB,OAFAlX,EAAKmY,SAAWha,EAAU6Z,wBAAwB7Z,EAAU4Z,cAAc9C,SAC1EjV,EAAKugB,SAAWgB,EACTvhB,GAEX6f,EAAgBQ,iBAAmB,SAAU9kB,GACzC,IAAI7R,EAAU,IAAIyU,EAAUsX,WAC5B/rB,EAAQA,QAAU,GAClB,IAAI+3B,EAAS,IAAItjB,EAAUuZ,UAC3B+J,EAAOlZ,MAASsY,MAAMtlB,EAAUgN,OAA2B,EAAlBhN,EAAUgN,MACnDkZ,EAAOrK,KAAOjZ,EAAUgZ,cAAcuK,YACtCD,EAAO9Y,IAAOkY,MAAMtlB,EAAUoN,KAAuBpN,EAAU7U,MAA1B6U,EAAUoN,IAC/C8Y,EAAO7Y,IAAOiY,MAAMtlB,EAAUqN,KAAuBrN,EAAU7U,MAA1B6U,EAAUqN,IAC/C6Y,EAAO33B,KAAOyR,EAAUzR,KACxB23B,EAAOtZ,OAAU0Y,MAAMtlB,EAAU4M,QAA6B,EAAnB5M,EAAU4M,OACrDsZ,EAAO/6B,MAAQ6U,EAAU7U,MACzBgD,EAAQA,QAAQkF,KAAK6yB,GACrB/3B,EAAQtC,WAAamU,EAAUnU,WAC/B,IAAI4Y,EAAO,IAAI7B,EAAU+Y,KAGzB,OAFAlX,EAAKmY,SAAWha,EAAU6Z,wBAAwB7Z,EAAU4Z,cAAc/C,QAC1EhV,EAAKugB,SAAW72B,EACTsW,GAEX6f,EAAgBS,uBAAyB,SAAU/kB,GAC/C,IAAIomB,EAAmB,IAAIxjB,EAAUyX,iBACjCra,EAAUtF,GACV0rB,EAAiB1rB,GAAKsF,EAAUtF,GAGhC0rB,EAAiB1rB,GAAK+D,EAAKwlB,aAE/BmC,EAAiB73B,KAAOyR,EAAUzR,KAClC63B,EAAiB1hB,SAAWjG,EAAKinB,aAAa1lB,EAAU0E,UACxD0hB,EAAiBzhB,QAAU3E,EAAU2E,QACrCyhB,EAAiBC,YAAcrmB,EAAUqmB,YACzCD,EAAiB95B,QAAU0T,EAAU1T,QACrC85B,EAAiBt6B,aAAekU,EAAUlU,aAC1Cs6B,EAAiBv6B,WAAamU,EAAUnU,WACxC,IAAI4Y,EAAO,IAAI7B,EAAU+Y,KAGzB,OAFAlX,EAAKmY,SAAWha,EAAU6Z,wBAAwB7Z,EAAU4Z,cAAc5C,cAC1EnV,EAAKugB,SAAWoB,EACT3hB,GAEX6f,EAAgBa,QAAU,SAAUrrB,EAAS2Q,GACzC,IAAIf,EAAqB9K,EAA4BjF,0BAA0BC,oBAG3E2M,EAAU,GACd,GAAIzM,GAAWA,EAAQwM,KACnB,IAAK,IAAIhZ,KAAOwM,EAAQwM,KACpBC,EAAQjZ,GAAOwM,EAAQwM,KAAKhZ,GAGpC,GAAImd,EACA,IAAK,IAAInd,KAAOmd,EACZlE,EAAQjZ,GAAOmd,EAAand,GASpC,OALIoc,IACAnD,EAAQzM,EAAQkL,KAAK7K,aAAeoM,EAAQzM,EAAQkL,KAAK7K,cAAgBuP,EAAmBjP,UAAUC,GACtG6L,EAAQzM,EAAQkL,KAAK3K,eAAiBkM,EAAQzM,EAAQkL,KAAK3K,gBAAkBqP,EAAmBjP,UAAUlM,KAC1GgY,EAAQzM,EAAQkL,KAAK+B,mBAAqBR,EAAQzM,EAAQkL,KAAK+B,oBAAsB2C,EAAmBjP,UAAUL,UAE/GmM,GAEX+d,EAAgBwB,WAAa,SAAUH,GACnC,IAAI1J,OAAc1sB,EAClB,GAAqB,iBAAVo2B,EAAoB,CAC3B,IAAIW,EAASX,EAAM91B,MAAM,MACzBosB,EAAc,GAGd,IAFA,IAAI5G,EAAQ,EACRkR,EAAmB,EACd1pB,EAAI,EAAGA,GAAKypB,EAAOxpB,OAAQD,IAAK,CACrC,IAAI2pB,EAAQF,EAAOzpB,GACnB,GAAI4pB,EAAYC,MAAMxpB,KAAKspB,GAAQ,CAC/B,IAAIG,EAAc,IAAIF,EAAYH,EAAOzpB,GAAIwY,KAC7CkR,GAAoBI,EAAYC,YAChC3K,EAAY5oB,KAAKszB,IAMzB,GAAIJ,EADgC,MAOhC,IALA,IAAIM,EAAO,EACPC,EAAQ7K,EAAYnf,OAAS,EAC7BiqB,EAAO,EACPC,EAAeH,EACfI,EAAgBH,EACbD,EAAOC,GAAO,CAKjB,IADAC,GAFY9K,EAAY4K,GAAMD,YAClB3K,EAAY6K,GAAOF,aAVH,MAYc,CAEtC,IAAIM,EAAUD,EAAgBD,EAAe,EAC7C/K,EAAYkL,OAAOH,EAAcE,GACjC,MAGJF,EAAeH,EACfI,EAAgBH,EAChBD,IACAC,KAIZ,OAAO7K,GAEJqI,EAhRW,GAkRlBmC,EAAe,WACf,SAASA,EAAYD,EAAOnR,GACxBtpB,KAAK66B,YAAc,EACnB76B,KAAKspB,MAAQA,EACbtpB,KAAKiX,OAAS,cACdjX,KAAKq7B,SAAW3oB,EAAK4oB,KAAKb,GAC1B,IAAIc,EAAUd,EAAM3F,MAAM4F,EAAYC,OAClCY,GAAWA,EAAQxqB,QAAU,IAC7B/Q,KAAKiX,OAASvE,EAAK4oB,KAAKC,EAAQ,KAAOv7B,KAAKiX,OAC5CjX,KAAKw7B,SAAW9oB,EAAK4oB,KAAKC,EAAQ,KAAO,gBACzCv7B,KAAKy7B,KAAOz3B,SAASu3B,EAAQ,KAAO,GAExCv7B,KAAK66B,aAAe76B,KAAKiX,OAAOlG,OAChC/Q,KAAK66B,aAAe76B,KAAKw7B,SAASzqB,OAClC/Q,KAAK66B,aAAe76B,KAAKq7B,SAAStqB,OAElC/Q,KAAK66B,aAAeH,EAAYgB,SAChC17B,KAAK66B,aAAe76B,KAAKspB,MAAM3U,WAAW5D,OAC1C/Q,KAAK66B,aAAe76B,KAAKy7B,KAAK9mB,WAAW5D,OAM7C,OAFA2pB,EAAYC,MAAQ,mEACpBD,EAAYgB,SAAW,GAChBhB,EAxBO,GA0BlBhtB,EAAOvO,QAAUo5B,G,sBClTjB,IAAI5qB,EAAW,WACX,SAASA,KAwBT,OAtBAA,EAAQsI,KAAO,SAAU1V,GAErB,IADA,IAAIo7B,EAAiB,GACZ9nB,EAAK,EAAGA,EAAKtH,UAAUwE,OAAQ8C,IACpC8nB,EAAe9nB,EAAK,GAAKtH,UAAUsH,GAEnClG,EAAQiuB,aACRp7B,QAAQyV,KAAKtI,EAAQqc,IAAMzpB,EAASo7B,IAG5ChuB,EAAQyD,KAAO,SAAU7Q,GAErB,IADA,IAAIo7B,EAAiB,GACZ9nB,EAAK,EAAGA,EAAKtH,UAAUwE,OAAQ8C,IACpC8nB,EAAe9nB,EAAK,GAAKtH,UAAUsH,GAElClG,EAAQkuB,iBACTr7B,QAAQ4Q,KAAKzD,EAAQqc,IAAMzpB,EAASo7B,IAG5ChuB,EAAQiuB,aAAc,EACtBjuB,EAAQkuB,iBAAkB,EAC1BluB,EAAQmuB,eAAgB,EACxBnuB,EAAQqc,IAAM,uBACPrc,EAzBG,GA2BdD,EAAOvO,QAAUwO,G,kCC3BjB,IACQuI,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KAGnFqlB,EAAkB,EAAQ,MAC1BC,EAAwB,EAAQ,KAChCC,EAAwB,EAAQ,MAChCtuB,EAAU,EAAQ,MAOlBuuB,EAAc,SAAUnlB,GAExB,SAASmlB,IACL,OAAkB,OAAXnlB,GAAmBA,EAAOhD,MAAM/T,KAAMuM,YAAcvM,KA6C/D,OA/CAmW,EAAU+lB,EAAYnlB,GAUtBmlB,EAAWhvB,UAAUivB,yBAA2B,SAAUloB,GAClDA,GAAaA,EAAUb,SAAWa,EAAU0B,UAAY1B,EAAU0E,SAClEqjB,EAAsB3d,iBAAiBre,KAAMiU,GAG7CtG,EAAQyD,KAAK,qHAQrB8qB,EAAWhvB,UAAUkvB,qBAAuB,SAAUnoB,IAC9CA,EAAU0E,UAAY1E,EAAUxT,QAChCkN,EAAQyD,KAAK,8IAEb6C,GAAaA,EAAUb,SAAWa,EAAU0B,SAC5CqmB,EAAsBroB,aAAa3T,KAAMiU,GAGzCtG,EAAQyD,KAAK,uGAQrB8qB,EAAWhvB,UAAUmvB,wBAA0B,SAAUpoB,GACjDA,GAAaA,EAAUb,QACvB6oB,EAAsBtoB,aAAa3T,KAAMiU,GAGzCtG,EAAQyD,KAAK,gGAGd8qB,EAhDM,CAiDfH,GACFruB,EAAOvO,QAAU+8B,G,kCCtEjB,IAAIvd,EAAY3e,MAAQA,KAAK2e,UAAa1f,OAAOgB,QAAU,SAAS2e,GAChE,IAAK,IAAIC,EAAG/N,EAAI,EAAGgO,EAAIvS,UAAUwE,OAAQD,EAAIgO,EAAGhO,IAE5C,IAAK,IAAI0F,KADTqI,EAAItS,UAAUuE,GACO7R,OAAOiO,UAAUuJ,eAAe3C,KAAK+K,EAAGrI,KACzDoI,EAAEpI,GAAKqI,EAAErI,IAEjB,OAAOoI,GAEPuD,EAAK,EAAQ,MACbtL,EAAY,EAAQ,MACpBuL,EAAY,EAAQ,MACpB1P,EAAO,EAAQ,MACf/E,EAAU,EAAQ,MAClB2uB,EAAW5pB,EAAKwlB,aAChBqE,EAA6B,WAC7B,SAASA,KA6IT,OA3IAA,EAA0BC,yBAA2B,SAAUp6B,EAASq6B,EAAWxnB,EAAQlH,GACvF,IAAI2uB,EAAeva,GAA6B,mBAAhBA,EAAG7J,UAC5B6J,EAAG7J,YAAe,UACrBqkB,EAAY5uB,EAAQwM,MACjBxM,EAAQkL,MACRlL,EAAQkL,KAAKwW,mBACb1hB,EAAQwM,KAAKxM,EAAQkL,KAAKwW,oBAAuBiN,EAYxD,MAXe,CACXE,UAAWH,EAAU1rB,OAAS,EAAI0rB,EAAY,KAC9CI,mBAAoB5nB,EAAOue,oBAAsB,GACjDsJ,QAAS16B,EAAQ2O,OAAS,EAAI3O,EAAU,KACxC26B,iBAAkB,EAClBC,UAAW,SAAW5lB,KAAK6lB,MAAQ,KACnCC,QAASnvB,EAAQwM,KAAKxM,EAAQkL,KAAKsI,oBACnC+a,SAAUA,EACVa,YAAaT,EACbU,SAAUT,IAIlBJ,EAA0Bc,uBAAyB,SAAUppB,GAOzD,MALO,CACHqpB,KAAMrpB,EAAUzR,KAChB+6B,MAAOtpB,EAAU7U,MACjBo+B,OAAQvpB,EAAUgN,OAAS,IAInCsb,EAA0BkB,sCAAwC,SAAUzL,GACxE,OAAQA,EAAStZ,KAAKmY,UAClB,KAAKha,EAAUia,oBAAoBvD,MAC/B,OAAOgP,EAA0BmB,8BAA8B1L,GACnE,KAAKnb,EAAUia,oBAAoBtD,UAC/B,OAAO+O,EAA0BoB,kCAAkC3L,GACvE,KAAKnb,EAAUia,oBAAoBrD,MAC/B,OAAO8O,EAA0BqB,8BAA8B5L,GACnE,KAAKnb,EAAUia,oBAAoBlD,WAC/B,OAAO2O,EAA0BsB,mCAAmC7L,GACxE,KAAKnb,EAAUia,oBAAoBnD,QAC/B,OAAO4O,EAA0BuB,gCAAgC9L,GAEzE,OAAO,MAEXuK,EAA0BmB,8BAAgC,SAAU1L,GAChE,IAAI+L,EAAWxB,EAA0ByB,yBAAyBhM,GAC9DxvB,EAAOwvB,EAAStZ,KAAKugB,SAASz2B,KAElC,OADoBmc,EAAS,GAAIof,EAAU,CAAET,KAAM96B,KAGvD+5B,EAA0BqB,8BAAgC,SAAU5L,GAChE,IAAI+L,EAAWxB,EAA0ByB,yBAAyBhM,GAC9DwH,EAAgBxH,EAAStZ,KAAKugB,SAASO,eAAiB,EAE5D,OADoB7a,EAAS,GAAIof,EAAU,CAAEE,QAASjM,EAAStZ,KAAKugB,SAAS14B,QAASuoB,cAAejS,EAAUiS,cAAc0Q,MAGjI+C,EAA0BoB,kCAAoC,SAAU3L,GACpE,IAAI+L,EAAWxB,EAA0ByB,yBAAyBhM,GAC9D6H,EAAmB7H,EAAStZ,KAAKugB,SAAS/Q,WAC1CrW,EAAY,GACZqsB,EAAmB,GACnBC,EAAgB,GAgBpB,OAdItE,GAAoBA,EAAiB9oB,OAAS,IAE1C8oB,EAAiB,GAAG3J,aAAe2J,EAAiB,GAAG3J,YAAYnf,OAAS,EAC5E8oB,EAAiB,GAAG3J,YAAY9oB,SAAQ,SAAU3H,GAC9CoS,GAAapS,EAAI47B,SAAW,QAG3BxB,EAAiB,GAAGD,OAASC,EAAiB,GAAGD,MAAM7oB,OAAS,IACrEc,EAAYgoB,EAAiB,GAAGD,OAEpCsE,EAAmBrE,EAAiB,GAAGt5B,QACvC49B,EAAgBtE,EAAiB,GAAGC,UAEhBnb,EAAS,GAAIof,EAAU,CAAEvQ,UAAW3b,EAAWusB,iBAAkBF,EAAkBG,cAAeF,KAG9H5B,EAA0BuB,gCAAkC,SAAU9L,GAClE,IAAI+L,EAAWxB,EAA0ByB,yBAAyBhM,GAC9DiH,EAAWjH,EAAStZ,KAAKugB,SAG7B,OAFsBta,EAAS,GAAIof,EAAU,CAAET,KAAMrE,EAASz2B,KAAM87B,QAASrF,EAASrgB,QAAS2lB,SAAUtF,EAAStgB,SAAU6lB,aAAcvF,EAASiB,aAAcuE,cAAexF,EAASz2B,QAI7L+5B,EAA0BsB,mCAAqC,SAAU7L,GACrE,IAAI+L,EAAWxB,EAA0ByB,yBAAyBhM,GAC9DiH,EAAWjH,EAAStZ,KAAKugB,SAE7B,OADyBta,EAAS,GAAIof,EAAU,CAAET,KAAMrE,EAASz2B,KAAMk8B,OAAQzF,EAASn3B,OAAQw8B,QAASrF,EAASrgB,QAAS2lB,SAAUtF,EAAStgB,SAAUgmB,WAAY1F,EAASngB,WAAY8lB,YAAa3F,EAASvgB,KAAM+lB,cAAeV,EAASc,YAAaC,mBAAoB7F,EAAStI,QAG3R4L,EAA0ByB,yBAA2B,SAAUhM,GAC3D,IAAI+M,EACAC,EAoBJ,OAlBIhN,EAAStZ,KAAKmY,UACdmO,EAAS5c,EAAU2L,oCAAoCiE,EAAStZ,KAAKmY,UACrEkO,EAAe3c,EAAUmM,4CAA4CyD,EAAStZ,KAAKmY,WAKnFljB,EAAQyD,KAAK,0DAA2D4gB,EAAStZ,KAAKmY,UAI3E,CACXoO,aAAcF,EACdC,OAAQA,EACRH,YALU7M,EAASzX,KAAKgiB,EAA0BtjB,KAAK7K,aAMvD8uB,QAAS,MACTgC,WANS3C,EAA0B4C,oBAAoBnN,KAU/DuK,EAA0B4C,oBAAsB,SAAUnN,GACtD,IAAIlyB,EAAa,GAEbs/B,EAAQpN,EAAStZ,KAAa,SAAE3Y,cAAgB,GACpD,IAAK,IAAIwB,KAAO69B,EACZ,GAAIA,EAAK3oB,eAAelV,GAAM,CAC1B,IACI89B,EAAW,CAAE99B,IAAKA,EAAKnC,MADfggC,EAAK79B,IAEjBzB,EAAWwH,KAAK+3B,GAIxB,IAAIhvB,EAAS2hB,EAAStZ,KAAa,SAAE5Y,YAAc,GACnD,IAAK,IAAIyB,KAAO8O,EACRA,EAAMoG,eAAelV,KAEjB89B,EAAW,CAAE99B,IAAKA,EAAKnC,MADfiR,EAAM9O,IAElBzB,EAAWwH,KAAK+3B,IAGxB,OAAOv/B,GAEXy8B,EAA0BtjB,KAAO,IAAIpC,EAAUoG,eACxCsf,EA9IqB,GAgJhC7uB,EAAOvO,QAAUo9B,G,4BC9JjB,IAAI9pB,EAAQ,EAAQ,MAChBO,EAA8B,EAAQ,MACtCrF,EAAU,EAAQ,MAMlB2xB,EAAoB,WACpB,SAASA,EAAiBrqB,GACtBjV,KAAKu/B,QAAUtqB,EACfjV,KAAKw/B,mBAAqB,EAoD9B,OAlDAF,EAAiBpyB,UAAUuyB,KAAO,SAAUzN,EAAU1rB,GAClDtG,KAAK0/B,YAAY1N,EAAU1rB,EAAM,SAErCg5B,EAAiBpyB,UAAUyyB,KAAO,SAAU3N,EAAU1rB,GAElDtG,KAAK0/B,YAAY,CAAC1N,GAAW1rB,EAAM,SAEvCg5B,EAAiBpyB,UAAUwyB,YAAc,SAAU1N,EAAU1rB,EAAMs5B,GAC/D,IAsCI5wB,EAAI6S,EAtCJtQ,EAAQvR,KACRiyB,EAAUY,KAAKC,UAAUd,GACzBze,IAAWvE,EAAK,IACbgE,EAA4BS,iCAAkC,EACjEzE,EAAGmK,KAAOnZ,KAAKu/B,QAAQM,eACvB7wB,EAAGiI,OAtBH,OAuBAjI,EAAGpK,KAAO,0BAA4Bg7B,EAAa,SAAW5/B,KAAKu/B,QAAQ/L,mBAC3ExkB,EAAGyM,UAAWoG,EAAK,CACX,OAAU,iBAxBpB,8BA0BkC,IAAQzK,KAAK6lB,MACzCpb,EAAG,gBAAkB,mBACrBA,EAAG,kBAAoB6Q,OAAOoN,WAAW7N,GACzCpQ,GACJ7S,GACAuoB,EAAM9kB,EAAMW,QAAQG,GAAS,SAAUkkB,GACvC,IAAIsI,EAA8D,SAA7CtI,EAAIhc,QA/BrB,uBAgCJlK,EAAMiuB,mBAAqB,EAC3Bl5B,EAAKy5B,EAAgBtI,MAEzBF,EAAInsB,GAAG,SAAS,SAAU3K,GAGtB8Q,EAAMiuB,qBAEN,IAAI9S,EAAS,2HACTnb,EAAMiuB,mBAAqBF,EAAiBU,8BAAiC,GAC7EtT,EAAS,8CAAgDnb,EAAMiuB,mBAAqB,yCACpF7xB,EAAQyD,KAAKkuB,EAAiBtV,IAAK0C,EAAQjsB,IAI3CkN,EAAQsI,KAAKqpB,EAAiBtV,IAAK0C,EAAQjsB,GAE/C6F,OAEJixB,EAAI0I,MAAMhO,GACVsF,EAAIvjB,OAGRsrB,EAAiBtV,IAAM,mBACvBsV,EAAiBU,6BAA+B,GACzCV,EAvDY,GAyDvB5xB,EAAOvO,QAAUmgC,G,4BCjEjB,IAAI3xB,EAAU,EAAQ,MAClBoR,EAAS,EAAQ,MACjBwd,EAA4B,EAAQ,MACpC+C,EAAmB,EAAQ,MAC3Bld,EAAY,EAAQ,MACpBpD,EAAU,EAAQ,MAElBkhB,EAA0B,WAC1B,SAASA,EAAuB5K,EAAMvnB,GAClC/N,KAAKmgC,mBAAoB,EACzBngC,KAAKogC,iBAAmBhpB,KAAK6lB,MAC7Bj9B,KAAKqgC,oBAAqB,EAC1BrgC,KAAKsgC,SAAW,GAChBtgC,KAAKugC,WAAa,GAClBvgC,KAAKwgC,YAAc,GACnBxgC,KAAKiV,OAAS,IAAI8J,EAAOuW,GACzBt1B,KAAK+N,QAAUA,GAAW,IAAIiR,EAC9Bhf,KAAK2xB,QAAU,IAAI2N,EAAiBt/B,KAAKiV,QACzCjV,KAAKiT,YAAa,EAwItB,OAlIAitB,EAAuBhzB,UAAUuzB,aAAe,SAAUC,GACtD1gC,KAAKwgC,YAAYl5B,KAAKo5B,IAK1BR,EAAuBhzB,UAAUkU,YAAc,SAAUnN,GACrDjU,KAAK2gC,WAAW1sB,IAMpBisB,EAAuBhzB,UAAU0zB,YAAc,SAAU5O,GACrD,IAAI+L,EAAWxB,EAA0BkB,sCAAsCzL,GAC3E+L,GACA/9B,KAAKugC,WAAWj5B,KAAKy2B,IAO7BmC,EAAuBhzB,UAAUC,OAAS,SAAUC,GAC5CA,IAAcpN,KAAKiT,YACnBjT,KAAKiT,YAAa,EAClBjT,KAAK6gC,kBAECzzB,GAAapN,KAAKiT,aACxBjT,KAAKiT,YAAa,EAClB2f,aAAa5yB,KAAKuf,SAClBvf,KAAKuf,aAAU/b,IAOvB08B,EAAuBhzB,UAAU4zB,iBAAmB,SAAU3zB,GAC1DnN,KAAKwgC,YAAYp5B,SAAQ,SAAUs5B,GAC/BA,EAAUvzB,OAAOA,OAOzB+yB,EAAuBhzB,UAAUyzB,WAAa,SAAU1sB,GACpD,IAAI7U,EAAQ6U,EAAU7U,MAClB6hB,EAAQhN,EAAUgN,OAAS,EAC3Bze,EAAO4f,EAAUiL,+BAA+BpZ,EAAUzR,MAC1DA,IACIxC,KAAKsgC,SAAS99B,IACdxC,KAAKsgC,SAAS99B,GAAM+6B,OAASv9B,KAAKsgC,SAAS99B,GAAM+6B,MAAQv9B,KAAKsgC,SAAS99B,GAAMg7B,OAASp+B,EAAQ6hB,IAAUjhB,KAAKsgC,SAAS99B,GAAMg7B,OAASvc,GACrIjhB,KAAKsgC,SAAS99B,GAAMg7B,QAAUvc,IAG9BjhB,KAAKsgC,SAAS99B,GAAQ+5B,EAA0Bc,uBAAuBppB,GACvEjU,KAAKsgC,SAAS99B,GAAM86B,KAAO96B,EAC3BxC,KAAKsgC,SAAS99B,GAAMg7B,OAAS,KAIzC0C,EAAuBhzB,UAAU6zB,uBAAyB,kBAC/C/gC,KAAKsgC,SACZtgC,KAAKsgC,SAAW,GAChBtgC,KAAKugC,WAAWxvB,OAAS,GAE7BmvB,EAAuBhzB,UAAU2zB,cAAgB,WAC7C,IAAItvB,EAAQvR,KAERoC,EAAUnD,OAAOga,KAAKjZ,KAAKsgC,UAAUx6B,KAAI,SAAUk7B,GAAK,OAAOzvB,EAAM+uB,SAASU,MAC9EhP,EAAWuK,EAA0BC,yBAAyBp6B,EAASpC,KAAKugC,WAAW7G,QAAS15B,KAAKiV,OAAQjV,KAAK+N,SAEtH/N,KAAK+gC,yBAED/gC,KAAKmgC,kBACLngC,KAAKihC,MAAMjP,GAGXhyB,KAAKkhC,MAAMlP,GAEf,IAAImP,EAAiBnhC,KAAKmgC,kBAAoBD,EAAuBkB,cAAgBlB,EAAuBmB,cACxGrhC,KAAKmgC,mBAAqB/oB,KAAK6lB,MAAQj9B,KAAKogC,kBAAoBF,EAAuBoB,qBAAuBthC,KAAKqgC,oBAEnHrgC,KAAKmgC,mBAAoB,EACzBgB,EAAiBjB,EAAuBqB,oBAElCvhC,KAAKmgC,mBAAqB/oB,KAAK6lB,MAAQj9B,KAAKogC,kBAAoBF,EAAuBsB,qBAAuBxhC,KAAKqgC,qBAEzHc,EAAiBjB,EAAuBqB,mBAE5CvhC,KAAKqgC,mBAAqB,KAC1BrgC,KAAKuf,QAAU8S,WAAWryB,KAAK6gC,cAAcz4B,KAAKpI,MAAOmhC,GACzDnhC,KAAKuf,QAAQG,SAEjBwgB,EAAuBhzB,UAAUg0B,MAAQ,SAAUlP,GAC/ChyB,KAAK2xB,QAAQ8N,KAAKzN,EAAUhyB,KAAKyhC,gBAAgBr5B,KAAKpI,QAE1DkgC,EAAuBhzB,UAAU+zB,MAAQ,SAAUjP,GAC/ChyB,KAAK2xB,QAAQgO,KAAK3N,EAAUhyB,KAAKyhC,gBAAgBr5B,KAAKpI,QAK1DkgC,EAAuBhzB,UAAUu0B,gBAAkB,SAAUC,EAAYjK,GACnDj0B,MAAdk+B,GACI1hC,KAAKmgC,oBAAsBuB,IAC3B/zB,EAAQsI,KAAK,4BAA6ByrB,GAC1C1hC,KAAK8gC,iBAAiBY,IAE1B1hC,KAAKmgC,kBAAoBuB,EACrBjK,GAAOA,EAAIngB,WAAa,KAAOmgB,EAAIngB,YAAc,KACjDtX,KAAKogC,iBAAmBhpB,KAAK6lB,MAC7Bj9B,KAAKqgC,oBAAqB,GAG1BrgC,KAAKqgC,oBAAqB,GAK9BrgC,KAAKqgC,oBAAqB,GAGlCH,EAAuBoB,mBAAqB,IAC5CpB,EAAuBsB,mBAAqB,IAC5CtB,EAAuBqB,kBAAoB,IAC3CrB,EAAuBmB,cAAgB,IACvCnB,EAAuBkB,cAAgB,IAChClB,EAnJkB,GAqJ7BxyB,EAAOvO,QAAU+gC,G,sBC5JjBxyB,EAAOvO,QAAU,CAIbiW,qBAAsB,kBAKtBqH,wBAAyB,QAKzBjF,wBAAyB,QAIzBlC,gBAAiB,aAIjBC,eAAgB,kBAKhBC,aAAc,uBAMdjH,yBAA0B,sBAI1BkH,kBAAmB,cAInBC,iBAAkB,e,4BCzCtB,IAAI1S,EAAK,EAAQ,MACbmf,EAAK,EAAQ,MACbvd,EAAO,EAAQ,MACf+8B,EAAO,EAAQ,MACfC,EAAgB,EAAQ,MACxBj0B,EAAU,EAAQ,MAClBqF,EAA8B,EAAQ,MACtCN,EAAO,EAAQ,MACfmvB,EAAU,WACV,SAASA,EAAO5sB,EAAQ6sB,EAAWv4B,GAQ/B,GAPAvJ,KAAKu/B,QAAUtqB,EACfjV,KAAK+hC,WAAaD,EAClB9hC,KAAKgiC,SAAWz4B,EAChBvJ,KAAKiiC,sBAAuB,EAC5BjiC,KAAKkiC,gBAAkBL,EAAOM,oBAC9BniC,KAAKoiC,gBAAkBP,EAAOQ,kBAC9BriC,KAAKsiC,wBAA0B,GAC1BT,EAAOU,4BAIR,GAAIV,EAAOW,WAAY,CAGnB,IACIX,EAAOU,4BAA8Bv/B,EAAGy/B,WAAWZ,EAAOa,aAE9D,MAAOtiC,IACFyhC,EAAOU,6BACR50B,EAAQyD,KAAKywB,EAAO7X,IAAK,yGAK7B6X,EAAOU,6BAA8B,EA0ajD,OAnaAV,EAAO30B,UAAU6kB,iBAAmB,SAAU3yB,EAAOyyB,EAAgBC,GACjE9xB,KAAKiiC,qBAAuBJ,EAAOU,6BAA+BnjC,EACpC,iBAAnByyB,GAA+BA,GAAkB,IACxD7xB,KAAKkiC,gBAAkBphB,KAAK6hB,MAAM9Q,IAER,iBAAnBC,GAA+BA,GAAkB,IACxD9xB,KAAKoiC,gBAAkBthB,KAAK6hB,MAAM7Q,IAElC1yB,IAAUyiC,EAAOU,8BACjBviC,KAAKiiC,sBAAuB,EAC5Bt0B,EAAQyD,KAAKywB,EAAO7X,IAAK,4GAGjC6X,EAAO30B,UAAUhN,KAAO,SAAU+xB,EAASntB,GACvC,IAAIyM,EAAQvR,KACR0zB,EAAc1zB,KAAKu/B,QAAQ7L,YAE3BngB,EAAU,CACV0D,OAAQ,OACR2rB,iBAAiB,EACjBnnB,QAAS,CACL,eAAgB,8BAGxBkmB,EAAKkB,KAAK5Q,GAAS,SAAUxyB,EAAKqjC,GAC9B,IAAIC,EAAaD,EACbrjC,GACAkO,EAAQyD,KAAK3R,GACbsjC,EAAa9Q,EACb1e,EAAQkI,QAAQ,kBAAoBwW,EAAQlhB,OAAO4D,aAGnDpB,EAAQkI,QAAQ,oBAAsB,OACtClI,EAAQkI,QAAQ,kBAAoBqnB,EAAO/xB,QAE/CpD,EAAQsI,KAAK4rB,EAAO7X,IAAKzW,GAEzBA,EAAQP,EAA4BS,iCAAkC,EACtE,IAiCI8jB,EAAM7kB,EAAK8kB,YAAYjmB,EAAMguB,QAAS7L,EAAangB,GAjCjC,SAAUkkB,GAC5BA,EAAIE,YAAY,SAEhB,IAAIqL,EAAiB,GACrBvL,EAAIrsB,GAAG,QAAQ,SAAUsN,GACrBsqB,GAAkBtqB,KAEtB+e,EAAIrsB,GAAG,OAAO,WACVmG,EAAM+wB,wBAA0B,EAChC30B,EAAQsI,KAAK4rB,EAAO7X,IAAKgZ,GACO,mBAArBzxB,EAAMwwB,YACbxwB,EAAMwwB,WAAWiB,GAEG,mBAAbl+B,GACPA,EAASk+B,GAETzxB,EAAM0wB,uBAEiB,MAAnBxK,EAAIngB,WACJ+a,YAAW,WAAc,OAAO9gB,EAAM0xB,yBAA2B1xB,EAAM2wB,iBAAiBxiB,QAGhE,MAAnB+X,EAAIngB,YACU,MAAnBmgB,EAAIngB,YACe,MAAnBmgB,EAAIngB,YACe,MAAnBmgB,EAAIngB,YACe,MAAnBmgB,EAAIngB,YAEJ/F,EAAM2xB,aAAajR,UAMnCsF,EAAInsB,GAAG,SAAS,SAAU3K,GAMtB,GAJA8Q,EAAM+wB,2BAID/wB,EAAM0wB,sBAAwB1wB,EAAM+wB,wBAA0B,GAAK/wB,EAAM+wB,wBAA0BT,EAAOsB,qCAAwC,EAAG,CACtJ,IAAIzW,EAAS,+JACTnb,EAAM0wB,uBACNvV,EAAS,2CAA6Cnb,EAAM+wB,wBAA0B,iFAE1F30B,EAAQyD,KAAKywB,EAAO7X,IAAK0C,EAAQjsB,QAG7BisB,EAAS,uGACb/e,EAAQsI,KAAK4rB,EAAO7X,IAAK0C,EAAQjsB,GAGrC,GADA8Q,EAAM6xB,eAAe3iC,GACG,mBAAbqE,EAAyB,CAChC,IAAIu+B,EAAe,0BACf5iC,GAAoC,mBAAnBA,EAAMkU,WACvB0uB,EAAe5iC,EAAMkU,YAEzB7P,EAASu+B,GAET9xB,EAAM0wB,sBACN1wB,EAAM2xB,aAAajR,MAG3BsF,EAAI0I,MAAM8C,GACVxL,EAAIvjB,UAGZ6tB,EAAO30B,UAAUulB,YAAc,SAAUR,GACjCjyB,KAAKiiC,sBACLjiC,KAAKsjC,iBAAiBrR,IAG9B4P,EAAO30B,UAAUq2B,WAAa,SAAUC,EAAM1+B,GAC1C,IAAI2+B,EAAU7B,EAAc8B,MAAM7B,EAAOa,YAAac,EAAM,CAAEG,aAAa,IAC3EF,EAAQr4B,GAAG,SAAS,SAAUhL,GAAK,OAAO0E,EAAS1E,MACnDqjC,EAAQr4B,GAAG,SAAS,SAAUw4B,EAAMC,GAChC,OAAO/+B,EAAkB,IAAT8+B,EAAa,KAAO,IAAItjC,MAAM,kEAAoEsjC,EAAO,UAGjI/B,EAAO30B,UAAU42B,eAAiB,SAAUN,GAExC,IAAI5B,EAAcmC,UAUd,MAAM,IAAIzjC,MAAM,wEAThB,IAAImjC,EAAU7B,EAAcmC,UAAUlC,EAAOa,YAAac,EAAM,CAAEG,aAAa,IAC/E,GAAIF,EAAQhjC,MACR,MAAMgjC,EAAQhjC,MAEb,GAAuB,IAAnBgjC,EAAQjb,OACb,MAAM,IAAIloB,MAAM,kEAAoEmjC,EAAQjb,OAAS,MAOjHqZ,EAAO30B,UAAU82B,gBAAkB,SAAUl/B,GACzC,GAAI+8B,EAAOoC,aACP,OAAOn/B,EAAS,KAAM+8B,EAAOoC,cAEjC,IAAIC,EAAStC,EAAc8B,MAAM7B,EAAOsC,gBAAiB,CAAC,WAAY,kEAAmE,CACrIR,aAAa,EACbS,MAAO,CAAC,SAAU,OAAQ,UAE1B1rB,EAAO,GACXwrB,EAAOG,OAAOj5B,GAAG,QAAQ,SAAUmL,GAAK,OAAOmC,GAAQnC,KACvD2tB,EAAO94B,GAAG,SAAS,SAAUhL,GAAK,OAAO0E,EAAS1E,EAAG,SACrD8jC,EAAO94B,GAAG,SAAS,SAAUw4B,EAAMC,GAE/B,OADAhC,EAAOoC,aAAevrB,GAAQA,EAAK4iB,OAC5Bx2B,EAAkB,IAAT8+B,EAAa,KAAO,IAAItjC,MAAM,0DAA4DsjC,EAAO,KAAM/B,EAAOoC,kBAGtIpC,EAAO30B,UAAUo3B,oBAAsB,WACnC,GAAIzC,EAAOoC,aACP,OAAOpC,EAAOoC,aAGlB,GAAIrC,EAAcmC,UAAW,CACzB,IAAIG,EAAStC,EAAcmC,UAAUlC,EAAOsC,gBAAiB,CAAC,WAAY,kEAAmE,CACzIR,aAAa,EACbS,MAAO,CAAC,SAAU,OAAQ,UAE9B,GAAIF,EAAOzjC,MACP,MAAMyjC,EAAOzjC,MAEZ,GAAsB,IAAlByjC,EAAO1b,OACZ,MAAM,IAAIloB,MAAM,0DAA4D4jC,EAAO1b,OAAS,KAGhG,OADAqZ,EAAOoC,aAAeC,EAAOG,QAAUH,EAAOG,OAAO1vB,WAAW2mB,OACzDuG,EAAOoC,aAGd,MAAM,IAAI3jC,MAAM,8EAGxBuhC,EAAO30B,UAAUq3B,iBAAmB,SAAU/+B,EAAWg/B,GACrD,MAAO,CAACh/B,EACJ,SAAU,0BACV,SAAUg/B,EAAW,aACrB,mBAER3C,EAAO30B,UAAUu3B,eAAiB,SAAUj/B,EAAWV,GACnD,IAAIyM,EAAQvR,KACZ,OAAK6hC,EAAOW,gBAIgCh/B,IAAxCq+B,EAAO6C,kBAAkBl/B,GAoBlBV,EAAS+8B,EAAO6C,kBAAkBl/B,GAAa,KAClD,IAAIlF,MAAM,8DAjBduhC,EAAO6C,kBAAkBl/B,IAAa,OAEtCxF,KAAKgkC,iBAAgB,SAAUvkC,EAAK+kC,GAChC,GAAI/kC,EAEA,OADAoiC,EAAO6C,kBAAkBl/B,IAAa,EAC/BV,EAASrF,GAGhB8R,EAAMgyB,WAAWhyB,EAAMgzB,iBAAiB/+B,EAAWg/B,IAAW,SAAU/kC,GAEpE,OADAoiC,EAAO6C,kBAAkBl/B,IAAc/F,EAChCqF,EAASrF,UAjBrBqF,EAAS,OA2BxB+8B,EAAO30B,UAAUy3B,mBAAqB,SAAUn/B,GAC5C,GAAIq8B,EAAOW,WAAY,CAEnB,QAA4Ch/B,IAAxCq+B,EAAO6C,kBAAkBl/B,GAGzB,OAFAxF,KAAK8jC,eAAe9jC,KAAKukC,iBAAiB/+B,EAAWxF,KAAKskC,6BAC1DzC,EAAO6C,kBAAkBl/B,IAAa,GAGrC,IAAKq8B,EAAO6C,kBAAkBl/B,GAC/B,MAAM,IAAIlF,MAAM,8DAI5BuhC,EAAO30B,UAAU03B,kBAAoB,SAAUp/B,EAAWV,GACtD,IAAIyM,EAAQvR,KACZgD,EAAGC,MAAMuC,GAAW,SAAU/F,EAAKgH,GAC3BhH,GAAoB,WAAbA,EAAImkC,KACX5gC,EAAG6hC,MAAMr/B,GAAW,SAAU/F,GACtBA,GAAoB,WAAbA,EAAImkC,KACX9+B,EAASrF,GAGT8R,EAAMkzB,eAAej/B,EAAWV,OAIlCrF,GAAOgH,EAAM6B,cACnBiJ,EAAMkzB,eAAej/B,EAAWV,GAGhCA,EAASrF,GAAO,IAAIa,MAAM,6CAOtCuhC,EAAO30B,UAAU43B,yBAA2B,SAAUt/B,EAAWV,GAE7D9B,EAAGK,QAAQmC,GAAW,SAAU/F,EAAKslC,GACjC,GAAItlC,EACA,OAAOqF,EAASrF,GAAM,GAE1B,IAAIgB,EAAQ,KACRukC,EAAY,EACZ/jB,EAAQ,EACZ,GAAqB,IAAjB8jB,EAAMh0B,OAKV,IAAK,IAAID,EAAI,EAAGA,EAAIi0B,EAAMh0B,OAAQD,IAC9B9N,EAAGE,KAAK0B,EAAKyH,KAAK7G,EAAWu/B,EAAMj0B,KAAK,SAAUrR,EAAKwlC,GACnDhkB,IACIxhB,EACAgB,EAAQhB,EAGJwlC,EAAUz8B,WACVw8B,GAAaC,EAAUjK,MAG3B/Z,IAAU8jB,EAAMh0B,QAGZjM,EAASrE,EADTA,GACiB,EAGDukC,WArB5BlgC,EAAS,KAAM,OA+B3B+8B,EAAO30B,UAAUg4B,6BAA+B,SAAU1/B,GAGtD,IAFA,IAAIu/B,EAAQ/hC,EAAGM,YAAYkC,GACvBw/B,EAAY,EACPl0B,EAAI,EAAGA,EAAIi0B,EAAMh0B,OAAQD,IAC9Bk0B,GAAahiC,EAAGI,SAASwB,EAAKyH,KAAK7G,EAAWu/B,EAAMj0B,KAAKkqB,KAE7D,OAAOgK,GAKXnD,EAAO30B,UAAUg2B,aAAe,SAAUjR,GACtC,IAAI1gB,EAAQvR,KAERwF,EAAYZ,EAAKyH,KAAK8V,EAAGgjB,SAAUtD,EAAOuD,eAAiBplC,KAAKu/B,QAAQ/L,oBAG5E7lB,EAAQsI,KAAK4rB,EAAO7X,IAAK,iDAAmDxkB,GAC5ExF,KAAK4kC,kBAAkBp/B,GAAW,SAAU/E,GACxC,GAAIA,EAGA,OAFAkN,EAAQyD,KAAKywB,EAAO7X,IAAK,6CAA+CvpB,GAASA,EAAMF,eACvFgR,EAAM6xB,eAAe3iC,GAGzB8Q,EAAMuzB,yBAAyBt/B,GAAW,SAAU/F,EAAKu7B,GACrD,GAAIv7B,GAAOu7B,EAAO,EAGd,OAFArtB,EAAQyD,KAAKywB,EAAO7X,IAAK,yCAA2CvqB,GAAOA,EAAIc,eAC/EgR,EAAM6xB,eAAe3jC,GAGpB,GAAIu7B,EAAOzpB,EAAM6wB,gBAClBz0B,EAAQyD,KAAKywB,EAAO7X,IAAK,gFAAkFgR,OAD1G,CAML,IAAIQ,GAAW,IAAIpkB,MAAOiuB,UAAY,WAClCC,EAAe1gC,EAAKyH,KAAK7G,EAAWg2B,GAGxC7tB,EAAQsI,KAAK4rB,EAAO7X,IAAK,2BAA6Bsb,GACtDtiC,EAAGuiC,UAAUD,EAAcrT,EAAS,CAAEuT,KAAM,MAAO,SAAU/kC,GAAS,OAAO8Q,EAAM6xB,eAAe3iC,cAQ9GohC,EAAO30B,UAAUo2B,iBAAmB,SAAUrR,GAE1C,IAAIzsB,EAAYZ,EAAKyH,KAAK8V,EAAGgjB,SAAUtD,EAAOuD,eAAiBplC,KAAKu/B,QAAQ/L,oBAC5E,IACI7lB,EAAQsI,KAAK4rB,EAAO7X,IAAK,iDAAmDxkB,GACvExC,EAAGy/B,WAAWj9B,IACfxC,EAAGyiC,UAAUjgC,GAGjBxF,KAAK2kC,mBAAmBn/B,GACxB,IAAIkgC,EAAU1lC,KAAKklC,6BAA6B1/B,GAChD,GAAIkgC,EAAU1lC,KAAKoiC,gBAEf,YADAz0B,EAAQsI,KAAK4rB,EAAO7X,IAAK,gFAAkF0b,GAK/G,IAAIlK,GAAW,IAAIpkB,MAAOiuB,UAAY,WAClCC,EAAe1gC,EAAKyH,KAAK7G,EAAWg2B,GAExC7tB,EAAQsI,KAAK4rB,EAAO7X,IAAK,wCAA0Csb,GACnEtiC,EAAG2iC,cAAcL,EAAcrT,EAAS,CAAEuT,KAAM,MAEpD,MAAO/kC,GACHkN,EAAQyD,KAAKywB,EAAO7X,IAAK,qCAAuCvpB,GAASA,EAAMF,UAC/EP,KAAKojC,eAAe3iC,KAO5BohC,EAAO30B,UAAU+1B,qBAAuB,WACpC,IAAI1xB,EAAQvR,KACR4lC,EAAUhhC,EAAKyH,KAAK8V,EAAGgjB,SAAUtD,EAAOuD,eAAiBplC,KAAKu/B,QAAQ/L,oBAC1ExwB,EAAG6iC,OAAOD,GAAS,SAAUC,GACrBA,GACA7iC,EAAGK,QAAQuiC,GAAS,SAAUnlC,EAAOskC,GACjC,GAAKtkC,EAwBD8Q,EAAM6xB,eAAe3iC,QAtBrB,IADAskC,EAAQA,EAAM34B,QAAO,SAAU05B,GAAK,OAAOlhC,EAAKmhC,SAASD,GAAGjb,QAAQ,aAAe,MACzE9Z,OAAS,EAAG,CAClB,IAAIi1B,EAAYjB,EAAM,GAClBkB,EAAWrhC,EAAKyH,KAAKu5B,EAASI,GAClChjC,EAAGkjC,SAASD,GAAU,SAAUxlC,EAAOwxB,GAC9BxxB,EAYD8Q,EAAM6xB,eAAe3iC,GAVrBuC,EAAGmjC,OAAOF,GAAU,SAAUxlC,GACrBA,EAID8Q,EAAM6xB,eAAe3iC,GAHrB8Q,EAAMrR,KAAK+xB,iBAoBnD4P,EAAO30B,UAAUk2B,eAAiB,SAAU3iC,GACX,mBAAlBT,KAAKgiC,UACZhiC,KAAKgiC,SAASvhC,IAGtBohC,EAAO7X,IAAM,SACb6X,EAAOa,YAAc/+B,QAAQoc,IAAIqmB,YAAc,+BAC/CvE,EAAOsC,gBAAkBxgC,QAAQoc,IAAIqmB,YAAc,0DACnDvE,EAAO6C,kBAAoB,GAC3B7C,EAAOoC,aAAe,KAEtBpC,EAAOM,oBAAsB,IAC7BN,EAAOQ,kBAAoB,IAC3BR,EAAOsB,oCAAsC,EAC7CtB,EAAOuD,eAAiB,mBACxBvD,EAAOU,6BAA8B,EACrCV,EAAOW,WAA2B,eAAdrgB,EAAGwO,OAChBkR,EApcE,GAscbn0B,EAAOvO,QAAU0iC,G,4BC9cjB,IAAIjrB,EAAM,EAAQ,MACdmI,EAAS,EAAQ,MACjBC,EAAU,EAAQ,MAClBnI,EAAY,EAAQ,MACpBoa,EAAU,EAAQ,MAClBoV,EAAsB,EAAQ,MAC9BxzB,EAA8B,EAAQ,KACtCgvB,EAAS,EAAQ,MACjBnvB,EAAO,EAAQ,MACf/E,EAAU,EAAQ,MAClB4qB,EAAkB,EAAQ,MAK1BwD,EAAmB,WAKnB,SAASA,EAAgB/I,GACrBhzB,KAAKsmC,qBAAuB,GAC5B,IAAIrxB,EAAS,IAAI8J,EAAOiU,GACxBhzB,KAAKiV,OAASA,EACdjV,KAAK+N,QAAU,IAAIiR,EACnBhf,KAAKV,iBAAmB,GACxB,IAAI+xB,EAAS,IAAIwQ,EAAO7hC,KAAKiV,QAC7BjV,KAAKypB,QAAU,IAAIwH,GAAQ,WAAc,OAAOhc,EAAO6e,sBAAuB,WAAc,OAAO7e,EAAO2e,gBAAiB,WAAc,OAAO3e,EAAO4e,qBAAuBxC,GA0IlL,OApIA0K,EAAgB7uB,UAAUq5B,kBAAoB,SAAUtyB,GACpDjU,KAAKwmC,MAAMvyB,EAAW4C,EAAU4Z,cAAc5C,eAMlDkO,EAAgB7uB,UAAUqc,WAAa,SAAUtV,GAC7CjU,KAAKwmC,MAAMvyB,EAAW4C,EAAU4Z,cAAchD,QAQlDsO,EAAgB7uB,UAAUkU,YAAc,SAAUnN,GAC9CjU,KAAKwmC,MAAMvyB,EAAW4C,EAAU4Z,cAAc/C,SAMlDqO,EAAgB7uB,UAAU0E,eAAiB,SAAUqC,GAC7CA,GAAaA,EAAUpC,YAAca,EAAK+zB,QAAQxyB,EAAUpC,aAC5DoC,EAAUpC,UAAY,IAAIvR,MAAM2T,EAAUpC,UAAU8C,aAExD3U,KAAKwmC,MAAMvyB,EAAW4C,EAAU4Z,cAAcjD,YAMlDuO,EAAgB7uB,UAAUw5B,WAAa,SAAUzyB,GAC7CjU,KAAKwmC,MAAMvyB,EAAW4C,EAAU4Z,cAAclD,QAQlDwO,EAAgB7uB,UAAUyG,aAAe,SAAUM,GAC/CjU,KAAKwmC,MAAMvyB,EAAW4C,EAAU4Z,cAAc9C,UAQlDoO,EAAgB7uB,UAAU8I,gBAAkB,SAAU/B,GAC9CA,IAAcA,EAAUnS,QAAUmS,EAAUyE,OAI5CzE,EAAUnS,OAAS8U,EAAIgB,MAAM3D,EAAUyE,MAAMS,MAEjDnZ,KAAKwmC,MAAMvyB,EAAW4C,EAAU4Z,cAAc7C,aAMlDmO,EAAgB7uB,UAAU4E,MAAQ,SAAUyB,GACxCvT,KAAKypB,QAAQ0I,cAAY5e,KAAYA,EAAQxB,cAAuBwB,EAAUA,EAAQzO,cAAWtB,IAOrGu4B,EAAgB7uB,UAAUs5B,MAAQ,SAAUvyB,EAAWwkB,GACnD,GAAIxkB,GAAa4C,EAAU6Z,wBAAwB+H,GAAgB,CAC/D,IAAIzG,EAAWuG,EAAgBC,eAAevkB,EAAWwkB,EAAez4B,KAAKV,iBAAkBU,KAAK+N,QAAS/N,KAAKiV,QAE9GhB,EAAUgP,OACV+O,EAAS/O,KAAOhP,EAAUgP,KAAKoW,eAEnC,IAAIsN,EAAW3mC,KAAK4mC,uBAAuB5U,EAAU/d,EAAU8B,gBAG/D4wB,EAAWA,GAAYN,EAAoBQ,2BAA2B7U,EAAU,CAAErU,mBAAoB9K,EAA4BjF,0BAA0BC,sBAC5Jw4B,EAAoBS,qCAAqC9U,EAAUhyB,KAAK+mC,kBACpEJ,GACA3mC,KAAKypB,QAAQvpB,KAAK8xB,QAItBrkB,EAAQyD,KAAK,yEASrB2qB,EAAgB7uB,UAAU85B,sBAAwB,SAAUC,GACxDjnC,KAAKsmC,qBAAqBh/B,KAAK2/B,IAKnClL,EAAgB7uB,UAAUg6B,yBAA2B,WACjDlnC,KAAKsmC,qBAAuB,IAEhCvK,EAAgB7uB,UAAU05B,uBAAyB,SAAU5U,EAAUjc,GACnE,IAAI4wB,GAAW,EACXQ,EAA2BnnC,KAAKsmC,qBAAqBv1B,OACzD,GAAiC,IAA7Bo2B,EACA,OAAOR,GAEX5wB,EAAiBA,GAAkB,IACA,mBAAIlD,EAA4BjF,0BAA0BC,oBAC7F,IAAK,IAAIiD,EAAI,EAAGA,EAAIq2B,IAA4Br2B,EAC5C,IACI,IAAIs2B,EAAYpnC,KAAKsmC,qBAAqBx1B,GAC1C,GAAIs2B,IAC0D,IAAtDA,EAAUrzB,MAAM,KAAM,CAACie,EAAUjc,IAA4B,CAC7D4wB,GAAW,EACX,OAIZ,MAAOlmC,GACHkmC,GAAW,EACXh5B,EAAQyD,KAAK,mEAAoE3Q,EAAOuxB,GAGhG,OAAO2U,GAEJ5K,EAtJW,GAwJtBruB,EAAOvO,QAAU48B,G,4BCvKjB,IAAIrpB,EAAO,EAAQ,MACfI,EAAuB,EAAQ,MAM/BC,EAAe,WACf,SAASA,EAAYvE,EAAaH,GAG9B,GAFArO,KAAKqnC,UAAYt0B,EAAYu0B,mBAC7BtnC,KAAKR,QAAUuT,EAAYw0B,gBACvB/4B,GAAsC,iBAAhBA,EAEtB,GAAIA,EAAY1K,MAAM,KAAKiN,OAAS,EAChC/Q,KAAKuU,QAAU7B,EAAKwlB,aACpBl4B,KAAKwnC,OAAS90B,EAAKwlB,aAAa/b,OAAO,EAAG,QAEzC,CACD,IAAIsrB,EAAiBj5B,EAAY8sB,OAAOx3B,MAAM,KAC1C4jC,EAAMD,EAAe12B,OACrB22B,GAAO,GACP1nC,KAAKR,QAAUioC,EAAe,GAC9BznC,KAAKuU,QAAUkzB,EAAe,GAC9BznC,KAAKwnC,OAASC,EAAe,GAC7BznC,KAAKqnC,UAAYI,EAAe,KAGhCznC,KAAKuU,QAAU7B,EAAKwlB,aACpBl4B,KAAKwnC,OAAS90B,EAAKwlB,aAAa/b,OAAO,EAAG,KAGzCnc,KAAKR,QAAQs1B,MAAM,oBACpB90B,KAAKR,QAAUuT,EAAYw0B,gBAC3BvnC,KAAKuU,QAAU7B,EAAKwlB,cAEH,OAAjBl4B,KAAKR,SAA4B,IAARkoC,IACzB1nC,KAAKuU,QAAU7B,EAAKwlB,aACpBl4B,KAAKwnC,OAAS90B,EAAKwlB,aAAa/b,OAAO,EAAG,KAEzB,OAAjBnc,KAAKR,UACLQ,KAAKR,QAAUuT,EAAYw0B,gBAC3BvnC,KAAKuU,QAAU7B,EAAKwlB,aACpBl4B,KAAKwnC,OAAS90B,EAAKwlB,aAAa/b,OAAO,EAAG,KAEzCnc,KAAKR,QAAQs1B,MAAM,kBACpB90B,KAAKR,QAAUuT,EAAYw0B,iBAG1BvnC,KAAKqnC,UAAUvS,MAAM,oBACtB90B,KAAKqnC,UAAYt0B,EAAYu0B,mBAC7BtnC,KAAKuU,QAAU7B,EAAKwlB,cAGnBnlB,EAAYuB,eAAetU,KAAKuU,WACjCvU,KAAKuU,QAAU7B,EAAKwlB,cAGnBnlB,EAAY40B,cAAc3nC,KAAKwnC,UAChCxnC,KAAKwnC,OAAS90B,EAAKwlB,aAAa/b,OAAO,EAAG,IAC1Cnc,KAAKuU,QAAU7B,EAAKwlB,cAGxBl4B,KAAKqO,SAAWrO,KAAKyU,8BAGxB,GAAIpG,EAAU,CAEfrO,KAAKqO,SAAWA,EAASqrB,QACzB,IAAItrB,EAAc0E,EAAqBgK,UAAUzO,GAC5C0E,EAAYuB,eAAelG,KAC5BpO,KAAKwb,aAAepN,EACpBA,EAAcsE,EAAKwlB,eAEQ,IAA3B7pB,EAASwc,QAAQ,OACjBxc,EAAWA,EAASyb,UAAU,EAAIzb,EAASyb,UAAU,EAAGzb,EAAS0C,OAAS,GAAG8Y,YAAY,KAAMxb,EAAS0C,OAAS,IAErH/Q,KAAKuU,QAAUnG,EACfpO,KAAKwnC,OAASn5B,OAKdrO,KAAKuU,QAAU7B,EAAKwlB,aACpBl4B,KAAKwnC,OAAS90B,EAAKwlB,aAAa/b,OAAO,EAAG,IAoBlD,OAjBApJ,EAAYuB,eAAiB,SAAU3F,GACnC,OAAOA,EAAGmmB,MAAM,mBAA4B,qCAAPnmB,GAEzCoE,EAAY40B,cAAgB,SAAUh5B,GAClC,OAAOA,EAAGmmB,MAAM,mBAA4B,qBAAPnmB,GAEzCoE,EAAY7F,UAAUuH,uBAAyB,WAC3C,MAAO,IAAMzU,KAAKuU,QAAU,IAAMvU,KAAKwnC,OAAS,KAEpDz0B,EAAY7F,UAAUyH,SAAW,WAC7B,OAAO3U,KAAKR,QAAU,IAAMQ,KAAKuU,QAAU,IAAMvU,KAAKwnC,OAAS,IAAMxnC,KAAKqnC,WAE9Et0B,EAAY7F,UAAUsH,aAAe,WACjCxU,KAAKwnC,OAAS90B,EAAKwlB,aAAa/b,OAAO,EAAG,KAE9CpJ,EAAYu0B,mBAAqB,KACjCv0B,EAAYw0B,gBAAkB,KACvBx0B,EAhGO,GAkGlBrF,EAAOvO,QAAU4T,G,sBCpGjB,IAAIwG,EAAc,WAEd,SAASA,EAAW5K,GAChB3O,KAAK4nC,SAAW,GACXj5B,IAGL3O,KAAK4nC,SAAW5nC,KAAK6nC,YAAYl5B,IA2DrC,OAzDA4K,EAAWrM,UAAUyH,SAAW,WAC5B,IAAImzB,EAAW9nC,KAAK4nC,SACpB,OAAKE,GAA+B,GAAnBA,EAAS/2B,OAGnB+2B,EAASz7B,KAAK,MAFV,MAIfkN,EAAWwuB,iBAAmB,SAAUxmC,GACpC,IAAIymC,EAAWzmC,EAAIuC,MAAM,KACzB,GAAuB,GAAnBkkC,EAASj3B,OAAa,CAEtB,IAAIk3B,EAASD,EAAS,GAAG1M,OACrB4M,EAASF,EAAS,GAAG1M,OACrB6M,EAAcC,QAAQH,EAAOnT,MAAM,kCACnCuT,EAAcD,QAAQF,EAAOpT,MAAM,iCACvC,OAAOqT,GAAeE,EAErB,OAAuB,GAAnBL,EAASj3B,QAEPq3B,QAAQ7mC,EAAIuzB,MAAM,mCAIjCvb,EAAWrM,UAAU26B,YAAc,SAAUl5B,GACzC,IAAI8oB,EAAM,GACN6Q,EAAa,GACb73B,EAAQ9B,EAAG7K,MAAM,KACrB,GAAI2M,EAAMM,OAAS,GACf,OAAO,KACX,IAAK,IAAI8C,EAAK,EAAG00B,EAAU93B,EAAOoD,EAAK00B,EAAQx3B,OAAQ8C,IAAM,CACzD,IACI20B,EADUD,EAAQ10B,GACHynB,OACnB,GAAoB,IAAhBkN,EAAKz3B,OAAT,CAGA,IAAI03B,EAAOD,EAAK1kC,MAAM,KAEtB,GAAoB,IAAhB2kC,EAAK13B,OACL,OAAO,KAGX,IAAKwI,EAAWwuB,iBAAiBU,EAAK,IAClC,OAAO,KAGX,GAAIH,EAAWG,EAAK,IAChB,OAAO,KAGPH,EAAWG,EAAK,KAAM,EAG1BhR,EAAInwB,KAAKkhC,IAEb,OAAO/Q,GAEXle,EAAWmvB,QAAS,EACbnvB,EAlEM,GAoEjB7L,EAAOvO,QAAUoa,G,kCCzEjB,IAAIoF,EAAY3e,MAAQA,KAAK2e,UAAa1f,OAAOgB,QAAU,SAAS2e,GAChE,IAAK,IAAIC,EAAG/N,EAAI,EAAGgO,EAAIvS,UAAUwE,OAAQD,EAAIgO,EAAGhO,IAE5C,IAAK,IAAI0F,KADTqI,EAAItS,UAAUuE,GACO7R,OAAOiO,UAAUuJ,eAAe3C,KAAK+K,EAAGrI,KACzDoI,EAAEpI,GAAKqI,EAAErI,IAEjB,OAAOoI,GAEPpM,EAAO,EAAQ,MACfC,EAAQ,EAAQ,MAChBmE,EAAM,EAAQ,MACd+xB,EAAY,EAAQ,MACpBh7B,EAAU,EAAQ,MAClBgF,EAAyB,EAAQ,MACjCD,EAAQ,WACR,SAASA,KAiUT,OA5TAA,EAAK4J,UAAY,SAAU9Z,EAAM4Z,GAC7B,IAAIhd,EAAQ,GACZ,GAAIoD,GAAQA,EAAKuO,QAA4B,iBAAXqL,EAG9B,IAFA,IAAIwsB,EAAapmC,EAAO,IACpBqmC,EAAUzsB,EAAOtY,MAAM,KAClBgN,EAAI,EAAGA,EAAI+3B,EAAQ93B,OAAQD,IAGhC,GAFIsL,EAASysB,EAAQ/3B,IACrBsL,EAAS1J,EAAK4oB,KAAKlf,KAC0B,IAA/BA,EAAOyO,QAAQ+d,GAAmB,CAC5CxpC,EAAQgd,EAAO0N,UAAU8e,EAAW73B,OAAQ83B,EAAQ/3B,GAAGC,QACvD,MAIZ,OAAO3R,GAKXsT,EAAK4oB,KAAO,SAAUvf,GAClB,MAAmB,iBAARA,EACAA,EAAIod,QAAQ,aAAc,IAG1B,IAOfzmB,EAAKo2B,mBAAqB,SAAUC,GAChC,IAAIC,EAAS,SAAUC,EAAGn4B,GACtB,OAAOo4B,OAAOC,aAAcF,GAAKn4B,EAAK,MAKtCs4B,EAAIL,EAAMjjC,KAHM,SAAUmjC,GAC1B,OAAOD,EAAOC,EAAG,IAAMD,EAAOC,EAAG,IAAMD,EAAOC,EAAG,GAAKD,EAAOC,EAAG,MAEnC58B,KAAK,IAElCwS,GADI6T,OAAOC,KAAOD,OAAOC,KAAKyW,EAAG,UAAY,IAAI1W,OAAO0W,EAAG,WACrDz0B,SAAS,UACnB,OAAOkK,EAAE1C,OAAO,EAAG0C,EAAEgM,QAAQ,OAKjCnY,EAAK22B,SAAW,WACZ,OAAQ,WAAcvoB,KAAKwoB,SAAY,GAK3C52B,EAAK4lB,UAAY,WACb,OAAO5lB,EAAK22B,WAAa,YAM7B32B,EAAKwlB,WAAa,WAId,IAHA,IAEcqR,EAFVC,EAAY,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAExFC,EAAM,GACDjiC,EAAI,EAAGA,EAAI,EAAGA,IAEnBiiC,GACID,EAAgB,IAFpBD,EAAM72B,EAAK22B,aAGHG,EAAUD,GAAO,EAAI,IACrBC,EAAUD,GAAO,EAAI,IACrBC,EAAUD,GAAO,GAAK,IACtBC,EAAUD,GAAO,GAAK,IACtBC,EAAUD,GAAO,GAAK,IACtBC,EAAUD,GAAO,GAAK,IACtBC,EAAUD,GAAO,GAAK,IAGlC,IAAIG,EAAkBF,EAAU,EAAqB,EAAhB1oB,KAAKwoB,SAAgB,GAC1D,OAAOG,EAAIttB,OAAO,EAAG,GAAKstB,EAAIttB,OAAO,EAAG,GAAK,IAAMstB,EAAIttB,OAAO,GAAI,GAAKutB,EAAkBD,EAAIttB,OAAO,GAAI,GAAKstB,EAAIttB,OAAO,GAAI,KAEhIzJ,EAAKi3B,aAAe,SAAUh7B,GAC1B,OAAqB,KAAdA,EAAGoC,QAAwB,qCAAPpC,GAK/B+D,EAAKsnB,QAAU,SAAU4P,GACrB,MAA+C,mBAAxC3qC,OAAOiO,UAAUyH,SAASb,KAAK81B,IAK1Cl3B,EAAK+zB,QAAU,SAAUmD,GACrB,OAAOA,aAAetpC,OAE1BoS,EAAKm3B,YAAc,SAAUC,GACzB,IAAIC,SAAkBD,EACtB,MAAoB,WAAbC,GAAsC,WAAbA,GAAsC,YAAbA,GAK7Dr3B,EAAKs3B,OAAS,SAAUJ,GACpB,MAA+C,kBAAxC3qC,OAAOiO,UAAUyH,SAASb,KAAK81B,IAK1Cl3B,EAAKinB,aAAe,SAAUsQ,IACtB1Q,MAAM0Q,IAAYA,EAAU,KAC5BA,EAAU,GAEd,IAAIC,GAAQD,EAAU,IAAQ,IAAIE,QAAQ,GAAGhR,QAAQ,UAAW,IAC5D7X,EAAM,GAAKR,KAAK6hB,MAAMsH,EAAU,KAAe,GAC/CG,EAAO,GAAKtpB,KAAK6hB,MAAMsH,EAAU,MAAoB,GACrDI,EAAOvpB,KAAK6hB,MAAMsH,EAAU,OAKhC,OAJAC,EAAMA,EAAIrf,QAAQ,KAAO,EAAI,IAAMqf,EAAMA,EACzC5oB,EAAMA,EAAIvQ,OAAS,EAAI,IAAMuQ,EAAMA,GAEpB+oB,EAAO,EAAIA,EAAO,IAAM,KADvCD,EAAOA,EAAKr5B,OAAS,EAAI,IAAMq5B,EAAOA,GAEb,IAAM9oB,EAAM,IAAM4oB,GAO/Cx3B,EAAK43B,aAAe,SAAU7qC,GAG1B,IAAI8qC,EAAa9qC,EACjB,MAAO,CACHc,QAASd,EAAIc,QACbqjC,KAAM2G,EAAW3G,MAAQ2G,EAAW57B,IAAM,KAQlD+D,EAAK83B,cAAgB,SAAUC,GAC3B,OAAIA,aAAwBnqC,MACjBoS,EAAK43B,aAAaG,GAEM,mBAAxBA,EAAaC,OACbD,EAAaC,SAEjBD,GAKX/3B,EAAKwmB,kBAAoB,SAAU0Q,GAC/B,GAAmB,iBAARA,EAAX,CAIA,IAAI9jC,EAAM,GACV,IAAK,IAAI6kC,KAASf,EAAK,CACnB,IAAIvK,EAAW,GACXoL,EAAeb,EAAIe,GACnBZ,SAAkBU,EACtB,GAAI/3B,EAAKm3B,YAAYY,GACjBpL,EAAWoL,EAAa91B,gBAEvB,GAAqB,OAAjB81B,GAAsC,cAAbV,EAC9B1K,EAAW,OAEV,IAAiB,aAAb0K,EAAyB,CAC9Bp8B,EAAQsI,KAAK,QAAU00B,EAAQ,qCAC/B,SAGA,IAAIC,EAAel4B,EAAKsnB,QAAQyQ,GAAgBA,EAAe/3B,EAAK83B,cAAcC,GAClF,IAEQpL,EADA3sB,EAAKm3B,YAAYe,GACNA,EAGA/X,KAAKC,UAAU8X,GAGlC,MAAOxqC,GACHi/B,EAAWoL,EAAa9qC,YAAY6C,KAAKmS,WAAa,YAAcvU,EAAEG,QAAU,IAChFoN,EAAQsI,KAAK,QAAU00B,EAAQ,8BAGvC7kC,EAAI6kC,GAAStL,EAASvV,UAAU,EAAGpX,EAAKm4B,qBAE5C,OAAO/kC,EAnCH6H,EAAQsI,KAAK,4CAyCrBvD,EAAKmC,4BAA8B,SAAU9H,EAAQ4O,GACjD,IAAImvB,EAAkB/9B,GAAUA,EAAOkI,QAAUlI,EAAOkI,OAAOgf,iCAC/D,IAAK6W,GAA6C,GAA1BA,EAAgB/5B,SAAgB4K,EACpD,OAAO,EAEX,IAAK,IAAI7K,EAAI,EAAGA,EAAIg6B,EAAgB/5B,OAAQD,IAExC,GADY,IAAIi6B,OAAOD,EAAgBh6B,GAAGqoB,QAAQ,MAAO,KAAMA,QAAQ,MAAO,OACpEhoB,KAAKyF,EAAIgB,MAAM+D,GAAYrD,UACjC,OAAO,EAGf,OAAO,GAEX5F,EAAK6E,4BAA8B,SAAU5B,EAAUpU,GACnD,IAAIypC,EAAiBr1B,EAAS8F,SAAW9F,EAAS8F,QAAQ9I,EAAuByC,sBACjF,GAAI41B,EAEA,IADA,IAAIC,EAAYD,EAAelnC,MAAM,KAC5BgN,EAAI,EAAGA,EAAIm6B,EAAUl6B,SAAUD,EAAG,CACvC,IAAIo6B,EAAWD,EAAUn6B,GAAGhN,MAAM,KAClC,GAAuB,GAAnBonC,EAASn6B,QAAem6B,EAAS,IAAM3pC,EACvC,OAAO2pC,EAAS,KAehCx4B,EAAK8kB,YAAc,SAAUviB,EAAQ0G,EAAY3E,EAAgBm0B,GACzDxvB,GAA2C,IAA7BA,EAAWkP,QAAQ,QACjClP,EAAa,SAAWA,GAE5B,IAAIyvB,EAAmBx0B,EAAIgB,MAAM+D,GAC7BpI,EAAUoL,EAAS,GAAI3H,EAAgB,CAAEmC,KAAMiyB,EAAiB9yB,SAAUG,KAAM2yB,EAAiB3yB,KAAM7T,KAAMwmC,EAAiBnzB,WAC9HozB,OAAW7nC,EAOf,GANkC,WAA9B4nC,EAAiBhyB,WACjBiyB,EAAWp2B,EAAOof,oBAAiB7wB,GAEL,UAA9B4nC,EAAiBhyB,WACjBiyB,EAAWp2B,EAAOkf,mBAAgB3wB,GAElC6nC,EAAU,CACqB,IAA3BA,EAASxgB,QAAQ,QACjBwgB,EAAW,QAAUA,GAEzB,IAAIC,EAAiB10B,EAAIgB,MAAMyzB,GAEC,WAA5BC,EAAelyB,UACfzL,EAAQsI,KAAK,4CACbo1B,OAAW7nC,GAGX+P,EAAUoL,EAAS,GAAIpL,EAAS,CAAE4F,KAAMmyB,EAAehzB,SAAUG,KAAM6yB,EAAe7yB,MAAQ,KAAM7T,KAAM+W,EAAYF,QAASkD,EAAS,GAAIpL,EAAQkI,QAAS,CAAE8vB,KAAMH,EAAiB9yB,aAG9L,IAAIkzB,EAAwC,WAA9BJ,EAAiBhyB,WAA0BiyB,EAWzD,OAVIG,QAAiChoC,IAAtByR,EAAOuf,WAClBjhB,EAAQ8F,MAAQpE,EAAOuf,WAEjBgX,QAAgChoC,IAArByR,EAAOsf,UAGnBiX,IAELj4B,EAAQ8F,MAAQ3G,EAAK+4B,oBAJrBl4B,EAAQ8F,MAAQpE,EAAOsf,UAMvBiX,EACO/4B,EAAMW,QAAQG,EAAS43B,GAGvB34B,EAAKY,QAAQG,EAAS43B,IAOrCz4B,EAAK2C,6BAA+B,SAAUtI,EAAQqG,EAAS+B,GAC3D,IAAI/E,EACJ,GAAiC,iBAAtB+E,EACP/E,EAAS+E,OAER,GAAIA,aAA6BmB,MAClClG,EAAS+E,EAAkB9I,KAAK,UAE/B,GAAI8I,GAA2D,mBAA/BA,EAAkBR,SAEnD,IACIvE,EAAS+E,EAAkBR,WAE/B,MAAOlV,GACHkO,EAAQyD,KAAK,0FAA2F3R,EAAK0V,GAGjH/E,EACAsC,EAAKg5B,iCAAiC3+B,EAAQqG,EAAShD,GAGvDgD,EAAQ4B,UAAUrC,EAAuByC,qBAAsBzC,EAAuB8J,wBAA0B,IAAM1P,EAAOkI,OAAOC,gBAG5IxC,EAAKg5B,iCAAmC,SAAU3+B,EAAQ4I,EAAUR,GAChE,IAAIw2B,EAAax2B,EAAkBrR,MAAM,KACrCvC,EAAMoR,EAAuB8J,wBAA0B,IAC/CkvB,EAAWC,MAAK,SAAUxsC,GAAS,OAAOA,EAAM0qB,UAAU,EAAGvoB,EAAIwP,UAAYxP,MAErFoU,EAASX,UAAUrC,EAAuByC,qBAAsBD,EAAoB,IAAMxC,EAAuB8J,wBAA0B,IAAM1P,EAAOkI,OAAOC,gBAGvKxC,EAAKm4B,oBAAsB,KAC3Bn4B,EAAK+4B,mBAAqB,IAAIh5B,EAAMo5B,MAAM,CACtCC,cAAenD,EAAUoD,gBAAkBpD,EAAUqD,gBACjDrD,EAAUsD,gBAAkBtD,EAAUuD,oBAEvCx5B,EAlUA,GAoUXhF,EAAOvO,QAAUuT,G,4BClVjBzT,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAI8d,EAAyB,EAAQ,MACjCuT,EAAgB,EAAQ,MAsB5BtxB,EAAQ2nC,qCArBR,SAA8C9U,EAAUjlB,GAMpD,OAJIA,GACAA,EAAO6zB,YAAY5O,GAGfA,EAAStZ,KAAKmY,UAClB,KAAKJ,EAAcK,oBAAoBtD,UACnCtQ,EAAuBgH,iBACvB,MACJ,KAAKuM,EAAcK,oBAAoBnD,QACnC,IAAIsM,EAAcjI,EAAStZ,KAAKugB,SAChC/b,EAAuB6G,aAAakW,EAAYthB,SAAUshB,EAAYrhB,SACtE,MACJ,KAAK6X,EAAcK,oBAAoBlD,WACnC,IAAIue,EAAuBna,EAAStZ,KAAKugB,SACzC/b,EAAuBiH,gBAAgBgoB,EAAqBxzB,SAAUwzB,EAAqBvzB,SAGnG,OAAO,I,4BCtBX3Z,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIyX,EAAY,EAAQ,MA0BxB,SAASu1B,EAAoBtC,GACzB,IACIuC,EAAY,WACZv0B,EAAO,KACX,IAAKgyB,EACD,OAAO,EAEX,KAAOA,EAAM/4B,OAAS,GAClB+4B,GAAgBA,EAEpB,IAAK,IAAIh5B,EAAI,EAAGA,EAAIg5B,EAAM/4B,OAAQD,IAE9BgH,IAAWA,GAAQ,GAAKA,EAAQ,GAAKgyB,EAAMwC,WAAWx7B,GAAK,EAG/D,OADAgH,EAAOA,IAbU,WAaUu0B,EAAYvrB,KAAKyrB,IAAIz0B,IACjCu0B,EAAa,IAjBhCltC,EAAQ0nC,2BApBR,SAAoC7U,EAAUjc,GAC1C,IAAIge,EAAqB/B,EAAShC,WAElC,OAAI+D,SAAmEA,GAAsB,QAGpF/B,EAAStZ,MAAQ7B,EAAU4Z,cAAc/C,SAAW7W,EAAU+Z,wBAAwBoB,EAAStZ,KAAKmY,aAIpG9a,EAAe4H,oBAAsB5H,EAAe4H,mBAAmBjP,UAE9D09B,EAAoBr2B,EAAe4H,mBAAmBjP,UAAUC,IAAMolB,EAIrD,IAAhBjT,KAAKwoB,SAAkBvV,IAuB9C50B,EAAQitC,oBAAsBA,G,4BC5C9B,SAASpb,EAASD,GACd,IAAK,IAAIva,KAAKua,EAAQ5xB,EAAQsX,eAAeD,KAAIrX,EAAQqX,GAAKua,EAAEva,IAEpEvX,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD4xB,EAAS,EAAQ,OACjBA,EAAS,EAAQ,Q,4BCLjB/xB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAcIotC,EAdA5+B,EAA4B,EAAQ,KACpCd,EAAqB,EAAQ,MAC7BuE,EAAwB,EAAQ,MAChC6L,EAAyB,EAAQ,MACjClK,EAA8B,EAAQ,MACtCmK,EAA0B,EAAQ,KAClCrK,EAAuB,EAAQ,MAC/BnF,EAAU,EAAQ,MAClB8+B,EAAmB,EAAQ,MAC3BC,EAAsB,EAAQ,MAGlCvtC,EAAQ48B,gBAAkB,EAA1B,MACA58B,EAAQ0X,UAAY,EAApB,MAEA,SAAW21B,GAIPA,EAAwBA,EAA4B,GAAI,GAAK,KAI7DA,EAAwBA,EAAoC,WAAI,GAAK,aARzE,CASGA,EAA0BrtC,EAAQqtC,0BAA4BrtC,EAAQqtC,wBAA0B,KAEnG,IAQIG,EAGAC,EAGAC,EACAC,EACAC,EACAC,EACAC,EACAC,EAEAC,EArBAC,GAAa,EACbC,GAAgB,EAChBC,GAAgB,EAChBC,GAAiB,EACjBC,GAAc,EACdC,GAAkB,EAClBC,GAAe,EACfC,GAAiB,EAEjBC,GAAwB,EACxBC,GAAuB,EAEvBC,OAAqBtqC,EACrBuqC,OAAqBvqC,EAOrBwqC,GAAa,EAuCjB,SAASC,IAiBL,OAhBM9uC,EAAQ+uC,eACVF,GAAa,EACbnB,EAAS1/B,OAAOigC,EAAYC,GAC5BP,EAAY3/B,OAAOmgC,GACnBP,EAAa5/B,OAAOogC,GACpBP,EAAmB7/B,OAAO0gC,EAAsBjB,GAChDK,EAAgB5vB,mBAAmBswB,EAAgBhB,GACnDM,EAAgB9/B,OAAOqgC,GACvBN,EAAgB//B,OAAOsgC,GACnBtuC,EAAQgvC,mBAAqBP,GAC7BzuC,EAAQgvC,kBAAkBhhC,OAAOygC,IAIrCjgC,EAAQyD,KAAK,uCAEVg9B,EAxBXjvC,EAAQkvC,MApBR,SAAerb,GAkBX,OAjBK7zB,EAAQ+uC,cAYTvgC,EAAQsI,KAAK,wCAXb9W,EAAQ+uC,cAAgB,IAAI/uC,EAAQ48B,gBAAgB/I,GACpD6Z,EAAW,IAAI//B,EAAmB3N,EAAQ+uC,eAC1CpB,EAAc,IAAIz7B,EAAsBlS,EAAQ+uC,eAChDnB,EAAe,IAAI7vB,EAAuB/d,EAAQ+uC,eAClDjB,EAAkB,IAAI9vB,EAAwBhe,EAAQ+uC,eACtDhB,EAAkB,IAAIl6B,EAA4B7T,EAAQ+uC,eACrDlB,IACDA,EAAqB,IAAIN,EAAoBztB,6BAA6B9f,EAAQ+uC,iBAMtF/uC,EAAQ+uC,eAAiB/uC,EAAQ+uC,cAAczkB,SAC/CtqB,EAAQ+uC,cAAczkB,QAAQmI,uBAAuB8b,EAAcI,EAAoBC,GAEpFK,GA4BXjvC,EAAQ8uC,MAAQA,EAoBhB9uC,EAAQmvC,sBANR,WACI,OAAIX,EACO//B,EAA0BA,0BAA0BC,oBAExD,MAYX1O,EAAQovC,2BAHR,SAAoCx/B,GAChC,OAAOnB,EAA0BA,0BAA0BwB,aAAaL,IAM5E,IAAIq/B,EAAiB,WACjB,SAASA,KA2JT,OAlJAA,EAAcI,0BAA4B,SAAUpvC,GAEhD,OADA0T,EAAqB4B,WAAatV,IAAUotC,EAAwBiC,WAC7DL,GAQXA,EAAcM,sBAAwB,SAAUtvC,EAAOiO,GAOnD,YAN0B,IAAtBA,IAAgCA,GAAoB,GACxD+/B,EAAahuC,EACbiuC,EAAgBhgC,EACZ2gC,GACAnB,EAAS1/B,OAAO/N,EAAOiO,GAEpB+gC,GAOXA,EAAcO,yBAA2B,SAAUvvC,GAK/C,OAJAkuC,EAAgBluC,EACZ4uC,GACAlB,EAAY3/B,OAAO/N,GAEhBgvC,GAQXA,EAAcQ,0BAA4B,SAAUxvC,EAAOygB,QACxB,IAA3BA,IAAqCA,GAAyB,GAClE0tB,EAAiBnuC,EACjB,IAAIyvC,EAAwBnC,EAAoBztB,6BAA6BW,aAAaC,GAO1F,OANAguB,EAAuBgB,EAAsBzhC,UAC7Cw/B,EAA2BiC,EAAsB1vB,gBAC7C6uB,IACAjB,EAAa5/B,OAAO/N,GACpB4tC,EAAmB7/B,OAAO0hC,EAAsBzhC,UAAWyhC,EAAsB1vB,kBAE9EivB,GAOXA,EAAcU,uBAAyB,SAAU1vC,GAK7C,OAJAouC,EAAcpuC,EACV4uC,GACAf,EAAgB9/B,OAAO/N,GAEpBgvC,GAOXA,EAAcW,2BAA6B,SAAU3vC,GAKjD,OAJAquC,EAAkBruC,EACd4uC,GACAd,EAAgB//B,OAAO/N,GAEpBgvC,GAQXA,EAAcY,6BAA+B,SAAU5vC,EAAO6vC,GAM1D,OALAtB,EAAiBvuC,EACjButC,EAAkBsC,EACdjB,GACAf,EAAgB5vB,mBAAmBje,EAAO6vC,GAEvCb,GAYXA,EAAcxc,uBAAyB,SAAUxyB,EAAOyyB,EAAgBC,GAOpE,OANA4b,EAAetuC,EACf0uC,EAAqBjc,EACrBkc,EAAqBjc,EACjB3yB,EAAQ+uC,eAAiB/uC,EAAQ+uC,cAAczkB,SAC/CtqB,EAAQ+uC,cAAczkB,QAAQmI,uBAAuBxyB,EAAOyyB,EAAgBC,GAEzEsc,GAQXA,EAAcc,mBAAqB,SAAUC,EAAoBC,GAK7D,YAJ2B,IAAvBD,IAAiCA,GAAqB,QAC7B,IAAzBC,IAAmCA,GAAuB,GAC9DzhC,EAAQiuB,YAAcuT,EACtBxhC,EAAQkuB,iBAAmBuT,EACpBhB,GAMXA,EAAciB,mBAAqB,SAAUliC,GAEzC,YADe,IAAXA,IAAqBA,GAAS,GAC7BhO,EAAQ+uC,gBAKR/uC,EAAQgvC,mBAAqBhhC,GAE9BhO,EAAQgvC,kBAAoB,IAAI1B,EAAiBttC,EAAQ+uC,cAAcj5B,OAAOue,oBAC9E2Z,EAA0B,IAAIjwB,EAAuB/d,EAAQgvC,kBAAmB,KAAM,GACtFhvC,EAAQgvC,kBAAkB1N,aAAa0M,GACvChuC,EAAQ+uC,cAAcnH,iBAAmB5nC,EAAQgvC,mBAE5ChvC,EAAQgvC,mBAEbhvC,EAAQgvC,kBAAkBhhC,OAAOA,GAErCygC,EAAwBzgC,EACjBihC,IAfHzgC,EAAQyD,KAAK,kEACNg9B,IAiBfA,EAAcH,MAAQA,EACfG,EA5JS,GA8JpBjvC,EAAQivC,cAAgBA,EA+BxBjvC,EAAQ0D,QA3BR,WACI1D,EAAQ+uC,cAAgB,KACxBF,GAAa,EACTnB,GACAA,EAAShqC,UAETiqC,GACAA,EAAYjqC,UAEZkqC,GACAA,EAAalqC,UAEbmqC,GACAA,EAAmBnqC,UAEnBoqC,GACAA,EAAgBpqC,UAEhBqqC,GACAA,EAAgBrqC,UAEhB1D,EAAQgvC,oBACRhvC,EAAQgvC,kBAAkBhhC,QAAO,GACjCygC,GAAwB,EACxBzuC,EAAQgvC,uBAAoB3qC,K,4BCpUpC,MAAM8rC,EAAY3rC,QAAQ4rC,QAAQ,cAC5BC,EAAYF,EAAUG,UAAUD,UAEhCE,EAAS,CACb,SAAY,EAAQ,MACpB,QAAW,EAAQ,MACnB,OAAU,EAAQ,OAGdC,EAAa,IAAIrmC,IAEvB,SAASsmC,IACP5vC,KAAK8N,SAAU,EACf9N,KAAK6vC,QAAU,EAGjB,SAASC,IACP,MAAMC,EAAU/vC,KAAK+vC,QAAU,GACzBC,EAAShwC,KAAKgwC,OAAS,GACvBC,EAAUjwC,KAAKiwC,QAAU,GACzBC,EAAalwC,KAAKkwC,WAAa,GAErClwC,KAAKmwC,KAAO,SAAUC,EAAKC,EAAUC,EAAWC,GAE9C,GAAIF,IAAab,EAMjB,IAAK,MAAMgB,KAAQT,EACjBS,EAAKJ,EAAKpwC,KAAMqwC,EAAUC,EAAWC,QANrCZ,EAAWlmC,IAAI2mC,IAUnBpwC,KAAKywC,IAAM,SAAUL,GACnB,IAAIT,EAAWe,IAAIN,GAGnB,IAAK,MAAMI,KAAQR,EACjBQ,EAAKJ,EAAKpwC,OAIdA,KAAK2/B,KAAO,SAAUyQ,EAAKO,GACzB,IAAIhB,EAAWe,IAAIN,GAGnB,IAAK,MAAMI,KAAQP,EACjBO,EAAKJ,EAAKpwC,KAAM2wC,IAIpB3wC,KAAK8J,QAAU,SAAUsmC,GAEvB,GAAIT,EAAWe,IAAIN,GACjBT,EAAWiB,OAAOR,QAKpB,IAAK,MAAMI,KAAQN,EACjBM,EAAKJ,IAYX,SAASS,EAAc9H,EAAOt9B,GAC5B,MAAMpE,EAAQ0hC,EAAMle,QAAQpf,IACb,IAAXpE,GACJ0hC,EAAM3N,OAAO/zB,EAAO,GAUtB,SAASypC,IACP9wC,KAAK+wC,OAAS,IAAInB,EAClB5vC,KAAKgxC,OAAS,IAAIlB,EAGlB9vC,KAAKR,QAAU,WAGfQ,KAAKixC,UAAY3B,EAAUG,UAG3B,IAAK,MAAMluC,KAAOtC,OAAOga,KAAKy2B,GAC5BA,EAAOnuC,GAAKuS,KAAK9T,MAIf2D,QAAQoc,IAAItJ,eAAe,4BAC7BjW,QAAQ4Q,KAAK,2DAEfk+B,EAAU4B,WAAW,CACnBf,KAAMnwC,KAAKgxC,OAAOb,KAClBM,IAAKzwC,KAAKgxC,OAAOP,IACjB9Q,KAAM3/B,KAAKgxC,OAAOrR,KAClB71B,QAAS9J,KAAKgxC,OAAOlnC,UA3CzBgmC,EAAM5iC,UAAUzD,IAAM,SAAU0nC,GAC1BA,EAAMhB,MAAMnwC,KAAK+vC,QAAQzoC,KAAK6pC,EAAMhB,MACpCgB,EAAMV,KAAKzwC,KAAKgwC,OAAO1oC,KAAK6pC,EAAMV,KAClCU,EAAMxR,MAAM3/B,KAAKiwC,QAAQ3oC,KAAK6pC,EAAMxR,MACpCwR,EAAMrnC,SAAS9J,KAAKkwC,WAAW5oC,KAAK6pC,EAAMrnC,UAShDgmC,EAAM5iC,UAAUkkC,OAAS,SAAUD,GAC7BA,EAAMhB,MAAMU,EAAc7wC,KAAK+vC,QAASoB,EAAMhB,MAC9CgB,EAAMV,KAAKI,EAAc7wC,KAAKgwC,OAAQmB,EAAMV,KAC5CU,EAAMxR,MAAMkR,EAAc7wC,KAAKiwC,QAASkB,EAAMxR,MAC9CwR,EAAMrnC,SAAS+mC,EAAc7wC,KAAKkwC,WAAYiB,EAAMrnC,UA6B1D4D,EAAOvO,QAAU2xC,EAEjBA,EAAU5jC,UAAUmkC,SAAW,SAAUF,GACvCnxC,KAAKgxC,OAAOvnC,IAAI0nC,IAGlBL,EAAU5jC,UAAUokC,YAAc,SAAUH,GAC1CnxC,KAAKgxC,OAAOI,OAAOD,IAGrBL,EAAU5jC,UAAUC,OAAS,WAC3BnN,KAAK+wC,OAAOjjC,SAAU,EACtBwhC,EAAUniC,UAGZ2jC,EAAU5jC,UAAU2C,QAAU,WAC5B7P,KAAK+wC,OAAOjjC,SAAU,EACtBwhC,EAAUz/B,Y,4BClIZ,MAAMihC,EAAY,EAAQ,MAI1B,GAAIS,OAAOC,WAAY,CAErB,GAAID,OAAOC,WAAWhyC,UAAY,WAKhC,MAAM,IAAIc,MAAM,8CAJhBoN,EAAOvO,QAAUoyC,OAAOC,gBAOP,EAAQ,MAIhBplC,OAAOqlC,QAAO,SAAUhxC,EAAO85B,GACxC,OAAOA,EAAOnuB,QAAO,SAAUslC,GAC7B,MAAMC,EAAWD,EAASE,cAG1B,QAASD,GAAYA,EAASjY,MAAM,EAAGhD,UAAU3lB,UAAY2lB,iBAIjEhpB,EAAOvO,QAAUoyC,OAAOC,WAAa,IAAIV,G,oEC3B3C,SAASe,KAETnkC,EAAOvO,QAAU,WACf,MAAMgyC,EAAQnxC,KAAKgxC,OACbc,EAAQ9xC,KAAK+wC,OAEbgB,EAAcpuC,QAAQquC,SAC5BruC,QAAQquC,SAAW,WACjB,IAAKF,EAAMhkC,QAAS,OAAOikC,EAAYh+B,MAAMpQ,QAAS4I,WAEtD,MAAMi3B,EAAO,IAAIltB,MAAM/J,UAAUwE,QACjC,IAAK,IAAID,EAAI,EAAGA,EAAIvE,UAAUwE,OAAQD,IACpC0yB,EAAK1yB,GAAKvE,UAAUuE,GAEtB,MAAMhM,EAAW0+B,EAAK,GAEtB,GAAwB,mBAAb1+B,EACT,MAAM,IAAImtC,UAAU,8BAGtB,MAAMxgC,EAAS,IAAIogC,EACbzB,IAAQ0B,EAAMjC,QA+BpB,OA5BAsB,EAAMhB,KAAKr8B,KAAKrC,EAAQ2+B,EAAK,EAAG,KAAM,MAGtC5M,EAAK,GAAK,WAER2N,EAAMV,IAAI38B,KAAKrC,EAAQ2+B,GAEvB,IAAIO,GAAW,EACf,IACE7rC,EAASiP,MAAM/T,KAAMuM,WACrBokC,GAAW,EACX,QAIGA,GAAYhtC,QAAQuuC,cAAc,qBAAuB,GAC1DvuC,QAAQ0H,KAAK,qBAAqB,WAChC8lC,EAAMxR,KAAK7rB,KAAKrC,EAAQ2+B,GAAK,GAC7Be,EAAMrnC,QAAQgK,KAAK,KAAMs8B,MAM/Be,EAAMxR,KAAK7rB,KAAKrC,EAAQ2+B,GAAK,GAC7Be,EAAMrnC,QAAQgK,KAAK,KAAMs8B,IAGpB2B,EAAYh+B,MAAMpQ,QAAS6/B,M,sBCpDtC,SAAS2O,KAETzkC,EAAOvO,QAAU,WACf,MAAMgyC,EAAQnxC,KAAKgxC,OACbc,EAAQ9xC,KAAK+wC,OAEbqB,EAAUb,OAAOa,QAMjBC,EAAUD,EAAQllC,UAAUolC,KAGlC,SAASC,EAAmBxjC,EAAI0C,EAAQ2+B,EAAKoC,GAC3C,MAAI,mBAAsBzjC,EACjByjC,EAgBX,SAAwCpC,GACtC,OAAO,SAAoCn/B,GAEzC,OADAkgC,EAAMrnC,QAAQgK,KAAK,KAAMs8B,GAClBn/B,GAlBHwhC,CAA+BrC,GAsBvC,SAAuCA,GACrC,OAAO,SAAkCn/B,GAEvC,MADAkgC,EAAMrnC,QAAQgK,KAAK,KAAMs8B,GACnBn/B,GAxBFyhC,CAA8BtC,GAG7B,WACLe,EAAMV,IAAI38B,KAAKrC,EAAQ2+B,GACvB,IACE,OAAOrhC,EAAGgF,MAAM/T,KAAMuM,WACtB,QACA4kC,EAAMxR,KAAK7rB,KAAKrC,EAAQ2+B,GAAK,GAC7Be,EAAMrnC,QAAQgK,KAAK,KAAMs8B,KAf/BgC,EAAQllC,UAAUolC,KAkClB,SAAqBK,EAAaC,GAChC,IAAKd,EAAMhkC,QAAS,OAAOukC,EAAQv+B,KAAK9T,KAAM2yC,EAAaC,GAE3D,MAAMnhC,EAAS,IAAI0gC,EACb/B,IAAQ0B,EAAMjC,QAIpB,OAFAsB,EAAMhB,KAAKr8B,KAAKrC,EAAQ2+B,EAAK,EAAG,KAAM,MAE/BiC,EAAQv+B,KACb9T,KACAuyC,EAAmBI,EAAalhC,EAAQ2+B,GAAK,GAC7CmC,EAAmBK,EAAYnhC,EAAQ2+B,GAAK,O,4BC1DlD,MAAMyC,EAAS,EAAQ,MAEvB,SAASC,KACT,SAASC,KACT,SAASC,KAET,MAAMC,EAAa,IAAIC,IACjBC,EAAc,IAAID,IAClBE,EAAe,IAAIF,IAEzB,IAAIG,EAAiB,KACjBC,GAAoB,EAgBxB,SAASC,EAAWpC,EAAOW,EAAO0B,EAAOC,EAASC,EAAQC,EAAUC,GAClE,MAAMC,EAAWhB,EAAOW,GAClBM,EAAajB,EAAOY,GAG1BZ,EAAOW,GAAS,WACd,IAAK1B,EAAMhkC,QAAS,OAAO+lC,EAAS9/B,MAAM8+B,EAAQtmC,WAElD,MAAMi3B,EAAO,IAAIltB,MAAM/J,UAAUwE,QACjC,IAAK,IAAID,EAAI,EAAGA,EAAIvE,UAAUwE,OAAQD,IACpC0yB,EAAK1yB,GAAKvE,UAAUuE,GAEtB,MAAMhM,EAAW0+B,EAAK,GAEtB,GAAwB,mBAAb1+B,EACT,MAAM,IAAImtC,UAAU,0CAGtB,MAAMxgC,EAAS,IAAIiiC,EACbtD,IAAQ0B,EAAMjC,QACpB,IAAIkE,EA+CJ,OA5CA5C,EAAMhB,KAAKr8B,KAAKrC,EAAQ2+B,EAAK,EAAG,KAAM,MAGtC5M,EAAK,GAAK,WAER6P,EAAiBU,EACjB5C,EAAMV,IAAI38B,KAAKrC,EAAQ2+B,GAEvB,IAAIO,GAAW,EACf,IACE7rC,EAASiP,MAAM/T,KAAMuM,WACrBokC,GAAW,EACX,QAIIA,GAAYhtC,QAAQuuC,cAAc,qBAAuB,GAC3DvuC,QAAQ0H,KAAK,qBAAqB,WAEhC8lC,EAAMxR,KAAK7rB,KAAKrC,EAAQ2+B,GAAK,GAE7BuD,EAAS/C,OAAOmD,GAChB5C,EAAMrnC,QAAQgK,KAAK,KAAMs8B,MAM/Be,EAAMxR,KAAK7rB,KAAKrC,EAAQ2+B,GAAK,GAC7BiD,EAAiB,MAGbO,GAAcN,KAChBA,GAAoB,EACpBK,EAAS/C,OAAOmD,GAChB5C,EAAMrnC,QAAQgK,KAAK,KAAMs8B,KAI7B2D,EAAUF,EAAS9/B,MAAM8+B,EAAQrP,GAGjCmQ,EAAS3e,IAAI+e,EAAS3D,GAEf2D,GAITlB,EAAOY,GAAW,SAAUM,GAG1B,GAAIV,IAAmBU,GAAuB,OAAZA,EAChCT,GAAoB,OAIjB,GAAIK,EAASjD,IAAIqD,GAAU,CAC9B,MAAM3D,EAAMuD,EAAS1lC,IAAI8lC,GACzBJ,EAAS/C,OAAOmD,GAChB5C,EAAMrnC,QAAQgK,KAAK,KAAMs8B,GAG3B0D,EAAW//B,MAAM8+B,EAAQtmC,YAnG7BmB,EAAOvO,QAAU,WACfo0C,EAAWvzC,KAAKgxC,OAAQhxC,KAAK+wC,OAAQ,aAAc,eAAgB+B,EAAaG,GAAY,GAC5FM,EAAWvzC,KAAKgxC,OAAQhxC,KAAK+wC,OAAQ,cAAe,gBAAiBgC,EAAcI,GAAa,GAChGI,EAAWvzC,KAAKgxC,OAAQhxC,KAAK+wC,OAAQ,eAAgB,iBAAkBiC,EAAeI,GAAc,GAEpG7B,OAAOlf,WAAawgB,EAAOxgB,WAC3Bkf,OAAO/xB,YAAcqzB,EAAOrzB,YAC5B+xB,OAAOvmC,aAAe6nC,EAAO7nC,aAE7BumC,OAAO3e,aAAeigB,EAAOjgB,aAC7B2e,OAAO5xB,cAAgBkzB,EAAOlzB,cAC9B4xB,OAAOyC,eAAiBnB,EAAOmB,iB,sBCxBjCtmC,EAAOvO,QAAU,CAACizC,EAAS6B,IAGlB,cAA6B7B,EAClCzyC,YAAYu0C,GACV,IAAInmC,EAASy1B,EACbl5B,OAUA,SAAyBmsB,EAAS0d,GAChCpmC,EAAU/N,KACVwjC,EAAO,CAIP,SAAwBvyB,GAEtB,OADAgjC,EAAiBG,GAAS,GACnB3d,EAAQxlB,IAGjB,SAAuBA,GAErB,OADAgjC,EAAiBG,GAAS,GACnBD,EAAOljC,QAtBlB,IAAImjC,EAAUp0C,KAEd,IACEk0C,EAASngC,MAAMhG,EAASy1B,GACxB,MAAO/jC,GACP+jC,EAAK,GAAG/jC,GAGV,OAAO20C,K,eCjBb,IA+CIC,EAMA/E,EArDAgF,EAAO,aAiBPtiC,EAAY,GAMZo+B,EAAM,EAONmE,GAAc,EAOdC,EAAgB,GAsBpB,SAASC,EAAMC,EAAMC,GACnB,IAAIC,EAAaF,EAAK3jC,OAClB8jC,EAAcF,EAAM5jC,OACpB+jC,EAAW,GAEf,GAAmB,IAAfF,GAAoC,IAAhBC,EAAmB,OAAOC,EAElD,IAAK,IAAIC,EAAK,EAAGA,EAAIH,EAAYG,IAAKD,EAASC,GAAKL,EAAKK,GAEzD,GAAoB,IAAhBF,EAAmB,OAAOC,EAE9B,IAAK,IAAIhkC,EAAI,EAAGA,EAAI+jC,EAAa/jC,IAAK,CACpC,IAAIkkC,GAAU,EACd,IAAKD,EAAI,EAAGA,EAAIH,EAAYG,IAC1B,GAAIL,EAAKK,GAAG3E,MAAQuE,EAAM7jC,GAAGs/B,IAAK,CAChC4E,GAAU,EACV,MAGAA,GAASF,EAASxtC,KAAKqtC,EAAM7jC,IAGnC,OAAOgkC,EAST,GAAInxC,QAAQsxC,gBAAiB,CAO3B,IAQIC,EARAC,GAAc,EAUlBd,EAAe,SAAsBe,GACnC,IAAIrkC,EAASiB,EAAUjB,OACvB,GAAIokC,GAA0B,IAAXpkC,EAAc,OAAO,EAExC,IAAIskC,GAAU,EAKdF,GAAc,EACd,IAAK,IAAIrkC,EAAI,EAAGA,EAAIC,IAAUD,EAAG,CAC/B,IAAIwkC,EAAWtjC,EAAUlB,GACzB,GAAwC,IA7G3B,EA6GRwkC,EAASC,OAAd,CAEA,IAAIn2C,EAAQ81C,GAAeA,EAAYI,EAASlF,KAChDiF,EAAUC,EAAS70C,MAAMrB,EAAOg2C,IAAOC,GAWzC,OATAF,GAAc,EAMVX,EAAczjC,OAAS,IAAGiB,EAAYwiC,EAAcgB,OACxDN,OAAc1xC,EAEP6xC,IAAYd,GAGrBjF,EAAY,SAAmBmG,EAAUC,EAAM3kC,GAC7C,IAAItE,EAAS,GAKb8nC,GAAc,EACd,IAAK,IAAIzjC,EAAI,EAAGA,EAAIC,IAAUD,EAAG,CAC/B,IAAIwkC,EAAWI,EAAK5kC,GAGpB,GAFArE,EAAO6oC,EAASlF,KAAOkF,EAAS58B,KAES,IA5I3B,EA4IT48B,EAASC,OAAd,CAEA,IAAIn2C,EAAQk2C,EAAS3+B,OAAO2+B,EAAS58B,WACvBlV,IAAVpE,IAAqBqN,EAAO6oC,EAASlF,KAAOhxC,IAWlD,OATAm1C,GAAc,EASP,WAELW,EAAczoC,EAKd+nC,EAAcltC,KAAK0K,GAKnBA,EAAYyiC,EAAMiB,EAAM1jC,GAKxBuiC,GAAc,EACd,IAAK,IAAIzjC,EAAI,EAAGA,EAAIC,IAAUD,GA3KhB,EA4KP4kC,EAAK5kC,GAAGykC,OAAyB,GACpCG,EAAK5kC,GAAG6kC,OAAO31C,KAAMyM,EAAOipC,EAAK5kC,GAAGs/B,MAGxCmE,GAAc,EAGd,IAAIO,EAAWW,EAAS1hC,MAAM/T,KAAMuM,WAMpC,IADAgoC,GAAc,EACTzjC,EAAI,EAAGA,EAAIC,IAAUD,GAxLb,EAyLN4kC,EAAK5kC,GAAGykC,OAAwB,GACnCG,EAAK5kC,GAAG8kC,MAAM51C,KAAMyM,EAAOipC,EAAK5kC,GAAGs/B,MASvC,OANAmE,GAAc,EAGdviC,EAAYwiC,EAAcgB,MAC1BN,OAAc1xC,EAEPsxC,IAIXR,EAAK3wC,QAAS,mBAAmB,SAAUsxC,GACzC,OAAO,SAA8BG,GACnC,OAAOf,EAAae,IAAOH,EAAgBG,WAK5C,CAOH,IAAIS,GAAa,EAOjBxB,EAAe,SAAyBe,GAEtC,GAAIS,EAAY,MAAMT,EAQtB,IANA,IAAIC,GAAU,EAKVtkC,EAASiB,EAAUjB,OACdD,EAAI,EAAGA,EAAIC,IAAUD,EAAG,CAC/B,IAAIwkC,EAAWtjC,EAAUlB,GACe,IAvO3B,EAuORwkC,EAASC,SACdF,EAAUC,EAAS70C,MAAM,KAAM20C,IAAOC,GAMxC,IAAKA,GAAWd,EAAa,MAAMa,GAGrC9F,EAAY,SAAmBmG,EAAUC,EAAM3kC,GAC7C,IAAItE,EAAS,GAKb8nC,GAAc,EACd,IAAK,IAAIzjC,EAAI,EAAGA,EAAIC,IAAUD,EAAG,CAC/B,IAAIwkC,EAAWI,EAAK5kC,GAGpB,GAFArE,EAAO6oC,EAASlF,KAAOkF,EAAS58B,KAES,IA/P3B,EA+PT48B,EAASC,OAAd,CAEA,IAAIn2C,EAAQk2C,EAAS3+B,OAAO2+B,EAAS58B,WACvBlV,IAAVpE,IAAqBqN,EAAO6oC,EAASlF,KAAOhxC,IAWlD,OATAm1C,GAAc,EASP,WAIL,IA2BIO,EA3BAgB,GAAQ,EAGRT,GAAU,EAKdb,EAAcltC,KAAK0K,GAKnBA,EAAYyiC,EAAMiB,EAAM1jC,GAKxBuiC,GAAc,EACd,IAAK,IAAIzjC,EAAI,EAAGA,EAAIC,IAAUD,GAnShB,EAoSP4kC,EAAK5kC,GAAGykC,OAAyB,GACpCG,EAAK5kC,GAAG6kC,OAAO31C,KAAMyM,EAAOipC,EAAK5kC,GAAGs/B,MAGxCmE,GAAc,EAId,IACEO,EAAWW,EAAS1hC,MAAM/T,KAAMuM,WAElC,MAAO6oC,GAEL,IADAU,GAAQ,EACChlC,EAAI,EAAGA,EAAIC,IAAUD,EAC5B,GAA2C,IAhTlC,EAgTJkB,EAAUlB,GAAGykC,OAClB,IACEF,EAAUrjC,EAAUlB,GAAGrQ,MAAMgM,EAAOipC,EAAK5kC,GAAGs/B,KAAMgF,IAAOC,EAE3D,MAAOjM,GAEL,MADAyM,GAAa,EACPzM,EAIV,IAAKiM,EAOH,MALA1xC,QAAQ2O,eAAe,oBAAqB+hC,GAC5C1wC,QAAQoyC,mBAAkB,WACxBpyC,QAAQoa,YAAY,oBAAqBs2B,MAGrCe,EAGV,QAIE,IAAKU,GAAST,EAAS,CAErB,IADAd,GAAc,EACTzjC,EAAI,EAAGA,EAAIC,IAAUD,GA3UjB,EA4UF4kC,EAAK5kC,GAAGykC,OAAwB,GACnCG,EAAK5kC,GAAG8kC,MAAM51C,KAAMyM,EAAOipC,EAAK5kC,GAAGs/B,MAGvCmE,GAAc,EAIhBviC,EAAYwiC,EAAcgB,MAI5B,OAAOV,IAKXnxC,QAAQoa,YAAY,oBAAqBs2B,GAgD3C,SAAS2B,EAAcC,EAAWv9B,GACA,mBAArBu9B,EAAUt/B,SACnB3W,KAAK2W,OAASs/B,EAAUt/B,OACxB3W,KAAKu1C,OAlZW,GAqZc,mBAArBU,EAAUN,SACnB31C,KAAK21C,OAASM,EAAUN,OACxB31C,KAAKu1C,OAtZW,GAyZa,mBAApBU,EAAUL,QACnB51C,KAAK41C,MAAQK,EAAUL,MACvB51C,KAAKu1C,OA1ZU,GA6Zc,mBAApBU,EAAUx1C,QACnBT,KAAKS,MAAQw1C,EAAUx1C,MACvBT,KAAKu1C,OA9ZU,GAiajBv1C,KAAKowC,MAAQA,EACbpwC,KAAK0Y,UAAgBlV,IAATkV,EAAqB,KAAOA,EAU1C,SAASw9B,EAAoBD,EAAWv9B,GACtC,GAAyB,iBAAdu9B,IAA2BA,EACpC,MAAM,IAAIhE,UAAU,wCAGtB,OAAIgE,aAAqBD,EAChBC,EAGA,IAAID,EAAcC,EAAWv9B,GAjBxCs9B,EAAc9oC,UAAUyJ,YAASnT,EACjCwyC,EAAc9oC,UAAUyoC,YAASnyC,EACjCwyC,EAAc9oC,UAAU0oC,WAASpyC,EACjCwyC,EAAc9oC,UAAUzM,WAAS+C,EACjCwyC,EAAc9oC,UAAUwL,UAASlV,EACjCwyC,EAAc9oC,UAAUkjC,IAAS,EACjC4F,EAAc9oC,UAAUqoC,MAAS,EA+CjC5xC,QAAQuyC,oBAAsBA,EAC9BvyC,QAAQwyC,iBAjCR,SAA0BF,EAAWv9B,GACnC,IAAI48B,EAKFA,EAJIW,aAAqBD,EAIdC,EAHAC,EAAoBD,EAAWv9B,GAQ5C,IADA,IAAI09B,GAAa,EACRtlC,EAAI,EAAGA,EAAIkB,EAAUjB,OAAQD,IACpC,GAAIwkC,IAAatjC,EAAUlB,GAAI,CAC7BslC,GAAa,EACb,MAMJ,OAFKA,GAAYpkC,EAAU1K,KAAKguC,GAEzBA,GAcT3xC,QAAQ0yC,oBAXR,SAA6Bf,GAC3B,IAAK,IAAIxkC,EAAI,EAAGA,EAAIkB,EAAUjB,OAAQD,IACpC,GAAIwkC,IAAatjC,EAAUlB,GAAI,CAC7BkB,EAAUopB,OAAOtqB,EAAG,GACpB,QASNpD,EAAOvO,QAjGP,SAAsBs2C,GACpB,IAAI1kC,EAASiB,EAAUjB,OAGvB,GAAe,IAAXA,EAAc,OAAO0kC,EAKzB,IAFA,IAAIC,EAAO1jC,EAAU0nB,QAEZ5oB,EAAI,EAAGA,EAAIC,IAAUD,EAC5B,GAAI4kC,EAAK5kC,GAAGykC,MAAQ,EAAG,OAAOjG,EAAUmG,EAAUC,EAAM3kC,GAG1D,OAzCF,SAAoB0kC,EAAUC,EAAM3kC,GAClCwjC,GAAc,EACd,IAAK,IAAIzjC,EAAI,EAAGA,EAAIC,IAAUD,EAAG,CAC/B,IAAIwkC,EAAWI,EAAK5kC,GAChBwkC,EAAS3+B,QAAQ2+B,EAAS3+B,OAAO2+B,EAAS58B,MAMhD,OAJA67B,GAAc,EAIP,WACLC,EAAcltC,KAAK0K,GACnBA,EAAYyiC,EAAMiB,EAAM1jC,GAExB,IAAI8iC,EAAWW,EAAS1hC,MAAM/T,KAAMuM,WAIpC,OAFAyF,EAAYwiC,EAAcgB,MAEnBV,GAuBFwB,CAAWb,EAAUC,EAAM3kC,K,4BCjZpC,GAAIpN,QAAQwyC,iBAAkB,MAAM,IAAI71C,MAAM,wCAE9C,IAAIi2C,EAAe,EAAQ,MACvBC,EAAe,EAAQ,MACvBlC,EAAeiC,EAAQjC,KACvBmC,EAAeF,EAAQE,SACvBrnC,EAAe,EAAQ,MACvBsnC,EAAe,EAAQ,MAGvBC,EAASH,EAAOI,IAAIjzC,QAAQnE,QAAS,SACrCq3C,EAASL,EAAOI,IAAIjzC,QAAQnE,QAAS,SACrCs3C,EAASN,EAAOI,IAAIjzC,QAAQnE,QAAS,SACrCu3C,EAAUP,EAAOI,IAAIjzC,QAAQnE,QAAS,UAEtCw3C,EAAM,EAAQ,MAsElB,SAASC,EAAsBxB,GAC7B,OAAO,WACLz1C,KAAKoL,GAAG,cAAc,SAAUwO,GAC1BA,EAAO2F,UACT3F,EAAO2F,QAAQ23B,OAAS9nC,EAAawK,EAAO2F,QAAQ23B,YAIxD,IACE,OAAOzB,EAAS1hC,MAAM/T,KAAMuM,WAE9B,QAEMvM,KAAKuf,SAAWvf,KAAKuf,QAAQ43B,eAC/Bn3C,KAAKuf,QAAQ43B,aAAe/nC,EAAapP,KAAKuf,QAAQ43B,iBAM9D,SAASC,EAAYC,GACnB,GAAIA,GAAOA,EAAI93B,QAAS,CACtB,IAAI9N,EAAS4lC,EAAI93B,QACZ9N,EAAO6lC,kBACV7lC,EAAO6lC,gBAAkB7lC,EAAOylC,QAElCzlC,EAAOylC,OAAS9nC,EAAaqC,EAAO6lC,kBA7FpCT,IAAWG,EAAIO,eAEjBP,EAAIO,eAAiB,SAAU/T,GAC7B,GAAoB,IAAhBA,EAAKzyB,OACP,MAAO,CAAC,GAAI,MAGd,IAooBgB8N,EALFuqB,EA/nBVoO,EAAOhU,EAAK,GACZjwB,EAAU,GACM,iBAATikC,GAA8B,OAATA,EAE9BjkC,EAAUikC,EAioBM,iBADF34B,EA/nBM24B,KAgoBwB,KANhCpO,EAMyBvqB,GALjCuqB,EAAIqO,OAAOrO,KAAO,GAAIA,GAznB1B71B,EAAQ3O,KAAO4yC,GAGfjkC,EAAQkF,KAAO++B,EACXhU,EAAKzyB,OAAS,GAAwB,iBAAZyyB,EAAK,KACjCjwB,EAAQ4F,KAAOqqB,EAAK,KAIxB,IAAI5zB,EAAK4zB,EAAKA,EAAKzyB,OAAS,GAC5B,MAAkB,mBAAPnB,EACF,CAAC2D,EAAS,MAEV,CAACA,EAAS3D,IAEXinC,GAAWG,EAAIU,wBAEzBV,EAAIU,sBAAwB,SAAUlU,GACpC,IAEkB4F,EAFd71B,EAAU,GAIS,iBAAZiwB,EAAK,IAA+B,OAAZA,EAAK,GAEtCjwB,EAAUiwB,EAAK,GAEW,iBAAZA,EAAK,KAAyC,KAN5C4F,EAM+B5F,EAAK,IANvB4F,EAAIqO,OAAOrO,KAAO,GAAIA,GAQnD71B,EAAQ3O,KAAO4+B,EAAK,IAIpBjwB,EAAQkF,KAAO+qB,EAAK,GACG,iBAAZA,EAAK,KACdjwB,EAAQ4F,KAAOqqB,EAAK,KAIxB,IAAI5zB,EAAK4zB,EAAKA,EAAKzyB,OAAS,GAC5B,MAAqB,mBAAPnB,EAAoB,CAAC2D,EAAS3D,GAAM,CAAC2D,KAQnD,uBAAwByjC,EAAIW,OAAOzqC,UACrConC,EAAK0C,EAAIW,OAAOzqC,UAAW,qBAAsB+pC,GAEjD3C,EAAK0C,EAAIW,OAAOzqC,UAAW,WAAY+pC,GAiCzC3C,EAAK0C,EAAIY,OAAO1qC,UAAW,WAAW,SAAUuoC,GAC9C,OAAO,WACL,IAAIjS,GAUFA,EAJEsT,GACAxgC,MAAM0jB,QAAQztB,UAAU,KACxBtN,OAAO44C,sBAAsBtrC,UAAU,IAAIwE,OAAS,EAE/CxE,UAAU,GAGVsqC,EACHG,EAAIO,eAAehrC,WACnByqC,EAAIU,sBAAsBnrC,YAEvB,KAAIi3B,EAAK,GAAKp0B,EAAao0B,EAAK,KACzC,IAAIj8B,EAASkuC,EAAS1hC,MAAM/T,KAAMwjC,GAElC,OADA4T,EAAYp3C,MACLuH,MAIX,IAAIiL,EAAO,EAAQ,MAMnB8hC,EAAK9hC,EAAKq5B,MAAM3+B,UAAW,cAAc,SAAUuoC,GACjD,OAAO,SAAUle,GACf,IAAIugB,EAAWvgB,EAAIugB,SAKnB,OAJAvgB,EAAIugB,SAAW1oC,GAAa,SAAUwK,GAEpC,OADAw9B,EAAYx9B,GACLk+B,EAAS/jC,MAAM/T,KAAMuM,cAEvBkpC,EAAS1hC,MAAM/T,KAAMuM,eAIhC,IAAIwrC,EAAe,EAAQ,MAE3B,SAASC,EAAiBC,GACpB3hC,MAAM0jB,QAAQie,EAAM7T,QACtB6T,EAAM7T,MAAMh9B,SAAQ,SAAUwS,GACxBA,GAAUA,EAAO2F,UACnB3F,EAAO2F,QAAQ23B,OAAS9nC,EAAawK,EAAO2F,QAAQ23B,QACpD5C,EAAK16B,EAAO2F,QAAS,QAAS24B,OAKhCD,EAAM14B,UACR04B,EAAM14B,QAAQ44B,OAAS/oC,EAAa6oC,EAAM14B,QAAQ44B,SAKlDJ,EAAaK,aACf9D,EAAKyD,EAAaK,aAAalrC,UAAW,SAAS,SAAUuoC,GAC3D,OAAO,WACL,IAAIluC,EAASkuC,EAAS1hC,MAAM/T,KAAMuM,WAElC,OADAyrC,EAAiBh4C,MACVuH,MAIXkvC,EAASsB,EAAc,CACrB,WACA,OACA,UACC,SAAUtC,GACX,OAAO,WACL,IAAIluC,EAASkuC,EAAS1hC,MAAM/T,KAAMuM,WAElC,OADAyrC,EAAiBzwC,GACVA,MAMR5D,QAAQsxC,kBACXtxC,QAAQoyC,kBAAoBpyC,QAAQquC,UAGtC,IAAIqG,EAAa,GACb10C,QAAQ20C,iBAAiBD,EAAW/wC,KAAK,mBACzC3D,QAAQ40C,qBAAqBF,EAAW/wC,KAAK,uBAEjDmvC,EACE9yC,QACA00C,EACAG,GAEFlE,EAAK3wC,QAAS,WAAYu0C,GAE1B,IAAIO,EAAiB,CACnB,aACA,eAEElH,OAAOvmC,cAAcytC,EAAenxC,KAAK,gBAE7C,IAAIurC,EAAS,EAAQ,MACjB6F,EAAoBnH,OAAOlf,aAAewgB,EAAOxgB,WAErDokB,EACE5D,EACA4F,EACAP,GAGEQ,GACFjC,EACElF,OACAkH,EACAP,GAIJ,IAAIS,EAAM,EAAQ,KAClBlC,EACEkC,EACA,CACE,SACA,UACA,WACA,WACA,eACA,YACA,YACA,aACA,aACA,WAEFH,GAGEG,EAAIC,cAActE,EAAKqE,EAAK,eAAgBH,GAEhD,IA+CI7W,EAuBAkX,EAtEA71C,EAAK,EAAQ,MACjByzC,EACEzzC,EACA,CACE,QACA,SACA,WACA,QACA,SACA,QACA,SACA,OACA,QACA,QACA,OACA,UACA,WACA,WACA,SACA,QACA,QACA,UACA,QACA,OACA,SACA,UACA,QACA,QACA,OACA,WACA,YACA,aACA,YACA,cACA,UAEFw1C,GAIEx1C,EAAG81C,QAAQxE,EAAKtxC,EAAI,SAAUw1C,GAC9Bx1C,EAAG+1C,QAAQzE,EAAKtxC,EAAI,SAAUw1C,GAG9Bx1C,EAAGg2C,WAAW1E,EAAKtxC,EAAI,YAAaw1C,GAIxC,IAAM7W,EAAO,EAAQ,MAAW,MAAOliC,IACvC,GAAIkiC,GAAQA,EAAKsX,SAAWtX,EAAKsX,QAAQ/rC,UAAW,CAClD,IAAIgsC,EAAQj6C,OAAOk6C,eAAexX,EAAKsX,QAAQ/rC,WAC3CgsC,EAAME,WAER9E,EAAK4E,EAAO,aAAcV,GAEnBU,EAAMjZ,OAASiZ,EAAMpnC,OAASonC,EAAMllC,KAE3CyiC,EACEyC,EACA,CACE,QACA,QACA,OAEFV,GAON,IAAMK,EAAS,EAAQ,MAAa,MAAOp5C,IAC3C,GAAIo5C,EAAQ,CAEV,IAAIQ,EAAS,CACT,SACA,eAECtC,GACHsC,EAAO/xC,KAAK,qBAGdmvC,EAASoC,EAAQQ,EAAQb,GAK3B,IAAIc,IAAsB/H,OAAOa,SACN,yCAAvBA,QAAQz9B,YACwB,0CAAhCy9B,QAAQz9B,SAASA,WAGrB,GAAI2kC,EAAmB,CAErB,IAAIC,EAAkB51C,QAAQwyC,iBAAiB,CAC7Cx/B,OAAQ,WACN2iC,GAAoB,KAKxB/H,OAAOa,QAAQ3b,SAAQ,GAAM6b,MAAK,WAChCgH,GAAoB,KAGtB31C,QAAQ0yC,oBAAoBkD,GA6L9B,SAASf,EAAUzpC,GACjB,IAAIyqC,EAAW,WACb,IAAIhW,EACAiW,EAAQltC,UAAUwE,OAAS,EAC/B,GAAgC,mBAArBxE,UAAUktC,GAAuB,CAC1CjW,EAAOltB,MAAM/J,UAAUwE,QACvB,IAAK,IAAID,EAAI,EAAGA,EAAIvE,UAAUwE,OAAS,EAAGD,IACxC0yB,EAAK1yB,GAAKvE,UAAUuE,GAEtB0yB,EAAKiW,GAASrqC,EAAa7C,UAAUktC,IAEvC,OAAO1qC,EAAGgF,MAAM/T,KAAMwjC,GAAQj3B,YAGhC,OAAQwC,EAAGgC,QACT,KAAK,EACH,OAAO,SAAUnB,GACf,OAAyB,IAArBrD,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAM4P,KAEzB,KAAK,EACH,OAAO,SAAUpI,EAAGoI,GAClB,OAAyB,IAArBrD,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAMwH,EAAGoI,KAE5B,KAAK,EACH,OAAO,SAAUpI,EAAGC,EAAGmI,GACrB,OAAyB,IAArBrD,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAMwH,EAAGC,EAAGmI,KAE/B,KAAK,EACH,OAAO,SAAUpI,EAAGC,EAAGkiB,EAAG/Z,GACxB,OAAyB,IAArBrD,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAMwH,EAAGC,EAAGkiB,EAAG/Z,KAElC,KAAK,EACH,OAAO,SAAUpI,EAAGC,EAAGkiB,EAAGpT,EAAG3G,GAC3B,OAAyB,IAArBrD,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAMwH,EAAGC,EAAGkiB,EAAGpT,EAAG3G,KAErC,KAAK,EACH,OAAO,SAAUpI,EAAGC,EAAGkiB,EAAGpT,EAAGnW,EAAGwP,GAC9B,OAAyB,IAArBrD,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAMwH,EAAGC,EAAGkiB,EAAGpT,EAAGnW,EAAGwP,KAExC,QACE,OAAO4pC,GAKb,SAAStB,EAAenpC,GACtB,IAAIyqC,EAAW,WACb,IAAIhW,EACJ,GAA4B,mBAAjBj3B,UAAU,GAAmB,EACtCi3B,EAAOltB,MAAM/J,UAAUwE,SAClB,GAAK3B,EAAa7C,UAAU,IACjC,IAAK,IAAIuE,EAAI,EAAGA,EAAIvE,UAAUwE,OAAQD,IACpC0yB,EAAK1yB,GAAKvE,UAAUuE,GAGxB,OAAO/B,EAAGgF,MAAM/T,KAAMwjC,GAAQj3B,YAGhC,OAAQwC,EAAGgC,QACT,KAAK,EACH,OAAO,SAAUnB,GACf,OAAyB,IAArBrD,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAM4P,KAEzB,KAAK,EACH,OAAO,SAAUA,EAAIpI,GACnB,OAAyB,IAArB+E,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAM4P,EAAIpI,KAE7B,KAAK,EACH,OAAO,SAAUoI,EAAIpI,EAAGC,GACtB,OAAyB,IAArB8E,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAM4P,EAAIpI,EAAGC,KAEhC,KAAK,EACH,OAAO,SAAUmI,EAAIpI,EAAGC,EAAGkiB,GACzB,OAAyB,IAArBpd,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAM4P,EAAIpI,EAAGC,EAAGkiB,KAEnC,KAAK,EACH,OAAO,SAAU/Z,EAAIpI,EAAGC,EAAGkiB,EAAGpT,GAC5B,OAAyB,IAArBhK,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAM4P,EAAIpI,EAAGC,EAAGkiB,EAAGpT,KAEtC,KAAK,EACH,OAAO,SAAU3G,EAAIpI,EAAGC,EAAGkiB,EAAGpT,EAAGnW,GAC/B,OAAyB,IAArBmM,UAAUwE,OAAqByoC,EAASzlC,MAAM/T,KAAMuM,YACtC,mBAAPqD,IAAmBA,EAAKR,EAAaQ,IACzCb,EAAG+E,KAAK9T,KAAM4P,EAAIpI,EAAGC,EAAGkiB,EAAGpT,EAAGnW,KAEzC,QACE,OAAOo5C,GApPTF,GAIJ,WACE,IAAIlH,EAAUb,OAAOa,QAIrB,SAASsH,EAAexF,GACtB,KAAMl0C,gBAAgB05C,GACpB,OAAOtH,EAAQ8B,GAGjB,GAAwB,mBAAbA,EACT,OAAO,IAAI9B,EAAQ8B,GAGrB,IAAInmC,EAASy1B,EACT4Q,EAAU,IAAIhC,GAWlB,SAAyB3b,EAAS0d,GAChCpmC,EAAU/N,KACVwjC,EAAO,CAIP,SAAwBvyB,GAEtB,OADAgjC,EAAiBG,GAAS,GACnB3d,EAAQxlB,IAGjB,SAAuBA,GAErB,OADAgjC,EAAiBG,GAAS,GACnBD,EAAOljC,QAvBlBmjC,EAAQ/9B,UAAYqjC,EAAexsC,UAEnC,IACEgnC,EAASngC,MAAMhG,EAASy1B,GACxB,MAAO/jC,GACP+jC,EAAK,GAAG/jC,GAGV,OAAO20C,EAiDT,SAASH,EAAiBG,EAASuF,GAC5BvF,EAAQwF,gBAAiBD,IAC5BvF,EAAQwF,cAAgBxqC,EAAayqC,IAIzC,SAASA,EAAoBxC,EAAKtoC,EAAIxH,EAAQuyC,GAC5C,IAAIC,EACJ,IAEE,MAAO,CAACC,UADRD,EAAahrC,EAAG+E,KAAKujC,EAAK9vC,GACK9G,OAAO,GACtC,MAAOhB,GACP,MAAO,CAACw6C,SAAUx6C,EAAKgB,OAAO,GAC9B,QAEIs5C,aAAsB3H,EACxB0H,EAAKF,cAAgB,WAEnB,OADiBG,EAAWH,eAAiBC,GAC3B9lC,MAAM/T,KAAMuM,YAGhC0nC,EAAiB6F,GAAM,IAK7B,SAASI,EAASzE,GAChB,OAAO,WACL,IAAIrB,EAAUp0C,KACV85C,EAAOrE,EAAS1hC,MAAMqgC,EAAS99B,MAAMpJ,UAAUpH,IAAIgO,KAAKvH,UAAWnE,IAUvE,OARA0xC,EAAKF,cAAgB,SAAsBvC,EAAKtoC,EAAIkC,EAAKkpC,GACvD,OAAI/F,EAAQwF,eACVxF,EAAQwF,cAAcvC,GAAK,cAAgB,KAAMyC,GAC1CA,EAAKF,cAAcvC,EAAKtoC,EAAIkC,EAAKkpC,IAEnCN,EAAoBxC,EAAKtoC,EAAIkC,EAAKkpC,IAGpCL,EAIP,SAAS1xC,EAAK2G,GACZ,MAAkB,mBAAPA,EAA0BA,EAC9BK,GAAa,SAAU6B,GAC5B,IAAI1J,GAAU6sC,EAAQwF,eAAiBC,GAAqB75C,KAAM+O,EAAIkC,EAAK6oC,GAC3E,GAAIvyC,EAAO9G,MACT,MAAM8G,EAAO0yC,SAEb,OAAO1yC,EAAOyyC,eA/ExBtD,EAAK0D,SAASV,EAAgBtH,GAE9BkC,EAAKlC,EAAQllC,UAAW,OAAQgtC,GAE5B9H,EAAQllC,UAAUmtC,OACpB/F,EAAKlC,EAAQllC,UAAW,QAASgtC,GAG/BvD,EACFpF,OAAOa,QAAU,EAAQ,KAAR,CAAoCA,EAAS6B,IAEvC,CACrB,MACA,OACA,SACA,UACA,SACA,SAGe7sC,SAAQ,SAAS7F,GAEJ,mBAAjB6wC,EAAQ7wC,KACjBm4C,EAAen4C,GAAO6wC,EAAQ7wC,OAGlCgwC,OAAOa,QAAUsH,GAzEnBY,I,4BChaF,MAAMxnB,EAAY,EAAQ,MACpBynB,EAAU,EAAQ,MAClBC,EAAS,EAAQ,MACjB5iC,EAAQ,EAAQ,MAgBhB6iC,EAAS,CAAC3Q,EAAOv2B,EAAU,MAC/B,IAAImnC,EAAS,GAEb,GAAIpkC,MAAM0jB,QAAQ8P,GAChB,IAAK,IAAI6Q,KAAW7Q,EAAO,CACzB,IAAIviC,EAASkzC,EAAO9jC,OAAOgkC,EAASpnC,GAChC+C,MAAM0jB,QAAQzyB,GAChBmzC,EAAOpzC,QAAQC,GAEfmzC,EAAOpzC,KAAKC,QAIhBmzC,EAAS,GAAGhqC,OAAO+pC,EAAO9jC,OAAOmzB,EAAOv2B,IAM1C,OAHIA,IAA8B,IAAnBA,EAAQinC,SAAuC,IAApBjnC,EAAQqnC,UAChDF,EAAS,IAAI,IAAIpxC,IAAIoxC,KAEhBA,GAiBTD,EAAO7iC,MAAQ,CAACkyB,EAAOv2B,EAAU,KAAOqE,EAAMkyB,EAAOv2B,GAgBrDknC,EAAO3nB,UAAY,CAACgX,EAAOv2B,EAAU,KAE1Buf,EADY,iBAAVgX,EACQ2Q,EAAO7iC,MAAMkyB,EAAOv2B,GAEtBu2B,EAFgCv2B,GAoBnDknC,EAAOF,QAAU,CAACzQ,EAAOv2B,EAAU,MACZ,iBAAVu2B,IACTA,EAAQ2Q,EAAO7iC,MAAMkyB,EAAOv2B,IAEvBgnC,EAAQzQ,EAAOv2B,IAoBxBknC,EAAOD,OAAS,CAAC1Q,EAAOv2B,EAAU,MACX,iBAAVu2B,IACTA,EAAQ2Q,EAAO7iC,MAAMkyB,EAAOv2B,IAG9B,IAAIhM,EAASizC,EAAO1Q,EAAOv2B,GAY3B,OATwB,IAApBA,EAAQsnC,UACVtzC,EAASA,EAAO6E,OAAOg8B,WAID,IAApB70B,EAAQqnC,UACVrzC,EAAS,IAAI,IAAI+B,IAAI/B,KAGhBA,GAmBTkzC,EAAO9jC,OAAS,CAACmzB,EAAOv2B,EAAU,KAClB,KAAVu2B,GAAgBA,EAAM/4B,OAAS,EAC1B,CAAC+4B,IAGe,IAAnBv2B,EAAQinC,OACVC,EAAOF,QAAQzQ,EAAOv2B,GACtBknC,EAAOD,OAAO1Q,EAAOv2B,GAO3B7F,EAAOvO,QAAUs7C,G,4BCvKjB,MAAMK,EAAO,EAAQ,MACfx1C,EAAQ,EAAQ,MAqDtBoI,EAAOvO,QAnDS,CAAC47C,EAAKxnC,EAAU,MAC9B,IAAIzK,EAAO,CAACjF,EAAMm3C,EAAS,MACzB,IAAIC,EAAe31C,EAAM41C,eAAeF,GACpCG,GAA+B,IAAjBt3C,EAAKu3C,UAA8C,IAA1B7nC,EAAQ8nC,cAC/CD,GAA2B,IAAjBH,IAAyC,IAAhBE,EACnCG,GAAmC,IAA1B/nC,EAAQ8nC,cAAyB,KAAO,GACjDX,EAAS,GAEb,IAAoB,IAAhB72C,EAAK03C,OACP,OAAOD,EAASz3C,EAAKzE,MAEvB,IAAqB,IAAjByE,EAAK23C,QACP,OAAOF,EAASz3C,EAAKzE,MAGvB,GAAkB,SAAdyE,EAAK8sB,KACP,OAAOyqB,EAAWE,EAASz3C,EAAKzE,MAAS,IAG3C,GAAkB,UAAdyE,EAAK8sB,KACP,OAAOyqB,EAAWE,EAASz3C,EAAKzE,MAAS,IAG3C,GAAkB,UAAdyE,EAAK8sB,KACP,MAA0B,UAAnB9sB,EAAK43C,KAAK9qB,KAAmB,GAAMyqB,EAAUv3C,EAAKzE,MAAQ,IAGnE,GAAIyE,EAAKzE,MACP,OAAOyE,EAAKzE,MAGd,GAAIyE,EAAK63C,OAAS73C,EAAK83C,OAAS,EAAG,CACjC,IAAInY,EAAOl+B,EAAMswB,OAAO/xB,EAAK63C,OACzBE,EAAQd,KAAQtX,EAAM,IAAKjwB,EAAS+gC,MAAM,EAAOuH,SAAS,IAE9D,GAAqB,IAAjBD,EAAM7qC,OACR,OAAOyyB,EAAKzyB,OAAS,GAAK6qC,EAAM7qC,OAAS,EAAI,IAAI6qC,KAAWA,EAIhE,GAAI/3C,EAAK63C,MACP,IAAK,IAAIzD,KAASp0C,EAAK63C,MACrBhB,GAAU5xC,EAAKmvC,EAAOp0C,GAG1B,OAAO62C,GAGT,OAAO5xC,EAAKiyC,K,sBCnDdrtC,EAAOvO,QAAU,CACf28C,WAAY,MAGZC,OAAQ,IACRC,OAAQ,IAGRC,iBAAkB,IAClBC,iBAAkB,IAClBC,iBAAkB,IAClBC,iBAAkB,IAElBC,sBAAuB,IACvBC,uBAAwB,IAExBC,cAAe,IAGfC,eAAgB,IAChBC,QAAS,IACTC,eAAgB,KAChBC,cAAe,IACfC,qBAAsB,KACtBC,uBAAwB,IACxBC,WAAY,IACZC,WAAY,IACZC,YAAa,IACbC,SAAU,IACVC,kBAAmB,IACnBC,WAAY,IACZC,sBAAuB,IACvBC,eAAgB,KAChBC,mBAAoB,IACpBC,UAAW,IACXC,kBAAmB,IACnBC,wBAAyB,IACzBC,sBAAuB,IACvBC,yBAA0B,IAC1BC,eAAgB,KAChBC,oBAAqB,IACrBC,aAAc,IACdC,UAAW,IACXC,mBAAoB,IACpBC,yBAA0B,IAC1BC,uBAAwB,IACxBC,0BAA2B,IAC3BC,eAAgB,IAChBC,kBAAmB,IACnBC,WAAY,IACZC,SAAU,KACVC,gBAAiB,IACjBC,mBAAoB,IACpBC,8BAA+B,W,4BCrDjC,MAAM5D,EAAO,EAAQ,MACfhoB,EAAY,EAAQ,MACpBxtB,EAAQ,EAAQ,MAEhBq5C,EAAS,CAACC,EAAQ,GAAIC,EAAQ,GAAIC,GAAU,KAChD,IAAIv3C,EAAS,GAKb,GAHAq3C,EAAQ,GAAGluC,OAAOkuC,KAClBC,EAAQ,GAAGnuC,OAAOmuC,IAEP9tC,OAAQ,OAAO6tC,EAC1B,IAAKA,EAAM7tC,OACT,OAAO+tC,EAAUx5C,EAAMy5C,QAAQF,GAAO/4C,KAAIk5C,GAAO,IAAIA,OAAUH,EAGjE,IAAK,IAAIpzC,KAAQmzC,EACf,GAAItoC,MAAM0jB,QAAQvuB,GAChB,IAAK,IAAIrM,KAASqM,EAChBlE,EAAOD,KAAKq3C,EAAOv/C,EAAOy/C,EAAOC,SAGnC,IAAK,IAAIE,KAAOH,GACE,IAAZC,GAAmC,iBAARE,IAAkBA,EAAM,IAAIA,MAC3Dz3C,EAAOD,KAAKgP,MAAM0jB,QAAQglB,GAAOL,EAAOlzC,EAAMuzC,EAAKF,GAAYrzC,EAAOuzC,GAI5E,OAAO15C,EAAMy5C,QAAQx3C,IAmFvBmG,EAAOvO,QAhFQ,CAAC47C,EAAKxnC,EAAU,MAC7B,IAAI0rC,OAAoC,IAAvB1rC,EAAQ0rC,WAAwB,IAAO1rC,EAAQ0rC,WAE5Dn2C,EAAO,CAACjF,EAAMm3C,EAAS,MACzBn3C,EAAK+6C,MAAQ,GAEb,IAAIpoC,EAAIwkC,EACJtvB,EAAIsvB,EAAO4D,MAEf,KAAkB,UAAXpoC,EAAEma,MAA+B,SAAXna,EAAEma,MAAmBna,EAAEwkC,QAClDxkC,EAAIA,EAAEwkC,OACNtvB,EAAIlV,EAAEooC,MAGR,GAAI/6C,EAAKu3C,SAAWv3C,EAAKq7C,OAEvB,YADAxzB,EAAEpkB,KAAKq3C,EAAOjzB,EAAE8pB,MAAO1iB,EAAUjvB,EAAM0P,KAIzC,GAAkB,UAAd1P,EAAK8sB,OAAqC,IAAjB9sB,EAAKu3C,SAA0C,IAAtBv3C,EAAK63C,MAAM3qC,OAE/D,YADA2a,EAAEpkB,KAAKq3C,EAAOjzB,EAAE8pB,MAAO,CAAC,QAI1B,GAAI3xC,EAAK63C,OAAS73C,EAAK83C,OAAS,EAAG,CACjC,IAAInY,EAAOl+B,EAAMswB,OAAO/xB,EAAK63C,OAE7B,GAAIp2C,EAAM65C,gBAAgB3b,EAAMjwB,EAAQ6rC,KAAMH,GAC5C,MAAM,IAAII,WAAW,uGAGvB,IAAIzD,EAAQd,KAAQtX,EAAMjwB,GAO1B,OANqB,IAAjBqoC,EAAM7qC,SACR6qC,EAAQ9oB,EAAUjvB,EAAM0P,IAG1BmY,EAAEpkB,KAAKq3C,EAAOjzB,EAAE8pB,MAAOoG,SACvB/3C,EAAK63C,MAAQ,IAIf,IAAIoD,EAAUx5C,EAAMg6C,aAAaz7C,GAC7B+6C,EAAQ/6C,EAAK+6C,MACbW,EAAQ17C,EAEZ,KAAsB,UAAf07C,EAAM5uB,MAAmC,SAAf4uB,EAAM5uB,MAAmB4uB,EAAMvE,QAC9DuE,EAAQA,EAAMvE,OACd4D,EAAQW,EAAMX,MAGhB,IAAK,IAAI9tC,EAAI,EAAGA,EAAIjN,EAAK63C,MAAM3qC,OAAQD,IAAK,CAC1C,IAAImnC,EAAQp0C,EAAK63C,MAAM5qC,GAEJ,UAAfmnC,EAAMtnB,MAAkC,UAAd9sB,EAAK8sB,KAMhB,UAAfsnB,EAAMtnB,KAKNsnB,EAAM74C,OAAwB,SAAf64C,EAAMtnB,KACvBiuB,EAAMt3C,KAAKq3C,EAAOC,EAAMpJ,MAAOyC,EAAM74C,QAInC64C,EAAMyD,OACR5yC,EAAKmvC,EAAOp0C,GAVZ6nB,EAAEpkB,KAAKq3C,EAAOjzB,EAAE8pB,MAAOoJ,EAAOE,KANpB,IAANhuC,GAAS8tC,EAAMt3C,KAAK,IACxBs3C,EAAMt3C,KAAK,KAmBf,OAAOs3C,GAGT,OAAOt5C,EAAMy5C,QAAQj2C,EAAKiyC,M,4BC3G5B,MAAMjoB,EAAY,EAAQ,OAMpB,WACJgpB,EAAU,eACVY,EAAc,cACdC,EAAa,WACbI,EAAU,SACVE,EAAQ,sBACRZ,EAAqB,uBACrBC,EAAsB,sBACtBoB,EAAqB,uBACrBQ,EAAsB,yBACtBP,EAAwB,0BACxBQ,EAAyB,kBACzBjB,EAAiB,kBACjBmB,EAAiB,oBACjBR,EAAmB,8BACnBa,GACE,EAAQ,MAoTZhxC,EAAOvO,QA9SO,CAAC2qC,EAAOv2B,EAAU,MAC9B,GAAqB,iBAAVu2B,EACT,MAAM,IAAImI,UAAU,qBAGtB,IAAIuN,EAAOjsC,GAAW,GAClB8N,EAAgC,iBAAnBm+B,EAAKC,UAAyB3+B,KAAKQ,IAAIw6B,EAAY0D,EAAKC,WAAa3D,EACtF,GAAIhS,EAAM/4B,OAASsQ,EACjB,MAAM,IAAIq+B,YAAY,iBAAiB5V,EAAM/4B,oCAAoCsQ,MAGnF,IAQIjiB,EARA27C,EAAM,CAAEpqB,KAAM,OAAQmZ,QAAO4R,MAAO,IACpC9hB,EAAQ,CAACmhB,GACTwE,EAAQxE,EACRU,EAAOV,EACP4E,EAAW,EACX5uC,EAAS+4B,EAAM/4B,OACf1J,EAAQ,EACRu4C,EAAQ,EAQZ,MAAMC,EAAU,IAAM/V,EAAMziC,KACtBC,EAAOzD,IAKX,GAJkB,SAAdA,EAAK8sB,MAAiC,QAAd8qB,EAAK9qB,OAC/B8qB,EAAK9qB,KAAO,SAGV8qB,GAAsB,SAAdA,EAAK9qB,MAAiC,SAAd9sB,EAAK8sB,KASzC,OAJA4uB,EAAM7D,MAAMp0C,KAAKzD,GACjBA,EAAKm3C,OAASuE,EACd17C,EAAK43C,KAAOA,EACZA,EAAO53C,EACAA,EARL43C,EAAKr8C,OAASyE,EAAKzE,OAavB,IAFAkI,EAAK,CAAEqpB,KAAM,QAENtpB,EAAQ0J,GAQb,GAPAwuC,EAAQ3lB,EAAMA,EAAM7oB,OAAS,GAC7B3R,EAAQygD,IAMJzgD,IAAUs/C,GAAiCt/C,IAAUy+C,EAQzD,GAAIz+C,IAAUs9C,EASd,GAAIt9C,IAAU++C,EASd,GAAI/+C,IAAUu+C,EAoCd,GAAIv+C,IAAUi9C,EAOd,GAAIj9C,IAAUk9C,EAed,GAAIl9C,IAAU89C,GAAqB99C,IAAUi/C,GAAqBj/C,IAAUu9C,EA8B5E,GAAIv9C,IAAUs+C,EAyBd,GAAIt+C,IAAU8+C,EAqBd,GAAI9+C,IAAU29C,GAAc6C,EAAQ,EAApC,CACE,GAAIL,EAAM5D,OAAS,EAAG,CACpB4D,EAAM5D,OAAS,EACf,IAAImE,EAAOP,EAAM7D,MAAMqE,QACvBR,EAAM7D,MAAQ,CAACoE,EAAM,CAAEnvB,KAAM,OAAQvxB,MAAO0zB,EAAUysB,KAGxDj4C,EAAK,CAAEqpB,KAAM,QAASvxB,UACtBmgD,EAAMS,cAQR,GAAI5gD,IAAU69C,GAAY2C,EAAQ,GAAsB,IAAjBL,EAAMS,OAA7C,CACE,IAAIC,EAAWV,EAAM7D,MAErB,GAAc,IAAVkE,GAAmC,IAApBK,EAASlvC,OAAc,CACxCzJ,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,SAGF,GAAkB,QAAdq8C,EAAK9qB,KAAgB,CAKvB,GAJA4uB,EAAM3D,MAAQ,GACdH,EAAKr8C,OAASA,EACdq8C,EAAK9qB,KAAO,QAEe,IAAvB4uB,EAAM7D,MAAM3qC,QAAuC,IAAvBwuC,EAAM7D,MAAM3qC,OAAc,CACxDwuC,EAAMnE,SAAU,EAChBmE,EAAM5D,OAAS,EACfF,EAAK9qB,KAAO,OACZ,SAGF4uB,EAAM5D,SACN4D,EAAM/b,KAAO,GACb,SAGF,GAAkB,UAAdiY,EAAK9qB,KAAkB,CACzBsvB,EAASzK,MAET,IAAIG,EAASsK,EAASA,EAASlvC,OAAS,GACxC4kC,EAAOv2C,OAASq8C,EAAKr8C,MAAQA,EAC7Bq8C,EAAO9F,EACP4J,EAAM5D,SACN,SAGFr0C,EAAK,CAAEqpB,KAAM,MAAOvxB,eAQtBkI,EAAK,CAAEqpB,KAAM,OAAQvxB,cAhFrB,CACE,GAAmB,UAAfmgD,EAAM5uB,KAAkB,CAC1BrpB,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,SAGF,IAAIuxB,EAAO,QACX4uB,EAAQ3lB,EAAM4b,MACd+J,EAAMW,OAAQ,EAEd54C,EAAK,CAAEqpB,OAAMvxB,UACbwgD,IAEAL,EAAQ3lB,EAAMA,EAAM7oB,OAAS,OAtC/B,CACE6uC,IAEA,IAAIV,EAASzD,EAAKr8C,OAAkC,MAAzBq8C,EAAKr8C,MAAMs6B,OAAO,KAA+B,IAAjB6lB,EAAML,OAYjEK,EAAQj4C,EAXI,CACVqpB,KAAM,QACNmvB,MAAM,EACNI,OAAO,EACPhB,SACAU,QACAI,OAAQ,EACRrE,OAAQ,EACRD,MAAO,KAIT9hB,EAAMtyB,KAAKi4C,GACXj4C,EAAK,CAAEqpB,KAAM,OAAQvxB,cA/CvB,CACE,IACI06C,EADAgG,EAAO1gD,EAOX,KAJ2B,IAAvBmU,EAAQ4sC,aACV/gD,EAAQ,IAGHiI,EAAQ0J,IAAW+oC,EAAO+F,MAC/B,GAAI/F,IAAS4C,EAAb,CAKA,GAAI5C,IAASgG,EAAM,EACU,IAAvBvsC,EAAQ4sC,aAAqB/gD,GAAS06C,GAC1C,MAGF16C,GAAS06C,OATP16C,GAAS06C,EAAO+F,IAYpBv4C,EAAK,CAAEqpB,KAAM,OAAQvxB,cArCvB,CACE,GAAmB,UAAfmgD,EAAM5uB,KAAkB,CAC1BrpB,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,SAEFmgD,EAAQ3lB,EAAM4b,MACdluC,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrBmgD,EAAQ3lB,EAAMA,EAAM7oB,OAAS,QAb7BwuC,EAAQj4C,EAAK,CAAEqpB,KAAM,QAAS+qB,MAAO,KACrC9hB,EAAMtyB,KAAKi4C,GACXj4C,EAAK,CAAEqpB,KAAM,OAAQvxB,cAvCvB,CAGE,IACI06C,EAEJ,IALA6F,IAKOt4C,EAAQ0J,IAAW+oC,EAAO+F,MAG/B,GAFAzgD,GAAS06C,EAELA,IAAS6D,EAKb,GAAI7D,IAAS4C,GAKb,GAAI5C,IAASqE,IACXwB,IAEiB,IAAbA,GACF,WARFvgD,GAASygD,SALTF,IAkBJr4C,EAAK,CAAEqpB,KAAM,OAAQvxB,eApCrBkI,EAAK,CAAEqpB,KAAM,OAAQvxB,MAAO,KAAOA,SATnCkI,EAAK,CAAEqpB,KAAM,OAAQvxB,OAAQmU,EAAQ6sC,aAAehhD,EAAQ,IAAMygD,MAsNtE,GAGE,GAFAN,EAAQ3lB,EAAM4b,MAEK,SAAf+J,EAAM5uB,KAAiB,CACzB4uB,EAAM7D,MAAMt0C,SAAQvD,IACbA,EAAK63C,QACU,SAAd73C,EAAK8sB,OAAiB9sB,EAAK03C,QAAS,GACtB,UAAd13C,EAAK8sB,OAAkB9sB,EAAK23C,SAAU,GACrC33C,EAAK63C,QAAO73C,EAAK8sB,KAAO,QAC7B9sB,EAAKu3C,SAAU,MAKnB,IAAIJ,EAASphB,EAAMA,EAAM7oB,OAAS,GAC9B1J,EAAQ2zC,EAAOU,MAAM7wB,QAAQ00B,GAEjCvE,EAAOU,MAAMtgB,OAAO/zB,EAAO,KAAMk4C,EAAM7D,cAElC9hB,EAAM7oB,OAAS,GAGxB,OADAzJ,EAAK,CAAEqpB,KAAM,QACNoqB,I,4BCvUT,MAAMz1C,EAAQ,EAAQ,MAEtBoI,EAAOvO,QAAU,CAAC47C,EAAKxnC,EAAU,MAC/B,IAAIuf,EAAY,CAACjvB,EAAMm3C,EAAS,MAC9B,IAAIC,EAAe1nC,EAAQ8nC,eAAiB/1C,EAAM41C,eAAeF,GAC7DG,GAA+B,IAAjBt3C,EAAKu3C,UAA8C,IAA1B7nC,EAAQ8nC,cAC/CX,EAAS,GAEb,GAAI72C,EAAKzE,MACP,OAAK67C,GAAgBE,IAAgB71C,EAAM+6C,cAAcx8C,GAChD,KAAOA,EAAKzE,MAEdyE,EAAKzE,MAGd,GAAIyE,EAAKzE,MACP,OAAOyE,EAAKzE,MAGd,GAAIyE,EAAK63C,MACP,IAAK,IAAIzD,KAASp0C,EAAK63C,MACrBhB,GAAU5nB,EAAUmlB,GAGxB,OAAOyC,GAGT,OAAO5nB,EAAUioB,K,0BC3BnB57C,EAAQmhD,UAAYC,GACC,iBAARA,EACF9I,OAAO6I,UAAUC,GAEP,iBAARA,GAAmC,KAAfA,EAAIjlB,QAC1Bmc,OAAO6I,UAAU7I,OAAO8I,IASnCphD,EAAQqhD,KAAO,CAAC38C,EAAM8sB,IAAS9sB,EAAK63C,MAAM8E,MAAK38C,GAAQA,EAAK8sB,OAASA,IAMrExxB,EAAQggD,aAAe,CAAC79B,EAAKD,EAAK+9B,EAAO,EAAGqB,KAC5B,IAAVA,MACCthD,EAAQmhD,UAAUh/B,KAASniB,EAAQmhD,UAAUj/B,MACzCo2B,OAAOp2B,GAAOo2B,OAAOn2B,IAAQm2B,OAAO2H,IAAUqB,EAOzDthD,EAAQuhD,WAAa,CAACnB,EAAOzgC,EAAI,EAAG6R,KAClC,IAAI9sB,EAAO07C,EAAM7D,MAAM58B,GAClBjb,IAEA8sB,GAAQ9sB,EAAK8sB,OAASA,GAAuB,SAAd9sB,EAAK8sB,MAAiC,UAAd9sB,EAAK8sB,QAC1C,IAAjB9sB,EAAK88C,UACP98C,EAAKzE,MAAQ,KAAOyE,EAAKzE,MACzByE,EAAK88C,SAAU,IASrBxhD,EAAQmgD,aAAez7C,GACH,UAAdA,EAAK8sB,MACJ9sB,EAAKm8C,QAAU,EAAIn8C,EAAK83C,QAAU,GAAO,IAC5C93C,EAAKu3C,SAAU,GACR,GASXj8C,EAAQ+7C,eAAiBqE,KACJ,UAAfA,EAAM5uB,OACY,IAAlB4uB,EAAMnE,UAAoBmE,EAAML,SAC/BK,EAAMS,QAAU,EAAIT,EAAM5D,QAAU,GAAO,IAI7B,IAAf4D,EAAMO,OAAiC,IAAhBP,EAAMW,QAH/BX,EAAMnE,SAAU,EACT,KAaXj8C,EAAQkhD,cAAgBx8C,GACJ,SAAdA,EAAK8sB,MAAiC,UAAd9sB,EAAK8sB,OAGZ,IAAd9sB,EAAKi8C,OAAgC,IAAfj8C,EAAKq8C,MAOpC/gD,EAAQy2B,OAAS8lB,GAASA,EAAM9lB,QAAO,CAACgrB,EAAK/8C,KACzB,SAAdA,EAAK8sB,MAAiBiwB,EAAIt5C,KAAKzD,EAAKzE,OACtB,UAAdyE,EAAK8sB,OAAkB9sB,EAAK8sB,KAAO,QAChCiwB,IACN,IAMHzhD,EAAQ4/C,QAAU,IAAIvb,KACpB,MAAMj8B,EAAS,GACTs5C,EAAOC,IACX,IAAK,IAAIhwC,EAAI,EAAGA,EAAIgwC,EAAI/vC,OAAQD,IAAK,CACnC,IAAIkuC,EAAM8B,EAAIhwC,GACdwF,MAAM0jB,QAAQglB,GAAO6B,EAAK7B,EAAKz3C,QAAkB,IAARy3C,GAAkBz3C,EAAOD,KAAK03C,GAEzE,OAAOz3C,GAGT,OADAs5C,EAAKrd,GACEj8B,I,4BC5GT,MAAMmvC,EAAO,EAAQ,MACfqK,EAAS,EAAQ,MACjB9xC,EAAc,EAAQ,MACtB+xC,EAAY,EAAQ,MAGpBC,EAAe,gBAIfC,EAAoB,GAC1B,IAAK,IAAI3/C,KAAOy/C,EAAU/P,UACxBiQ,EAAkBF,EAAU/P,UAAU1vC,IAAQA,EAGhD,MAAM4/C,EAAmBx9C,QAAQoc,IAAIohC,iBAErC,IAAIC,GAAc,EAWlB,SAASC,EAAU7+C,GACjBxC,KAAKwC,KAAOA,EAEZxC,KAAKshD,OAAS,KACdthD,KAAKuhD,KAAO,GACZvhD,KAAK2O,GAAK,KACV3O,KAAKwhD,UAAY,IAAItO,IA+OvB,SAASuO,EAAaj/C,GACpB,OAAOmB,QAAQ+9C,WAAWl/C,GAiF5B,SAASm/C,EAAiBn/C,GACxB,IAAIo/C,EAAYH,EAAaj/C,GAE7Bu+C,EAAOc,GAAGD,EAAW,yCAA2Cp/C,EAAO,KACvEu+C,EAAOc,GAAGD,EAAUjzC,GAAI,gDAAmD+nC,EAAKoL,QAAQF,IAExFj+C,QAAQ+9C,WAAWl/C,GAAQ,KAmB7B,SAASu/C,EAAO1hD,GACVsD,QAAQoc,IAAIiiC,OACdr+C,QAAQs+C,UAAU5hD,GActB,SAAS6hD,EAAgBnzC,GACvB,OAAKA,EAGa,mBAAPA,EACLA,EAAGvM,KACEuM,EAAGvM,MAEJuM,EAAG4F,WAAW2mB,OAAOxG,MAAM,0BAA4B,IAAI,GAC1D/lB,EAAGpP,aAAeoP,EAAGpP,YAAY6C,KACnCuM,EAAGpP,YAAY6C,UADjB,EAPEuM,EAcX,GAzYArB,EAAOvO,QAAU,CACfsiD,aAAcA,EACd/xC,gBAgQF,SAAyBlN,GACvBu+C,EAAOc,GAAGr/C,EAAM,mCAEZ2+C,GACFY,EAAO,sBAAwBv/C,GAEjC,IAAIo/C,EAAY,IAAIP,EAAU7+C,GAqE9B,OApEAo/C,EAAUjzC,GAAKyyC,EAEfJ,EAAU3P,SAAS,CACjBlB,KAAKC,EAAK3+B,EAAQ4+B,EAAUC,EAAWC,GAErC6Q,EAAahR,EAGTE,GACFsR,EAAUJ,UAAUxsB,IAAIob,EAAKwR,EAAUJ,UAAUvzC,IAAIqiC,IACjD6Q,GACFY,EAAO,aAAev/C,EAAO,QAAU4tC,EAAM,WAAaE,EAAY,aAAeD,IAGvFuR,EAAUJ,UAAUxsB,IAAIosB,EAAYQ,EAAUN,QAG5CH,GACFY,EAAO,QAAUv/C,EAAO,QAAU4tC,EAAM,WAAaE,EAAY,aAAe4Q,EAAkB7Q,GAC9F,WAAaqG,EAAKoL,QAAQF,EAAUN,QAAQ,KAIpD7Q,IAAIL,EAAK3+B,GACP2vC,EAAahR,EACb,IAAIriC,EAAU6zC,EAAUJ,UAAUvzC,IAAImiC,GAClCriC,GACEozC,GACFY,EAAO,QAAUv/C,EAAO,QAAU4tC,EAAM,WAAa8R,EAAgBzwC,GAAU,YAC7EilC,EAAKoL,QAAQ/zC,IAGjB6zC,EAAUO,MAAMp0C,IAEZozC,GACFY,EAAO,wBAA0Bv/C,EAAO,QAAU4tC,EAAM,WAAa8R,EAAgBzwC,KAI3FkuB,KAAKyQ,EAAK3+B,GACR2vC,EAAahR,EACb,IAAIriC,EAAU6zC,EAAUJ,UAAUvzC,IAAImiC,GAClCriC,GACEozC,GACFY,EAAO,SAAWv/C,EAAO,QAAU4tC,EAAM,WAAa8R,EAAgBzwC,GAAU,YAC9EilC,EAAKoL,QAAQ/zC,IAGjB6zC,EAAU3vC,KAAKlE,IAEXozC,GACFY,EAAO,yBAA2Bv/C,EAAO,QAAU4tC,EAAM,WAAa8R,EAAgBzwC,KAI5F3H,QAAQsmC,GACNgR,EAAahR,EAET+Q,GACFY,EAAO,WAAav/C,EAAO,QAAU4tC,EAAM,YAAcsG,EAAKoL,QAAQF,EAAUJ,UAAUvzC,IAAImzC,IAC1F,WAAa1K,EAAKoL,QAAQF,EAAUN,QAAQ,IAGlDM,EAAUJ,UAAU5Q,OAAOR,MAI/BzsC,QAAQ+9C,WAAWl/C,GAAQo/C,EACpBA,GA1UPD,iBAAkBA,EAClB7xC,MAqVF,WAEMnM,QAAQ+9C,YACVziD,OAAOga,KAAKtV,QAAQ+9C,YAAYt6C,SAAQ,SAAU5E,GAChDm/C,EAAiBn/C,MAGrBmB,QAAQ+9C,WAAaziD,OAAO0X,OAAO,OA1VnCsqC,aAAcA,GAYhBI,EAAUn0C,UAAU8nB,IAAM,SAAazzB,EAAKnC,GAC1C,IAAKY,KAAKshD,OACR,MAAM,IAAIhhD,MAAM,qEAQlB,OALI6gD,GACFY,EAAO,mBAAqBxgD,EAAM,IAAMnC,EAAQ,UAAYY,KAAKwC,KAAO,QAAU4+C,EAAa,WAC7F1K,EAAKoL,QAAQ9hD,KAAKshD,QAAQ,IAE9BthD,KAAKshD,OAAO//C,GAAOnC,EACZA,GAGTiiD,EAAUn0C,UAAUe,IAAM,SAAa1M,GACrC,GAAKvB,KAAKshD,OAWV,OAJIH,GACFY,EAAO,mBAAqBxgD,EAAM,IAAMvB,KAAKshD,OAAO//C,GAAO,IAAMvB,KAAKwC,KAAO,QAAU4+C,EAAa,WAClG1K,EAAKoL,QAAQ9hD,KAAKshD,QAAQ,IAEvBthD,KAAKshD,OAAO//C,GAVb4/C,GACFY,EAAO,mBAAqBxgD,EAArB,cAAgDvB,KAAKwC,KAAO,QAAU4+C,EAAa,WACxF1K,EAAKoL,QAAQ9hD,KAAKshD,QAAQ,KAWlCD,EAAUn0C,UAAUk1C,cAAgB,WAC9BjB,GACFY,EAAO,wBAA0B/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAjF,YACL2lC,EAAKoL,QAAQ9hD,KAAKshD,QAAQ,EAAM,GAAG,IAGvC,IAAIvzC,EAAU9O,OAAO0X,OAAO3W,KAAKshD,OAASthD,KAAKshD,OAASriD,OAAOiO,WAS/D,OARAa,EAAQs0C,SAAWriD,KAAKwC,KACxBuL,EAAQY,GAAKyyC,EAETD,GACFY,EAAO,uBAAyB/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAhF,aACL2lC,EAAKoL,QAAQ/zC,GAAS,EAAM,GAAG,IAG5BA,GAGTszC,EAAUn0C,UAAUo1C,IAAM,SAAavzC,GACrC,IAAIhB,EAAU/N,KAAKoiD,gBACnBpiD,KAAKmiD,MAAMp0C,GACX,IAME,OALIozC,GACFY,EAAO,gBAAkB/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,IACvF2lC,EAAKoL,QAAQ/zC,IAEjBgB,EAAGhB,GACIA,EAET,MAAO8D,GAIL,MAHIA,IACFA,EAAUovC,GAAgBlzC,GAEtB8D,EAER,QACMsvC,GACFY,EAAO,eAAiB/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,IACtF2lC,EAAKoL,QAAQ/zC,IAEjB/N,KAAKiS,KAAKlE,KAIdszC,EAAUn0C,UAAUq1C,aAAe,SAAsBxzC,GACvD,IAAI3P,EAIJ,OAHAY,KAAKsiD,KAAI,SAAUv0C,GACjB3O,EAAQ2P,EAAGhB,MAEN3O,GAQTiiD,EAAUn0C,UAAUs1C,WAAa,SAAoBzzC,GACnD,IAAIhB,EAAU/N,KAAKoiD,gBACnBpiD,KAAKmiD,MAAMp0C,GAEX,IAAIqmC,EAAUrlC,EAAGhB,GACjB,IAAKqmC,IAAYA,EAAQ9B,OAAS8B,EAAQqO,MACxC,MAAM,IAAIniD,MAAM,6BAQlB,OALI6gD,GACFY,EAAO,uBAAyB/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,IAC9F2lC,EAAKoL,QAAQ/zC,IAGVqmC,EACJ9B,MAAK/qC,IACA45C,GACFY,EAAO,sBAAwB/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,IAC7F2lC,EAAKoL,QAAQ/zC,IAEjB/N,KAAKiS,KAAKlE,GACHxG,KAERk7C,OAAMhjD,IAOL,MANAA,EAAIwhD,GAAgBlzC,EAChBozC,GACFY,EAAO,sBAAwB/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,IAC7F2lC,EAAKoL,QAAQ/zC,IAEjB/N,KAAKiS,KAAKlE,GACJtO,MAIZ4hD,EAAUn0C,UAAU9E,KAAO,SAAqB2G,EAAIhB,GAC7CA,IAKDA,EAJG/N,KAAKshD,OAIEthD,KAAKshD,OAHLthD,KAAKoiD,iBAOnB,IAAIM,EAAO1iD,KACX,OAAO,WACL0iD,EAAKP,MAAMp0C,GACX,IACE,OAAOgB,EAAGgF,MAAM/T,KAAMuM,WAExB,MAAOsF,GAIL,MAHIA,IACFA,EAAUovC,GAAgBlzC,GAEtB8D,EAER,QACE6wC,EAAKzwC,KAAKlE,MAKhBszC,EAAUn0C,UAAUi1C,MAAQ,SAAep0C,GACzCgzC,EAAOc,GAAG9zC,EAAS,yCACfozC,GACFY,EAAO,WAAa/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,aAClF2lC,EAAKoL,QAAQ/zC,IAGjB/N,KAAKuhD,KAAKj6C,KAAKtH,KAAKshD,QACpBthD,KAAKshD,OAASvzC,GAGhBszC,EAAUn0C,UAAU+E,KAAO,SAAclE,GAQvC,GAPAgzC,EAAOc,GAAG9zC,EAAS,wCACfozC,GACFY,EAAO,UAAY/hD,KAAKwC,KAAO,QAAU4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,aACjF2lC,EAAKoL,QAAQ/zC,IAIb/N,KAAKshD,SAAWvzC,EAGlB,OAFAgzC,EAAOc,GAAG7hD,KAAKuhD,KAAKxwC,OAAQ,iCAC5B/Q,KAAKshD,OAASthD,KAAKuhD,KAAK/L,OAK1B,IAAInuC,EAAQrH,KAAKuhD,KAAK13B,YAAY9b,GAE9B1G,EAAQ,GACN85C,GACFY,EAAO,yDAA2DrL,EAAKoL,QAAQ/zC,IAEjFgzC,EAAOc,GAAGx6C,GAAS,EAAG,gDAAmDqvC,EAAKoL,QAAQ9hD,MAAQ,KAC5F02C,EAAKoL,QAAQ/zC,MAEfgzC,EAAOc,GAAGx6C,EAAO,4BACjBrH,KAAKuhD,KAAKnmB,OAAO/zB,EAAO,KAI5Bg6C,EAAUn0C,UAAUiC,YAAc,SAAqBD,GACrD6xC,EAAOc,GAAG3yC,EAAQ9D,IAAM8D,EAAQ6O,aAAe7O,EAAQlF,KAAM,0BAE7D,IAAI43C,EAAY5hD,KACZ2iD,EAAa,WAAa3iD,KAAKwC,KAgCnCyM,EAAYC,GA7BZ,SAAgBomC,GACTA,IAGAA,EAASsN,kBACZtN,EAASsN,gBAAmB3jD,OAAO0X,OAAO,OAG5C2+B,EAASsN,gBAAiBD,GAAc,CACtCf,UAAWA,EACX7zC,QAAS6zC,EAAUN,YAKvB,SAAcuB,GACZ,IAAMA,IAAaA,EAAUD,gBAC3B,OAAOC,EAGT,IAAIC,EAAUD,EACVE,EAAoBF,EAAUD,gBAKlC,OAJA3jD,OAAOga,KAAK8pC,GAAmB37C,SAAQ,SAAU5E,GAC/C,IAAIwgD,EAAQD,EAAkBvgD,GAC9BsgD,EAAUE,EAAMpB,UAAUx5C,KAAK06C,EAASE,EAAMj1C,YAEzC+0C,MAYXzB,EAAUn0C,UAAU+1C,cAAgB,SAAuBpxC,GACzD,OAAOA,EAAUovC,IAwGnBt9C,QAAQ+9C,WAAa,GAEjBV,EAAUjQ,SAAWiQ,EAAUjQ,OAAOjjC,SACxCkzC,EAAU7zC,SAmCRg0C,EAAkB,CACpB,IAAI+B,EAAa,EAAQ,MACzB,IAAK,IAAIC,KAAYD,EAAW92C,OAAOg3C,WACrCF,EAAW92C,OAAOi3C,SAASF,K,4BC9Z/B,MAAMzM,EAAO,EAAQ,MACfqK,EAAS,EAAQ,MACjB9xC,EAAc,EAAQ,MACtBq0C,EAAc,EAAQ,MAGtBrC,EAAe,gBAEfE,EAAmBx9C,QAAQoc,IAAIohC,iBAErC,IAAIC,GAAc,EAUlB,SAASC,EAAU7+C,GACjBxC,KAAKwC,KAAOA,EAEZxC,KAAKshD,OAAS,KACdthD,KAAKuhD,KAAO,GACZvhD,KAAK2O,GAAK,KACV3O,KAAKwhD,UAAY,IAAItO,IACrBlzC,KAAKujD,QAAU,EAqPjB,SAAS9B,EAAaj/C,GACpB,OAAOmB,QAAQ+9C,WAAWl/C,GA6J5B,SAASm/C,EAAiBn/C,GACxB,IAAIo/C,EAAYH,EAAaj/C,GAE7Bu+C,EAAOc,GAAGD,EAAW,yCAA2Cp/C,EAAO,KACvEu+C,EAAOc,GAAGD,EAAUjzC,GAAI,gDAAmD+nC,EAAKoL,QAAQF,IAExFj+C,QAAQ+9C,WAAWl/C,GAAQ,KAgB7B,SAASu/C,KAAUve,GACb2d,GAEFx9C,QAAQs+C,UAAU,GAAGvL,EAAKp9B,UAAUkqB,MA3bxC91B,EAAOvO,QAAU,CACfsiD,aAAcA,EACd/xC,gBAsQF,SAAyBlN,GACvBu+C,EAAOc,GAAGr/C,EAAM,mCAEZ2+C,GACFY,EAAO,0BAA0Bv/C,MAEnC,IAAIo/C,EAAY,IAAIP,EAAU7+C,GAiJ9B,OAhJAo/C,EAAUjzC,GAAKyyC,EAEFkC,EAAYE,WAAW,CAClCrT,KAAKsT,EAAS9yB,EAAM+yB,EAAWC,GAyB7B,GAxBAvC,EAAakC,EAAYM,mBAwBtBhC,EAAUN,QAGX,GAFAM,EAAUJ,UAAUxsB,IAAIyuB,EAAS7B,EAAUN,QAEvCH,EAAkB,CAEpBY,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,iBACvC5yB,OAAUnuB,cAAiBihD,gBAAsBrC,eAAwBsC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,gBAAmBJ,WAE3M,GAAkB,IAAfvC,EAAiB,CAGxB,MAAMsC,EAAYJ,EAAYU,iBACxBC,EAAmBrC,EAAUJ,UAAUvzC,IAAIy1C,GACjD,GAAIO,GAEF,GADArC,EAAUJ,UAAUxsB,IAAIyuB,EAASQ,GAC7B9C,EAAkB,CAEpBY,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,8CACV5yB,OAAUnuB,cAAiBihD,gBAAsBrC,eAAwBsC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAAEwC,YAAY,EAAMlE,MAAO,EAAGmE,QAAQ,gBAAoBJ,WAE5O,GAAIxC,EAAkB,CAE3BY,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,iCACvB5yB,OAAUnuB,cAAiBihD,gBAAsBrC,eAAwBsC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAAEwC,YAAY,EAAMlE,MAAO,EAAGmE,QAAQ,gBAAoBJ,MAKtO,GAAGxC,GAA6B,YAATxwB,EAAmB,CACxCoxB,EAAOrL,EAAKoL,QAAQ6B,EAAU,CAACG,YAAY,KAC3C,MAAMz1C,EAAWs1C,EAASt1C,SAE1B0zC,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,kCACtB5yB,OAAUnuB,eAAkB6L,aAAoBo1C,gBAAsBrC,eAAwBsC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,gBAAmBJ,OAIvPhO,OAAO8N,GAEL,IAAI11C,EAgBJ,GAjBAqzC,EAAakC,EAAYM,mBAezB71C,EAAU6zC,EAAUJ,UAAUvzC,IAAIw1C,IAAY7B,EAAUJ,UAAUvzC,IAAImzC,GAElErzC,EAAS,CACX,GAAIozC,EAAkB,CACpB,MAAMuC,EAAYJ,EAAYU,iBAE9BjC,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,mBACrC/gD,cAAiBihD,gBAAsBrC,eAAwBsC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,eAAkBrN,EAAKoL,QAAQ/zC,MACjN6zC,EAAU2B,SAAW,EAGvB3B,EAAUO,MAAMp0C,QAEX,GAAIozC,EAAkB,CAC3B,MAAMuC,EAAYJ,EAAYU,iBAE9BjC,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,mCACrB/gD,cAAiBihD,gBAAsBrC,eAAwBsC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,2BAA8BrN,EAAKoL,QAAQF,EAAUJ,UAAW,CAACsC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,OACpSnC,EAAU2B,SAAW,IAGzB3N,MAAM6N,GAEJ,IAAI11C,EAcJ,GAfAqzC,EAAakC,EAAYM,mBAazB71C,EAAU6zC,EAAUJ,UAAUvzC,IAAIw1C,IAAY7B,EAAUJ,UAAUvzC,IAAImzC,GAElErzC,EAAS,CACX,GAAIozC,EAAkB,CACpB,MAAMuC,EAAYJ,EAAYU,iBAC9BpC,EAAU2B,SAAW,EAErBxB,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,kBACtC/gD,cAAiBihD,gBAAsBrC,eAAwBsC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,eAAkBrN,EAAKoL,QAAQ/zC,MAGlN6zC,EAAU3vC,KAAKlE,QAEV,GAAIozC,EAAkB,CAC3B,MAAMuC,EAAYJ,EAAYU,iBAC9BpC,EAAU2B,SAAW,EAErBxB,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,kCACtB/gD,cAAiBihD,gBAAsBrC,eAAwBsC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,eAAkBrN,EAAKoL,QAAQ/zC,QAGpOjE,QAAQ25C,GAEN,GADArC,EAAakC,EAAYM,mBACrBzC,EAAkB,CACpB,MAAMuC,EAAYJ,EAAYU,iBAE9BjC,EAAO,GADW,IAAI8B,OAAOjC,EAAU2B,QAAU,EAAI,EAAI3B,EAAU2B,oBACpC/gD,iBAAoB4+C,aAAsBqC,eAAqBC,YAAoBhN,EAAKoL,QAAQF,EAAUN,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,eAAkBrN,EAAKoL,QAAQF,EAAUJ,UAAUvzC,IAAImzC,OAG5OQ,EAAUJ,UAAU5Q,OAAO6S,MAI1Bt2C,SAELxJ,QAAQ+9C,WAAWl/C,GAAQo/C,EACpBA,GA5ZPD,iBAAkBA,EAClB7xC,MAuaF,WAEMnM,QAAQ+9C,YACVziD,OAAOga,KAAKtV,QAAQ+9C,YAAYt6C,SAAQ,SAAU5E,GAChDm/C,EAAiBn/C,MAGrBmB,QAAQ+9C,WAAaziD,OAAO0X,OAAO,OA7anCsqC,aAAcA,GAahBI,EAAUn0C,UAAU8nB,IAAM,SAAazzB,EAAKnC,GAC1C,IAAKY,KAAKshD,OACR,MAAM,IAAIhhD,MAAM,qEAUlB,OAPAN,KAAKshD,OAAO//C,GAAOnC,EAEf+hD,GAEFY,EADkB,IAAI8B,OAAO7jD,KAAKujD,QAAU,EAAI,EAAIvjD,KAAKujD,SACtC,mBAAqBhiD,EAAM,IAAMnC,EAAQ,UAAYY,KAAKwC,KAAO,eAAiB4+C,EAAa,WAAa1K,EAAKoL,QAAQ9hD,KAAKshD,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,KAGtL3kD,GAGTiiD,EAAUn0C,UAAUe,IAAM,SAAa1M,GACrC,GAAKvB,KAAKshD,OAAV,CAUA,GAAIH,EAAkB,CACpB,MAAM+C,EAAsBZ,EAAYM,mBAClCF,EAAYJ,EAAYU,iBACxBG,EAAY,IAAIN,OAAO7jD,KAAKujD,QAAU,EAAI,EAAIvjD,KAAKujD,SACzDxB,EAAOoC,EAAY,uBAAyB5iD,EAAM,IAAMvB,KAAKshD,OAAO//C,GAAO,KAAOvB,KAAKwC,KAAO,gBAAkB4+C,EAAa,WAAa1K,EAAKoL,QAAQ9hD,KAAKshD,OAAQ,CAACwC,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,KACtMhC,EAAO,GAAGoC,0BAAkCnkD,KAAKwC,SAASjB,KAAOvB,KAAKshD,OAAO//C,iBAAmB6/C,yBAAkC8C,eAAiCR,SAAiB1jD,KAAKuhD,KAAKxwC,iBAAiB2lC,EAAKoL,QAAQ9hD,KAAKshD,WAEnO,OAAOthD,KAAKshD,OAAO//C,GAhBjB,GAAI4/C,EAAkB,CACpB,MAAM+C,EAAsBZ,EAAYc,YAClCV,EAAYJ,EAAYU,iBAG9BjC,EAAO,GAFW,IAAI8B,OAAO7jD,KAAKujD,QAAU,EAAI,EAAIvjD,KAAKujD,8CAEAvjD,KAAKwC,SAASjB,0BAA4B6/C,yBAAkC8C,eAAiCR,SAAiB1jD,KAAKuhD,KAAKxwC,YAcvMswC,EAAUn0C,UAAUk1C,cAAgB,WAElC,IAAIr0C,EAAU9O,OAAO0X,OAAO3W,KAAKshD,OAASthD,KAAKshD,OAASriD,OAAOiO,WAI/D,GAHAa,EAAQs0C,SAAWriD,KAAKwC,KACxBuL,EAAQY,GAAKyyC,EAETD,EAAkB,CACpB,MAAM+C,EAAsBZ,EAAYM,mBAClCF,EAAYJ,EAAYU,iBAE9BjC,EAAO,GADW,IAAI8B,OAAO7jD,KAAKujD,QAAU,EAAI,EAAIvjD,KAAKujD,qCACTvjD,KAAKwC,oBAAoB4+C,yBAAkC8C,eAAiCR,SAAiB1jD,KAAKuhD,KAAKxwC,kBAAkB2lC,EAAKoL,QAAQ/zC,EAAS,CAAC+1C,YAAW,EAAMlE,MAAM,EAAGmE,QAAO,OAGnP,OAAOh2C,GAGTszC,EAAUn0C,UAAUo1C,IAAM,SAAavzC,GACrC,IAAIhB,EAAU/N,KAAKoiD,gBACnBpiD,KAAKmiD,MAAMp0C,GAEX,IACE,GAAIozC,EAAkB,CACpB,MAAMuC,EAAYJ,EAAYU,iBACxBE,EAAsBZ,EAAYM,mBAExC7B,EAAO,GADW,IAAI8B,OAAO7jD,KAAKujD,QAAU,EAAI,EAAIvjD,KAAKujD,+BACfvjD,KAAKwC,oBAAoB4+C,eAAwBsC,yBAAiCQ,SAA2BlkD,KAAKuhD,KAAKxwC,kBAAkB2lC,EAAKoL,QAAQ/zC,MAGlM,OADAgB,EAAGhB,GACIA,EACP,MAAO8D,GAIP,MAHIA,IACFA,EAAUovC,GAAgBlzC,GAEtB8D,EACN,QACA,GAAIsvC,EAAkB,CACpB,MAAMuC,EAAYJ,EAAYU,iBACxBE,EAAsBZ,EAAYM,mBAExC7B,EAAO,GADW,IAAI8B,OAAO7jD,KAAKujD,QAAU,EAAI,EAAIvjD,KAAKujD,6BACjBvjD,KAAKwC,oBAAoB4+C,eAAwBsC,yBAAiCQ,SAA2BlkD,KAAKuhD,KAAKxwC,UAAU2lC,EAAKoL,QAAQ/zC,MAExL/N,KAAKiS,KAAKlE,KAIdszC,EAAUn0C,UAAUq1C,aAAe,SAAsBxzC,GACvD,IAAI3P,EAIJ,OAHAY,KAAKsiD,KAAI,SAAUv0C,GACjB3O,EAAQ2P,EAAGhB,MAEN3O,GAQTiiD,EAAUn0C,UAAUs1C,WAAa,SAAoBzzC,GACnD,IAAIhB,EAAU/N,KAAKoiD,gBACnBpiD,KAAKmiD,MAAMp0C,GAEX,IAAIqmC,EAAUrlC,EAAGhB,GACjB,IAAKqmC,IAAYA,EAAQ9B,OAAS8B,EAAQqO,MACxC,MAAM,IAAIniD,MAAM,6BAOlB,OAJI6gD,GACFY,EAAO,+BAAiC/hD,KAAKwC,KAAO,gBAAkB4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,IAAM2lC,EAAKoL,QAAQ/zC,IAG9HqmC,EACJ9B,MAAK/qC,IACA45C,GACFY,EAAO,mCAAqC/hD,KAAKwC,KAAO,gBAAkB4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,IAAM2lC,EAAKoL,QAAQ/zC,IAEzI/N,KAAKiS,KAAKlE,GACHxG,KAERk7C,OAAMhjD,IAML,MALAA,EAAIwhD,GAAgBlzC,EAChBozC,GACFY,EAAO,oCAAsC/hD,KAAKwC,KAAO,gBAAkB4+C,EAAa,QAAUphD,KAAKuhD,KAAKxwC,OAAS,IAAM2lC,EAAKoL,QAAQ/zC,IAE1I/N,KAAKiS,KAAKlE,GACJtO,MAIZ4hD,EAAUn0C,UAAU9E,KAAO,SAAqB2G,EAAIhB,GAC7CA,IAIDA,EAHG/N,KAAKshD,OAGEthD,KAAKshD,OAFLthD,KAAKoiD,iBAMnB,IAAIM,EAAO1iD,KACX,OAAO,WACL0iD,EAAKP,MAAMp0C,GACX,IACE,OAAOgB,EAAGgF,MAAM/T,KAAMuM,WACtB,MAAOsF,GAIP,MAHIA,IACFA,EAAUovC,GAAgBlzC,GAEtB8D,EACN,QACA6wC,EAAKzwC,KAAKlE,MAKhBszC,EAAUn0C,UAAUi1C,MAAQ,SAAep0C,GAEzC,GADAgzC,EAAOc,GAAG9zC,EAAS,yCACfozC,EAAkB,CACpB,MAAM+C,EAAsBZ,EAAYM,mBAClCF,EAAYJ,EAAYU,iBAE9BjC,EAAO,GADW,IAAI8B,OAAO7jD,KAAKujD,QAAU,EAAI,EAAIvjD,KAAKujD,2BACnBvjD,KAAKwC,oBAAoB4+C,eAAwBsC,yBAAiCQ,SAA2BlkD,KAAKuhD,KAAKxwC,UAAU2lC,EAAKoL,QAAQ/zC,MAGtL/N,KAAKuhD,KAAKj6C,KAAKtH,KAAKshD,QACpBthD,KAAKshD,OAASvzC,GAGhBszC,EAAUn0C,UAAU+E,KAAO,SAAclE,GAEvC,GADAgzC,EAAOc,GAAG9zC,EAAS,wCACfozC,EAAkB,CACpB,MAAM+C,EAAsBZ,EAAYM,mBAClCF,EAAYJ,EAAYU,iBAE9BjC,EAAO,GADW,IAAI8B,OAAO7jD,KAAKujD,QAAU,EAAI,EAAIvjD,KAAKujD,0BACpBvjD,KAAKwC,oBAAoB4+C,eAAwBsC,yBAAiCQ,SAA2BlkD,KAAKuhD,KAAKxwC,UAAU2lC,EAAKoL,QAAQ/zC,MAIrL,GAAI/N,KAAKshD,SAAWvzC,EAGlB,OAFAgzC,EAAOc,GAAG7hD,KAAKuhD,KAAKxwC,OAAQ,iCAC5B/Q,KAAKshD,OAASthD,KAAKuhD,KAAK/L,OAK1B,IAAInuC,EAAQrH,KAAKuhD,KAAK13B,YAAY9b,GAE9B1G,EAAQ,GACN85C,GACFY,EAAO,yDAA2DrL,EAAKoL,QAAQ/zC,IAEjFgzC,EAAOc,GAAGx6C,GAAS,EAAG,gDAAmDqvC,EAAKoL,QAAQ9hD,MAAQ,KAAO02C,EAAKoL,QAAQ/zC,MAElHgzC,EAAOc,GAAGx6C,EAAO,4BACjBrH,KAAKuhD,KAAKnmB,OAAO/zB,EAAO,KAI5Bg6C,EAAUn0C,UAAUiC,YAAc,SAAqBD,GACrD6xC,EAAOc,GAAG3yC,EAAQ9D,IAAM8D,EAAQ6O,aAAe7O,EAAQlF,KAAM,0BAE7D,IAAI43C,EAAY5hD,KACZ2iD,EAAa,WAAa3iD,KAAKwC,KAgCnCyM,EAAYC,GA7BZ,SAAgBomC,GACTA,IAGAA,EAASsN,kBACZtN,EAASsN,gBAAmB3jD,OAAO0X,OAAO,OAG5C2+B,EAASsN,gBAAiBD,GAAc,CACtCf,UAAWA,EACX7zC,QAAS6zC,EAAUN,YAKvB,SAAcuB,GACZ,IAAMA,IAAaA,EAAUD,gBAC3B,OAAOC,EAGT,IAAIC,EAAUD,EACVE,EAAoBF,EAAUD,gBAKlC,OAJA3jD,OAAOga,KAAK8pC,GAAmB37C,SAAQ,SAAU5E,GAC/C,IAAIwgD,EAAQD,EAAkBvgD,GAC9BsgD,EAAUE,EAAMpB,UAAUx5C,KAAK06C,EAASE,EAAMj1C,YAEzC+0C,MAYXzB,EAAUn0C,UAAU+1C,cAAgB,SAAuBpxC,GACzD,OAAOA,EAAUovC,IAoLnBt9C,QAAQ+9C,WAAa,I,4BClcrB,MAAMlL,EAAS,EAAQ,MAQpB7yC,SAAW6yC,EAAOI,IAAIjzC,QAAQC,SAASC,KAAM,SAC9C6J,EAAOvO,QAAU,EAAjB,MAEAuO,EAAOvO,QAAU,EAAjB,O,4BCXF,IAAI4hD,EAAc,EAAQ,MACtB9xC,EAAc,EAAQ,MAQtBgyC,EAAe,gBAKnB,SAASI,EAAU7+C,GACjBxC,KAAKwC,KAASA,EAEdxC,KAAKshD,OAAS,KACdthD,KAAKuhD,KAAS,GACdvhD,KAAK2O,GAAS,KAiJhB,SAASV,EAAIzL,GACX,OAAOmB,QAAQ+9C,WAAWl/C,GAkB5B,SAASsH,EAAQtH,GACf,IAAIo/C,EAAY3zC,EAAIzL,GAEpBu+C,EAAOc,GAAGD,EAAc,uCACxBb,EAAOc,GAAGD,EAAUjzC,GAAI,gDAExBhL,QAAQ0yC,oBAAoBuL,EAAUjzC,IACtChL,QAAQ+9C,WAAWl/C,GAAQ,KAG7B,SAASsN,IAEHnM,QAAQ+9C,YACVziD,OAAOga,KAAKtV,QAAQ+9C,YAAYt6C,SAAQ,SAAU5E,GAChDsH,EAAQtH,MAGZmB,QAAQ+9C,WAAaziD,OAAO0X,OAAO,MA5LhChT,QAAQwyC,kBAAkB,EAAQ,MAUvCkL,EAAUn0C,UAAU8nB,IAAM,SAAUzzB,EAAKnC,GACvC,IAAKY,KAAKshD,OACR,MAAM,IAAIhhD,MAAM,qEAIlB,OADAN,KAAKshD,OAAO//C,GAAOnC,EACZA,GAGTiiD,EAAUn0C,UAAUe,IAAM,SAAU1M,GAClC,GAAKvB,KAAKshD,OAEV,OAAOthD,KAAKshD,OAAO//C,IAGrB8/C,EAAUn0C,UAAUk1C,cAAgB,WAClC,OAAOnjD,OAAO0X,OAAO3W,KAAKshD,SAG5BD,EAAUn0C,UAAUo1C,IAAM,SAAUvzC,GAClC,IAAIhB,EAAU/N,KAAKoiD,gBACnBpiD,KAAKmiD,MAAMp0C,GACX,IAEE,OADAgB,EAAGhB,GACIA,EAET,MAAO8D,GAIL,MAHIA,IACFA,EAAUovC,GAAgBlzC,GAEtB8D,EAER,QACE7R,KAAKiS,KAAKlE,KAIdszC,EAAUn0C,UAAUq1C,aAAe,SAAUxzC,GAC3C,IAAI3P,EAIJ,OAHAY,KAAKsiD,KAAI,SAAUv0C,GACjB3O,EAAQ2P,EAAGhB,MAEN3O,GAGTiiD,EAAUn0C,UAAU9E,KAAO,SAAU2G,EAAIhB,GAClCA,IAKDA,EAJG/N,KAAKshD,OAIEthD,KAAKshD,OAHLthD,KAAKoiD,iBAOnB,IAAIM,EAAO1iD,KACX,OAAO,WACL0iD,EAAKP,MAAMp0C,GACX,IACE,OAAOgB,EAAGgF,MAAM/T,KAAMuM,WAExB,MAAOsF,GAIL,MAHIA,IACFA,EAAUovC,GAAgBlzC,GAEtB8D,EAER,QACE6wC,EAAKzwC,KAAKlE,MAKhBszC,EAAUn0C,UAAUi1C,MAAQ,SAAUp0C,GACpCgzC,EAAOc,GAAG9zC,EAAS,yCAEnB/N,KAAKuhD,KAAKj6C,KAAKtH,KAAKshD,QACpBthD,KAAKshD,OAASvzC,GAGhBszC,EAAUn0C,UAAU+E,KAAO,SAAUlE,GAInC,GAHAgzC,EAAOc,GAAG9zC,EAAS,wCAGf/N,KAAKshD,SAAWvzC,EAGlB,OAFAgzC,EAAOc,GAAG7hD,KAAKuhD,KAAKxwC,OAAQ,iCAC5B/Q,KAAKshD,OAASthD,KAAKuhD,KAAK/L,OAK1B,IAAInuC,EAAQrH,KAAKuhD,KAAK13B,YAAY9b,GAElCgzC,EAAOc,GAAGx6C,GAAS,EAAG,6CACtB05C,EAAOc,GAAGx6C,EAAY,4BAEtBrH,KAAKuhD,KAAKnmB,OAAO/zB,EAAO,IAG1Bg6C,EAAUn0C,UAAUiC,YAAc,SAAUD,GAC1C6xC,EAAOc,GAAG3yC,EAAQ9D,IAAM8D,EAAQ6O,aAAe7O,EAAQlF,KAAM,0BAE7D,IAAI43C,EAAa5hD,KACb2iD,EAAa,WAAa3iD,KAAKwC,KA0BnCyM,EAAYC,GAvBZ,SAAgBomC,GACTA,IACAA,EAASsN,kBAAkBtN,EAASsN,gBAAmB3jD,OAAO0X,OAAO,OAE1E2+B,EAASsN,gBAAiBD,GAAc,CACtCf,UAAYA,EACZ7zC,QAAY6zC,EAAUN,YAK1B,SAAcuB,GACZ,IAAMA,IAAaA,EAAUD,gBAAmB,OAAOC,EAEvD,IAAIC,EAAWD,EACXwB,EAAWxB,EAAUD,gBAKzB,OAJA3jD,OAAOga,KAAKorC,GAAUj9C,SAAQ,SAAU5E,GACtC,IAAIwgD,EAAQqB,EAAS7hD,GACrBsgD,EAAUE,EAAMpB,UAAUx5C,KAAK06C,EAASE,EAAMj1C,YAEzC+0C,MAYXzB,EAAUn0C,UAAU+1C,cAAgB,SAAUpxC,GAC5C,OAAOA,EAAUovC,IAyCdt9C,QAAQ+9C,YAAY5xC,IAEzBpC,EAAOvO,QAAU,CACfsiD,aAAmBxzC,EACnByB,gBAtCF,SAAgBlN,GACdu+C,EAAOc,GAAGr/C,EAAM,mCAEhB,IAAIo/C,EAAY,IAAIP,EAAU7+C,GAS9B,OARAo/C,EAAUjzC,GAAKhL,QAAQwyC,iBAAiB,CACtCx/B,OAAS,WAAc,OAAOirC,EAAUN,QACxC3L,OAAS,SAAU5nC,EAASu2C,GAAeA,GAAS1C,EAAUO,MAAMmC,IACpE1O,MAAS,SAAU7nC,EAASu2C,GAAeA,GAAS1C,EAAU3vC,KAAKqyC,IACnE7jD,MAAS,SAAU6jD,GAAeA,GAAS1C,EAAU3vC,KAAKqyC,MAG5D3gD,QAAQ+9C,WAAWl/C,GAAQo/C,EACpBA,GA2BPD,iBAAmB73C,EACnBgG,MAAmBA,I,kCCjNrB,IAAI6O,EAAY3e,MAAQA,KAAK2e,UAAa1f,OAAOgB,QAAU,SAAS2e,GAChE,IAAK,IAAIC,EAAG/N,EAAI,EAAGgO,EAAIvS,UAAUwE,OAAQD,EAAIgO,EAAGhO,IAE5C,IAAK,IAAI0F,KADTqI,EAAItS,UAAUuE,GACO7R,OAAOiO,UAAUuJ,eAAe3C,KAAK+K,EAAGrI,KACzDoI,EAAEpI,GAAKqI,EAAErI,IAEjB,OAAOoI,GAEX3f,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIupB,EAAuB,EAAQ,MACnCxpB,EAAQolD,mBAAqB,uBAU7B,IAgCIC,EAA2C,WAC3C,SAASA,KAWT,OATAA,EAA0Bt3C,UAAUu3C,QAAU,SAAUC,KAGxDF,EAA0Bt3C,UAAUxD,MAAQ,SAAUg7C,GAClD/7B,EAAqBc,QAAQk7B,QAAQ,oBAAqBD,IAE9DF,EAA0Bt3C,UAAU03C,SAAW,aAGxCJ,EAZmC,GAc9CrlD,EAAQ0lD,iBAAmB,CACvBC,iBAAkB,mBAClBC,MAhDgC,SAAUC,GAC1C,IACI,IAIIC,EAAW,IAAIC,EAJD,qBACCv8B,EAAqBc,QAAQ07B,sBAC1C,CAAEC,aAAcz8B,EAAqBc,QAAQ07B,4BAC7C3hD,GAIF6hD,EAAsBJ,EAASK,UACnCL,EAASK,UAAY,SAAU9iD,EAAM+Q,GAEjC,IAAKA,IAAYA,EAAQynC,OAAQ,CAC7B,IAAIuK,EAAkBN,EAASO,iBAC3BD,GAAmBA,EAAgB72C,WAAa62C,EAAgB72C,UAAUF,cAC1E+E,EAAUoL,EAAS,GAAIpL,EAAS,CAAEynC,OAAQ,CAClCzmC,QAASgxC,EAAgB72C,UAAUF,YAAY+F,QAC/CizB,OAAQ+d,EAAgB72C,UAAUF,YAAYg5B,WAI9D,IAAIkd,EAAOW,EAAoBvxC,KAAK9T,KAAMwC,EAAM+Q,GAEhD,OADAmxC,EAAKe,SAAS,4CACPf,GAEXO,EAASS,iBAAiB,IAAIlB,GAC9BS,EAAS9lD,EAAQolD,qBAAsB,EACvCS,EAAYW,UAAUV,GAE1B,MAAO7kD,IACP,OAAO4kD,IAuBX7lD,EAAQgO,OAHR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,sBAAuBzmD,EAAQ0lD,oB,4BCvEpF5lD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MAgBnCxpB,EAAQirB,OAAS,CACb06B,iBAAkB,mBAClBC,MAjBsB,SAAUc,GAChC,IAAIC,EAAeD,EAAe34C,UAAU64C,MAY5C,OAXAF,EAAe34C,UAAU64C,MAAQ,SAAUC,EAAKC,GAC5C,IAAIC,EAAMJ,EAAa/xC,MAAM/T,KAAMuM,WACnC,IAAK05C,EAAQ,CACT,IAAIlqC,EAAMmqC,EACLnqC,IACDA,EAAM+pC,EAAahyC,KAAK9T,KAAMgmD,GAAK,IAEvCr9B,EAAqBc,QAAQk7B,QAAQ,SAAU,CAAEr7B,MAAO08B,EAAI18B,MAAO/hB,OAAQwU,IAE/E,OAAOmqC,GAEJL,IASX1mD,EAAQgO,OAHR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,SAAUzmD,EAAQirB,U,4BCxBvEnrB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MAC/B3f,EAAW,EAAQ,MA8CvB7J,EAAQqB,QAAU,CACdskD,iBAAkB,WAClBC,MA/CuB,SAAUoB,GACjC,IAAIC,EAAqB,IAAIp9C,EAASq9C,SAClCC,EAAqB,IAAIt9C,EAASq9C,SAGtCD,EAAmBnmB,MAAQ,SAAUsmB,GACjC,IAAKA,EACD,OAAO,EAEX,IAAIhmD,EAAUgmD,EAAM5xC,WAEpB,OADAgU,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAEpkD,QAASA,KACpD,GAEX+lD,EAAmBrmB,MAAQ,SAAUsmB,GACjC,IAAKA,EACD,OAAO,EAEX,IAAIhmD,EAAUgmD,EAAM5xC,WAEpB,OADAgU,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAEpkD,QAASA,EAASwpB,QAAQ,KACrE,GAoBX,IAlBA,IAAIy8B,EAAmB,IAAIL,EAAgBM,QAAQL,EAAoBE,GAEnEI,EAAU,SAAUzvC,GACpB,IAAI0vC,EAAiBR,EAAgBlvC,GACjC0vC,IACAR,EAAgBlvC,GAAU,WACtB,GAAIuvC,EAAiBvvC,GACjB,IACIuvC,EAAiBvvC,GAAQlD,MAAMyyC,EAAkBj6C,WAErD,MAAOnM,IAIX,OAAOumD,EAAe5yC,MAAMoyC,EAAiB55C,cAIhDsH,EAAK,EAAG+yC,EAjBI,CAAC,MAAO,OAAQ,OAAQ,QAAS,MAAO,OAAQ,UAAW,QAAS,UAiBrC/yC,EAAK+yC,EAAiB71C,OAAQ8C,IAE9E6yC,EADaE,EAAiB/yC,IAGlC,OAAOsyC,IAYXhnD,EAAQgO,OANR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,UAAWzmD,EAAQqB,SAGpE,EAAQ,Q,4BCxDZvB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIynD,EAAW,EAAQ,MACvB1nD,EAAQ0nD,SAAWA,EACnB,IAAIz8B,EAAS,EAAQ,MACrBjrB,EAAQirB,OAASA,EACjB,IAAI08B,EAAa,EAAQ,MACzB3nD,EAAQqB,QAAUsmD,EAClB,IAAIx8B,EAAc,EAAQ,MAC1BnrB,EAAQmrB,YAAcA,EACtB,IAAID,EAAU,EAAQ,MACtBlrB,EAAQkrB,QAAUA,EAClB,IAAIE,EAAQ,EAAQ,MACpBprB,EAAQorB,MAAQA,EAChB,IAAIG,EAAS,EAAQ,MACrBvrB,EAAQurB,OAASA,EACjB,IAAID,EAAK,EAAQ,MACjBtrB,EAAQsrB,GAAKA,EACb,IAAID,EAAQ,EAAQ,MACpBrrB,EAAQqrB,MAAQA,EAChB,IAAIu8B,EAAU,EAAQ,MACtB5nD,EAAQ4nD,QAAUA,EAClB,IAAIp8B,EAAU,EAAQ,MACtBxrB,EAAQwrB,QAAUA,EAclBxrB,EAAQgO,OAbR,WACIid,EAAOjd,SACP25C,EAAW35C,SACXmd,EAAYnd,SACZkd,EAAQld,SACRod,EAAMpd,SACNsd,EAAGtd,SACHud,EAAOvd,SACPqd,EAAMrd,SACNwd,EAAQxd,SACR05C,EAAS15C,SACT45C,EAAQ55C,W,4BCpCZlO,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MA6BnCxpB,EAAQ6nD,UAAY,CAChBlC,iBAAkB,mBAClBC,MA9B2B,SAAUkC,GACrC,IAAIC,EAAkBD,EAAkBtP,OAAOzqC,UAAUi6C,QAyBzD,OAxBAF,EAAkBtP,OAAOzqC,UAAUi6C,QAAU,WACzC,IAAIjB,EAAMgB,EAAgBnzC,MAAM/T,KAAMuM,WAIlC66C,EAAgBpnD,KAAK6e,EAAEwoC,KAAKpnB,MAChCjgC,KAAK6e,EAAEwoC,KAAKpnB,MAAQ,WAChB,IAAIqnB,EAAgC,mBAAjB/6C,UAAU,GAAoB,EAAI,EAIrD,MAHgC,mBAArBA,UAAU+6C,KACjB/6C,UAAU+6C,GAAS3+B,EAAqBc,QAAQ89B,cAAch7C,UAAU+6C,KAErEF,EAAcrzC,MAAM/T,KAAMuM,YAIrC,IAAIi7C,EAAiBxnD,KAAK6e,EAAEwoC,KAAKI,OAOjC,OANAznD,KAAK6e,EAAEwoC,KAAKI,OAAS,WAIjB,MAH4B,mBAAjBl7C,UAAU,KACjBA,UAAU,GAAKoc,EAAqBc,QAAQ89B,cAAch7C,UAAU,KAEjEi7C,EAAezzC,MAAM/T,KAAMuM,YAE/B25C,GAEJe,IASX9nD,EAAQgO,OAHR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,eAAgBzmD,EAAQ6nD,a,kCCrC7E,IAAIroC,EAAY3e,MAAQA,KAAK2e,UAAa1f,OAAOgB,QAAU,SAAS2e,GAChE,IAAK,IAAIC,EAAG/N,EAAI,EAAGgO,EAAIvS,UAAUwE,OAAQD,EAAIgO,EAAGhO,IAE5C,IAAK,IAAI0F,KADTqI,EAAItS,UAAUuE,GACO7R,OAAOiO,UAAUuJ,eAAe3C,KAAK+K,EAAGrI,KACzDoI,EAAEpI,GAAKqI,EAAErI,IAEjB,OAAOoI,GAEX3f,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MAsJnCxpB,EAAQuoD,OAAS,CACb5C,iBAAkB,oBAClBC,MAvJuB,SAAU4C,GACjC,IAAIrS,EAAWqS,EAAcC,WAAW,CACpCC,qBAAsB,CAClB/N,KAAM,WACF,OAAOnxB,EAAqBc,QAAQ89B,eAAc,SAAU33C,GAAM,OAAOA,WAIjFk4C,EAAW,GAoCf,OAnCAxS,EAASlqC,GAAG,WAAW,SAAUge,GACzB0+B,EAAS1+B,EAAM3P,aAMnBquC,EAAS1+B,EAAM3P,WAAakF,EAAS,GAAIyK,EAAO,CAAEnG,KAAM,IAAI7L,WAEhEk+B,EAASlqC,GAAG,aAAa,SAAUge,GAC/B,IAAI4B,EAAc88B,EAAS1+B,EAAM3P,WAC7BuR,UACO88B,EAAS1+B,EAAM3P,WAEO,mBAAtB2P,EAAMhb,YACbgb,EAAMhb,aAAY,WAAc,OAAOua,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAE35B,YAAaA,EAAa5B,MAAOA,EAAO8B,WAAW,OAI5IvC,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAE35B,YAAaA,EAAa5B,MAAOA,EAAO8B,WAAW,OAG7GoqB,EAASlqC,GAAG,UAAU,SAAUge,GAC5B,IAAI4B,EAAc88B,EAAS1+B,EAAM3P,WAC7BuR,UACO88B,EAAS1+B,EAAM3P,WAEO,mBAAtB2P,EAAMhb,YACbgb,EAAMhb,aAAY,WAAc,OAAOua,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAE35B,YAAaA,EAAa5B,MAAOA,EAAO8B,WAAW,OAI5IvC,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAE35B,YAAaA,EAAa5B,MAAOA,EAAO8B,WAAW,OAGtGy8B,IA6GXxoD,EAAQ4oD,OAAS,CACbjD,iBAAkB,kBAClBC,MA7GwB,SAAU4C,GAClC,IAAIrS,EAAWqS,EAAcC,aACzBE,EAAW,GACXE,EAAa,GA+BjB,OA9BA1S,EAASlqC,GAAG,WAAW,SAAUge,GACzB0+B,EAAS1+B,EAAM3P,aAMnBuuC,EAAW5+B,EAAM3P,WAAakP,EAAqBc,QAAQ89B,eAAc,SAAU33C,GAAM,OAAOA,OAChGk4C,EAAS1+B,EAAM3P,WAAakF,EAAS,GAAIyK,EAAO,CAAEnG,KAAM,IAAI7L,WAEhEk+B,EAASlqC,GAAG,aAAa,SAAUge,GAC/B,IAAI4B,EAAc88B,EAAS1+B,EAAM3P,WAC7BuR,UACO88B,EAAS1+B,EAAM3P,WAEL,iBAAV2P,GAA6D,mBAAhC4+B,EAAW5+B,EAAM3P,aACrDuuC,EAAW5+B,EAAM3P,YAAW,WAAc,OAAOkP,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAE35B,YAAaA,EAAa5B,MAAOA,EAAO8B,WAAW,cAC/I88B,EAAW5+B,EAAM3P,eAGhC67B,EAASlqC,GAAG,UAAU,SAAUge,GAC5B,IAAI4B,EAAc88B,EAAS1+B,EAAM3P,WAC7BuR,UACO88B,EAAS1+B,EAAM3P,WAEL,iBAAV2P,GAA6D,mBAAhC4+B,EAAW5+B,EAAM3P,aACrDuuC,EAAW5+B,EAAM3P,YAAW,WAAc,OAAOkP,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAE35B,YAAaA,EAAa5B,MAAOA,EAAO8B,WAAW,cAC/I88B,EAAW5+B,EAAM3P,eAGzBkuC,IA6EXxoD,EAAQ8oD,SAAW,CACfnD,iBAAkB,mBAClBC,MA/C0B,SAAU4C,IA5BT,SAAUA,GACrC,IAAIT,EAAkBS,EAAchQ,OAAOzqC,UAAUi6C,QACrDQ,EAAchQ,OAAOzqC,UAAUi6C,QAAU,WACrC,IAAIjB,EAAMgB,EAAgBnzC,MAAM/T,KAAMuM,WAIlC66C,EAAgBpnD,KAAK6e,EAAEqpC,aAAarpC,EAAEwoC,KAAKpnB,MAC/CjgC,KAAK6e,EAAEqpC,aAAarpC,EAAEwoC,KAAKpnB,MAAQ,WAC/B,IAAIqnB,EAAgC,mBAAjB/6C,UAAU,GAAoB,EAAI,EAIrD,MAHgC,mBAArBA,UAAU+6C,KACjB/6C,UAAU+6C,GAAS3+B,EAAqBc,QAAQ89B,cAAch7C,UAAU+6C,KAErEF,EAAcrzC,MAAM/T,KAAMuM,YAIrC,IAAIi7C,EAAiBxnD,KAAK6e,EAAEqpC,aAAarpC,EAAEwoC,KAAKI,OAOhD,OANAznD,KAAK6e,EAAEqpC,aAAarpC,EAAEwoC,KAAKI,OAAS,WAIhC,MAH4B,mBAAjBl7C,UAAU,KACjBA,UAAU,GAAKoc,EAAqBc,QAAQ89B,cAAch7C,UAAU,KAEjEi7C,EAAezzC,MAAM/T,KAAMuM,YAE/B25C,GAKXiC,CAAyBR,GACzB,IAAIrS,EAAWqS,EAAcC,aACzBE,EAAW,GACXE,EAAa,GA+BjB,OA9BA1S,EAASlqC,GAAG,WAAW,SAAUge,GACzB0+B,EAAS1+B,EAAM3P,aAMnBuuC,EAAW5+B,EAAM3P,WAAakP,EAAqBc,QAAQ89B,eAAc,SAAU33C,GAAM,OAAOA,OAChGk4C,EAAS1+B,EAAM3P,WAAa2P,MAEhCksB,EAASlqC,GAAG,aAAa,SAAUge,GAC/B,IAAI4B,EAAc88B,EAAS1+B,EAAM3P,WAC7BuR,UACO88B,EAAS1+B,EAAM3P,WAEL,iBAAV2P,GAA6D,mBAAhC4+B,EAAW5+B,EAAM3P,aACrDuuC,EAAW5+B,EAAM3P,YAAW,WAAc,OAAOkP,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAE35B,YAAaA,EAAa5B,MAAOA,EAAO8B,WAAW,cAC/I88B,EAAW5+B,EAAM3P,eAGhC67B,EAASlqC,GAAG,UAAU,SAAUge,GAC5B,IAAI4B,EAAc88B,EAAS1+B,EAAM3P,WAC7BuR,UACO88B,EAAS1+B,EAAM3P,WAEL,iBAAV2P,GAA6D,mBAAhC4+B,EAAW5+B,EAAM3P,aACrDuuC,EAAW5+B,EAAM3P,YAAW,WAAc,OAAOkP,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAE35B,YAAaA,EAAa5B,MAAOA,EAAO8B,WAAW,cAC/I88B,EAAW5+B,EAAM3P,eAGzBkuC,IAmBXxoD,EAAQgO,OALR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,UAAWzmD,EAAQuoD,QACpE/+B,EAAqBc,QAAQm8B,oBAAoB,UAAWzmD,EAAQ4oD,QACpEp/B,EAAqBc,QAAQm8B,oBAAoB,UAAWzmD,EAAQ8oD,Y,4BChLxEhpD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MAC/B/jB,EAAO,EAAQ,MAoEnBzF,EAAQorB,MAAQ,CACZu6B,iBAAkB,mBAClBC,MArEqB,SAAUqD,EAAeC,GAG9C,IAAIC,EAAsB,SAAU1e,EAAKpnC,GACrC,OAAO,SAAU+lD,EAAMC,GACnB,IAAIC,EAAe7e,EAAI2e,GACnBE,IACA7e,EAAI2e,GAAQ,WAGR,IADA,IAAIjB,EAAQ/6C,UAAUwE,OAAS,EACtBD,EAAIvE,UAAUwE,OAAS,EAAGD,GAAK,IAAKA,EAAG,CAC5C,GAA4B,mBAAjBvE,UAAUuE,GAAmB,CACpCw2C,EAAQx2C,EACR,MAEC,QAA4B,IAAjBvE,UAAUuE,GACtB,MAGR,IAAIlB,EAAKrD,UAAU+6C,GACfoB,EAAkB,CAAEnhD,OAAQ,KAAM4P,UAAW,KAAMwxC,UAAW,MAChD,mBAAP/4C,IAIH44C,GACAE,EAAgBvxC,UAAYxT,QAAQkgB,SACpC6kC,EAAgBC,UAAY,IAAIvxC,KAChC7K,UAAU+6C,GAAS3+B,EAAqBc,QAAQ89B,cAAciB,EAAUE,EAAiB94C,KAGzFrD,UAAU+6C,GAAS3+B,EAAqBc,QAAQ89B,cAAc33C,IAGtE,IAAIrI,EAASkhD,EAAa10C,MAAM/T,KAAMuM,WAEtC,OADAm8C,EAAgBnhD,OAASA,EAClBA,MAKnBqhD,EAA2B,SAAUC,EAAarmD,GAClD,OAAO8lD,EAAoBO,EAAY37C,YAMvC47C,EAAkB,QAAQlkD,EAAKmkD,QAAQV,GAAqB,mBAJ9B,CAC9B,UAAW,aACX,OAAQ,aAAc,OAGEjhD,SAAQ,SAAUhI,GAAS,OAAOwpD,EAAyBE,EAAzBF,CAAwDxpD,MAEtHkpD,EAAoBQ,EAApBR,CAAmD,eAAe,SAAUI,EAAiB94C,GACzF,OAAO,SAAUnQ,GACb,IAAIupD,EAAarlD,QAAQkgB,OAAO6kC,EAAgBvxC,WAE5CwB,EAA4B,IAAhBqwC,EAAW,GAAWA,EAAW,GAAK,IAAO,EAC7DrgC,EAAqBc,QAAQk7B,QAAQ,QAAS,CAAEv5B,MAAOs9B,EAAgBnhD,OAAQ0hD,aAAc18C,UAAW9M,IAAKA,EAAKkZ,SAAUA,EAAUsK,KAAMylC,EAAgBC,YAC5J/4C,EAAGmE,MAAM/T,KAAMuM,eAGvB,IAGI28C,EAAY,OAAQtkD,EAAKmkD,QAAQV,GAAqB,aAE1D,MAL4B,CACxB,oBAGkBjhD,SAAQ,SAAUhI,GAAS,OAAOwpD,EAAyBM,EAAzBN,CAA4CxpD,MAC7FgpD,IASXjpD,EAAQgO,OAHR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,QAASzmD,EAAQorB,S,4BC7EtEtrB,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MAWnCxpB,EAAQgqD,cAAgB,CACpBrE,iBAAkB,mBAClBC,MAZJ,SAAoCqE,GAChC,IAAIlC,EAAkBkC,EAAel8C,UAAUi6C,QAO/C,OANAiC,EAAel8C,UAAUi6C,QAAU,SAAiBriD,GAIhD,OAHIA,IACAyH,UAAU,GAAKoc,EAAqBc,QAAQ89B,cAAcziD,IAEvDoiD,EAAgBnzC,MAAM/T,KAAMuM,YAEhC68C,IASXjqD,EAAQgO,OAHR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,UAAWzmD,EAAQgqD,iB,4BCnBxElqD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MAC/B1e,EAAW,EAAQ,MAiQvB9K,EAAQkqD,UAAY,CAChBvE,iBAAkB,MAClBC,MAlQJ,SAAgCuE,EAAYC,GACxC,IAAIC,EAAsBF,EAAWG,OAAOv8C,UAAUke,MAClDs+B,EAAyB,2BAqH7B,OAlHAJ,EAAWG,OAAOv8C,UAAUke,MAAQ,SAAenW,EAAQxI,EAAQ3H,GAC/D,IAYI6kD,EAZAjxC,EAAO,CACP0S,MAAO,GACPW,SAAU,CACN5S,KAAMnZ,KAAK4pD,qBAAqBzwC,KAChCV,KAAMzY,KAAK4pD,qBAAqBnxC,MAEpClR,OAAQ,KACR9G,MAAO,KACPkY,SAAU,EACVsK,KAAM,IAAI7L,MAEV62B,EAAQtqC,QAAQkgB,SAEpB,SAASgmC,EAAcj6C,GACfA,GAAMA,EAAG85C,KACT95C,EAAKA,EAAG85C,IAEZ,IAAII,EAAmBnhC,EAAqBc,QAAQ89B,eAAc,SAAU9nD,EAAKg4B,GAC7E,IAAIzjB,EAAMrQ,QAAQkgB,OAAOoqB,GAWzB,GAVAv1B,EAAKnR,OAASkwB,GAAO,CAAEsyB,SAAUtyB,EAAIsyB,SAAU99B,QAASwL,EAAIxL,SAC5DvT,EAAKjY,MAAQhB,EACbiZ,EAAKC,SAAWmI,KAAKkpC,KAAe,IAATh2C,EAAI,GAAaA,EAAI,GAAK,KACrD2U,EAAqBc,QAAQk7B,QAAQ,WAAYjsC,GAO7CjZ,EAAK,CACL,GAAImQ,EACA,OAAOA,EAAGmE,MAAM/T,KAAMuM,WAEjBo9C,GAAeA,aAAuB1/C,EAASQ,cACpDk/C,EAAY3/C,KAAK,QAASvK,QAGzBmQ,GACLA,EAAGmE,MAAM/T,KAAMuM,cAGvB,IAEI,OADAtN,OAAOC,eAAe4qD,EAAkBJ,EAAwB,CAAEtqD,MAAOwQ,IAClEk6C,EAEX,MAAO1pD,GAEH,OAAOwP,GAOf,IAC0B,iBAAXqF,EACHxI,aAAkB6J,OAClBoC,EAAK0S,MAAMO,WAAa,CACpBC,KAAM3W,EACNuuB,KAAM/2B,GAEV3H,EAAW+kD,EAAc/kD,KAGzB4T,EAAK0S,MAAMQ,KAAO3W,EAMdnQ,EACAA,EAAW+kD,EAAc/kD,GAGzB2H,EAASo9C,EAAcp9C,KAKJ,iBAAhBwI,EAAOzS,KACdkW,EAAK0S,MAAMS,KAAO5W,EAAOzS,KAEpByS,EAAOxI,kBAAkB6J,MAC9BoC,EAAK0S,MAAMO,WAAa,CACpBC,KAAM3W,EAAO2W,KACb4X,KAAMvuB,EAAOxI,QAIjBiM,EAAK0S,MAAMQ,KAAO3W,EAAO2W,KAEzB9mB,EACAA,EAAW+kD,EAAc/kD,GAEpB2H,EACLA,EAASo9C,EAAcp9C,GAGvBwI,EAAOnQ,SAAW+kD,EAAc50C,EAAOnQ,WAInD,MAAO1E,GAEH,OAAOopD,EAAoBz1C,MAAM/T,KAAMuM,WAO3C,OALAA,UAAU,GAAK0I,EACf1I,UAAU,GAAKE,EACfF,UAAU,GAAKzH,EACfyH,UAAUwE,OAAUxE,UAAUwE,OAAS,EAAKxE,UAAUwE,OAAS,EAC/D44C,EAAcH,EAAoBz1C,MAAM/T,KAAMuM,YAG3C+8C,IA6IXnqD,EAAQ8qD,UAAY,CAChBnF,iBAAkB,cAClBC,MA7IJ,SAAgCuE,EAAYC,GACxC,IAAIC,EAAsBF,EAAWG,OAAOv8C,UAAUke,MAClDs+B,EAAyB,2BAmI7B,OAhIAJ,EAAWG,OAAOv8C,UAAUke,MAAQ,SAAenW,EAAQxI,EAAQ3H,GAC/D,IAcI6kD,EAdAp4C,EAAQvR,KACRkqD,IAAqBplD,EACrB4T,EAAO,CACP0S,MAAO,GACPW,SAAU,CACN5S,KAAMnZ,KAAK4pD,qBAAqBzwC,KAChCV,KAAMzY,KAAK4pD,qBAAqBnxC,MAEpClR,OAAQ,KACR9G,MAAO,KACPkY,SAAU,EACVsK,KAAM,IAAI7L,MAEV62B,EAAQtqC,QAAQkgB,SAEpB,SAASgmC,EAAcj6C,GACfA,GAAMA,EAAG85C,KACT95C,EAAKA,EAAG85C,IAEZ,IAAII,EAAmBnhC,EAAqBc,QAAQ89B,eAAc,SAAU9nD,EAAKg4B,GAC7E,IAAIzjB,EAAMrQ,QAAQkgB,OAAOoqB,GAKzB,GAJAv1B,EAAKnR,OAASkwB,GAAO,CAAEsyB,SAAUtyB,EAAIsyB,SAAU99B,QAASwL,EAAIxL,SAC5DvT,EAAKjY,MAAQhB,EACbiZ,EAAKC,SAAWmI,KAAKkpC,KAAe,IAATh2C,EAAI,GAAaA,EAAI,GAAK,KACrD2U,EAAqBc,QAAQk7B,QAAQ,WAAYjsC,GAC7CjZ,EAAK,CACL,GAAImQ,EACA,OAAOA,EAAGmE,MAAM/T,KAAMuM,WAEjBo9C,GAAeA,aAAuB1/C,EAASQ,cACpDk/C,EAAY3/C,KAAK,QAASvK,QAGzBmQ,GACLA,EAAGmE,MAAM/T,KAAMuM,cAGvB,IAEI,OADAtN,OAAOC,eAAe4qD,EAAkBJ,EAAwB,CAAEtqD,MAAOwQ,IAClEk6C,EAEX,MAAO1pD,GAEH,OAAOwP,GAMf,IAC0B,iBAAXqF,EACHxI,aAAkB6J,OAClBoC,EAAK0S,MAAMO,WAAa,CACpBC,KAAM3W,EACNuuB,KAAM/2B,GAGV3H,GADAolD,EAAuC,mBAAbplD,GACI+kD,EAAc/kD,GAAYA,IAGxD4T,EAAK0S,MAAMQ,KAAO3W,EACdnQ,EAEAA,GADAolD,EAAuC,mBAAbplD,GACI+kD,EAAc/kD,GAAYA,EAIxD2H,GADAy9C,EAAqC,mBAAXz9C,GACEo9C,EAAcp9C,GAAUA,IAKjC,iBAAhBwI,EAAOzS,KACdkW,EAAK0S,MAAMS,KAAO5W,EAAOzS,KAEpByS,EAAOxI,kBAAkB6J,MAC9BoC,EAAK0S,MAAMO,WAAa,CACpBC,KAAM3W,EAAO2W,KACb4X,KAAMvuB,EAAOxI,QAIjBiM,EAAK0S,MAAMQ,KAAO3W,EAAO2W,KAEzB9mB,GACAolD,EAAuC,mBAAbplD,EAC1BA,EAAW+kD,EAAc/kD,IAEpB2H,EAELA,GADAy9C,EAAqC,mBAAXz9C,GACEo9C,EAAcp9C,GAAUA,GAGpDy9C,EAA8C,mBAApBj1C,EAAOnQ,SACjCmQ,EAAOnQ,SAAWolD,EAAmBL,EAAc50C,EAAOnQ,UAAYmQ,EAAOnQ,WAIzF,MAAO1E,GAEH,OAAOopD,EAAoBz1C,MAAM/T,KAAMuM,WAO3C,OALAA,UAAU,GAAK0I,EACf1I,UAAU,GAAKE,EACfF,UAAU,GAAKzH,EACfyH,UAAUwE,OAAUxE,UAAUwE,OAAS,EAAKxE,UAAUwE,OAAS,EAC/D44C,EAAcH,EAAoBz1C,MAAM/T,KAAMuM,WACzC29C,EAkBEP,EAhBIA,EAEFrX,MAAK,SAAU/qC,GAEhB,OADAsiD,SAAgBrmD,EAAW+D,GACpB,IAAIgK,EAAM44C,UAAS,SAAU1zB,EAAS0d,GACzC1d,EAAQlvB,SAIXk7C,OAAM,SAAUhiD,GAEjB,OADAopD,IAAgBppD,OAAO+C,GAChB,IAAI+N,EAAM44C,UAAS,SAAU1zB,EAAS0d,GACzCA,EAAO1zC,UAMhB6oD,IAcXnqD,EAAQgO,OAJR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,KAAMzmD,EAAQkqD,WAC/D1gC,EAAqBc,QAAQm8B,oBAAoB,KAAMzmD,EAAQ8qD,a,4BC/QnEhrD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MA+BnCxpB,EAAQqrB,MAAQ,CACZs6B,iBAAkB,mBAClBC,MAhCqB,SAAUqF,GAC/B,IAAIC,EAAeD,EAAcE,YAAYp9C,UAAUq9C,sBA2BvD,OAzBAH,EAAcE,YAAYp9C,UAAUq9C,sBAAwB,SAAUv+B,GAClE,GAAIA,EAAY,CACZ,IAAIw+B,EAAOx+B,EAAWlnB,SACtB,IAAK0lD,IAASA,EAAKC,YAAa,CAC5B,IAAIC,EAAY1qD,KAAKksB,QACjBy+B,EAAchnD,QAAQkgB,SACtB+mC,EAAc,IAAIxzC,KAKtB4U,EAAWlnB,SAAW6jB,EAAqBc,QAAQ89B,eAAc,SAAU9nD,EAAK8H,GAC5E,IAAIyhD,EAAarlD,QAAQkgB,OAAO8mC,GAE5BhyC,EAA4B,IAAhBqwC,EAAW,GAAWA,EAAW,GAAK,IAAO,EAC7DrgC,EAAqBc,QAAQk7B,QAAQ,QAAS,CAAEhsC,SAAUA,EAAUuT,QAASw+B,EAAW1+B,WAAYA,EAAYvsB,IAAKA,EAAK8H,OAAQA,EAAQ0b,KAAM2nC,IAC5H,mBAATJ,GACPA,EAAKz2C,MAAM/T,KAAMuM,cAGzByf,EAAWlnB,SAAS2lD,aAAc,GAG1C,OAAOJ,EAAav2C,KAAK9T,KAAMgsB,IAE5Bo+B,IASXjrD,EAAQgO,OAHR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,QAASzmD,EAAQqrB,S,kCCvCtE,IAAI7L,EAAY3e,MAAQA,KAAK2e,UAAa1f,OAAOgB,QAAU,SAAS2e,GAChE,IAAK,IAAIC,EAAG/N,EAAI,EAAGgO,EAAIvS,UAAUwE,OAAQD,EAAIgO,EAAGhO,IAE5C,IAAK,IAAI0F,KADTqI,EAAItS,UAAUuE,GACO7R,OAAOiO,UAAUuJ,eAAe3C,KAAK+K,EAAGrI,KACzDoI,EAAEpI,GAAKqI,EAAErI,IAEjB,OAAOoI,GAEX3f,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MAkCnCxpB,EAAQ4nD,QAAU,CACdjC,iBAAkB,mBAClBC,MAnCuB,SAAU8F,GACjC,IAAIC,EAAsBD,EAAgBE,WAAW79C,UAAUsqB,YA8B/D,OA7BAqzB,EAAgBE,WAAW79C,UAAUsqB,YAAc,WAC/C,SAASwzB,EAAmBC,GACxB,IAAIhd,EAAQtqC,QAAQkgB,SAChBnL,EAAO,CACP0S,MAAO,GACPW,SAAU,CACN5S,KAAM,KACNV,KAAM,MAEVlR,OAAQ,KACR9G,MAAO,KACPkY,SAAU,GAEd,OAAOgQ,EAAqBc,QAAQ89B,eAAc,SAAU9nD,EAAKsqD,EAAUmB,GACvE,IAAIl3C,EAAMrQ,QAAQkgB,OAAOoqB,GACzBv1B,EAAOiG,EAAS,GAAIjG,EAAM,CAAEqT,SAAU,CAC9B5S,KAAMnZ,KAAK+Z,WAAW9E,OAAO4I,OAC7BpF,KAAMzY,KAAK+Z,WAAW9E,OAAO1B,QAAQkF,MACtClR,QAAS9H,GAAO,CAAEsqD,SAAUA,EAAUmB,KAAMA,GAAQ9/B,MAAO,CAC1DQ,KAAM5rB,KAAKmrD,iBAAiBC,UAAUhsD,OACvCqB,MAAOhB,EAAKkZ,SAAUmI,KAAKkpC,KAAe,IAATh2C,EAAI,GAAaA,EAAI,GAAK,OAClE2U,EAAqBc,QAAQk7B,QAAQ,UAAWjsC,GAChDuyC,EAAan3C,KAAK9T,KAAMP,EAAKsqD,EAAUmB,MAG/C,IAAI93C,EAAU7G,UAAU,GACxBA,UAAU,GAAGzH,SAAWkmD,EAAmB53C,EAAQtO,UACnDgmD,EAAoB/2C,MAAM/T,KAAMuM,YAE7Bs+C,IASX1rD,EAAQgO,OAHR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,UAAWzmD,EAAQ4nD,W,kCClDxE,IACQ7wC,EADJC,EAAanW,MAAQA,KAAKmW,YACtBD,EAAgBjX,OAAOmX,gBACtB,CAAEC,UAAW,cAAgBC,OAAS,SAAUC,EAAG9O,GAAK8O,EAAEF,UAAY5O,IACvE,SAAU8O,EAAG9O,GAAK,IAAK,IAAI+O,KAAK/O,EAAOA,EAAEgP,eAAeD,KAAID,EAAEC,GAAK/O,EAAE+O,KAClE,SAAUD,EAAG9O,GAEhB,SAASiP,IAAO1W,KAAKL,YAAc4W,EADnCL,EAAcK,EAAG9O,GAEjB8O,EAAErJ,UAAkB,OAANzF,EAAaxI,OAAO0X,OAAOlP,IAAMiP,EAAGxJ,UAAYzF,EAAEyF,UAAW,IAAIwJ,KAGnF20C,EAAUrrD,MAAQA,KAAKqrD,QAAW,SAAUxsC,EAAGze,GAC/C,IAAIwe,EAAI,GACR,IAAK,IAAIpI,KAAKqI,EAAO5f,OAAOiO,UAAUuJ,eAAe3C,KAAK+K,EAAGrI,IAAMpW,EAAEyqB,QAAQrU,GAAK,IAC9EoI,EAAEpI,GAAKqI,EAAErI,IACb,GAAS,MAALqI,GAAqD,mBAAjC5f,OAAO44C,sBACtB,KAAI/mC,EAAI,EAAb,IAAgB0F,EAAIvX,OAAO44C,sBAAsBh5B,GAAI/N,EAAI0F,EAAEzF,OAAQD,IAAS1Q,EAAEyqB,QAAQrU,EAAE1F,IAAM,IAC1F8N,EAAEpI,EAAE1F,IAAM+N,EAAErI,EAAE1F,KACtB,OAAO8N,GAEX3f,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IAGtD,IAAIupB,EAAuB,EAAQ,MAoHnCxpB,EAAQmsD,SAAW,CACfxG,iBAAkB,MAClBC,MArFwB,SAAUwG,GAClC,IAaIC,EAAsC,SAAUz0C,GAEhD,SAASy0C,EAAqB7gC,EAAS60B,GACnC,IAAIjuC,EAAQwF,EAAOjD,KAAK9T,KAAMw/C,IAASx/C,KAEvC,OADAuR,EAAMoZ,QAAUA,EACTpZ,EAiBX,OArBA4E,EAAUq1C,EAAsBz0C,GAMhCy0C,EAAqBt+C,UAAUu+C,IAAM,SAAUx1C,EAAMnR,GAEjD,IAAIvE,EAAU0V,EAAK1V,QAAS+oB,EAAQrT,EAAKqT,MAAO0D,EAAO/W,EAAK+W,KAAM0+B,EAAQL,EAAOp1C,EAAM,CAAC,UAAW,QAAS,SAC5GqT,EAAiC,mBAAlBqiC,OAAY,IAAmB11C,EAAK01C,OAAY,IAAE,UAAYriC,EAC7E/oB,EAAU0V,aAAgB3V,MAAQ2V,EAAO1V,EACzC,IAAI0sB,EAzBS,SAAUtC,EAASrB,GAWpC,OATwC,MAApCqB,EAAQ1V,OAAO2X,IAAIg/B,OAAOtiC,GACd,MAEgC,MAAvCqB,EAAQ1V,OAAOmX,OAAOw/B,OAAOtiC,GACtB,SAGA,UAgBIuiC,CAAe7rD,KAAK2qB,QAASrB,GAE7C,IAAK,IAAI/nB,KADTyrB,EAAOA,GAAQ,GACC0+B,EACRA,EAAMj1C,eAAelV,KACrByrB,EAAKzrB,GAAOmqD,EAAMnqD,IAG1BonB,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAEpkD,QAASA,EAAS+oB,MAAOA,EAAO2D,UAAWA,EAAWD,KAAMA,IAC9GloB,KAEG0mD,EAtB8B,CAuBvCD,EAAgBO,WAElB,SAASC,IAEL,IACIC,EADAJ,EAASr/C,UAAU,GAAGq/C,QAAUL,EAAgBt2C,OAAO2X,IAAIg/B,OAE/D,IAAK,IAAItiC,KAASsiC,EACVA,EAAOn1C,eAAe6S,KACtB0iC,OAA0BxoD,IAAdwoD,GAA2BJ,EAAOtiC,GAASsiC,EAAOI,GAAa1iC,EAAQ0iC,GAG3FhsD,KAAKyJ,IAAI,IAAI+hD,EAAqBD,EAAiB,CAAEjiC,MAAO0iC,KAEhE,IAAIC,EAAaV,EAAgBW,aACjCX,EAAgBW,aAAe,WAE3B,IACIF,EADAJ,EAASr/C,UAAU,GAAGq/C,QAAUL,EAAgBt2C,OAAO2X,IAAIg/B,OAE/D,IAAK,IAAItiC,KAASsiC,EACVA,EAAOn1C,eAAe6S,KACtB0iC,OAA0BxoD,IAAdwoD,GAA2BJ,EAAOtiC,GAASsiC,EAAOI,GAAa1iC,EAAQ0iC,GAS3F,IAAIzkD,EAAS0kD,EAAWl4C,MAAM/T,KAAMuM,WACpChF,EAAOkC,IAAI,IAAI+hD,EAAqBD,EAAiB,CAAEjiC,MAAO0iC,KAC9D,IAAIG,EAAgB5kD,EAAO6kD,UAK3B,OAJA7kD,EAAO6kD,UAAY,WACfD,EAAcp4C,MAAM/T,KAAMuM,WAC1Bw/C,EAAiBh4C,MAAM/T,KAAMuM,YAE1BhF,GAEX,IAAI8kD,EAAoBd,EAAgBW,aAMxC,OALAX,EAAgBa,UAAY,WACxBC,EAAkBt4C,MAAM/T,KAAMuM,WAC9Bw/C,EAAiBh4C,MAAM/T,KAAMuM,YAEjCg/C,EAAgB9hD,IAAI,IAAI+hD,EAAqBD,IACtCA,IAMXpsD,EAAQmtD,SAAW,CACfxH,iBAAkB,MAClBC,MAxHwB,SAAUwG,GAClC,IACIgB,EADAC,EAAcjB,EAAgBkB,OAAOv/C,UAAUu+C,IAE/CiB,EAAgB,SAAUpjC,EAAO/oB,EAASysB,GAC1C,IAAIC,EAWJ,OATIA,EADAs/B,IAAchB,EAAgBt2C,OAAO2X,IAAIg/B,OAC7B,MAEPW,IAAchB,EAAgBt2C,OAAOmX,OAAOw/B,OACrC,SAGA,UAEhBjjC,EAAqBc,QAAQk7B,QAAQ,UAAW,CAAEr7B,MAAOA,EAAO/oB,QAASA,EAASysB,KAAMA,EAAMC,UAAWA,IAClG1sB,GAcX,OAXAgrD,EAAgBkB,OAAOv/C,UAAUu+C,IAAM,WASnC,OARAc,EAAYvsD,KAAK4rD,OACZ5rD,KAAK2sD,SAAmC,IAAxB3sD,KAAK2sD,QAAQ57C,OAGzB/Q,KAAK2sD,QAAQ3sD,KAAK2sD,QAAQ57C,OAAS,KAAO27C,IAC/C1sD,KAAK2sD,QAAU3sD,KAAK2sD,QAAQvgD,QAAO,SAAU05B,GAAK,OAAOA,IAAM4mB,KAC/D1sD,KAAK2sD,QAAQrlD,KAAKolD,IAJlB1sD,KAAK2sD,QAAU,CAACD,GAMbF,EAAYz4C,MAAM/T,KAAMuM,YAE5Bg/C,IAiGXpsD,EAAQgO,OAJR,WACIwb,EAAqBc,QAAQm8B,oBAAoB,UAAWzmD,EAAQmtD,UACpE3jC,EAAqBc,QAAQm8B,oBAAoB,UAAWzmD,EAAQmsD,Y,SCrJxE,SAASsB,EAAoBr1B,GAC5B,IAAIn3B,EAAI,IAAIE,MAAM,uBAAyBi3B,EAAM,KAEjD,MADAn3B,EAAEwjC,KAAO,mBACHxjC,EAEPwsD,EAAoB3zC,KAAO,IAAM,GACjC2zC,EAAoBn2B,QAAUm2B,EAC9BA,EAAoBj+C,GAAK,KACzBjB,EAAOvO,QAAUytD,G,QCRjB,SAASA,EAAoBr1B,GAC5B,IAAIn3B,EAAI,IAAIE,MAAM,uBAAyBi3B,EAAM,KAEjD,MADAn3B,EAAEwjC,KAAO,mBACHxjC,EAEPwsD,EAAoB3zC,KAAO,IAAM,GACjC2zC,EAAoBn2B,QAAUm2B,EAC9BA,EAAoBj+C,GAAK,IACzBjB,EAAOvO,QAAUytD,G,4BCLjB3tD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIytD,EAAiB,EAAQ,MACzBC,EAAiB,EAAQ,MAC7B3tD,EAAQ4tD,oBAAsBD,EAAeC,oBAC7C,IAAIC,EAAa,SAAUC,GAAc,OAAO,GAC5CC,EAAiC,WACjC,SAASA,IACLltD,KAAKR,QAAU,WACfQ,KAAKmtD,YAAc,GACnBntD,KAAKotD,4BAA8B,SAAUx9C,GAAM,OAAOA,GAC1D5P,KAAKqtD,aAAe,GACpBrtD,KAAKstD,qBAAsB,EAkF/B,OAhFAJ,EAA8BhgD,UAAUqgD,cAAgB,SAAU/qD,GAC9D,IAAIwP,EAAYhS,KAAKmtD,YAAY3qD,GACjC,QAAIwP,GACOA,EAAU45B,MAAK,SAAU58B,GAC5B,IAAI5C,EAAS4C,EAAG5C,OAChB,OAAQA,GAAUA,GAAO,OAKrC8gD,EAA8BhgD,UAAUy3C,QAAU,SAAUniD,EAAM4mB,GAC9D,IAAIppB,KAAKstD,oBAAT,CAGA,IAAIt7C,EAAYhS,KAAKmtD,YAAY3qD,GAEjC,GAAIwP,EAAW,CACX,IAAIw7C,EAAkB,CAClBC,UAAWr2C,KAAK6lB,MAChBvkB,KAAM0Q,GAEVppB,KAAKstD,qBAAsB,EAC3Bt7C,EAAU5K,SAAQ,SAAU4H,GACxB,IAAIsmC,EAAWtmC,EAAGsmC,SAAUlpC,EAAS4C,EAAG5C,OACxC,IACQA,GAAUA,GAAO,IACjBkpC,EAASkY,GAGjB,MAAOptD,QAIXJ,KAAKstD,qBAAsB,KAGnCJ,EAA8BhgD,UAAUwc,UAAY,SAAUlnB,EAAM8yC,EAAUlpC,QAC3D,IAAXA,IAAqBA,EAAS4gD,GAC7BhtD,KAAKmtD,YAAY3qD,KAClBxC,KAAKmtD,YAAY3qD,GAAQ,IAE7BxC,KAAKmtD,YAAY3qD,GAAM8E,KAAK,CAAEguC,SAAUA,EAAUlpC,OAAQA,KAE9D8gD,EAA8BhgD,UAAU0c,YAAc,SAAUpnB,EAAM8yC,EAAUlpC,QAC7D,IAAXA,IAAqBA,EAAS4gD,GAClC,IAAIh7C,EAAYhS,KAAKmtD,YAAY3qD,GACjC,GAAIwP,EACA,IAAK,IAAI3K,EAAQ,EAAGA,EAAQ2K,EAAUjB,SAAU1J,EAC5C,GAAI2K,EAAU3K,GAAOiuC,WAAaA,GAAYtjC,EAAU3K,GAAO+E,SAAWA,EAEtE,OADA4F,EAAUopB,OAAO/zB,EAAO,IACjB,EAInB,OAAO,GAGX6lD,EAA8BhgD,UAAU4C,MAAQ,WAC5C,IAAIyB,EAAQvR,KACZA,KAAKmtD,YAAc,GACnBntD,KAAKotD,4BAA8B,SAAUx9C,GAAM,OAAOA,GAE1D3Q,OAAOyuD,oBAAoB1tD,KAAKqtD,cAAcjmD,SAAQ,SAAUyJ,GAAQ,cAAcU,EAAM87C,aAAax8C,OAE7Gq8C,EAA8BhgD,UAAUq6C,cAAgB,SAAU33C,GAC9D,OAAO5P,KAAKotD,4BAA4Bx9C,IAE5Cs9C,EAA8BhgD,UAAUygD,uBAAyB,SAAUC,GACvE,IAAIC,EAA4B7tD,KAAKotD,4BACrCptD,KAAKotD,4BAA8B,SAAWx9C,GAAM,OAAOg+C,EAAUC,EAA0Bj+C,MAEnGs9C,EAA8BhgD,UAAU04C,oBAAsB,SAAUkI,EAAaC,GAC5E/tD,KAAKqtD,aAAaS,KACnB9tD,KAAKqtD,aAAaS,GAAe,IAErC9tD,KAAKqtD,aAAaS,GAAaxmD,KAAKymD,IAExCb,EAA8BhgD,UAAU8gD,iBAAmB,WACvD,OAAOhuD,KAAKqtD,cAETH,EAxFyB,GA0F/B3b,OAAO0c,oBACR1c,OAAO0c,kBAAoB,IAAIf,EAGZ,EAAQ,MAGdhgD,UAAUghD,QAAUrB,EAAeE,oBAAoBxb,OAAO0c,kBAAkBD,qBAEjG7uD,EAAQsqB,QAAU8nB,OAAO0c,mB,4BCxGzBhvD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAAIwF,EAAO,EAAQ,MACf4xC,EAAS,EAAQ,MAEjB2X,EAAe,EAAQ,MACvBC,EAAgBnvD,OAAOga,KAAKtV,QAAQ4rC,QAAQ,YAC5C8e,EAAkBF,EAAajhD,UAAUghD,QA+C7C/uD,EAAQ4tD,oBA9CR,SAA6BM,GACzB,IAAIiB,EAAiB,GACrB,OAAO,SAAwBC,GAC3B,IAAIC,EAAiBH,EAAgBt6C,MAAM/T,KAAMuM,WACjD,GAAI8gD,EAAakB,GAAW,CAExB,IAAIE,EAAaN,EAAaO,iBAAiBH,EAAUvuD,MACzD,GAAIsuD,EAAe73C,eAAeg4C,GAE9B,OAAOH,EAAeG,GAE1B,IAAIE,OAAgB,EACpB,GAAIP,EAAcvjC,QAAQ0jC,GAAY,EAClC,IACII,EAAgBN,EAAgBv6C,KAAK9T,KAAM4E,EAAKyH,KAAKkiD,EAAU,iBAAiB/uD,QAEpF,MAAOY,GAGH,OAAOouD,OAMXG,EAAgBhrD,QAAQnE,QAAQsqB,UAAU,GAE9C,IAAI8kC,EAAqBD,EAAc9jC,QAAQ,KAC3C+jC,GAAsB,IAItBD,EAAgBA,EAAc7kC,UAAU,EAAG8kC,IAG/C,IADA,IAAIC,EAAiBL,EACZ36C,EAAK,EAAG7E,EAAKq+C,EAAakB,GAAW16C,EAAK7E,EAAG+B,OAAQ8C,IAAM,CAChE,IAAIi7C,EAAgB9/C,EAAG6E,GACnB2iC,EAAOuY,UAAUJ,EAAeG,EAAchK,oBAC9C+J,EAAiBC,EAAc/J,MAAM8J,EAAgBJ,IAG7D,OAAOH,EAAeG,GAAcI,EAExC,OAAOL,K,0ECnDf,IAAIjY,EAAU,EAAQ,MAClBjC,EAAUiC,EAAQjC,KAClB0a,EAAUzY,EAAQyY,OAIlBC,EAAS,cAIb,SAAS/vD,EAAe0qC,EAAKpnC,EAAMpD,GACjC,IAAIg2B,IAAewU,EAAIpnC,IAASonC,EAAIslB,qBAAqB1sD,GACzDvD,OAAOC,eAAe0qC,EAAKpnC,EAAM,CAC/B6yB,cAAc,EACdD,WAAYA,EACZ+5B,UAAU,EACV/vD,MAAOA,IAoBX,SAASgwD,EAAW1M,EAAMt5B,GACxB,IAAIpX,EAWJ,OAVAA,EAAY0wC,EAAK2M,SAAW3M,EAAK2M,QAAQjmC,GACpC9S,MAAM0jB,QAAQhoB,KAEfA,EADEA,EACU,CAACA,GAGD,IAITA,EAST,SAASs9C,EAAMzM,EAAW0M,GACxB,GAAK1M,EAAL,CAEA,IAAIC,EAAUD,EACd,GAAyB,mBAAdA,EACTC,EAAUyM,EAAM1M,QAEb,GAAIvsC,MAAM0jB,QAAQ6oB,GAAY,CACjCC,EAAU,GACV,IAAK,IAAIhyC,EAAI,EAAGA,EAAI+xC,EAAU9xC,OAAQD,IACpCgyC,EAAQhyC,GAAKy+C,EAAM1M,EAAU/xC,IAGjC,OAAOgyC,GAGTp1C,EAAOvO,QAAU,SAAqB+P,EAASsgD,EAAeC,GAC5D,KAAKvgD,GAAYA,EAAQ9D,IAAO8D,EAAQ6O,aACnC7O,EAAQoD,gBAAmBpD,EAAQlF,MACtC,MAAM,IAAI1J,MAAM,0BAGlB,IAAKkvD,EAAe,MAAM,IAAIlvD,MAAM,kDACpC,IAAKmvD,EAAQ,MAAM,IAAInvD,MAAM,sDAK7B,SAASovD,EAAOtkD,GACd,OAAO,SAAege,EAAOksB,GAC3B,IAAIqa,EAAWP,EAAWpvD,KAAMopB,GAAOsQ,QAEvC,IACE,IAAIob,EAAW1pC,EAAG0I,KAAK9T,KAAMopB,EAAOksB,GAEpC,OAzCR,SAAyBoN,EAAMt5B,EAAOusB,GACpC,IACIia,EADQR,EAAW1M,EAAMt5B,GACLhd,QAAO,SAAS2C,GAAM,OAA+B,IAAxB4mC,EAAO9qB,QAAQ9b,MAChE6gD,EAAY7+C,OAAS,GAlC3B,SAAkB2xC,EAAM1wC,GAEtB,IADA,IAAI69C,EAAI79C,EAAUjB,OACTyF,EAAI,EAAGA,EAAIq5C,EAAGr5C,IAAK,CAC1B,IAAI8+B,EAAWtjC,EAAUwE,GAErBm/B,EAAS+M,EAAKuM,GAClB,GAAsB,mBAAXtZ,EACTA,EAAOL,QAEJ,GAAIh/B,MAAM0jB,QAAQ2b,GAErB,IADA,IAAI5kC,EAAS4kC,EAAO5kC,OACXD,EAAI,EAAGA,EAAIC,EAAQD,IAAK6kC,EAAO7kC,GAAGwkC,IAuBnBwa,CAASpN,EAAMkN,GAqCrCG,CAAgB/vD,KAAMopB,EAAOumC,GACtB7a,EAET,QAEO90C,KAAKoL,GAAG4kD,WAAW1b,EAAKt0C,KAAM,KAAM0vD,GACpC1vD,KAAK+d,YAAYiyC,WAAW1b,EAAKt0C,KAAM,cAAe0vD,KA+C5DxgD,EAAQ+/C,GAGuB,mBAApB//C,EAAQ+/C,GACtB/vD,EAAegQ,EAAS+/C,EAAQ,CAAC//C,EAAQ+/C,GAASO,IAE3Cl5C,MAAM0jB,QAAQ9qB,EAAQ+/C,KAC7B//C,EAAQ+/C,GAAQ3nD,KAAKkoD,GANrBtwD,EAAegQ,EAAS+/C,EAAQO,GAU7BtgD,EAAQ8gD,YACX1b,EAAKplC,EAAS,cAAewgD,GAC7Bpb,EAAKplC,EAAS,KAAewgD,GAC7Bpb,EAAKplC,EAAS,QAxDhB,SAAkBlF,GAChB,OAAO,SAAiBof,GACtB,IAAKppB,KAAKqvD,UAAYrvD,KAAKqvD,QAAQjmC,GAAQ,OAAOpf,EAAK+J,MAAM/T,KAAMuM,WAEnE,IAAIs2C,EAAY7iD,KAAKqvD,QAAQjmC,GAK7B,SAAS6mC,EAAQ39C,GACf,OAAO,WACLtS,KAAKqvD,QAAQjmC,GAASy5B,EACtB,IACE,OAAOvwC,EAAeyB,MAAM/T,KAAMuM,WAEpC,QACEs2C,EAAY7iD,KAAKqvD,QAAQjmC,GACzBppB,KAAKqvD,QAAQjmC,GAASkmC,EAAMzM,EAAW4M,KAI7Cnb,EAAKt0C,KAAM,iBAAkBiwD,GAE7B,IAME,OADAjwD,KAAKqvD,QAAQjmC,GAASkmC,EAAMzM,EAAW4M,GAChCzlD,EAAK+J,MAAM/T,KAAMuM,WAE1B,QAIEyiD,EAAOhvD,KAAM,kBACbA,KAAKqvD,QAAQjmC,GAASy5B,OAsB1B3jD,EAAegQ,EAAS,YAAY,WAClC8/C,EAAO9/C,EAAS,eAChB8/C,EAAO9/C,EAAS,MAChB8/C,EAAO9/C,EAAS,eACTA,EAAQ+/C,UACR//C,EAAQ8gD,aAEjB9wD,EAAegQ,EAAS,aAAa,M,4BCxKzC,MAAMghD,EAAc,EAAQ,MACtBnnD,EAAU,EAAQ,MAClBC,EAAW,EAAQ,MACnBC,EAAS,EAAQ,MACjBxE,EAAa,EAAQ,MACrBa,EAAQ,EAAQ,MACtBf,eAAe4rD,EAASpuD,EAAQwR,GAC5B68C,EAAoBruD,GACpB,MAAMsuD,EAAQC,EAASvuD,EAAQgH,EAAQ3H,QAASmS,GAC1ChM,QAAe6qC,QAAQme,IAAIF,GACjC,OAAO/qD,EAAMyjC,MAAMgW,QAAQx3C,GAyC/B,SAAS+oD,EAASvuD,EAAQyuD,EAAWj9C,GACjC,MAAMk9C,EAAW,GAAG//C,OAAO3O,GACrBkD,EAAW,IAAIR,EAAWrD,QAAQmS,GAClCnN,EAAQ8pD,EAAYQ,SAASD,EAAUxrD,GACvCorC,EAAW,IAAImgB,EAAUvrD,GAC/B,OAAOmB,EAAMN,IAAIuqC,EAAStrC,KAAMsrC,GAEpC,SAAS+f,EAAoBtmB,GAGzB,IAFe,GAAGp5B,OAAOo5B,GACI6mB,OAAOllD,GAASnG,EAAMsrD,OAAOC,SAASplD,KAAUnG,EAAMsrD,OAAOE,QAAQrlD,KAE9F,MAAM,IAAIwmC,UAAU,iEAhD5B,SAAWke,GAMPA,EAAS3rD,KALT,SAAczC,EAAQwR,GAClB68C,EAAoBruD,GACpB,MAAMsuD,EAAQC,EAASvuD,EAAQkH,EAAO7H,QAASmS,GAC/C,OAAOjO,EAAMyjC,MAAMgW,QAAQsR,IAa/BF,EAASY,OAVT,SAAgBhvD,EAAQwR,GACpB68C,EAAoBruD,GACpB,MAAMsuD,EAAQC,EAASvuD,EAAQiH,EAAS5H,QAASmS,GAMjD,OAAOjO,EAAMyrD,OAAOC,MAAMX,IAS9BF,EAASc,cANT,SAAuBlvD,EAAQwR,GAC3B68C,EAAoBruD,GACpB,MAAM0uD,EAAW,GAAG//C,OAAO3O,GACrBkD,EAAW,IAAIR,EAAWrD,QAAQmS,GACxC,OAAO28C,EAAYQ,SAASD,EAAUxrD,IAQ1CkrD,EAASe,iBALT,SAA0BnvD,EAAQwR,GAC9B68C,EAAoBruD,GACpB,MAAMkD,EAAW,IAAIR,EAAWrD,QAAQmS,GACxC,OAAOjO,EAAMq1C,QAAQuW,iBAAiBnvD,EAAQkD,IAOlDkrD,EAASgB,WAJT,SAAoBpvD,GAEhB,OADAquD,EAAoBruD,GACbuD,EAAMV,KAAKwsD,OAAOrvD,IAjCjC,CAoCGouD,IAAaA,EAAW,KAe3BziD,EAAOvO,QAAUgxD,G,4BCjEjBlxD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQkyD,0BAA4BlyD,EAAQmyD,4BAA8BnyD,EAAQoyD,6BAA+BpyD,EAAQqyD,8BAAgCryD,EAAQsyD,oBAAsBtyD,EAAQuyD,uBAAyBvyD,EAAQuxD,cAAW,EAC3O,MAAMprD,EAAQ,EAAQ,MAiBtB,SAASosD,EAAuBC,EAAUC,EAAUC,GAChD,MAAMzrD,EAAQ,GACR0rD,EAAkCxsD,EAAMq1C,QAAQoX,mCAAmCJ,GACnFK,EAAiC1sD,EAAMq1C,QAAQsX,kCAAkCN,GACjFO,EAA+BX,EAA6BO,GAC5DK,EAA8BZ,EAA6BS,GAYjE,OAXA5rD,EAAMkB,QAAQgqD,EAA4BY,EAA8BN,EAAUC,IAK9E,MAAOM,EACP/rD,EAAMkB,KAAK+pD,EAA0B,IAAKW,EAAgCJ,EAAUC,IAGpFzrD,EAAMkB,QAAQgqD,EAA4Ba,EAA6BP,EAAUC,IAE9EzrD,EAGX,SAASqrD,EAAoBhB,GACzB,OAAOnrD,EAAMq1C,QAAQ8W,oBAAoBhB,GAG7C,SAASe,EAA8Bf,EAAU2B,GAG7C,OAFiB9sD,EAAMq1C,QAAQ0X,oBAAoB5B,GAAU//C,OAAO0hD,GAC1CtsD,IAAIR,EAAMq1C,QAAQ2X,0BAIhD,SAASf,EAA6Bd,GAElC,OAAOA,EAAS76B,QAAO,CAAC28B,EAAY5X,KAChC,MAAMrvC,EAAOhG,EAAMq1C,QAAQ6X,iBAAiB7X,GAO5C,OANIrvC,KAAQinD,EACRA,EAAWjnD,GAAMhE,KAAKqzC,GAGtB4X,EAAWjnD,GAAQ,CAACqvC,GAEjB4X,IATG,IAalB,SAASjB,EAA4BK,EAAUC,EAAUC,GACrD,OAAO5yD,OAAOga,KAAK04C,GAAU7rD,KAAKwF,GACvB+lD,EAA0B/lD,EAAMqmD,EAASrmD,GAAOsmD,EAAUC,KAIzE,SAASR,EAA0B/lD,EAAMqmD,EAAUC,EAAUC,GACzD,MAAO,CACHA,UACAF,WACAC,WACAtmD,OACAmlD,SAAU,GAAG//C,OAAOihD,EAAUC,EAAS9rD,IAAIR,EAAMq1C,QAAQ8X,4BA/DjEtzD,EAAQuxD,SATR,SAAkBD,EAAUxrD,GACxB,MAAMytD,EAAmBjB,EAAoBhB,GACvCkC,EAAmBnB,EAA8Bf,EAAUxrD,EAASmtD,QACpEQ,EAAiBF,EAAiBtmD,QAAQuuC,GAAYr1C,EAAMq1C,QAAQkY,gBAAgBlY,EAAS11C,KAC7F6tD,EAAkBJ,EAAiBtmD,QAAQuuC,GAAYr1C,EAAMq1C,QAAQuW,iBAAiBvW,EAAS11C,KAC/F8tD,EAAcrB,EAAuBkB,EAAgBD,GAAgC,GACrFK,EAAetB,EAAuBoB,EAAiBH,GAAgC,GAC7F,OAAOI,EAAYriD,OAAOsiD,IA4B9B7zD,EAAQuyD,uBAAyBA,EAIjCvyD,EAAQsyD,oBAAsBA,EAM9BtyD,EAAQqyD,8BAAgCA,EAcxCryD,EAAQoyD,6BAA+BA,EAMvCpyD,EAAQmyD,4BAA8BA,EAUtCnyD,EAAQkyD,0BAA4BA,G,4BC9EpCpyD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM4J,EAAW,EAAQ,MACnBiqD,EAAa,EAAQ,KAC3B,MAAMC,UAAsBD,EAAW7xD,QACnCzB,cACI2K,SAASiC,WACTvM,KAAKoJ,QAAU,IAAIJ,EAAS5H,QAAQpB,KAAKmJ,WAE7CpE,KAAKouD,GACD,MAAMC,EAAOpzD,KAAKqzD,kBAAkBF,GAC9B5/C,EAAUvT,KAAKszD,kBAAkBH,GACjCttD,EAAU,GAChB,OAAO,IAAIusC,SAAQ,CAAC3b,EAAS0d,KACzB,MAAM4c,EAAS/wD,KAAKuzD,IAAIH,EAAMD,EAAM5/C,GACpCw9C,EAAO1lD,KAAK,QAAS8oC,GACrB4c,EAAO3lD,GAAG,QAAS/E,GAAUR,EAAQyB,KAAKiM,EAAQigD,UAAUntD,MAC5D0qD,EAAO1lD,KAAK,OAAO,IAAMorB,EAAQ5wB,QAGzC0tD,IAAIH,EAAMD,EAAM5/C,GACZ,OAAI4/C,EAAKtB,QACE7xD,KAAKoJ,QAAQyoD,QAAQuB,EAAM7/C,GAE/BvT,KAAKoJ,QAAQqqD,OAAON,EAAK1C,SAAUl9C,IAGlDpU,EAAQiC,QAAU8xD,G,2BC1BlBj0D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMkG,EAAQ,EAAQ,MAChBouD,EAAY,EAAQ,MA0D1Bv0D,EAAQiC,QAzDR,MACIzB,YAAYwJ,EAAWwqD,GACnB3zD,KAAKmJ,UAAYA,EACjBnJ,KAAK2zD,mBAAqBA,EAE9BC,UAAU1oD,EAAUymD,EAAUC,GAC1B,MAAMiC,EAAU7zD,KAAK8zD,YAAYnC,GAC3BoC,EAAa/zD,KAAKg0D,uBAAuBpC,GAC/C,OAAQvrD,GAAUrG,KAAKi0D,QAAQ/oD,EAAU7E,EAAOwtD,EAASE,GAE7DD,YAAYrD,GACR,OAAO,IAAIiD,EAAUtyD,QAAQqvD,EAAUzwD,KAAKmJ,UAAWnJ,KAAK2zD,oBAEhEK,uBAAuBvD,GACnB,MAAMyD,EAA+BzD,EAASrkD,OAAO9G,EAAMq1C,QAAQwZ,+BACnE,OAAO7uD,EAAMq1C,QAAQyZ,oBAAoBF,EAA8Bl0D,KAAK2zD,oBAEhFM,QAAQ/oD,EAAU7E,EAAOwtD,EAASE,GAC9B,GAAI/zD,KAAKq0D,iBAAiBnpD,EAAU7E,EAAMzB,MACtC,OAAO,EAEX,GAAI5E,KAAKs0D,uBAAuBjuD,GAC5B,OAAO,EAEX,MAAMY,EAAW3B,EAAMV,KAAK2vD,wBAAwBluD,EAAMzB,MAC1D,OAAI5E,KAAKw0D,6BAA6BvtD,EAAU4sD,IAGzC7zD,KAAKy0D,6BAA6BxtD,EAAU8sD,GAEvDM,iBAAiBnpD,EAAUtD,GAIvB,OAAI5H,KAAKmJ,UAAUurD,OAAS9nD,KAGrB5M,KAAK20D,eAAezpD,EAAUtD,IAAc5H,KAAKmJ,UAAUurD,KAEtEC,eAAezpD,EAAUtD,GACrB,MAAMgtD,EAAiBhtD,EAAU9D,MAAM,KAAKiN,OAC5C,MAAiB,KAAb7F,EACO0pD,EAGJA,EADe1pD,EAASpH,MAAM,KAAKiN,OAG9CujD,uBAAuBjuD,GACnB,OAAQrG,KAAKmJ,UAAUjD,qBAAuBG,EAAMN,OAAOQ,iBAE/DiuD,6BAA6B5sD,EAAWisD,GACpC,OAAQ7zD,KAAKmJ,UAAU0rD,gBAAkBhB,EAAQ/+B,MAAMltB,GAE3D6sD,6BAA6B7sD,EAAWktD,GACpC,OAAQxvD,EAAMq1C,QAAQoa,SAASntD,EAAWktD,M,4BCzDlD71D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMkG,EAAQ,EAAQ,MAqDtBnG,EAAQiC,QApDR,MACIzB,YAAYwJ,EAAWwqD,GACnB3zD,KAAKmJ,UAAYA,EACjBnJ,KAAK2zD,mBAAqBA,EAC1B3zD,KAAKqH,MAAQ,IAAI6rC,IAErB0gB,UAAUjC,EAAUC,GAChB,MAAMoD,EAAa1vD,EAAMq1C,QAAQyZ,oBAAoBzC,EAAU3xD,KAAK2zD,oBAC9DI,EAAazuD,EAAMq1C,QAAQyZ,oBAAoBxC,EAAU5xD,KAAK2zD,oBACpE,OAAQttD,GAAUrG,KAAKi0D,QAAQ5tD,EAAO2uD,EAAYjB,GAEtDE,QAAQ5tD,EAAO2uD,EAAYjB,GACvB,GAAI/zD,KAAKmJ,UAAU8rD,QAAUj1D,KAAKk1D,kBAAkB7uD,GAChD,OAAO,EAEX,GAAIrG,KAAKm1D,gBAAgB9uD,IAAUrG,KAAKo1D,qBAAqB/uD,GACzD,OAAO,EAEX,GAAIrG,KAAKq1D,qCAAqChvD,EAAMzB,KAAMmvD,GACtD,OAAO,EAEX,MAAM9sD,EAAWjH,KAAKmJ,UAAU0rD,cAAgBxuD,EAAM7D,KAAO6D,EAAMzB,KAC7D0wD,EAAYt1D,KAAKu1D,mBAAmBtuD,EAAU+tD,KAAgBh1D,KAAKu1D,mBAAmBlvD,EAAMzB,KAAMmvD,GAIxG,OAHI/zD,KAAKmJ,UAAU8rD,QAAUK,GACzBt1D,KAAKw1D,mBAAmBnvD,GAErBivD,EAEXJ,kBAAkB7uD,GACd,OAAOrG,KAAKqH,MAAMqpC,IAAIrqC,EAAMzB,MAEhC4wD,mBAAmBnvD,GACfrG,KAAKqH,MAAM2tB,IAAI3uB,EAAMzB,UAAMpB,GAE/B2xD,gBAAgB9uD,GACZ,OAAOrG,KAAKmJ,UAAUssD,YAAcpvD,EAAMN,OAAOyC,SAErD4sD,qBAAqB/uD,GACjB,OAAOrG,KAAKmJ,UAAUusD,kBAAoBrvD,EAAMN,OAAOuC,cAE3D+sD,qCAAqCztD,EAAWktD,GAC5C,IAAK90D,KAAKmJ,UAAUwsD,SAChB,OAAO,EAEX,MAAM9pD,EAAWvG,EAAMV,KAAKgxD,aAAa51D,KAAKmJ,UAAU0sD,IAAKjuD,GAC7D,OAAOtC,EAAMq1C,QAAQoa,SAASlpD,EAAUipD,GAE5CS,mBAAmB3tD,EAAWktD,GAC1B,MAAM7tD,EAAW3B,EAAMV,KAAK2vD,wBAAwB3sD,GACpD,OAAOtC,EAAMq1C,QAAQoa,SAAS9tD,EAAU6tD,M,4BCnDhD71D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMkG,EAAQ,EAAQ,MAYtBnG,EAAQiC,QAXR,MACIzB,YAAYwJ,GACRnJ,KAAKmJ,UAAYA,EAErByqD,YACI,OAAQnzD,GAAUT,KAAK81D,iBAAiBr1D,GAE5Cq1D,iBAAiBr1D,GACb,OAAO6E,EAAMywD,MAAMC,kBAAkBv1D,IAAUT,KAAKmJ,UAAU8sD,kB,0BCVtEh3D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMkG,EAAQ,EAAQ,MA+CtBnG,EAAQiC,QA9CR,MACIzB,YAAYu2D,EAAW/sD,EAAWwqD,GAC9B3zD,KAAKk2D,UAAYA,EACjBl2D,KAAKmJ,UAAYA,EACjBnJ,KAAK2zD,mBAAqBA,EAC1B3zD,KAAKqJ,SAAW,GAChBrJ,KAAKm2D,eAETA,eAKI,MAAM1F,EAAWnrD,EAAMq1C,QAAQyb,iCAAiCp2D,KAAKk2D,WACrE,IAAK,MAAMvb,KAAW8V,EAAU,CAC5B,MAAM4F,EAAWr2D,KAAKs2D,oBAAoB3b,GACpC4b,EAAWv2D,KAAKw2D,2BAA2BH,GACjDr2D,KAAKqJ,SAAS/B,KAAK,CACfmvD,SAAUF,EAASxlD,QAAU,EAC7B4pC,UACA0b,WACAE,cAIZD,oBAAoB3b,GAEhB,OADcr1C,EAAMq1C,QAAQ+b,gBAAgB/b,EAAS36C,KAAK2zD,oBAC7C7tD,KAAK0iC,GACEljC,EAAMq1C,QAAQuW,iBAAiB1oB,EAAMxoC,KAAKmJ,WAOnD,CACH0oD,SAAS,EACTlX,QAASnS,EACTmuB,UAAWrxD,EAAMq1C,QAAQic,OAAOpuB,EAAMxoC,KAAK2zD,qBARpC,CACH9B,SAAS,EACTlX,QAASnS,KAUzBguB,2BAA2BH,GACvB,OAAO/wD,EAAMyjC,MAAM8tB,UAAUR,GAAWS,GAAYA,EAAQjF,SAAWvsD,EAAMq1C,QAAQoc,YAAYD,EAAQnc,c,4BC7CjH17C,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM43D,EAAY,EAAQ,IAC1B,MAAMC,UAAuBD,EAAU51D,QACnC0zB,MAAM7tB,GACF,MAAMwJ,EAAQxJ,EAASnD,MAAM,KACvB8nD,EAASn7C,EAAMM,OACf0/C,EAAWzwD,KAAKqJ,SAAS+C,QAAQ6J,IAAUA,EAAKwgD,UAAYxgD,EAAKogD,SAAStlD,OAAS66C,IACzF,IAAK,MAAMjR,KAAW8V,EAAU,CAC5B,MAAMyG,EAAUvc,EAAQ4b,SAAS,GAQjC,IAAK5b,EAAQ8b,UAAY7K,EAASsL,EAAQnmD,OACtC,OAAO,EAYX,GAVcN,EAAMkgD,OAAM,CAACnoB,EAAMnhC,KAC7B,MAAMyvD,EAAUnc,EAAQ0b,SAAShvD,GACjC,SAAIyvD,EAAQjF,UAAWiF,EAAQH,UAAUxlD,KAAKq3B,MAGzCsuB,EAAQjF,SAAWiF,EAAQnc,UAAYnS,KAM5C,OAAO,EAGf,OAAO,GAGfrpC,EAAQiC,QAAU61D,G,2BCpClBh4D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMwF,EAAO,EAAQ,MACfuyD,EAAS,EAAQ,KACjBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,MAClBC,EAAU,EAAQ,KAyCxBn4D,EAAQiC,QAxCR,MACIzB,YAAYwJ,GACRnJ,KAAKmJ,UAAYA,EACjBnJ,KAAKmM,YAAc,IAAIkrD,EAAQj2D,QAAQpB,KAAKmJ,WAC5CnJ,KAAK+L,YAAc,IAAIqrD,EAAQh2D,QAAQpB,KAAKmJ,UAAWnJ,KAAKu3D,yBAC5Dv3D,KAAKiM,WAAa,IAAIkrD,EAAO/1D,QAAQpB,KAAKmJ,UAAWnJ,KAAKu3D,yBAC1Dv3D,KAAKw3D,iBAAmB,IAAIF,EAAQl2D,QAAQpB,KAAKmJ,WAErDkqD,kBAAkBF,GACd,OAAOvuD,EAAK6xB,QAAQz2B,KAAKmJ,UAAU0sD,IAAK1C,EAAK7nD,MAEjDgoD,kBAAkBH,GACd,MAAMjoD,EAAyB,MAAdioD,EAAK7nD,KAAe,GAAK6nD,EAAK7nD,KAC/C,MAAO,CACHJ,WACAjF,qBAAsB,IACtB2E,YAAa5K,KAAKmJ,UAAUyB,YAC5BqB,WAAYjM,KAAKiM,WAAW2nD,UAAU1oD,EAAUioD,EAAKxB,SAAUwB,EAAKvB,UACpE7lD,YAAa/L,KAAK+L,YAAY6nD,UAAUT,EAAKxB,SAAUwB,EAAKvB,UAC5DzlD,YAAanM,KAAKmM,YAAYynD,YAC9B1tD,oBAAqBlG,KAAKmJ,UAAUjD,oBACpClD,GAAIhD,KAAKmJ,UAAUnG,GACnByD,MAAOzG,KAAKmJ,UAAU1C,MACtBC,+BAAgC1G,KAAKmJ,UAAUzC,+BAC/C8sD,UAAWxzD,KAAKw3D,iBAAiBC,kBAGzCF,wBACI,MAAO,CACHG,IAAK13D,KAAKmJ,UAAUuuD,IACpBC,UAAW33D,KAAKmJ,UAAU0rD,cAC1B+C,SAAU53D,KAAKmJ,UAAU0uD,eACzBC,QAAS93D,KAAKmJ,UAAU4uD,mBACxBC,OAAQh4D,KAAKmJ,UAAU8uD,QACvBC,YAAal4D,KAAKmJ,UAAUgvD,SAC5BC,OAAO,EACPC,eAAe,M,4BC1C3Bp5D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM4J,EAAW,EAAQ,MACnBsvD,EAAW,EAAQ,MACnBrF,EAAa,EAAQ,KAC3B,MAAMsF,UAAuBtF,EAAW7xD,QACpCzB,cACI2K,SAASiC,WACTvM,KAAKoJ,QAAU,IAAIkvD,EAASl3D,QAAQpB,KAAKmJ,WAE7CpE,KAAKouD,GACD,MAAMC,EAAOpzD,KAAKqzD,kBAAkBF,GAC9B5/C,EAAUvT,KAAKszD,kBAAkBH,GACjCpxD,EAAS/B,KAAKuzD,IAAIH,EAAMD,EAAM5/C,GAC9BilD,EAAc,IAAIxvD,EAASY,SAAS,CAAEC,YAAY,EAAM9E,KAAM,SAOpE,OANAhD,EACKsJ,KAAK,SAAU5K,GAAU+3D,EAAYxuD,KAAK,QAASvJ,KACnD2K,GAAG,QAAS/E,GAAUmyD,EAAYxuD,KAAK,OAAQuJ,EAAQigD,UAAUntD,MACjEgF,KAAK,OAAO,IAAMmtD,EAAYxuD,KAAK,SACxCwuD,EACKntD,KAAK,SAAS,IAAMtJ,EAAO+H,YACzB0uD,EAEXjF,IAAIH,EAAMD,EAAM5/C,GACZ,OAAI4/C,EAAKtB,QACE7xD,KAAKoJ,QAAQyoD,QAAQuB,EAAM7/C,GAE/BvT,KAAKoJ,QAAQqqD,OAAON,EAAK1C,SAAUl9C,IAGlDpU,EAAQiC,QAAUm3D,G,4BC7BlBt5D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM6J,EAAS,EAAQ,KACjBgqD,EAAa,EAAQ,KAC3B,MAAMwF,UAAqBxF,EAAW7xD,QAClCzB,cACI2K,SAASiC,WACTvM,KAAKoJ,QAAU,IAAIH,EAAO7H,QAAQpB,KAAKmJ,WAE3CpE,KAAKouD,GACD,MAAMC,EAAOpzD,KAAKqzD,kBAAkBF,GAC9B5/C,EAAUvT,KAAKszD,kBAAkBH,GAEvC,OADgBnzD,KAAKuzD,IAAIH,EAAMD,EAAM5/C,GACtBzN,IAAIyN,EAAQigD,WAE/BD,IAAIH,EAAMD,EAAM5/C,GACZ,OAAI4/C,EAAKtB,QACE7xD,KAAKoJ,QAAQyoD,QAAQuB,EAAM7/C,GAE/BvT,KAAKoJ,QAAQqqD,OAAON,EAAK1C,SAAUl9C,IAGlDpU,EAAQiC,QAAUq3D,G,2BCrBlBx5D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMkG,EAAQ,EAAQ,MAuBtBnG,EAAQiC,QAtBR,MACIzB,YAAYwJ,GACRnJ,KAAKmJ,UAAYA,EAErBsuD,iBACI,OAAQpxD,GAAUrG,KAAKo5C,WAAW/yC,GAEtC+yC,WAAW/yC,GACP,IAAIY,EAAWZ,EAAMzB,KAQrB,OAPI5E,KAAKmJ,UAAUwsD,WACf1uD,EAAW3B,EAAMV,KAAKgxD,aAAa51D,KAAKmJ,UAAU0sD,IAAK5uD,GACvDA,EAAW3B,EAAMV,KAAK8zD,QAAQzxD,IAE9BjH,KAAKmJ,UAAUwvD,iBAAmBtyD,EAAMN,OAAOuC,gBAC/CrB,GAAY,KAEXjH,KAAKmJ,UAAUU,WAGb5K,OAAOgB,OAAOhB,OAAOgB,OAAO,GAAIoG,GAAQ,CAAEzB,KAAMqC,IAF5CA,K,4BCnBnBhI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAMwF,EAAO,EAAQ,MACfO,EAAS,EAAQ,MACjBG,EAAQ,EAAQ,MA4BtBnG,EAAQiC,QA3BR,MACIzB,YAAYwJ,GACRnJ,KAAKmJ,UAAYA,EACjBnJ,KAAK44D,gBAAkB,IAAIzzD,EAAOf,SAAS,CACvC4D,mBAAoBhI,KAAKmJ,UAAUjD,oBACnClD,GAAIhD,KAAKmJ,UAAUnG,GACnB0D,+BAAgC1G,KAAKmJ,UAAUjD,sBAGvD2yD,kBAAkB5xD,GACd,OAAOrC,EAAK6xB,QAAQz2B,KAAKmJ,UAAU0sD,IAAK5uD,GAE5C6xD,WAAWryD,EAAOk0C,GACd,MAAMt0C,EAAQ,CACV7D,KAAMm4C,EACN/1C,KAAM+1C,EACN50C,OAAQT,EAAMtC,GAAG2D,sBAAsBg0C,EAASl0C,IAKpD,OAHIzG,KAAKmJ,UAAU1C,QACfJ,EAAMI,MAAQA,GAEXJ,EAEXwE,cAAcpK,GACV,OAAQ6E,EAAMywD,MAAMC,kBAAkBv1D,KAAWT,KAAKmJ,UAAU8sD,kB,4BC5BxEh3D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM4J,EAAW,EAAQ,MACnB7D,EAAS,EAAQ,MACjB4zD,EAAS,EAAQ,MACjB3uD,EAAW,EAAQ,MACzB,MAAM4uD,UAAqB5uD,EAAShJ,QAChCzB,cACI2K,SAASiC,WACTvM,KAAKi5D,YAAcF,EAAOnwD,WAC1B5I,KAAKk5D,MAAQ/zD,EAAOjC,KAExB2uD,QAAQuB,EAAM7/C,GACV,OAAOvT,KAAKi5D,YAAY7F,EAAM7/C,GAElCkgD,OAAOhD,EAAUl9C,GACb,MAAMvM,EAAYypD,EAAS3qD,IAAI9F,KAAK64D,kBAAmB74D,MACjD+wD,EAAS,IAAI/nD,EAASmwD,YAAY,CAAEtvD,YAAY,IACtDknD,EAAOqI,OAAS,CAAC/xD,EAAOgyD,EAAM/yD,IACnBtG,KAAKs5D,UAAUtyD,EAAUK,GAAQopD,EAASppD,GAAQkM,GACpD++B,MAAMjsC,IACO,OAAVA,GAAkBkN,EAAQxH,YAAY1F,IACtC0qD,EAAOzpD,KAAKjB,GAEZgB,IAAUL,EAAU+J,OAAS,GAC7BggD,EAAO/8C,MAEX1N,OAECm8C,MAAMn8C,GAEf,IAAK,IAAIwK,EAAI,EAAGA,EAAI9J,EAAU+J,OAAQD,IAClCigD,EAAO9wB,MAAMnvB,GAEjB,OAAOigD,EAEXuI,UAAUryD,EAAU0zC,EAASpnC,GACzB,OAAOvT,KAAKu5D,SAAStyD,GAChBqrC,MAAM7rC,GAAUzG,KAAK84D,WAAWryD,EAAOk0C,KACvC8H,OAAOhiD,IACR,GAAI8S,EAAQpH,YAAY1L,GACpB,OAAO,KAEX,MAAMA,KAGd84D,SAAStyD,GACL,OAAO,IAAImrC,SAAQ,CAAC3b,EAAS0d,KACzBn0C,KAAKk5D,MAAMjyD,EAAUjH,KAAK44D,iBAAiB,CAACn4D,EAAOgG,IAC9B,OAAVhG,EAAiBg2B,EAAQhwB,GAAS0tC,EAAO1zC,SAKhEtB,EAAQiC,QAAU43D,G,2BCrDlB/5D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,MAAM+F,EAAS,EAAQ,MACjB4zD,EAAS,EAAQ,MACjB3uD,EAAW,EAAQ,MACzB,MAAMovD,UAAmBpvD,EAAShJ,QAC9BzB,cACI2K,SAASiC,WACTvM,KAAKy5D,UAAYV,EAAOlwD,SACxB7I,KAAK05D,UAAYv0D,EAAO/B,SAE5ByuD,QAAQuB,EAAM7/C,GACV,OAAOvT,KAAKy5D,UAAUrG,EAAM7/C,GAEhCkgD,OAAOhD,EAAUl9C,GACb,MAAM1N,EAAU,GAChB,IAAK,MAAM80C,KAAW8V,EAAU,CAC5B,MAAMxpD,EAAWjH,KAAK64D,kBAAkBle,GAClCt0C,EAAQrG,KAAKs5D,UAAUryD,EAAU0zC,EAASpnC,GAClC,OAAVlN,GAAmBkN,EAAQxH,YAAY1F,IAG3CR,EAAQyB,KAAKjB,GAEjB,OAAOR,EAEXyzD,UAAUryD,EAAU0zC,EAASpnC,GACzB,IACI,MAAM9M,EAAQzG,KAAKu5D,SAAStyD,GAC5B,OAAOjH,KAAK84D,WAAWryD,EAAOk0C,GAElC,MAAOl6C,GACH,GAAI8S,EAAQpH,YAAY1L,GACpB,OAAO,KAEX,MAAMA,GAGd84D,SAAStyD,GACL,OAAOjH,KAAK05D,UAAUzyD,EAAUjH,KAAK44D,kBAG7Cz5D,EAAQiC,QAAUo4D,G,4BCzClBv6D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQw6D,iCAA8B,EACtC,MAAM32D,EAAK,EAAQ,MACbmf,EAAK,EAAQ,MAKby3C,EAAY94C,KAAKO,IAAIc,EAAGQ,OAAO5R,OAAQ,GAC7C5R,EAAQw6D,4BAA8B,CAClC12D,MAAOD,EAAGC,MACVE,UAAWH,EAAGG,UACdD,KAAMF,EAAGE,KACTE,SAAUJ,EAAGI,SACbC,QAASL,EAAGK,QACZC,YAAaN,EAAGM,aAwCpBnE,EAAQiC,QAtCR,MACIzB,YAAYkI,EAAW,IACnB7H,KAAK6H,SAAWA,EAChB7H,KAAK21D,SAAW31D,KAAK8H,UAAU9H,KAAK6H,SAAS8tD,UAAU,GACvD31D,KAAK60D,cAAgB70D,KAAK8H,UAAU9H,KAAK6H,SAASgtD,eAAe,GACjE70D,KAAK63D,eAAiB73D,KAAK8H,UAAU9H,KAAK6H,SAASgwD,gBAAgB,GACnE73D,KAAK+3D,mBAAqB/3D,KAAK8H,UAAU9H,KAAK6H,SAASkwD,oBAAoB,GAC3E/3D,KAAK4K,YAAc5K,KAAK8H,UAAU9H,KAAK6H,SAAS+C,YAAagvD,GAC7D55D,KAAK61D,IAAM71D,KAAK8H,UAAU9H,KAAK6H,SAASguD,IAAKlyD,QAAQkyD,OACrD71D,KAAK00D,KAAO10D,KAAK8H,UAAU9H,KAAK6H,SAAS6sD,KAAM9nD,KAC/C5M,KAAK03D,IAAM13D,KAAK8H,UAAU9H,KAAK6H,SAAS6vD,KAAK,GAC7C13D,KAAKi4D,QAAUj4D,KAAK8H,UAAU9H,KAAK6H,SAASowD,SAAS,GACrDj4D,KAAKkG,oBAAsBlG,KAAK8H,UAAU9H,KAAK6H,SAAS3B,qBAAqB,GAC7ElG,KAAKgD,GAAKhD,KAAK65D,sBAAsB75D,KAAK6H,SAAS7E,IACnDhD,KAAKm4D,SAAWn4D,KAAK8H,UAAU9H,KAAK6H,SAASswD,UAAU,GACvDn4D,KAAKoyD,OAASpyD,KAAK8H,UAAU9H,KAAK6H,SAASuqD,OAAQ,IACnDpyD,KAAK24D,gBAAkB34D,KAAK8H,UAAU9H,KAAK6H,SAAS8wD,iBAAiB,GACrE34D,KAAK6J,WAAa7J,KAAK8H,UAAU9H,KAAK6H,SAASgC,YAAY,GAC3D7J,KAAK01D,gBAAkB11D,KAAK8H,UAAU9H,KAAK6H,SAAS6tD,iBAAiB,GACrE11D,KAAKy1D,UAAYz1D,KAAK8H,UAAU9H,KAAK6H,SAAS4tD,WAAW,GACzDz1D,KAAKyG,MAAQzG,KAAK8H,UAAU9H,KAAK6H,SAASpB,OAAO,GACjDzG,KAAKi2D,eAAiBj2D,KAAK8H,UAAU9H,KAAK6H,SAASouD,gBAAgB,GACnEj2D,KAAK0G,+BAAiC1G,KAAK8H,UAAU9H,KAAK6H,SAASnB,gCAAgC,GACnG1G,KAAKi1D,OAASj1D,KAAK8H,UAAU9H,KAAK6H,SAASotD,QAAQ,GAC/Cj1D,KAAK01D,kBACL11D,KAAKy1D,WAAY,GAEjBz1D,KAAKyG,QACLzG,KAAK6J,YAAa,GAG1B/B,UAAUG,EAAQ7I,GACd,YAAkBoE,IAAXyE,EAAuB7I,EAAQ6I,EAE1C4xD,sBAAsBC,EAAU,IAC5B,OAAO76D,OAAOgB,OAAOhB,OAAOgB,OAAO,GAAId,EAAQw6D,6BAA8BG,M,0BCpDrF76D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ03D,UAAY13D,EAAQ4/C,aAAU,EAItC5/C,EAAQ4/C,QAHR,SAAiBgb,GACb,OAAOA,EAAMnkC,QAAO,CAAC28B,EAAY9mD,IAAS,GAAGiF,OAAO6hD,EAAY9mD,IAAO,KAiB3EtM,EAAQ03D,UAdR,SAAmBkD,EAAOC,GACtB,MAAMzyD,EAAS,CAAC,IAChB,IAAI0yD,EAAa,EACjB,IAAK,MAAMxuD,KAAQsuD,EACXC,EAAUvuD,IACVwuD,IACA1yD,EAAO0yD,GAAc,IAGrB1yD,EAAO0yD,GAAY3yD,KAAKmE,GAGhC,OAAOlE,I,0BClBXtI,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ62D,uBAAoB,EAI5B72D,EAAQ62D,kBAHR,SAA2Bv1D,GACvB,MAAsB,WAAfA,EAAMmjC,O,0BCHjB3kC,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQwH,2BAAwB,EAChC,MAAMuB,EACFvI,YAAY6C,EAAMiE,GACdzG,KAAKwC,KAAOA,EACZxC,KAAKmI,cAAgB1B,EAAM0B,cAAcC,KAAK3B,GAC9CzG,KAAKqI,kBAAoB5B,EAAM4B,kBAAkBD,KAAK3B,GACtDzG,KAAKsI,YAAc7B,EAAM6B,YAAYF,KAAK3B,GAC1CzG,KAAKuI,OAAS9B,EAAM8B,OAAOH,KAAK3B,GAChCzG,KAAKwI,OAAS/B,EAAM+B,OAAOJ,KAAK3B,GAChCzG,KAAKyI,SAAWhC,EAAMgC,SAASL,KAAK3B,GACpCzG,KAAKuG,eAAiBE,EAAMF,eAAe6B,KAAK3B,IAMxDtH,EAAQwH,sBAHR,SAA+BnE,EAAMiE,GACjC,OAAO,IAAIyB,EAAgB1F,EAAMiE,K,4BCfrCxH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQyxD,OAASzxD,EAAQ4xD,OAAS5xD,EAAQw7C,QAAUx7C,EAAQyF,KAAOzF,EAAQ6D,GAAK7D,EAAQ42D,MAAQ52D,EAAQ4pC,WAAQ,EAChH,MAAMA,EAAQ,EAAQ,MACtB5pC,EAAQ4pC,MAAQA,EAChB,MAAMgtB,EAAQ,EAAQ,MACtB52D,EAAQ42D,MAAQA,EAChB,MAAM/yD,EAAK,EAAQ,MACnB7D,EAAQ6D,GAAKA,EACb,MAAM4B,EAAO,EAAQ,MACrBzF,EAAQyF,KAAOA,EACf,MAAM+1C,EAAU,EAAQ,IACxBx7C,EAAQw7C,QAAUA,EAClB,MAAMoW,EAAS,EAAQ,MACvB5xD,EAAQ4xD,OAASA,EACjB,MAAMH,EAAS,EAAQ,MACvBzxD,EAAQyxD,OAASA,G,4BCfjB3xD,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQo1D,wBAA0Bp1D,EAAQiyD,OAASjyD,EAAQy2D,aAAez2D,EAAQu5D,aAAU,EAC5F,MAAM9zD,EAAO,EAAQ,MAEfs1D,EAA4B,sCAOlC/6D,EAAQu5D,QAHR,SAAiBzxD,GACb,OAAOA,EAASkyB,QAAQ,MAAO,MAMnCh6B,EAAQy2D,aAHR,SAAsBC,EAAK5uD,GACvB,OAAOrC,EAAK6xB,QAAQo/B,EAAK5uD,IAM7B9H,EAAQiyD,OAHR,SAAgBzW,GACZ,OAAOA,EAAQxhB,QAAQ+gC,EAA2B,SActD/6D,EAAQo1D,wBAXR,SAAiCluD,GAG7B,GAAwB,MAApBA,EAAM8zD,OAAO,GAAY,CACzB,MAAMC,EAAmB/zD,EAAM8zD,OAAO,GACtC,GAAyB,MAArBC,GAAiD,OAArBA,EAC5B,OAAO/zD,EAAMqzB,MAvBoB,GA0BzC,OAAOrzB,I,0BC7BXpH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ41D,SAAW51D,EAAQi1D,oBAAsBj1D,EAAQy3D,OAASz3D,EAAQu3D,gBAAkBv3D,EAAQk7D,qBAAuBl7D,EAAQi3D,iCAAmCj3D,EAAQg1D,8BAAgCh1D,EAAQm7D,sBAAwBn7D,EAAQ43D,YAAc53D,EAAQqzD,iBAAmBrzD,EAAQo7D,kCAAoCp7D,EAAQ4yD,mCAAqC5yD,EAAQ8yD,kCAAoC9yD,EAAQsyD,oBAAsBtyD,EAAQkzD,oBAAsBlzD,EAAQq7D,kBAAoBr7D,EAAQs7D,kBAAoBt7D,EAAQszD,yBAA2BtzD,EAAQmzD,yBAA2BnzD,EAAQ+xD,iBAAmB/xD,EAAQ0zD,qBAAkB,EACnpB,MAAMjuD,EAAO,EAAQ,MACf81D,EAAa,EAAQ,MACrBC,EAAa,EAAQ,KAGrBC,EAAyB,UACzBC,EAAmC,QACnCC,EAAyB,2BACzBC,EAA4B,gBAC5BC,EAA8B,mBACpC,SAASnI,EAAgBlY,EAASpnC,EAAU,IACxC,OAAQ29C,EAAiBvW,EAASpnC,GAGtC,SAAS29C,EAAiBvW,EAASpnC,EAAU,IAMzC,SAAgB,KAAZonC,KAO+B,IAA/BpnC,EAAQwkD,oBAAgCpd,EAAQsgB,SAvBlC,OA0BdL,EAAuBzpD,KAAKwpC,IAAYkgB,EAAiC1pD,KAAKwpC,IAAYmgB,EAAuB3pD,KAAKwpC,KAGlG,IAApBpnC,EAAQ0kD,SAAqB8C,EAA0B5pD,KAAKwpC,KAGjC,IAA3BpnC,EAAQskD,gBAA4BmD,EAA4B7pD,KAAKwpC,KAc7E,SAAS8f,EAAkB9f,GACvB,OAAOA,EAAQugB,WAAW,MAAuB,MAAfvgB,EAAQ,GAG9C,SAAS6f,EAAkB7f,GACvB,OAAQ8f,EAAkB9f,GAiC9B,SAAS4f,EAAkC5f,GACvC,OAAOA,EAAQugB,WAAW,OAASvgB,EAAQugB,WAAW,QAW1D,SAASZ,EAAsB3f,GAC3B,OAAOA,EAAQhzC,SAAS,OAc5B,SAAS0yD,EAAqB1f,GAC1B,OAAOggB,EAAWlgB,OAAOE,EAAS,CAC9BH,QAAQ,EACRI,SAAS,IAwBjB,SAASgc,EAAOjc,EAASpnC,GACrB,OAAOonD,EAAW/D,OAAOjc,EAASpnC,GAlItCpU,EAAQ0zD,gBAAkBA,EA4B1B1zD,EAAQ+xD,iBAAmBA,EAI3B/xD,EAAQmzD,yBAHR,SAAkC3X,GAC9B,OAAO8f,EAAkB9f,GAAWA,EAAQjhB,MAAM,GAAKihB,GAM3Dx7C,EAAQszD,yBAHR,SAAkC9X,GAC9B,MAAO,IAAMA,GAMjBx7C,EAAQs7D,kBAAoBA,EAI5Bt7D,EAAQq7D,kBAAoBA,EAI5Br7D,EAAQkzD,oBAHR,SAA6B5B,GACzB,OAAOA,EAASrkD,OAAOquD,IAM3Bt7D,EAAQsyD,oBAHR,SAA6BhB,GACzB,OAAOA,EAASrkD,OAAOouD,IAa3Br7D,EAAQ8yD,kCAHR,SAA2CxB,GACvC,OAAOA,EAASrkD,QAAQuuC,IAAa4f,EAAkC5f,MAa3Ex7C,EAAQ4yD,mCAHR,SAA4CtB,GACxC,OAAOA,EAASrkD,OAAOmuD,IAM3Bp7D,EAAQo7D,kCAAoCA,EAI5Cp7D,EAAQqzD,iBAHR,SAA0B7X,GACtB,OAAO+f,EAAW/f,EAAS,CAAEwgB,iBAAiB,KAMlDh8D,EAAQ43D,YAHR,SAAqBpc,GACjB,OAAOA,EAAQsgB,SA9FF,OAoGjB97D,EAAQm7D,sBAAwBA,EAKhCn7D,EAAQg1D,8BAJR,SAAuCxZ,GACnC,MAAM5U,EAAWnhC,EAAKmhC,SAAS4U,GAC/B,OAAO2f,EAAsB3f,IAAYkY,EAAgB9sB,IAQ7D5mC,EAAQi3D,iCALR,SAA0C3F,GACtC,OAAOA,EAAS76B,QAAO,CAAC28B,EAAY5X,IACzB4X,EAAW7hD,OAAO2pD,EAAqB1f,KAC/C,KASPx7C,EAAQk7D,qBAAuBA,EAoB/Bl7D,EAAQu3D,gBAnBR,SAAyB/b,EAASpnC,GAC9B,IAAI,MAAE9C,GAAUkqD,EAAWS,KAAKzgB,EAAS17C,OAAOgB,OAAOhB,OAAOgB,OAAO,GAAIsT,GAAU,CAAE9C,OAAO,KAgB5F,OAXqB,IAAjBA,EAAMM,SACNN,EAAQ,CAACkqC,IAMTlqC,EAAM,GAAGyqD,WAAW,OACpBzqD,EAAM,GAAKA,EAAM,GAAGipB,MAAM,GAC1BjpB,EAAM4qD,QAAQ,KAEX5qD,GAMXtR,EAAQy3D,OAASA,EAIjBz3D,EAAQi1D,oBAHR,SAA6B3D,EAAUl9C,GACnC,OAAOk9C,EAAS3qD,KAAK60C,GAAYic,EAAOjc,EAASpnC,MAMrDpU,EAAQ41D,SAHR,SAAkB1uD,EAAOyuD,GACrB,OAAOA,EAAWlpB,MAAM+qB,GAAcA,EAAUxlD,KAAK9K,O,4BCzJzDpH,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ6xD,WAAQ,EAChB,MAAMsK,EAAS,EAAQ,KAWvB,SAASC,EAA6BC,GAClCA,EAAQp0D,SAAS2pD,GAAWA,EAAO/mD,KAAK,WAF5C7K,EAAQ6xD,MATR,SAAewK,GACX,MAAMC,EAAeH,EAAOE,GAM5B,OALAA,EAAQp0D,SAAS2pD,IACbA,EAAO1lD,KAAK,SAAU5K,GAAUg7D,EAAazxD,KAAK,QAASvJ,QAE/Dg7D,EAAapwD,KAAK,SAAS,IAAMkwD,EAA6BC,KAC9DC,EAAapwD,KAAK,OAAO,IAAMkwD,EAA6BC,KACrDC,I,0BCVXx8D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDD,EAAQ2xD,QAAU3xD,EAAQ0xD,cAAW,EAIrC1xD,EAAQ0xD,SAHR,SAAkB/mB,GACd,MAAwB,iBAAVA,GAMlB3qC,EAAQ2xD,QAHR,SAAiBhnB,GACb,MAAiB,KAAVA,I,2BCNX,IAAI4xB,EAAU,EAAQ,MA8KtB,SAASC,KAET,SAASC,IACP57D,KAAKZ,MAAQ,KACbY,KAAK8E,SAAW62D,EAChB37D,KAAK85C,KAAO,KACZ95C,KAAK82B,QAAU6kC,EACf37D,KAAK+N,QAAU,KACf/N,KAAK67D,aAAe,KAEpB,IAAInZ,EAAO1iD,KAEXA,KAAK87D,OAAS,SAAiBr8D,EAAK8H,GAClC,IAAIzC,EAAW49C,EAAK59C,SAChB+2D,EAAenZ,EAAKmZ,aACpB5qD,EAAMyxC,EAAKtjD,MACfsjD,EAAKtjD,MAAQ,KACbsjD,EAAK59C,SAAW62D,EACZjZ,EAAKmZ,cACPA,EAAap8D,EAAKwR,GAEpBnM,EAASgP,KAAK4uC,EAAK30C,QAAStO,EAAK8H,GACjCm7C,EAAK5rB,QAAQ4rB,IAIjBh1C,EAAOvO,QAtMP,SAAoB4O,EAASguD,EAAQnxD,GAOnC,GANuB,mBAAZmD,IACTnD,EAAcmxD,EACdA,EAAShuD,EACTA,EAAU,MAGRnD,EAAc,EAChB,MAAM,IAAItK,MAAM,gDAGlB,IAAI07D,EAAQN,EAAQE,GAChBK,EAAY,KACZC,EAAY,KACZC,EAAW,EACXN,EAAe,KAEfnZ,EAAO,CACTp7C,KAiEF,SAAelI,EAAOkH,GACpB,IAAI81D,EAAUJ,EAAM/tD,MAEpBmuD,EAAQruD,QAAUA,EAClBquD,EAAQtlC,QAAUA,EAClBslC,EAAQh9D,MAAQA,EAChBg9D,EAAQt3D,SAAWwB,GAAQq1D,EAC3BS,EAAQP,aAAeA,EAEnBM,IAAazZ,EAAK93C,aAAe83C,EAAK2Z,OACpCH,GACFA,EAAUpiB,KAAOsiB,EACjBF,EAAYE,IAEZH,EAAYG,EACZF,EAAYE,EACZ1Z,EAAK4Z,cAGPH,IACAJ,EAAOjoD,KAAK/F,EAASquD,EAAQh9D,MAAOg9D,EAAQN,UApF9C/wD,MAAO4wD,EACPW,UAAWX,EACXY,MAqBF,WACE7Z,EAAK2Z,QAAS,GArBdA,QAAQ,EACRzxD,YAAaA,EACb4xD,QAcF,WACE,OAAOL,GAdPM,OA6CF,WACE,GAAK/Z,EAAK2Z,OAAV,CACA3Z,EAAK2Z,QAAS,EACd,IAAK,IAAIvrD,EAAI,EAAGA,EAAI4xC,EAAK93C,YAAakG,IACpCqrD,IACArlC,MAjDFtR,KAqDF,WACE,OAAoB,IAAb22C,GAAoC,IAAlBzZ,EAAK3xC,UArD9BA,OAmBF,WAIE,IAHA,IAAIqrD,EAAUH,EACVpsB,EAAU,EAEPusB,GACLA,EAAUA,EAAQtiB,KAClBjK,IAGF,OAAOA,GA3BP6sB,SA8BF,WAIE,IAHA,IAAIN,EAAUH,EACV71D,EAAQ,GAELg2D,GACLh2D,EAAMkB,KAAK80D,EAAQh9D,OACnBg9D,EAAUA,EAAQtiB,KAGpB,OAAO1zC,GAtCPi1D,QA8EF,SAAkBj8D,EAAOkH,GACvB,IAAI81D,EAAUJ,EAAM/tD,MAEpBmuD,EAAQruD,QAAUA,EAClBquD,EAAQtlC,QAAUA,EAClBslC,EAAQh9D,MAAQA,EAChBg9D,EAAQt3D,SAAWwB,GAAQq1D,EAEvBQ,IAAazZ,EAAK93C,aAAe83C,EAAK2Z,OACpCJ,GACFG,EAAQtiB,KAAOmiB,EACfA,EAAYG,IAEZH,EAAYG,EACZF,EAAYE,EACZ1Z,EAAK4Z,cAGPH,IACAJ,EAAOjoD,KAAK/F,EAASquD,EAAQh9D,MAAOg9D,EAAQN,UAhG9Ca,MAAOhB,EACPiB,KA2HF,WACEX,EAAY,KACZC,EAAY,KACZxZ,EAAK33C,MAAQ4wD,GA7HbxwD,aAgIF,WACE8wD,EAAY,KACZC,EAAY,KACZxZ,EAAK33C,QACL23C,EAAK33C,MAAQ4wD,GAnIbl7D,MAsIF,SAAgBo8D,GACdhB,EAAegB,IApIjB,OAAOna,EA8FP,SAAS5rB,EAASgmC,GACZA,GACFd,EAAMllC,QAAQgmC,GAEhB,IAAIhjB,EAAOmiB,EACPniB,EACG4I,EAAK2Z,OAWRF,KAVID,IAAcD,IAChBC,EAAY,MAEdD,EAAYniB,EAAKA,KACjBA,EAAKA,KAAO,KACZiiB,EAAOjoD,KAAK/F,EAAS+rC,EAAK16C,MAAO06C,EAAKgiB,QACpB,OAAdI,GACFxZ,EAAKia,SAKe,KAAbR,GACXzZ,EAAK33C,W,4BCjJX,MAAM2rC,EAAO,EAAQ,MACfqmB,EAAe,EAAQ,MAEvBC,EAAW/rD,GAAe,OAARA,GAA+B,iBAARA,IAAqBqF,MAAM0jB,QAAQ/oB,GAM5EgsD,EAAe79D,GACK,iBAAVA,GAAwC,iBAAVA,GAAgC,KAAVA,EAG9D89D,EAAW3c,GAAO9I,OAAO6I,WAAWC,GAEpC4c,EAAQrzB,IACZ,IAAI1qC,EAAQ,GAAG0qC,IACXziC,GAAS,EAEb,GADiB,MAAbjI,EAAM,KAAYA,EAAQA,EAAMs6B,MAAM,IAC5B,MAAVt6B,EAAe,OAAO,EAC1B,KAA0B,MAAnBA,IAAQiI,KACf,OAAOA,EAAQ,GAUX+1D,EAAM,CAACtzB,EAAO2V,EAAW4d,KAC7B,GAAI5d,EAAY,EAAG,CACjB,IAAI6d,EAAoB,MAAbxzB,EAAM,GAAa,IAAM,GAChCwzB,IAAMxzB,EAAQA,EAAMpQ,MAAM,IAC9BoQ,EAASwzB,EAAOxzB,EAAMyzB,SAASD,EAAO7d,EAAY,EAAIA,EAAW,KAEnE,OAAiB,IAAb4d,EACKn0B,OAAOY,GAETA,GAGH0zB,EAAW,CAAC1zB,EAAO2V,KACvB,IAAImS,EAAwB,MAAb9nB,EAAM,GAAa,IAAM,GAKxC,IAJI8nB,IACF9nB,EAAQA,EAAMpQ,MAAM,GACpB+lB,KAEK3V,EAAM/4B,OAAS0uC,GAAW3V,EAAQ,IAAMA,EAC/C,OAAO8nB,EAAY,IAAM9nB,EAASA,GAiC9B2zB,EAAU,CAACj2D,EAAGC,EAAGi2D,EAAWnqD,KAChC,GAAImqD,EACF,OAAOX,EAAav1D,EAAGC,EAAG,CAAE6sC,MAAM,KAAU/gC,IAG9C,IAAI06B,EAAQ/E,OAAOC,aAAa3hC,GAChC,OAAIA,IAAMC,EAAUwmC,EAGb,IAAIA,KADA/E,OAAOC,aAAa1hC,OAI3Bo0C,EAAU,CAAC5N,EAAOj6B,EAAKT,KAC3B,GAAI+C,MAAM0jB,QAAQiU,GAAQ,CACxB,IAAIqG,GAAwB,IAAjB/gC,EAAQ+gC,KACfgH,EAAS/nC,EAAQoqD,QAAU,GAAK,KACpC,OAAOrpB,EAAO,IAAIgH,IAASrN,EAAM5hC,KAAK,QAAU4hC,EAAM5hC,KAAK,KAE7D,OAAO0wD,EAAa9uB,EAAOj6B,EAAKT,IAG5BqqD,EAAa,IAAIp6B,IACd,IAAI6b,WAAW,4BAA8B3I,EAAKoL,WAAWte,IAGhEq6B,EAAe,CAAC5vB,EAAOj6B,EAAKT,KAChC,IAA6B,IAAzBA,EAAQuqD,aAAuB,MAAMF,EAAW,CAAC3vB,EAAOj6B,IAC5D,MAAO,IAgGH8mC,EAAO,CAAC7M,EAAOj6B,EAAKorC,EAAM7rC,EAAU,MACxC,GAAW,MAAPS,GAAeipD,EAAahvB,GAC9B,MAAO,CAACA,GAGV,IAAKgvB,EAAahvB,KAAWgvB,EAAajpD,GACxC,OAAO6pD,EAAa5vB,EAAOj6B,EAAKT,GAGlC,GAAoB,mBAAT6rC,EACT,OAAOtE,EAAK7M,EAAOj6B,EAAK,EAAG,CAAEw/C,UAAWpU,IAG1C,GAAI4d,EAAS5d,GACX,OAAOtE,EAAK7M,EAAOj6B,EAAK,EAAGorC,GAG7B,IAAII,EAAO,IAAKjsC,GAIhB,OAHqB,IAAjBisC,EAAKme,UAAkBne,EAAKlL,MAAO,GACvC8K,EAAOA,GAAQI,EAAKJ,MAAQ,EAEvB8d,EAAS9d,GAKV8d,EAASjvB,IAAUivB,EAASlpD,GAhHd,EAACi6B,EAAOj6B,EAAKorC,EAAO,EAAG7rC,EAAU,MACnD,IAAI/L,EAAIiwC,OAAOxJ,GACXxmC,EAAIgwC,OAAOzjC,GAEf,IAAKyjC,OAAO6I,UAAU94C,KAAOiwC,OAAO6I,UAAU74C,GAAI,CAChD,IAA6B,IAAzB8L,EAAQuqD,aAAuB,MAAMF,EAAW,CAAC3vB,EAAOj6B,IAC5D,MAAO,GAIC,IAANxM,IAASA,EAAI,GACP,IAANC,IAASA,EAAI,GAEjB,IAAIs2D,EAAav2D,EAAIC,EACjBu2D,EAAc90B,OAAO+E,GACrBgwB,EAAY/0B,OAAOl1B,GACnBkqD,EAAah1B,OAAOkW,GACxBA,EAAOt+B,KAAKO,IAAIP,KAAKyrB,IAAI6S,GAAO,GAEhC,IAAI+e,EAAShB,EAAMa,IAAgBb,EAAMc,IAAcd,EAAMe,GACzDE,EAASD,EAASr9C,KAAKO,IAAI28C,EAAYjtD,OAAQktD,EAAUltD,OAAQmtD,EAAWntD,QAAU,EACtFssD,GAAsB,IAAXc,IAAuD,IArHtD,EAAClwB,EAAOj6B,EAAKT,IACR,iBAAV06B,GAAqC,iBAARj6B,IAGX,IAAtBT,EAAQuf,UAiHoBA,CAAUmb,EAAOj6B,EAAKT,GACrD+F,EAAS/F,EAAQigD,WAzIL6J,IACTj+D,IAAsB,IAAbi+D,EAAoB5lB,OAAOr4C,GAAS8pC,OAAO9pC,GAwIzBo0D,CAAU6J,GAE5C,GAAI9pD,EAAQsoC,SAAoB,IAATuD,EACrB,OAAOqe,EAAQD,EAASvvB,EAAOmwB,GAASZ,EAASxpD,EAAKoqD,IAAS,EAAM7qD,GAGvE,IAAI9C,EAAQ,CAAE4tD,UAAW,GAAIC,UAAW,IAEpC1iB,EAAQ,GACRv0C,EAAQ,EAEZ,KAAO02D,EAAav2D,GAAKC,EAAID,GAAKC,IACR,IAApB8L,EAAQsoC,SAAoBuD,EAAO,EALvB3uC,GAAP8vC,EAMF/4C,GANqB,EAAI,YAAc,aAAaF,KAAKwZ,KAAKyrB,IAAIgU,IAQvE3E,EAAMt0C,KAAK81D,EAAI9jD,EAAO9R,EAAGH,GAAQ+2D,EAAQf,IAE3C71D,EAAIu2D,EAAav2D,EAAI43C,EAAO53C,EAAI43C,EAChC/3C,IAXSk5C,MAcX,OAAwB,IAApBhtC,EAAQsoC,QACHuD,EAAO,EA/GC,EAAC3uC,EAAO8C,KACzB9C,EAAM4tD,UAAUE,MAAK,CAAC/2D,EAAGC,IAAMD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,IACxDgJ,EAAM6tD,UAAUC,MAAK,CAAC/2D,EAAGC,IAAMD,EAAIC,GAAK,EAAID,EAAIC,EAAI,EAAI,IAExD,IAGIF,EAHA+zC,EAAS/nC,EAAQoqD,QAAU,GAAK,KAChCW,EAAY,GACZD,EAAY,GAiBhB,OAdI5tD,EAAM6tD,UAAUvtD,SAClButD,EAAY7tD,EAAM6tD,UAAUjyD,KAAK,MAG/BoE,EAAM4tD,UAAUttD,SAClBstD,EAAY,KAAK/iB,IAAS7qC,EAAM4tD,UAAUhyD,KAAK,SAI/C9E,EADE+2D,GAAaD,EACN,GAAGC,KAAaD,IAEhBC,GAAaD,EAGpB9qD,EAAQ+gC,KACH,IAAIgH,IAAS/zC,KAGfA,GAqFDi3D,CAAW/tD,EAAO8C,GAClBsoC,EAAQD,EAAO,KAAM,CAAEtH,MAAM,KAAU/gC,IAGtCqoC,GAgEE6iB,CAAYxwB,EAAOj6B,EAAKorC,EAAMI,GA7DrB,EAACvR,EAAOj6B,EAAKorC,EAAO,EAAG7rC,EAAU,MACnD,IAAM2pD,EAASjvB,IAAUA,EAAMl9B,OAAS,IAAQmsD,EAASlpD,IAAQA,EAAIjD,OAAS,EAC5E,OAAO8sD,EAAa5vB,EAAOj6B,EAAKT,GAIlC,IAAI+F,EAAS/F,EAAQigD,WAAa,CAACviD,GAAOi4B,OAAOC,aAAal4B,IAC1DzJ,EAAI,GAAGymC,IAAQ3B,WAAW,GAC1B7kC,EAAI,GAAGuM,IAAMs4B,WAAW,GAExByxB,EAAav2D,EAAIC,EACjB6Z,EAAMR,KAAKQ,IAAI9Z,EAAGC,GAClB4Z,EAAMP,KAAKO,IAAI7Z,EAAGC,GAEtB,GAAI8L,EAAQsoC,SAAoB,IAATuD,EACrB,OAAOqe,EAAQn8C,EAAKD,GAAK,EAAO9N,GAGlC,IAAIqoC,EAAQ,GACRv0C,EAAQ,EAEZ,KAAO02D,EAAav2D,GAAKC,EAAID,GAAKC,GAChCm0C,EAAMt0C,KAAKgS,EAAO9R,EAAGH,IACrBG,EAAIu2D,EAAav2D,EAAI43C,EAAO53C,EAAI43C,EAChC/3C,IAGF,OAAwB,IAApBkM,EAAQsoC,QACHA,EAAQD,EAAO,KAAM,CAAEtH,MAAM,EAAO/gC,YAGtCqoC,GAiCA8iB,CAAYzwB,EAAOj6B,EAAK8M,KAAKO,IAAIP,KAAKyrB,IAAI6S,GAAO,GAAII,GAR9C,MAARJ,GAAiB4d,EAAS5d,GACvBtE,EAAK7M,EAAOj6B,EAAK,EAAGorC,GApHX,EAACA,EAAM7rC,KACzB,IAA6B,IAAzBA,EAAQuqD,aACV,MAAM,IAAI7rB,UAAU,kBAAkBmN,qBAExC,MAAO,IA+GuCuf,CAAYvf,EAAMI,IAWlE9xC,EAAOvO,QAAU27C,G,4BCtPjB,IAAI8jB,EAAS,EAAQ,MACjBC,EAAmB,sBACnBC,EAAuC,UAA7B,mBAGVC,EAAY,MACZC,EAAY,kBACZC,EAAS,8BACTte,EAAU,8BAQdjzC,EAAOvO,QAAU,SAAoB4c,EAAKyjC,GAC1BvgD,OAAOgB,OAAO,CAAEk7D,iBAAiB,GAAQ3b,GAG3C2b,iBAAmB2D,GAAW/iD,EAAI8O,QAhBpC,KAgBqD,IAC7D9O,EAAMA,EAAIod,QAAQ4lC,EAjBV,MAqBNC,EAAU7tD,KAAK4K,KACjBA,GAtBQ,KA0BVA,GAAO,IAGP,GACEA,EAAM8iD,EAAiB9iD,SAChB6iD,EAAO7iD,IAAQkjD,EAAO9tD,KAAK4K,IAGpC,OAAOA,EAAIod,QAAQwnB,EAAS,Q,SCjC9BjzC,EAAOvO,QAAU,SAAmB4c,GAClC,GAAmB,iBAARA,GAA4B,KAARA,EAC7B,OAAO,EAIT,IADA,IAAI+Y,EACIA,EAAQ,yBAAyB9Y,KAAKD,IAAO,CACnD,GAAI+Y,EAAM,GAAI,OAAO,EACrB/Y,EAAMA,EAAI2d,MAAM5E,EAAMztB,MAAQytB,EAAM,GAAG/jB,QAGzC,OAAO,I,eCXT,IAAImuD,EAAY,EAAQ,MACpBC,EAAQ,CAAE,IAAK,IAAK,IAAK,IAAK,IAAK,KACnCC,EAAc,yFACdC,EAAe,8BAEnB3xD,EAAOvO,QAAU,SAAgB4c,EAAKxI,GACpC,GAAmB,iBAARwI,GAA4B,KAARA,EAC7B,OAAO,EAGT,GAAImjD,EAAUnjD,GACZ,OAAO,EAGT,IACI+Y,EADA6F,EAAQykC,EAQZ,IAJI7rD,IAA8B,IAAnBA,EAAQm1B,SACrB/N,EAAQ0kC,GAGFvqC,EAAQ6F,EAAM3e,KAAKD,IAAO,CAChC,GAAI+Y,EAAM,GAAI,OAAO,EACrB,IAAIwqC,EAAMxqC,EAAMztB,MAAQytB,EAAM,GAAG/jB,OAI7B+uC,EAAOhrB,EAAM,GACborB,EAAQJ,EAAOqf,EAAMrf,GAAQ,KACjC,GAAIA,GAAQI,EAAO,CACjB,IAAIphC,EAAI/C,EAAI8O,QAAQq1B,EAAOof,IAChB,IAAPxgD,IACFwgD,EAAMxgD,EAAI,GAId/C,EAAMA,EAAI2d,MAAM4lC,GAElB,OAAO,I,sBCrCT5xD,EAAOvO,QAAU,SAASohD,GACxB,MAAmB,iBAARA,EACFA,EAAMA,GAAQ,EAEJ,iBAARA,GAAmC,KAAfA,EAAIjlB,SAC1Bmc,OAAO8nB,SAAW9nB,OAAO8nB,UAAUhf,GAAOgf,UAAUhf,M,2BCN/D,MACM4Y,EADS,EAAQ,MACIA,YACrBz/B,EAAQpjB,MAAMpJ,UAAUwsB,MAqH9B,SAAS8lC,EAAchE,EAASjoD,GAC9B,GAAK+C,MAAM0jB,QAAQwhC,GAUjB,IAAK,IAAI1qD,EAAI,EAAG42B,EAAM8zB,EAAQzqD,OAAQD,EAAI42B,EAAK52B,IAC7C0qD,EAAQ1qD,GAAK0uD,EAAahE,EAAQ1qD,GAAIyC,OAXb,CAK3B,IAHKioD,EAAQiE,gBAAkBjE,EAAQkE,OACrClE,EAAUA,EAAQkE,KAAKvG,EAAY5lD,MAEhCioD,EAAQiE,iBAAmBjE,EAAQe,QAAUf,EAAQkE,KACxD,MAAM,IAAIp/D,MAAM,uCAElBk7D,EAAQe,QAMV,OAAOf,EAlIT9tD,EAAOvO,QAEP,WACE,MAAMwgE,EAAe,GACfn8B,EAAO9J,EAAM5lB,KAAKvH,WACxB,IAAIqzD,GAAU,EACVrsD,EAAUiwB,EAAKA,EAAKzyB,OAAS,GAE7BwC,IAAY+C,MAAM0jB,QAAQzmB,IAA4B,MAAhBA,EAAQmsD,KAChDl8B,EAAKgS,MAELjiC,EAAU,GAGZ,MAAMssD,GAAwB,IAAhBtsD,EAAQS,IAChB8rD,GAAoC,IAAtBvsD,EAAQwsD,UACF,MAAtBxsD,EAAQ1J,aACV0J,EAAQ1J,YAAa,GAEM,MAAzB0J,EAAQysD,gBACVzsD,EAAQysD,cAAgB,OAE1B,MAAMvE,EAAetC,EAAY5lD,GAEjC,SAAS0sD,IACP,IAAK,IAAInvD,EAAI,EAAG42B,EAAMn7B,UAAUwE,OAAQD,EAAI42B,EAAK52B,IAC/C6uD,EAAar4D,KAAKk4D,EAAajzD,UAAUuE,GAAIyC,IAG/C,OADA2sD,IACOlgE,KAGT,SAASkgE,IACP,GAAIN,EACF,OAEFA,GAAU,EAEV,IAAIpE,EAAUmE,EAAa5f,QAC3B,IAAKyb,EAEH,YADA73D,QAAQquC,SAASmuB,GAGd7pD,MAAM0jB,QAAQwhC,KACjBA,EAAU,CAACA,IAGb,IAAI4E,EAAa5E,EAAQzqD,OAAS,EAElC,SAAS+oC,MACDsmB,EAAa,IAGnBR,GAAU,EACVM,KAGF,SAASR,EAAM3O,GACb,SAASsP,IACPtP,EAAOz+C,eAAe,kBAAmB+tD,GACzCtP,EAAOz+C,eAAe,MAAO+tD,GACzBP,GACF/O,EAAOz+C,eAAe,QAASguD,GAEjCxmB,IAEF,SAASwmB,EAAS7gE,GAChBg8D,EAAazxD,KAAK,QAASvK,GAG7B,GAAIsxD,EAAO0O,eAAec,WACxB,OAAOzmB,IAGTiX,EAAO3lD,GAAG,kBAAmBi1D,GAC7BtP,EAAO3lD,GAAG,MAAOi1D,GAEbP,GACF/O,EAAO3lD,GAAG,QAASk1D,GAGrBvP,EAAO2O,KAAKjE,EAAc,CAAEznD,KAAK,IAEjC+8C,EAAO0L,SAGT,IAAK,IAAI3rD,EAAI,EAAGA,EAAI0qD,EAAQzqD,OAAQD,IAClC4uD,EAAKlE,EAAQ1qD,IAGfgpC,IAGF,SAASqmB,IACPP,GAAU,EAEVnE,EAAazxD,KAAK,cACd61D,GACFpE,EAAaznD,MAajB,OATAynD,EAAa+E,gBAAgB,GAC7B/E,EAAahyD,IAAMw2D,EACnBxE,EAAarwD,GAAG,UAAU,SAAU2lD,GAClCA,EAAO/mD,KAAK,sBAGVw5B,EAAKzyB,QACPkvD,EAAUlsD,MAAM,KAAMyvB,GAEjBi4B,I,2BCzHT,MAAM/kB,EAAO,EAAQ,MACf+D,EAAS,EAAQ,MACjBgmB,EAAY,EAAQ,MACpBn7D,EAAQ,EAAQ,MAChBo7D,EAAgBzvD,GAAe,KAARA,GAAsB,OAARA,EAoBrC0pD,EAAa,CAACjlB,EAAM+a,EAAUl9C,KAClCk9C,EAAW,GAAG//C,OAAO+/C,GACrB/a,EAAO,GAAGhlC,OAAOglC,GAEjB,IAAIirB,EAAO,IAAIr3D,IACXs3D,EAAO,IAAIt3D,IACXywD,EAAQ,IAAIzwD,IACZ+0D,EAAY,EAEZwC,EAAW/uB,IACbioB,EAAMtwD,IAAIqoC,EAAM4I,QACZnnC,GAAWA,EAAQstD,UACrBttD,EAAQstD,SAAS/uB,IAIrB,IAAK,IAAIhhC,EAAI,EAAGA,EAAI2/C,EAAS1/C,OAAQD,IAAK,CACxC,IAAIgwD,EAAUL,EAAUv3B,OAAOunB,EAAS3/C,IAAK,IAAKyC,EAASstD,aAAY,GACnEE,EAAUD,EAAQhvB,MAAMivB,SAAWD,EAAQhvB,MAAMkvB,eACjDD,GAAS1C,IAEb,IAAK,IAAI5yD,KAAQiqC,EAAM,CACrB,IAAIurB,EAAUH,EAAQr1D,GAAM,IAEhBs1D,GAAWE,EAAQH,QAAUG,EAAQH,WAG7CC,EACFJ,EAAKl3D,IAAIw3D,EAAQvmB,SAEjBimB,EAAK/vB,OAAOqwB,EAAQvmB,QACpBkmB,EAAKn3D,IAAIw3D,EAAQvmB,WAKvB,IACInf,GADS8iC,IAAc5N,EAAS1/C,OAAS,IAAIgpD,GAAS,IAAI6G,IACzCx0D,QAAOX,IAASk1D,EAAKjwB,IAAIjlC,KAE9C,GAAI8H,GAA8B,IAAnBgoB,EAAQxqB,OAAc,CACnC,IAAyB,IAArBwC,EAAQ2tD,SACV,MAAM,IAAI5gE,MAAM,yBAAyBmwD,EAASpkD,KAAK,UAGzD,IAAuB,IAAnBkH,EAAQ4tD,SAAwC,IAArB5tD,EAAQ6tD,SACrC,OAAO7tD,EAAQ8tD,SAAW5Q,EAAS3qD,KAAI0Q,GAAKA,EAAE2iB,QAAQ,MAAO,MAAOs3B,EAIxE,OAAOl1B,GAOTo/B,EAAW7lC,MAAQ6lC,EAqBnBA,EAAW9G,QAAU,CAAClZ,EAASpnC,IAAYktD,EAAU9lB,EAASpnC,GAyB9DonD,EAAW2G,IANX3G,EAAWmG,QAAU,CAAC/kD,EAAK00C,EAAUl9C,IAAYktD,EAAUhQ,EAAUl9C,EAApBktD,CAA6B1kD,GAyB9E4+C,EAAW4G,IAAM,CAAC7rB,EAAM+a,EAAUl9C,EAAU,MAC1Ck9C,EAAW,GAAG//C,OAAO+/C,GAAU3qD,IAAIojC,QACnC,IAAI3hC,EAAS,IAAI+B,IACbywD,EAAQ,GAORx+B,EAAUo/B,EAAWjlB,EAAM+a,EAAU,IAAKl9C,EAASstD,SALxC/uB,IACTv+B,EAAQstD,UAAUttD,EAAQstD,SAAS/uB,GACvCioB,EAAMzyD,KAAKwqC,EAAM4I,WAKnB,IAAK,IAAIjvC,KAAQsuD,EACVx+B,EAAQ0/B,SAASxvD,IACpBlE,EAAOkC,IAAIgC,GAGf,MAAO,IAAIlE,IAuBbozD,EAAW6G,SAAW,CAACzlD,EAAK4+B,EAASpnC,KACnC,GAAmB,iBAARwI,EACT,MAAM,IAAIk2B,UAAU,uBAAuByE,EAAKoL,QAAQ/lC,OAG1D,GAAIzF,MAAM0jB,QAAQ2gB,GAChB,OAAOA,EAAQ/O,MAAKp1B,GAAKmkD,EAAW6G,SAASzlD,EAAKvF,EAAGjD,KAGvD,GAAuB,iBAAZonC,EAAsB,CAC/B,GAAI+lB,EAAc3kD,IAAQ2kD,EAAc/lB,GACtC,OAAO,EAGT,GAAI5+B,EAAIk/C,SAAStgB,IAAa5+B,EAAIm/C,WAAW,OAASn/C,EAAI2d,MAAM,GAAGuhC,SAAStgB,GAC1E,OAAO,EAIX,OAAOggB,EAAWmG,QAAQ/kD,EAAK4+B,EAAS,IAAKpnC,EAASiuD,UAAU,KAuBlE7G,EAAW8G,UAAY,CAAC73B,EAAK6mB,EAAUl9C,KACrC,IAAKjO,EAAM03D,SAASpzB,GAClB,MAAM,IAAIqI,UAAU,+CAEtB,IAAIh5B,EAAO0hD,EAAW17D,OAAOga,KAAK2wB,GAAM6mB,EAAUl9C,GAC9CkkB,EAAM,GACV,IAAK,IAAIl2B,KAAO0X,EAAMwe,EAAIl2B,GAAOqoC,EAAIroC,GACrC,OAAOk2B,GAsBTkjC,EAAW/uB,KAAO,CAAC8J,EAAM+a,EAAUl9C,KACjC,IAAIwmD,EAAQ,GAAGrpD,OAAOglC,GAEtB,IAAK,IAAIiF,IAAW,GAAGjqC,OAAO+/C,GAAW,CACvC,IAAIqQ,EAAUL,EAAUv3B,OAAOyR,GAAUpnC,GACzC,GAAIwmD,EAAMnuB,MAAKngC,GAAQq1D,EAAQr1D,KAC7B,OAAO,EAGX,OAAO,GA2BTkvD,EAAWhK,MAAQ,CAACjb,EAAM+a,EAAUl9C,KAClC,IAAIwmD,EAAQ,GAAGrpD,OAAOglC,GAEtB,IAAK,IAAIiF,IAAW,GAAGjqC,OAAO+/C,GAAW,CACvC,IAAIqQ,EAAUL,EAAUv3B,OAAOyR,GAAUpnC,GACzC,IAAKwmD,EAAMpJ,OAAMllD,GAAQq1D,EAAQr1D,KAC/B,OAAO,EAGX,OAAO,GA8BTkvD,EAAWpK,IAAM,CAACx0C,EAAK00C,EAAUl9C,KAC/B,GAAmB,iBAARwI,EACT,MAAM,IAAIk2B,UAAU,uBAAuByE,EAAKoL,QAAQ/lC,OAG1D,MAAO,GAAGrL,OAAO+/C,GAAUE,OAAMn6C,GAAKiqD,EAAUjqD,EAAGjD,EAAbktD,CAAsB1kD,MAsB9D4+C,EAAWgD,QAAU,CAAC+D,EAAM53B,EAAOv2B,KACjC,IAAI6kD,EAAQ9yD,EAAMq8D,UAAUpuD,GAExBuhB,EADQ2rC,EAAU7J,OAAO1tB,OAAOw4B,GAAO,IAAKnuD,EAASoqD,SAAS,IAChD3hD,KAAKo8C,EAAQ9yD,EAAMs8D,eAAe93B,GAASA,GAE7D,GAAIhV,EACF,OAAOA,EAAM4E,MAAM,GAAG5zB,KAAImjC,QAAW,IAANA,EAAe,GAAKA,KAoBvD0xB,EAAW/D,OAAS,IAAIpzB,IAASi9B,EAAU7J,UAAUpzB,GAgBrDm3B,EAAWS,KAAO,IAAI53B,IAASi9B,EAAUrF,QAAQ53B,GAgBjDm3B,EAAW/iD,MAAQ,CAAC64C,EAAUl9C,KAC5B,IAAIkkB,EAAM,GACV,IAAK,IAAIkjB,IAAW,GAAGjqC,OAAO+/C,GAAY,IACxC,IAAK,IAAI10C,KAAO0+B,EAAOvR,OAAOyR,GAAUpnC,GACtCkkB,EAAInwB,KAAKm5D,EAAU7oD,MAAMmE,EAAKxI,IAGlC,OAAOkkB,GAoBTkjC,EAAWlgB,OAAS,CAACE,EAASpnC,KAC5B,GAAuB,iBAAZonC,EAAsB,MAAM,IAAI1I,UAAU,qBACrD,OAAK1+B,IAA+B,IAApBA,EAAQqkD,UAAsB,SAASzmD,KAAKwpC,GACnD,CAACA,GAEHF,EAAOE,EAASpnC,IAOzBonD,EAAWkH,YAAc,CAAClnB,EAASpnC,KACjC,GAAuB,iBAAZonC,EAAsB,MAAM,IAAI1I,UAAU,qBACrD,OAAO0oB,EAAWlgB,OAAOE,EAAS,IAAKpnC,EAASinC,QAAQ,KAO1D9sC,EAAOvO,QAAUw7D,G,4BChdjBjtD,EAAOvO,QAAU,EAAjB,O,4BCAA,MAAMyF,EAAO,EAAQ,MAgBfk9D,EAAa,oBAQbC,EAAc,CAClBC,YAjBkB,MAkBlBC,aAjBmB,MAkBnBC,cAjBoB,MAkBpBC,cAjBoB,MAkBpBC,SAjBe,QAkBfC,MAjBY,OAkBZC,WAjBiB,YAkBjBR,aACAS,OAhBa,UAiBbC,QAhBc,eAAqBV,KAiBnCW,aAhBmB,wBAiBnBC,cAhBoB,MAAMZ,KAiB1Ba,aAhBmB,UAiBnBC,KAhBW,SAiBXC,aAxBmB,aA+BfC,EAAgB,IACjBf,EAEHI,cAAe,UACfE,MAhDmB,WAiDnBO,KAAM,aACNd,WAAY,wBACZS,OAAQ,UACRC,QAAS,yCACTC,aAAc,4BACdC,cAAe,4BACfC,aAAc,YACdE,aAAc,gBACdP,WAAY,iBAwBd50D,EAAOvO,QAAU,CACf28C,WAAY,MACZinB,mBAnByB,CACzBC,MAAO,YACPC,MAAO,SACPC,MAAO,cACPC,MAAO,OACPC,MAAO,mBACPC,MAAO,MACPC,MAAO,cACPC,MAAO,MACPC,MAAO,eACPC,MAAO,yCACPC,MAAO,mBACPC,MAAO,MACPC,KAAM,aACNC,OAAQ,aAQRC,gBAAiB,yBACjBC,wBAAyB,4BACzBC,oBAAqB,oBACrBC,4BAA6B,oBAC7BC,2BAA4B,uBAC5BC,uBAAwB,4BAGxBC,aAAc,CACZ,MAAO,IACP,QAAS,KACT,WAAY,MAIdroB,OAAQ,GACRC,OAAQ,GAGRC,iBAAkB,GAClBC,iBAAkB,GAClBC,iBAAkB,GAClBC,iBAAkB,IAElBC,sBAAuB,GACvBC,uBAAwB,GAExBC,cAAe,GAGfC,eAAgB,GAChBC,QAAS,GACT4nB,oBAAqB,GACrBznB,qBAAsB,GACtBC,uBAAwB,GACxBC,WAAY,GACZC,WAAY,GACZE,SAAU,GACVC,kBAAmB,GACnBC,WAAY,GACZC,sBAAuB,GACvBC,eAAgB,GAChBC,mBAAoB,GACpBgnB,kBAAmB,GACnB/mB,UAAW,GACXC,kBAAmB,GACnBC,wBAAyB,GACzBC,sBAAuB,IACvBC,yBAA0B,GAC1BC,eAAgB,GAChBC,oBAAqB,IACrBC,aAAc,GACdC,UAAW,GACXC,mBAAoB,GACpBC,yBAA0B,GAC1BC,uBAAwB,IACxBC,0BAA2B,GAC3BC,eAAgB,GAChBC,kBAAmB,GACnBC,WAAY,GACZC,SAAU,EACVC,gBAAiB,GACjBC,mBAAoB,IACpBC,8BAA+B,MAE/B6lB,IAAK3/D,EAAKmD,IAMVy8D,aAAarF,IACJ,CACL,IAAK,CAAExuC,KAAM,SAAUmvB,KAAM,YAAaI,MAAO,KAAKif,EAAMyD,SAC5D,IAAK,CAAEjyC,KAAM,QAASmvB,KAAM,MAAOI,MAAO,MAC1C,IAAK,CAAEvvB,KAAM,OAAQmvB,KAAM,MAAOI,MAAO,MACzC,IAAK,CAAEvvB,KAAM,OAAQmvB,KAAM,MAAOI,MAAO,MACzC,IAAK,CAAEvvB,KAAM,KAAMmvB,KAAM,MAAOI,MAAO,OAQ3CukB,UAAUC,IACS,IAAVA,EAAiB5B,EAAgBf,I,4BC9K5C,MAAMp5B,EAAY,EAAQ,MACpBrjC,EAAQ,EAAQ,OAMhB,WACJw2C,EAAU,mBACVinB,EAAkB,wBAClBgB,EAAuB,4BACvBE,EAA2B,aAC3BG,GACEz7B,EAMEg8B,EAAc,CAACnhC,EAAMjwB,KACzB,GAAmC,mBAAxBA,EAAQoxD,YACjB,OAAOpxD,EAAQoxD,eAAenhC,EAAMjwB,GAGtCiwB,EAAK+6B,OACL,MAAMn/D,EAAQ,IAAIokC,EAAKn3B,KAAK,QAE5B,IAEE,IAAI0+B,OAAO3rC,GACX,MAAOwlE,GACP,OAAOphC,EAAK19B,KAAImjC,GAAK3jC,EAAMu/D,YAAY57B,KAAI58B,KAAK,MAGlD,OAAOjN,GAOH0lE,EAAc,CAACn0C,EAAMo0C,IAClB,WAAWp0C,OAAUo0C,iBAAoBA,iCAU5CntD,EAAQ,CAACkyB,EAAOv2B,KACpB,GAAqB,iBAAVu2B,EACT,MAAM,IAAImI,UAAU,qBAGtBnI,EAAQs6B,EAAat6B,IAAUA,EAE/B,MAAM0V,EAAO,IAAKjsC,GACZ8N,EAAgC,iBAAnBm+B,EAAKC,UAAyB3+B,KAAKQ,IAAIw6B,EAAY0D,EAAKC,WAAa3D,EAExF,IAAIpU,EAAMoC,EAAM/4B,OAChB,GAAI22B,EAAMrmB,EACR,MAAM,IAAIq+B,YAAY,iBAAiBhY,sCAAwCrmB,KAGjF,MAAM2jD,EAAM,CAAEr0C,KAAM,MAAOvxB,MAAO,GAAIs7C,OAAQ8E,EAAKylB,SAAW,IACxDC,EAAS,CAACF,GAEVrH,EAAUne,EAAKme,QAAU,GAAK,KAC9B+G,EAAQp/D,EAAMq8D,UAAUpuD,GAGxB4xD,EAAiBx8B,EAAU87B,UAAUC,GACrCU,EAAgBz8B,EAAU67B,aAAaW,IAEvC,YACJnD,EAAW,aACXC,EAAY,cACZE,EAAa,SACbC,EAAQ,WACRN,EAAU,OACVS,EAAM,aACNE,EAAY,cACZC,EAAa,MACbL,EAAK,aACLM,EAAY,KACZC,EAAI,aACJC,GACEsC,EAEEhN,EAAW3Y,GACR,IAAIme,UAAgBkF,IAAerjB,EAAKkY,IAAMoK,EAAaE,UAG9DqD,EAAQ7lB,EAAKkY,IAAM,GAAK6K,EACxB+C,EAAa9lB,EAAKkY,IAAM2K,EAAQM,EACtC,IAAI4C,GAAqB,IAAd/lB,EAAKgmB,KAAgBrN,EAAS3Y,GAAQojB,EAE7CpjB,EAAKme,UACP4H,EAAO,IAAIA,MAIa,kBAAf/lB,EAAKwY,QACdxY,EAAKimB,UAAYjmB,EAAKwY,OAGxB,MAAMlmB,EAAQ,CACZhI,QACAziC,OAAQ,EACR4mC,MAAO,EACPypB,KAAkB,IAAblY,EAAKkY,IACVgO,SAAU,GACVhrB,OAAQ,GACRY,OAAQ,GACRqqB,WAAW,EACX5E,SAAS,EACTphB,SAAU,EACVlF,OAAQ,EACRmrB,OAAQ,EACRC,OAAQ,EACR1N,UAAU,EACV+M,UAGFp7B,EAAQxkC,EAAMwgE,aAAah8B,EAAOgI,GAClCpK,EAAMoC,EAAM/4B,OAEZ,MAAMg1D,EAAW,GACXtrB,EAAS,GACT7gB,EAAQ,GACd,IACIx6B,EADAq8C,EAAOupB,EAOX,MAAMgB,EAAM,IAAMl0B,EAAMzqC,QAAUqgC,EAAM,EAClCu+B,EAAOn0B,EAAMm0B,KAAO,CAACnnD,EAAI,IAAMgrB,EAAMgI,EAAMzqC,MAAQyX,GACnD+gC,EAAU/N,EAAM+N,QAAU,IAAM/V,IAAQgI,EAAMzqC,QAAU,GACxD6+D,EAAY,IAAMp8B,EAAMpQ,MAAMoY,EAAMzqC,MAAQ,GAC5C8+D,EAAU,CAAC/mE,EAAQ,GAAImhD,EAAM,KACjCzO,EAAM4zB,UAAYtmE,EAClB0yC,EAAMzqC,OAASk5C,GAGX5B,EAASynB,IACbt0B,EAAM4I,QAA0B,MAAhB0rB,EAAM1rB,OAAiB0rB,EAAM1rB,OAAS0rB,EAAMhnE,MAC5D+mE,EAAQC,EAAMhnE,QAGVinE,EAAS,KACb,IAAIplD,EAAQ,EAEZ,KAAkB,MAAXglD,MAA+B,MAAZA,EAAK,IAA0B,MAAZA,EAAK,KAChDpmB,IACA/N,EAAM7D,QACNhtB,IAGF,OAAIA,EAAQ,GAAM,IAIlB6wB,EAAMivB,SAAU,EAChBjvB,EAAM7D,SACC,IAGHq4B,EAAY31C,IAChBmhB,EAAMnhB,KACNiJ,EAAMtyB,KAAKqpB,IAGP41C,EAAY51C,IAChBmhB,EAAMnhB,KACNiJ,EAAM4b,OAWFluC,EAAOk/D,IACX,GAAkB,aAAd/qB,EAAK9qB,KAAqB,CAC5B,MAAM81C,EAAU30B,EAAM2I,OAAS,IAAmB,UAAb+rB,EAAI71C,MAAiC,UAAb61C,EAAI71C,MAC3DuuC,GAA4B,IAAhBsH,EAAIvO,SAAqB8N,EAASh1D,SAAwB,SAAby1D,EAAI71C,MAAgC,UAAb61C,EAAI71C,MAEzE,UAAb61C,EAAI71C,MAAiC,UAAb61C,EAAI71C,MAAqB81C,GAAYvH,IAC/DptB,EAAM4I,OAAS5I,EAAM4I,OAAOhhB,MAAM,GAAI+hB,EAAKf,OAAO3pC,QAClD0qC,EAAK9qB,KAAO,OACZ8qB,EAAKr8C,MAAQ,IACbq8C,EAAKf,OAAS6qB,EACdzzB,EAAM4I,QAAUe,EAAKf,QASzB,GALIqrB,EAASh1D,QAAuB,UAAby1D,EAAI71C,OACzBo1C,EAASA,EAASh1D,OAAS,GAAG21D,OAASF,EAAIpnE,QAGzConE,EAAIpnE,OAASonE,EAAI9rB,SAAQiE,EAAO6nB,GAChC/qB,GAAsB,SAAdA,EAAK9qB,MAAgC,SAAb61C,EAAI71C,KAGtC,OAFA8qB,EAAKr8C,OAASonE,EAAIpnE,WAClBq8C,EAAKf,QAAUe,EAAKf,QAAU,IAAM8rB,EAAIpnE,OAI1ConE,EAAI/qB,KAAOA,EACXypB,EAAO59D,KAAKk/D,GACZ/qB,EAAO+qB,GAGHG,EAAc,CAACh2C,EAAMvxB,KACzB,MAAMgnE,EAAQ,IAAKhB,EAAchmE,GAAQwnE,WAAY,EAAGF,MAAO,IAE/DN,EAAM3qB,KAAOA,EACb2qB,EAAMR,OAAS9zB,EAAM8zB,OACrBQ,EAAM1rB,OAAS5I,EAAM4I,OACrB,MAAMA,GAAU8E,EAAKme,QAAU,IAAM,IAAMyI,EAAMtmB,KAEjDwmB,EAAU,UACVh/D,EAAK,CAAEqpB,OAAMvxB,QAAOs7C,OAAQ5I,EAAM4I,OAAS,GAAK0nB,IAChD96D,EAAK,CAAEqpB,KAAM,QAASsnC,SAAS,EAAM74D,MAAOygD,IAAWnF,WACvDqrB,EAASz+D,KAAK8+D,IAGVS,EAAeT,IACnB,IACIU,EADApsB,EAAS0rB,EAAMlmB,OAASV,EAAKme,QAAU,IAAM,IAGjD,GAAmB,WAAfyI,EAAMz1C,KAAmB,CAC3B,IAAIo2C,EAAcxB,EAEda,EAAMM,OAASN,EAAMM,MAAM31D,OAAS,GAAKq1D,EAAMM,MAAMzL,SAAS,OAChE8L,EAAc5O,EAAS3Y,KAGrBunB,IAAgBxB,GAAQS,KAAS,QAAQ70D,KAAK+0D,QAChDxrB,EAAS0rB,EAAMlmB,MAAQ,OAAO6mB,KAG5BX,EAAMM,MAAMzL,SAAS,OAAS6L,EAAOZ,MAAgB,eAAe/0D,KAAK21D,KAC3EpsB,EAAS0rB,EAAMlmB,MAAQ,IAAI4mB,KAAQC,MAGb,QAApBX,EAAM3qB,KAAK9qB,OACbmhB,EAAMkvB,gBAAiB,GAI3B15D,EAAK,CAAEqpB,KAAM,QAASsnC,SAAS,EAAM74D,QAAOs7C,WAC5C6rB,EAAU,WAOZ,IAAuB,IAAnB/mB,EAAKwnB,YAAwB,sBAAsB71D,KAAK24B,GAAQ,CAClE,IAAIm9B,GAAc,EAEdvsB,EAAS5Q,EAAM3Q,QAAQ8qC,GAA6B,CAAClzC,EAAGm2C,EAAK/H,EAAOgI,EAAOL,EAAMz/D,IACrE,OAAV8/D,GACFF,GAAc,EACPl2C,GAGK,MAAVo2C,EACED,EACKA,EAAMC,GAASL,EAAOzE,EAAMxe,OAAOijB,EAAK/1D,QAAU,IAE7C,IAAV1J,EACKi+D,GAAcwB,EAAOzE,EAAMxe,OAAOijB,EAAK/1D,QAAU,IAEnDsxD,EAAMxe,OAAOsb,EAAMpuD,QAGd,MAAVo2D,EACKnF,EAAYne,OAAOsb,EAAMpuD,QAGpB,MAAVo2D,EACED,EACKA,EAAMC,GAASL,EAAOvB,EAAO,IAE/BA,EAEF2B,EAAMn2C,EAAI,KAAKA,MAaxB,OAVoB,IAAhBk2C,IAEAvsB,GADoB,IAAlB8E,EAAK6hB,SACE3mB,EAAOvhB,QAAQ,MAAO,IAEtBuhB,EAAOvhB,QAAQ,QAAQpI,GACvBA,EAAEhgB,OAAS,GAAM,EAAI,OAAUggB,EAAI,KAAO,MAKnD2pB,IAAW5Q,IAA2B,IAAlB0V,EAAKgiB,UAC3B1vB,EAAM4I,OAAS5Q,EACRgI,IAGTA,EAAM4I,OAASp1C,EAAM8hE,WAAW1sB,EAAQ5I,EAAOv+B,GACxCu+B,GAOT,MAAQk0B,KAAO,CAGb,GAFA5mE,EAAQygD,IAEM,OAAVzgD,EACF,SAOF,GAAc,OAAVA,EAAgB,CAClB,MAAM06C,EAAOmsB,IAEb,GAAa,MAATnsB,IAA8B,IAAd0F,EAAKgmB,KACvB,SAGF,GAAa,MAAT1rB,GAAyB,MAATA,EAClB,SAGF,IAAKA,EAAM,CACT16C,GAAS,KACTkI,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,SAIF,MAAM01B,EAAQ,OAAO9Y,KAAKkqD,KAC1B,IAAImB,EAAU,EAgBd,GAdIvyC,GAASA,EAAM,GAAG/jB,OAAS,IAC7Bs2D,EAAUvyC,EAAM,GAAG/jB,OACnB+gC,EAAMzqC,OAASggE,EACXA,EAAU,GAAM,IAClBjoE,GAAS,QAIS,IAAlBogD,EAAK6hB,SACPjiE,EAAQygD,IAERzgD,GAASygD,IAGY,IAAnB/N,EAAM6N,SAAgB,CACxBr4C,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,UASJ,GAAI0yC,EAAM6N,SAAW,IAAgB,MAAVvgD,GAAgC,MAAfq8C,EAAKr8C,OAAgC,OAAfq8C,EAAKr8C,OAAiB,CACtF,IAAmB,IAAfogD,EAAK4Y,OAA6B,MAAVh5D,EAAe,CACzC,MAAMsnE,EAAQjrB,EAAKr8C,MAAMs6B,MAAM,GAC/B,GAAIgtC,EAAMzL,SAAS,OACjBxf,EAAK2c,OAAQ,EAETsO,EAAMzL,SAAS,MAAM,CACvB,MAAMqE,EAAM7jB,EAAKr8C,MAAMyqB,YAAY,KAC7B4mB,EAAMgL,EAAKr8C,MAAMs6B,MAAM,EAAG4lC,GAC1BwH,EAAOrrB,EAAKr8C,MAAMs6B,MAAM4lC,EAAM,GAC9BlH,EAAQ2K,EAAmB+D,GACjC,GAAI1O,EAAO,CACT3c,EAAKr8C,MAAQqxC,EAAM2nB,EACnBtmB,EAAM6zB,WAAY,EAClB9lB,IAEKmlB,EAAItqB,QAAmC,IAAzBwqB,EAAOr6C,QAAQ4wB,KAChCupB,EAAItqB,OAAS0nB,GAEf,YAMO,MAAVhjE,GAA4B,MAAX6mE,KAA8B,MAAV7mE,GAA4B,MAAX6mE,OACzD7mE,EAAQ,KAAKA,KAGD,MAAVA,GAAiC,MAAfq8C,EAAKr8C,OAAgC,OAAfq8C,EAAKr8C,QAC/CA,EAAQ,KAAKA,MAGI,IAAfogD,EAAK4Y,OAA4B,MAAVh5D,GAAgC,MAAfq8C,EAAKr8C,QAC/CA,EAAQ,KAGVq8C,EAAKr8C,OAASA,EACdu/C,EAAO,CAAEv/C,UACT,SAQF,GAAqB,IAAjB0yC,EAAM+zB,QAA0B,MAAVzmE,EAAe,CACvCA,EAAQkG,EAAMu/D,YAAYzlE,GAC1Bq8C,EAAKr8C,OAASA,EACdu/C,EAAO,CAAEv/C,UACT,SAOF,GAAc,MAAVA,EAAe,CACjB0yC,EAAM+zB,OAA0B,IAAjB/zB,EAAM+zB,OAAe,EAAI,GAChB,IAApBrmB,EAAKW,YACP74C,EAAK,CAAEqpB,KAAM,OAAQvxB,UAEvB,SAOF,GAAc,MAAVA,EAAe,CACjBknE,EAAU,UACVh/D,EAAK,CAAEqpB,KAAM,QAASvxB,UACtB,SAGF,GAAc,MAAVA,EAAe,CACjB,GAAqB,IAAjB0yC,EAAM8zB,SAAwC,IAAxBpmB,EAAK8nB,eAC7B,MAAM,IAAI5nB,YAAYolB,EAAY,UAAW,MAG/C,MAAM7M,EAAU8N,EAASA,EAASh1D,OAAS,GAC3C,GAAIknD,GAAWnmB,EAAM8zB,SAAW3N,EAAQ2N,OAAS,EAAG,CAClDiB,EAAad,EAASvwB,OACtB,SAGFluC,EAAK,CAAEqpB,KAAM,QAASvxB,QAAOs7C,OAAQ5I,EAAM8zB,OAAS,IAAM,QAC1DW,EAAU,UACV,SAOF,GAAc,MAAVnnE,EAAe,CACjB,IAAuB,IAAnBogD,EAAK+nB,WAAuBrB,IAAYjL,SAAS,KAOnDqL,EAAU,gBAP+C,CACzD,IAAuB,IAAnB9mB,EAAK+nB,YAA8C,IAAxB/nB,EAAK8nB,eAClC,MAAM,IAAI5nB,YAAYolB,EAAY,UAAW,MAG/C1lE,EAAQ,KAAKA,IAKfkI,EAAK,CAAEqpB,KAAM,UAAWvxB,UACxB,SAGF,GAAc,MAAVA,EAAe,CACjB,IAAuB,IAAnBogD,EAAK+nB,WAAuB9rB,GAAsB,YAAdA,EAAK9qB,MAA4C,IAAtB8qB,EAAKr8C,MAAM2R,OAAe,CAC3FzJ,EAAK,CAAEqpB,KAAM,OAAQvxB,QAAOs7C,OAAQ,KAAKt7C,MACzC,SAGF,GAAuB,IAAnB0yC,EAAM6N,SAAgB,CACxB,IAA4B,IAAxBH,EAAK8nB,eACP,MAAM,IAAI5nB,YAAYolB,EAAY,UAAW,MAG/Cx9D,EAAK,CAAEqpB,KAAM,OAAQvxB,QAAOs7C,OAAQ,KAAKt7C,MACzC,SAGFmnE,EAAU,YAEV,MAAMiB,EAAY/rB,EAAKr8C,MAAMs6B,MAAM,GAUnC,IATmB,IAAf+hB,EAAK2c,OAAmC,MAAjBoP,EAAU,IAAeA,EAAUvM,SAAS,OACrE77D,EAAQ,IAAIA,KAGdq8C,EAAKr8C,OAASA,EACdu/C,EAAO,CAAEv/C,WAIoB,IAAzBogD,EAAKioB,iBAA6BniE,EAAMoiE,cAAcF,GACxD,SAGF,MAAM7mB,EAAUr7C,EAAMu/D,YAAYppB,EAAKr8C,OAKvC,GAJA0yC,EAAM4I,OAAS5I,EAAM4I,OAAOhhB,MAAM,GAAI+hB,EAAKr8C,MAAM2R,SAIpB,IAAzByuC,EAAKioB,gBAA0B,CACjC31B,EAAM4I,QAAUiG,EAChBlF,EAAKr8C,MAAQuhD,EACb,SAIFlF,EAAKr8C,MAAQ,IAAIu+D,IAAUhd,KAAWlF,EAAKr8C,SAC3C0yC,EAAM4I,QAAUe,EAAKr8C,MACrB,SAOF,GAAc,MAAVA,IAAkC,IAAjBogD,EAAKoY,QAAkB,CAC1C0O,EAAU,UAEV,MAAMxmB,EAAO,CACXnvB,KAAM,QACNvxB,QACAs7C,OAAQ,IACRitB,YAAa71B,EAAM4I,OAAO3pC,OAC1B62D,YAAa91B,EAAMozB,OAAOn0D,QAG5B0pC,EAAOnzC,KAAKw4C,GACZx4C,EAAKw4C,GACL,SAGF,GAAc,MAAV1gD,EAAe,CACjB,MAAMyoE,EAAQptB,EAAOA,EAAO1pC,OAAS,GAErC,IAAqB,IAAjByuC,EAAKoY,UAAqBiQ,EAAO,CACnCvgE,EAAK,CAAEqpB,KAAM,OAAQvxB,QAAOs7C,OAAQt7C,IACpC,SAGF,IAAIs7C,EAAS,IAEb,IAAmB,IAAfmtB,EAAMC,KAAe,CACvB,MAAMhnB,EAAMokB,EAAOxrC,QACbkiB,EAAQ,GAEd,IAAK,IAAI9qC,EAAIgwC,EAAI/vC,OAAS,EAAGD,GAAK,IAChCo0D,EAAO1vB,MACa,UAAhBsL,EAAIhwC,GAAG6f,MAFwB7f,IAKf,SAAhBgwC,EAAIhwC,GAAG6f,MACTirB,EAAMyf,QAAQva,EAAIhwC,GAAG1R,OAIzBs7C,EAASiqB,EAAY/oB,EAAO4D,GAC5B1N,EAAM6zB,WAAY,EAGpB,IAAoB,IAAhBkC,EAAME,QAAiC,IAAfF,EAAMC,KAAe,CAC/C,MAAME,EAAMl2B,EAAM4I,OAAOhhB,MAAM,EAAGmuC,EAAMF,aAClCM,EAAOn2B,EAAMozB,OAAOxrC,MAAMmuC,EAAMD,aACtCC,EAAMzoE,MAAQyoE,EAAMntB,OAAS,MAC7Bt7C,EAAQs7C,EAAS,MACjB5I,EAAM4I,OAASstB,EACf,IAAK,MAAMppD,KAAKqpD,EACdn2B,EAAM4I,QAAW97B,EAAE87B,QAAU97B,EAAExf,MAInCkI,EAAK,CAAEqpB,KAAM,QAASvxB,QAAOs7C,WAC7B6rB,EAAU,UACV9rB,EAAOjF,MACP,SAOF,GAAc,MAAVp2C,EAAe,CACb2mE,EAASh1D,OAAS,GACpBg1D,EAASA,EAASh1D,OAAS,GAAG61D,aAEhCt/D,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,SAOF,GAAc,MAAVA,EAAe,CACjB,IAAIs7C,EAASt7C,EAEb,MAAMyoE,EAAQptB,EAAOA,EAAO1pC,OAAS,GACjC82D,GAAqC,WAA5BjuC,EAAMA,EAAM7oB,OAAS,KAChC82D,EAAME,OAAQ,EACdrtB,EAAS,KAGXpzC,EAAK,CAAEqpB,KAAM,QAASvxB,QAAOs7C,WAC7B,SAOF,GAAc,MAAVt7C,EAAe,CAKjB,GAAkB,QAAdq8C,EAAK9qB,MAAkBmhB,EAAMzqC,QAAUyqC,EAAM7D,MAAQ,EAAG,CAC1D6D,EAAM7D,MAAQ6D,EAAMzqC,MAAQ,EAC5ByqC,EAAM4zB,SAAW,GACjB5zB,EAAM4I,OAAS,GACfwqB,EAAO1vB,MACPiG,EAAOupB,EACP,SAGF19D,EAAK,CAAEqpB,KAAM,QAASvxB,QAAOs7C,OAAQynB,IACrC,SAOF,GAAc,MAAV/iE,EAAe,CACjB,GAAI0yC,EAAM2I,OAAS,GAAmB,QAAdgB,EAAK9qB,KAAgB,CACxB,MAAf8qB,EAAKr8C,QAAeq8C,EAAKf,OAASsnB,GACtC,MAAM6F,EAAQptB,EAAOA,EAAO1pC,OAAS,GACrC0qC,EAAK9qB,KAAO,OACZ8qB,EAAKf,QAAUt7C,EACfq8C,EAAKr8C,OAASA,EACdyoE,EAAMC,MAAO,EACb,SAGF,GAAKh2B,EAAM2I,OAAS3I,EAAM8zB,SAAY,GAAmB,QAAdnqB,EAAK9qB,MAAgC,UAAd8qB,EAAK9qB,KAAkB,CACvFrpB,EAAK,CAAEqpB,KAAM,OAAQvxB,QAAOs7C,OAAQsnB,IACpC,SAGF16D,EAAK,CAAEqpB,KAAM,MAAOvxB,QAAOs7C,OAAQsnB,IACnC,SAOF,GAAc,MAAV5iE,EAAe,CAEjB,KADgBq8C,GAAuB,MAAfA,EAAKr8C,SACM,IAAnBogD,EAAKimB,WAAiC,MAAXQ,KAA8B,MAAZA,EAAK,GAAY,CAC5EU,EAAY,QAASvnE,GACrB,SAGF,GAAIq8C,GAAsB,UAAdA,EAAK9qB,KAAkB,CACjC,MAAMmpB,EAAOmsB,IACb,IAAIvrB,EAASt7C,EAEb,GAAa,MAAT06C,IAAiBx0C,EAAM4iE,sBACzB,MAAM,IAAI5nE,MAAM,4DAGE,MAAfm7C,EAAKr8C,QAAkB,SAAS+R,KAAK2oC,IAAoB,MAATA,IAAiB,eAAe3oC,KAAK+0D,QACxFxrB,EAAS,KAAKt7C,KAGhBkI,EAAK,CAAEqpB,KAAM,OAAQvxB,QAAOs7C,WAC5B,SAGF,IAAiB,IAAb8E,EAAKkY,MAA+B,UAAdjc,EAAK9qB,MAAkC,QAAd8qB,EAAK9qB,MAAiB,CACvErpB,EAAK,CAAEqpB,KAAM,QAASvxB,QAAOs7C,OAAQioB,IACrC,SAGFr7D,EAAK,CAAEqpB,KAAM,QAASvxB,QAAOs7C,OAAQ2nB,IACrC,SAOF,GAAc,MAAVjjE,EAAe,CACjB,IAAuB,IAAnBogD,EAAKimB,WAAiC,MAAXQ,MACb,MAAZA,EAAK,KAAe,SAAS90D,KAAK80D,EAAK,KAAK,CAC9CU,EAAY,SAAUvnE,GACtB,SAIJ,IAAsB,IAAlBogD,EAAK2oB,UAAqC,IAAhBr2B,EAAMzqC,MAAa,CAC/Cg/D,IACA,UAQJ,GAAc,MAAVjnE,EAAe,CACjB,IAAuB,IAAnBogD,EAAKimB,WAAiC,MAAXQ,KAA8B,MAAZA,EAAK,GAAY,CAChEU,EAAY,OAAQvnE,GACpB,SAGF,GAAKq8C,GAAuB,MAAfA,EAAKr8C,QAAiC,IAAfogD,EAAK7kB,MAAiB,CACxDrzB,EAAK,CAAEqpB,KAAM,OAAQvxB,QAAOs7C,OAAQunB,IACpC,SAGF,GAAKxmB,IAAuB,YAAdA,EAAK9qB,MAAoC,UAAd8qB,EAAK9qB,MAAkC,UAAd8qB,EAAK9qB,OAAsBmhB,EAAM8zB,OAAS,EAAG,CAC7Gt+D,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,SAGFkI,EAAK,CAAEqpB,KAAM,OAAQvxB,MAAO6iE,IAC5B,SAOF,GAAc,MAAV7iE,EAAe,CACjB,IAAuB,IAAnBogD,EAAKimB,WAAiC,MAAXQ,KAA8B,MAAZA,EAAK,GAAY,CAChE3+D,EAAK,CAAEqpB,KAAM,KAAMsnC,SAAS,EAAM74D,QAAOs7C,OAAQ,KACjD,SAGFpzC,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,SAOF,GAAc,MAAVA,EAAe,CACH,MAAVA,GAA2B,MAAVA,IACnBA,EAAQ,KAAKA,KAGf,MAAM01B,EAAQivC,EAAwB/nD,KAAKkqD,KACvCpxC,IACF11B,GAAS01B,EAAM,GACfgd,EAAMzqC,OAASytB,EAAM,GAAG/jB,QAG1BzJ,EAAK,CAAEqpB,KAAM,OAAQvxB,UACrB,SAOF,GAAIq8C,IAAuB,aAAdA,EAAK9qB,OAAqC,IAAd8qB,EAAK8pB,MAAgB,CAC5D9pB,EAAK9qB,KAAO,OACZ8qB,EAAK8pB,MAAO,EACZ9pB,EAAKr8C,OAASA,EACdq8C,EAAKf,OAAS6qB,EACdzzB,EAAM6zB,WAAY,EAClB7zB,EAAMqmB,UAAW,EACjBgO,EAAQ/mE,GACR,SAGF,IAAI0nE,EAAOZ,IACX,IAAuB,IAAnB1mB,EAAKimB,WAAsB,UAAUt0D,KAAK21D,GAAO,CACnDH,EAAY,OAAQvnE,GACpB,SAGF,GAAkB,SAAdq8C,EAAK9qB,KAAiB,CACxB,IAAwB,IAApB6uB,EAAK0Y,WAAqB,CAC5BiO,EAAQ/mE,GACR,SAGF,MAAMgpE,EAAQ3sB,EAAKA,KACb9F,EAASyyB,EAAM3sB,KACf4sB,EAAyB,UAAfD,EAAMz3C,MAAmC,QAAfy3C,EAAMz3C,KAC1C23C,EAAY3yB,IAA2B,SAAhBA,EAAOhlB,MAAmC,aAAhBglB,EAAOhlB,MAE9D,IAAkB,IAAd6uB,EAAKgmB,QAAmB6C,GAAYvB,EAAK,IAAkB,MAAZA,EAAK,IAAc,CACpEx/D,EAAK,CAAEqpB,KAAM,OAAQvxB,QAAOs7C,OAAQ,KACpC,SAGF,MAAM+rB,EAAU30B,EAAM2I,OAAS,IAAqB,UAAf2tB,EAAMz3C,MAAmC,UAAfy3C,EAAMz3C,MAC/DuuC,EAAY6G,EAASh1D,SAA0B,SAAfq3D,EAAMz3C,MAAkC,UAAfy3C,EAAMz3C,MACrE,IAAK03C,GAA0B,UAAfD,EAAMz3C,OAAqB81C,IAAYvH,EAAW,CAChE53D,EAAK,CAAEqpB,KAAM,OAAQvxB,QAAOs7C,OAAQ,KACpC,SAIF,KAA4B,QAArBosB,EAAKptC,MAAM,EAAG,IAAc,CACjC,MAAMkc,EAAQ9L,EAAMgI,EAAMzqC,MAAQ,GAClC,GAAIuuC,GAAmB,MAAVA,EACX,MAEFkxB,EAAOA,EAAKptC,MAAM,GAClBysC,EAAQ,MAAO,GAGjB,GAAmB,QAAfiC,EAAMz3C,MAAkBq1C,IAAO,CACjCvqB,EAAK9qB,KAAO,WACZ8qB,EAAKr8C,OAASA,EACdq8C,EAAKf,OAASyd,EAAS3Y,GACvB1N,EAAM4I,OAASe,EAAKf,OACpB5I,EAAMqmB,UAAW,EACjBgO,EAAQ/mE,GACR,SAGF,GAAmB,UAAfgpE,EAAMz3C,MAAwC,QAApBy3C,EAAM3sB,KAAK9qB,OAAmB23C,GAAatC,IAAO,CAC9El0B,EAAM4I,OAAS5I,EAAM4I,OAAOhhB,MAAM,IAAK0uC,EAAM1tB,OAASe,EAAKf,QAAQ3pC,QACnEq3D,EAAM1tB,OAAS,MAAM0tB,EAAM1tB,SAE3Be,EAAK9qB,KAAO,WACZ8qB,EAAKf,OAASyd,EAAS3Y,IAASA,EAAK6Y,cAAgB,IAAM,OAC3D5c,EAAKr8C,OAASA,EACd0yC,EAAMqmB,UAAW,EACjBrmB,EAAM4I,QAAU0tB,EAAM1tB,OAASe,EAAKf,OACpCyrB,EAAQ/mE,GACR,SAGF,GAAmB,UAAfgpE,EAAMz3C,MAAwC,QAApBy3C,EAAM3sB,KAAK9qB,MAA8B,MAAZm2C,EAAK,GAAY,CAC1E,MAAM9yD,OAAkB,IAAZ8yD,EAAK,GAAgB,KAAO,GAExCh1B,EAAM4I,OAAS5I,EAAM4I,OAAOhhB,MAAM,IAAK0uC,EAAM1tB,OAASe,EAAKf,QAAQ3pC,QACnEq3D,EAAM1tB,OAAS,MAAM0tB,EAAM1tB,SAE3Be,EAAK9qB,KAAO,WACZ8qB,EAAKf,OAAS,GAAGyd,EAAS3Y,KAAQ2iB,KAAiBA,IAAgBnuD,KACnEynC,EAAKr8C,OAASA,EAEd0yC,EAAM4I,QAAU0tB,EAAM1tB,OAASe,EAAKf,OACpC5I,EAAMqmB,UAAW,EAEjBgO,EAAQ/mE,EAAQygD,KAEhBv4C,EAAK,CAAEqpB,KAAM,QAASvxB,MAAO,IAAKs7C,OAAQ,KAC1C,SAGF,GAAmB,QAAf0tB,EAAMz3C,MAA8B,MAAZm2C,EAAK,GAAY,CAC3CrrB,EAAK9qB,KAAO,WACZ8qB,EAAKr8C,OAASA,EACdq8C,EAAKf,OAAS,QAAQynB,KAAiBhK,EAAS3Y,KAAQ2iB,KACxDrwB,EAAM4I,OAASe,EAAKf,OACpB5I,EAAMqmB,UAAW,EACjBgO,EAAQ/mE,EAAQygD,KAChBv4C,EAAK,CAAEqpB,KAAM,QAASvxB,MAAO,IAAKs7C,OAAQ,KAC1C,SAIF5I,EAAM4I,OAAS5I,EAAM4I,OAAOhhB,MAAM,GAAI+hB,EAAKf,OAAO3pC,QAGlD0qC,EAAK9qB,KAAO,WACZ8qB,EAAKf,OAASyd,EAAS3Y,GACvB/D,EAAKr8C,OAASA,EAGd0yC,EAAM4I,QAAUe,EAAKf,OACrB5I,EAAMqmB,UAAW,EACjBgO,EAAQ/mE,GACR,SAGF,MAAMgnE,EAAQ,CAAEz1C,KAAM,OAAQvxB,QAAOs7C,OAAQ6qB,IAE3B,IAAd/lB,EAAKgmB,MASL/pB,GAAuB,YAAdA,EAAK9qB,MAAoC,UAAd8qB,EAAK9qB,OAAoC,IAAf6uB,EAAK7kB,OAMnEmX,EAAMzqC,QAAUyqC,EAAM7D,OAAuB,UAAdwN,EAAK9qB,MAAkC,QAAd8qB,EAAK9qB,OAC7C,QAAd8qB,EAAK9qB,MACPmhB,EAAM4I,QAAU+nB,EAChBhnB,EAAKf,QAAU+nB,IAEO,IAAbjjB,EAAKkY,KACd5lB,EAAM4I,QAAUgoB,EAChBjnB,EAAKf,QAAUgoB,IAGf5wB,EAAM4I,QAAU2qB,EAChB5pB,EAAKf,QAAU2qB,GAGF,MAAXY,MACFn0B,EAAM4I,QAAU0nB,EAChB3mB,EAAKf,QAAU0nB,IAInB96D,EAAK8+D,KAzBHA,EAAM1rB,OAASt7C,EACfkI,EAAK8+D,KAVLA,EAAM1rB,OAAS,MACG,QAAde,EAAK9qB,MAAgC,UAAd8qB,EAAK9qB,OAC9By1C,EAAM1rB,OAAS2qB,EAAQe,EAAM1rB,QAE/BpzC,EAAK8+D,IAiCT,KAAOt0B,EAAM6N,SAAW,GAAG,CACzB,IAA4B,IAAxBH,EAAK8nB,eAAyB,MAAM,IAAI5nB,YAAYolB,EAAY,UAAW,MAC/EhzB,EAAM4I,OAASp1C,EAAMijE,WAAWz2B,EAAM4I,OAAQ,KAC9C6rB,EAAU,YAGZ,KAAOz0B,EAAM8zB,OAAS,GAAG,CACvB,IAA4B,IAAxBpmB,EAAK8nB,eAAyB,MAAM,IAAI5nB,YAAYolB,EAAY,UAAW,MAC/EhzB,EAAM4I,OAASp1C,EAAMijE,WAAWz2B,EAAM4I,OAAQ,KAC9C6rB,EAAU,UAGZ,KAAOz0B,EAAM2I,OAAS,GAAG,CACvB,IAA4B,IAAxB+E,EAAK8nB,eAAyB,MAAM,IAAI5nB,YAAYolB,EAAY,UAAW,MAC/EhzB,EAAM4I,OAASp1C,EAAMijE,WAAWz2B,EAAM4I,OAAQ,KAC9C6rB,EAAU,UAQZ,IAL2B,IAAvB/mB,EAAK6Y,eAAyC,SAAd5c,EAAK9qB,MAAiC,YAAd8qB,EAAK9qB,MAC/DrpB,EAAK,CAAEqpB,KAAM,cAAevxB,MAAO,GAAIs7C,OAAQ,GAAGynB,QAI5B,IAApBrwB,EAAM6zB,UAAoB,CAC5B7zB,EAAM4I,OAAS,GAEf,IAAK,MAAM0rB,KAASt0B,EAAMozB,OACxBpzB,EAAM4I,QAA0B,MAAhB0rB,EAAM1rB,OAAiB0rB,EAAM1rB,OAAS0rB,EAAMhnE,MAExDgnE,EAAMxuC,SACRka,EAAM4I,QAAU0rB,EAAMxuC,QAK5B,OAAOka,GASTl6B,EAAMovD,UAAY,CAACl9B,EAAOv2B,KACxB,MAAMisC,EAAO,IAAKjsC,GACZ8N,EAAgC,iBAAnBm+B,EAAKC,UAAyB3+B,KAAKQ,IAAIw6B,EAAY0D,EAAKC,WAAa3D,EAClFpU,EAAMoC,EAAM/4B,OAClB,GAAI22B,EAAMrmB,EACR,MAAM,IAAIq+B,YAAY,iBAAiBhY,sCAAwCrmB,KAGjFyoB,EAAQs6B,EAAat6B,IAAUA,EAC/B,MAAM46B,EAAQp/D,EAAMq8D,UAAUpuD,IAGxB,YACJyuD,EAAW,cACXG,EAAa,SACbC,EAAQ,WACRN,EAAU,OACVS,EAAM,QACNC,EAAO,cACPE,EAAa,KACbE,EAAI,aACJC,GACEl6B,EAAU87B,UAAUC,GAElBW,EAAQ7lB,EAAKkY,IAAM8K,EAAUD,EAC7BiG,EAAWhpB,EAAKkY,IAAMgL,EAAgBH,EACtC5E,EAAUne,EAAKme,QAAU,GAAK,KAEpC,IAAI4H,GAAqB,IAAd/lB,EAAKgmB,KAAgB,MAAQ5C,EAEpCpjB,EAAKme,UACP4H,EAAO,IAAIA,MAGb,MAAMpN,EAAW3Y,IACS,IAApBA,EAAK0Y,WAA4BqN,EAC9B,IAAI5H,UAAgBkF,IAAerjB,EAAKkY,IAAMoK,EAAaE,UAG9DrrD,EAASoF,IACb,OAAQA,GACN,IAAK,IACH,MAAO,GAAGspD,IAAQjD,IAAWmD,IAE/B,IAAK,KACH,MAAO,GAAGvD,IAAcI,IAAWmD,IAErC,IAAK,MACH,MAAO,GAAGF,IAAQE,IAAOvD,IAAcI,IAAWmD,IAEpD,IAAK,MACH,MAAO,GAAGF,IAAQE,IAAOpD,IAAgBC,IAAWoG,IAAWjD,IAEjE,IAAK,KACH,OAAOF,EAAQlN,EAAS3Y,GAE1B,IAAK,OACH,MAAO,MAAM6lB,IAAQlN,EAAS3Y,KAAQ2iB,MAAkBqG,IAAWpG,IAAWmD,IAEhF,IAAK,SACH,MAAO,MAAMF,IAAQlN,EAAS3Y,KAAQ2iB,MAAkBqG,IAAWjD,IAAOvD,IAAcI,IAAWmD,IAErG,IAAK,QACH,MAAO,MAAMF,IAAQlN,EAAS3Y,KAAQ2iB,MAAkBH,IAAcI,IAAWmD,IAEnF,QAAS,CACP,MAAMzwC,EAAQ,iBAAiB9Y,KAAKD,GACpC,IAAK+Y,EAAO,OAEZ,MAAM/yB,EAAS4U,EAAOme,EAAM,IAC5B,IAAK/yB,EAAQ,OAEb,OAAOA,EAASigE,EAAcltC,EAAM,MAKpC4lB,EAASp1C,EAAMwgE,aAAah8B,EAlDpB,CAAEi3B,SAAS,EAAOzlB,OAAQ,KAmDxC,IAAIv5C,EAAS4U,EAAO+jC,GAMpB,OAJI34C,IAAiC,IAAvBy9C,EAAK6Y,gBACjBt2D,GAAU,GAAGogE,MAGRpgE,GAGT2L,EAAOvO,QAAUyY,G,4BCzjCjB,MAAMhT,EAAO,EAAQ,MACfw2D,EAAO,EAAQ,MACfxjD,EAAQ,EAAQ,MAChBtS,EAAQ,EAAQ,MAChBqjC,EAAY,EAAQ,MAyBpB83B,EAAY,CAACiB,EAAMnuD,EAASk1D,GAAc,KAC9C,GAAInyD,MAAM0jB,QAAQ0nC,GAAO,CACvB,MAAMgH,EAAMhH,EAAK57D,KAAIgkC,GAAS22B,EAAU32B,EAAOv2B,EAASk1D,KAQxD,OAPqB1sD,IACnB,IAAK,MAAM+kD,KAAW4H,EAAK,CACzB,MAAM52B,EAAQgvB,EAAQ/kD,GACtB,GAAI+1B,EAAO,OAAOA,EAEpB,OAAO,GAKX,MAAM62B,GArCS13D,EAqCUywD,IArCmB,iBAARzwD,IAAqBqF,MAAM0jB,QAAQ/oB,IAqCrCywD,EAAKwD,QAAUxD,EAAK53B,MArCvC74B,MAuCf,GAAa,KAATywD,GAAgC,iBAATA,IAAsBiH,EAC/C,MAAM,IAAI12B,UAAU,6CAGtB,MAAMuN,EAAOjsC,GAAW,GAClB6kD,EAAQ9yD,EAAMq8D,UAAUpuD,GACxBonB,EAAQguC,EACVlI,EAAUmI,UAAUlH,EAAMnuD,GAC1BktD,EAAU7J,OAAO8K,EAAMnuD,GAAS,GAAO,GAErCu+B,EAAQnX,EAAMmX,aACbnX,EAAMmX,MAEb,IAAI+2B,EAAY,KAAM,EACtB,GAAIrpB,EAAK4S,OAAQ,CACf,MAAM0W,EAAa,IAAKv1D,EAAS6+C,OAAQ,KAAM2W,QAAS,KAAMlI,SAAU,MACxEgI,EAAYpI,EAAUjhB,EAAK4S,OAAQ0W,EAAYL,GAGjD,MAAM5U,EAAU,CAAC/pB,EAAOk/B,GAAe,KACrC,MAAM,QAAElI,EAAO,MAAEhsC,EAAK,OAAE4lB,GAAW+lB,EAAUtvD,KAAK24B,EAAOnP,EAAOpnB,EAAS,CAAEmuD,OAAMtJ,UAC3E7wD,EAAS,CAAEm6D,OAAM5vB,QAAOnX,QAAOy9B,QAAOtuB,QAAO4Q,SAAQ5lB,QAAOgsC,WAMlE,MAJ6B,mBAAlBthB,EAAKqhB,UACdrhB,EAAKqhB,SAASt5D,IAGA,IAAZu5D,GACFv5D,EAAOu5D,SAAU,IACVkI,GAAezhE,GAGpBshE,EAAU/+B,IACiB,mBAAlB0V,EAAKypB,UACdzpB,EAAKypB,SAAS1hE,GAEhBA,EAAOu5D,SAAU,IACVkI,GAAezhE,IAGI,mBAAjBi4C,EAAKupB,SACdvpB,EAAKupB,QAAQxhE,IAERyhE,GAAezhE,IAOxB,OAJIkhE,IACF5U,EAAQ/hB,MAAQA,GAGX+hB,GAoBT4M,EAAUtvD,KAAO,CAAC24B,EAAOnP,EAAOpnB,GAAWmuD,OAAMtJ,SAAU,MACzD,GAAqB,iBAAVtuB,EACT,MAAM,IAAImI,UAAU,iCAGtB,GAAc,KAAVnI,EACF,MAAO,CAAEg3B,SAAS,EAAOpmB,OAAQ,IAGnC,MAAM8E,EAAOjsC,GAAW,GAClB+F,EAASkmC,EAAKlmC,SAAW8+C,EAAQ9yD,EAAMs8D,eAAiB,MAC9D,IAAI9sC,EAAQgV,IAAU43B,EAClBhnB,EAAU5lB,GAASxb,EAAUA,EAAOwwB,GAASA,EAejD,OAbc,IAAVhV,IACF4lB,EAASphC,EAASA,EAAOwwB,GAASA,EAClChV,EAAQ4lB,IAAWgnB,IAGP,IAAV5sC,IAAoC,IAAjB0qB,EAAKme,UAExB7oC,GADqB,IAAnB0qB,EAAKmY,YAAwC,IAAlBnY,EAAKzZ,SAC1B06B,EAAU9I,UAAU7tB,EAAOnP,EAAOpnB,EAAS6kD,GAE3Cz9B,EAAM3e,KAAK0+B,IAIhB,CAAEomB,QAAS14B,QAAQtT,GAAQA,QAAO4lB,WAiB3C+lB,EAAU9I,UAAY,CAAC7tB,EAAO43B,EAAMnuD,EAAS6kD,EAAQ9yD,EAAMq8D,UAAUpuD,MACrDmuD,aAAgB32B,OAAS22B,EAAOjB,EAAU7J,OAAO8K,EAAMnuD,IACxDpC,KAAKvM,EAAKmhC,SAAS+D,IAoBlC22B,EAAUK,QAAU,CAAC/kD,EAAK00C,EAAUl9C,IAAYktD,EAAUhQ,EAAUl9C,EAApBktD,CAA6B1kD,GAgB7E0kD,EAAU7oD,MAAQ,CAAC+iC,EAASpnC,IACtB+C,MAAM0jB,QAAQ2gB,GAAiBA,EAAQ70C,KAAI0Q,GAAKiqD,EAAU7oD,MAAMpB,EAAGjD,KAChEqE,EAAM+iC,EAAS,IAAKpnC,EAASyzD,WAAW,IA8BjDvG,EAAUrF,KAAO,CAACtxB,EAAOv2B,IAAY6nD,EAAKtxB,EAAOv2B,GAcjDktD,EAAUmI,UAAY,CAAC92B,EAAOv+B,EAAS21D,GAAe,EAAOT,GAAc,KACzE,IAAqB,IAAjBS,EACF,OAAOp3B,EAAM4I,OAGf,MAAM8E,EAAOjsC,GAAW,GAClB0xD,EAAUzlB,EAAKgiB,SAAW,GAAK,IAC/B7iB,EAASa,EAAKgiB,SAAW,GAAK,IAEpC,IAAIz/D,EAAS,GAAGkjE,OAAanzB,EAAM4I,UAAUiE,IACzC7M,IAA2B,IAAlBA,EAAMivB,UACjBh/D,EAAS,OAAOA,SAGlB,MAAM44B,EAAQ8lC,EAAU5kB,QAAQ95C,EAAQwR,GAKxC,OAJoB,IAAhBk1D,IACF9tC,EAAMmX,MAAQA,GAGTnX,GAsBT8lC,EAAU7J,OAAS,CAAC9sB,EAAOv2B,EAAU,GAAI21D,GAAe,EAAOT,GAAc,KAC3E,IAAK3+B,GAA0B,iBAAVA,EACnB,MAAM,IAAImI,UAAU,+BAGtB,IAAIk3B,EAAS,CAAEpI,SAAS,EAAOiG,WAAW,GAU1C,OAR0B,IAAtBzzD,EAAQyzD,WAAqC,MAAbl9B,EAAM,IAA2B,MAAbA,EAAM,KAC5Dq/B,EAAOzuB,OAAS9iC,EAAMovD,UAAUl9B,EAAOv2B,IAGpC41D,EAAOzuB,SACVyuB,EAASvxD,EAAMkyB,EAAOv2B,IAGjBktD,EAAUmI,UAAUO,EAAQ51D,EAAS21D,EAAcT,IAoB5DhI,EAAU5kB,QAAU,CAAC95C,EAAQwR,KAC3B,IACE,MAAMisC,EAAOjsC,GAAW,GACxB,OAAO,IAAIw3B,OAAOhpC,EAAQy9C,EAAKjK,QAAUiK,EAAKsY,OAAS,IAAM,KAC7D,MAAOr4D,GACP,GAAI8T,IAA6B,IAAlBA,EAAQoZ,MAAgB,MAAMltB,EAC7C,MAAO,OASXghE,EAAU93B,UAAYA,EAMtBj7B,EAAOvO,QAAUshE,G,4BCnVjB,MAAMn7D,EAAQ,EAAQ,OAChB,cACJi3C,EAAa,QACbE,EAAO,oBACP4nB,EAAmB,WACnBtnB,EAAU,SACVE,EAAQ,sBACRG,EAAqB,mBACrBE,EAAkB,sBAClBI,EAAqB,sBACrBrB,EAAqB,yBACrBsB,EAAwB,UACxBI,EAAS,mBACTC,EAAkB,uBAClBE,EAAsB,uBACtB5B,EAAsB,0BACtB6B,GACE,EAAQ,MAENirB,EAAkBxlC,GACfA,IAAS0Z,GAAsB1Z,IAASygC,EAG3CzkB,EAAQwmB,KACW,IAAnBA,EAAMiD,WACRjD,EAAMxmB,MAAQwmB,EAAMkD,WAAa18D,IAAW,IA2WhDc,EAAOvO,QAtVM,CAAC2qC,EAAOv2B,KACnB,MAAMisC,EAAOjsC,GAAW,GAElBxC,EAAS+4B,EAAM/4B,OAAS,EACxBw4D,GAA2B,IAAf/pB,EAAK/uC,QAAqC,IAAnB+uC,EAAK+pB,UACxClC,EAAU,GACVnC,EAAS,GACTz0D,EAAQ,GAEd,IAeIgrC,EACA7X,EAhBA7nB,EAAM+tB,EACNziC,GAAS,EACT4mC,EAAQ,EACRu7B,EAAY,EACZ/C,GAAU,EACVgD,GAAY,EACZ7K,GAAS,EACTM,GAAY,EACZoK,GAAa,EACbI,GAAe,EACfzC,GAAc,EACdlG,GAAU,EACVC,GAAiB,EACjB2I,GAAW,EACXlvB,EAAS,EAGT2rB,EAAQ,CAAEhnE,MAAO,GAAIwgD,MAAO,EAAGgf,QAAQ,GAE3C,MAAMoH,EAAM,IAAM3+D,GAAS0J,EAErB8uC,EAAU,KACdpE,EAAO7X,EACA7nB,EAAIuwB,aAAajlC,IAG1B,KAAOA,EAAQ0J,GAAQ,CAErB,IAAI+oC,EAEJ,GAHAlW,EAAOic,IAGHjc,IAASygC,EAAb,CAUA,IAAqB,IAAjBqF,GAAyB9lC,IAAS8Z,EAAuB,CAG3D,IAFAjD,KAEiB,IAAVurB,MAAmBpiC,EAAOic,MAC/B,GAAIjc,IAASygC,EAMb,GAAIzgC,IAAS8Z,EAAb,CAKA,IAAqB,IAAjBgsB,GAAyB9lC,IAASqZ,IAAarZ,EAAOic,OAAe5C,EAAU,CAKjF,GAJAwpB,EAAUL,EAAMK,SAAU,EAC1B7H,EAASwH,EAAMxH,QAAS,EACxB+K,GAAW,GAEO,IAAdJ,EACF,SAGF,MAGF,IAAqB,IAAjBG,GAAyB9lC,IAASmZ,EAAY,CAKhD,GAJA0pB,EAAUL,EAAMK,SAAU,EAC1B7H,EAASwH,EAAMxH,QAAS,EACxB+K,GAAW,GAEO,IAAdJ,EACF,SAGF,MAGF,GAAI3lC,IAASsa,IACXzD,IAEe,IAAXA,GAAc,CAChBivB,GAAe,EACfjD,EAAUL,EAAMK,SAAU,EAC1BkD,GAAW,EACX,YAnCFlvB,SANAwsB,EAAcb,EAAMa,aAAc,EAClCpnB,IA6CJ,IAAkB,IAAd0pB,EACF,SAGF,MAGF,GAAI3lC,IAAS0Z,EAAb,CAeA,IAAmB,IAAfkC,EAAKwY,QAOe,IANAp0B,IAASma,GAC1Bna,IAAS6Y,GACT7Y,IAAS2Y,GACT3Y,IAASoa,GACTpa,IAASwZ,IAlGCrhC,EAAIuwB,WAAWjlC,EAAQ,KAoGGg1C,EAAuB,CAQ9D,GAPAuiB,EAASwH,EAAMxH,QAAS,EACxBM,EAAYkH,EAAMlH,WAAY,EAC9ByK,GAAW,EACP/lC,IAASwZ,GAAyB/1C,IAAU4mC,IAC9C+yB,GAAiB,IAGD,IAAduI,EAAoB,CACtB,MAAiB,IAAVvD,MAAmBpiC,EAAOic,MAC/B,GAAIjc,IAASygC,GAMb,GAAIzgC,IAAS0Y,EAAwB,CACnCsiB,EAASwH,EAAMxH,QAAS,EACxB+K,GAAW,EACX,YARA1C,EAAcb,EAAMa,aAAc,EAClCrjC,EAAOic,IAUX,SAEF,MAIJ,GAAIjc,IAAS2Y,EAAe,CAK1B,GAJId,IAASc,IAAe+sB,EAAalD,EAAMkD,YAAa,GAC5D1K,EAASwH,EAAMxH,QAAS,EACxB+K,GAAW,GAEO,IAAdJ,EACF,SAEF,MAGF,GAAI3lC,IAASoa,EAAoB,CAI/B,GAHA4gB,EAASwH,EAAMxH,QAAS,EACxB+K,GAAW,GAEO,IAAdJ,EACF,SAEF,MAGF,GAAI3lC,IAAS+Z,EAA0B,CACrC,MAAiB,IAAVqoB,MAAmBlsB,EAAO+F,MAC/B,GAAI/F,IAASuqB,GAMb,GAAIvqB,IAASqE,EAA2B,CACtCsrB,EAAYrD,EAAMqD,WAAY,EAC9B7K,EAASwH,EAAMxH,QAAS,EACxB+K,GAAW,EACX,YATA1C,EAAcb,EAAMa,aAAc,EAClCpnB,IAYJ,IAAkB,IAAd0pB,EACF,SAGF,MAGF,IAAsB,IAAlB/pB,EAAK2oB,UAAqBvkC,IAASwZ,GAAyB/1C,IAAU4mC,EAA1E,CAMA,IAAqB,IAAjBuR,EAAKoqB,SAAoBhmC,IAASyY,EAAuB,CAG3D,GAFAuiB,EAASwH,EAAMxH,QAAS,GAEN,IAAd2K,EAAoB,CACtB,MAAiB,IAAVvD,MAAmBpiC,EAAOic,MAC/B,GAAIjc,IAASyY,GAMb,GAAIzY,IAAS0Y,EAAwB,CACnCqtB,GAAW,EACX,YAPA1C,EAAcb,EAAMa,aAAc,EAClCrjC,EAAOic,IASX,SAEF,MAGF,IAAe,IAAX+e,EAAiB,CAGnB,GAFA+K,GAAW,GAEO,IAAdJ,EACF,SAGF,YAjCAxI,EAAUqF,EAAMrF,SAAU,EAC1B9yB,QAhGF,CAKE,GAJAo5B,EAAQ//D,KAAKD,GACb69D,EAAO59D,KAAK8+D,GACZA,EAAQ,CAAEhnE,MAAO,GAAIwgD,MAAO,EAAGgf,QAAQ,IAEtB,IAAb+K,EAAmB,SACvB,GAAIluB,IAASwB,GAAY51C,IAAW4mC,EAAQ,EAAI,CAC9CA,GAAS,EACT,SAGFu7B,EAAYniE,EAAQ,QA9EpB4/D,EAAcb,EAAMa,aAAc,EAClCrjC,EAAOic,IAEHjc,IAAS8Z,IACXgsB,GAAe,IAmMF,IAAflqB,EAAKwY,QACPkH,GAAY,EACZN,GAAS,GAGX,IAAItzD,EAAOyQ,EACPu/B,EAAS,GACTomB,EAAO,GAEPzzB,EAAQ,IACVqN,EAASv/B,EAAI2d,MAAM,EAAGuU,GACtBlyB,EAAMA,EAAI2d,MAAMuU,GAChBu7B,GAAav7B,GAGX3iC,IAAmB,IAAXszD,GAAmB4K,EAAY,GACzCl+D,EAAOyQ,EAAI2d,MAAM,EAAG8vC,GACpB9H,EAAO3lD,EAAI2d,MAAM8vC,KACG,IAAX5K,GACTtzD,EAAO,GACPo2D,EAAO3lD,GAEPzQ,EAAOyQ,EAGLzQ,GAAiB,KAATA,GAAwB,MAATA,GAAgBA,IAASyQ,GAC9CqtD,EAAgB99D,EAAKghC,WAAWhhC,EAAKyF,OAAS,MAChDzF,EAAOA,EAAKouB,MAAM,GAAI,KAIJ,IAAlB8lB,EAAK6hB,WACHK,IAAMA,EAAOp8D,EAAMukE,kBAAkBnI,IAErCp2D,IAAwB,IAAhB27D,IACV37D,EAAOhG,EAAMukE,kBAAkBv+D,KAInC,MAAMwmC,EAAQ,CACZwJ,SACAxR,QACAmE,QACA3iC,OACAo2D,OACA+E,UACAgD,YACA7K,SACAM,YACAoK,aACAvI,UACAC,kBAWF,IARoB,IAAhBxhB,EAAK0lB,SACPpzB,EAAMg4B,SAAW,EACZV,EAAgBxlC,IACnBshC,EAAO59D,KAAK8+D,GAEdt0B,EAAMozB,OAASA,IAGE,IAAf1lB,EAAK/uC,QAAkC,IAAhB+uC,EAAK0lB,OAAiB,CAC/C,IAAI6E,EAEJ,IAAK,IAAIzK,EAAM,EAAGA,EAAM+H,EAAQt2D,OAAQuuD,IAAO,CAC7C,MAAMxgD,EAAIirD,EAAYA,EAAY,EAAI97B,EAChCn9B,EAAIu2D,EAAQ/H,GACZlgE,EAAQ0qC,EAAMpQ,MAAM5a,EAAGhO,GACzB0uC,EAAK0lB,SACK,IAAR5F,GAAuB,IAAVrxB,GACfi3B,EAAO5F,GAAK+J,UAAW,EACvBnE,EAAO5F,GAAKlgE,MAAQk8C,GAEpB4pB,EAAO5F,GAAKlgE,MAAQA,EAEtBwgD,EAAMslB,EAAO5F,IACbxtB,EAAMg4B,UAAY5E,EAAO5F,GAAK1f,OAEpB,IAAR0f,GAAuB,KAAVlgE,GACfqR,EAAMnJ,KAAKlI,GAEb2qE,EAAYj5D,EAGd,GAAIi5D,GAAaA,EAAY,EAAIjgC,EAAM/4B,OAAQ,CAC7C,MAAM3R,EAAQ0qC,EAAMpQ,MAAMqwC,EAAY,GACtCt5D,EAAMnJ,KAAKlI,GAEPogD,EAAK0lB,SACPA,EAAOA,EAAOn0D,OAAS,GAAG3R,MAAQA,EAClCwgD,EAAMslB,EAAOA,EAAOn0D,OAAS,IAC7B+gC,EAAMg4B,UAAY5E,EAAOA,EAAOn0D,OAAS,GAAG6uC,OAIhD9N,EAAMu1B,QAAUA,EAChBv1B,EAAMrhC,MAAQA,EAGhB,OAAOqhC,I,4BCjYT,MAAMltC,EAAO,EAAQ,MACf8/D,EAA6B,UAArB/gE,QAAQszB,UAChB,gBACJ6sC,EAAe,uBACfK,EAAsB,oBACtBH,EAAmB,2BACnBE,GACE,EAAQ,MAEZ/kE,EAAQ69D,SAAW/rD,GAAe,OAARA,GAA+B,iBAARA,IAAqBqF,MAAM0jB,QAAQ/oB,GACpF9R,EAAQuoE,cAAgB3rD,GAAOioD,EAAoB7yD,KAAK4K,GACxD5c,EAAQ6qE,YAAcjuD,GAAsB,IAAfA,EAAIhL,QAAgB5R,EAAQuoE,cAAc3rD,GACvE5c,EAAQ0lE,YAAc9oD,GAAOA,EAAIod,QAAQ+qC,EAA4B,QACrE/kE,EAAQyiE,eAAiB7lD,GAAOA,EAAIod,QAAQ2qC,EAAiB,KAE7D3kE,EAAQ0qE,kBAAoB9tD,GACnBA,EAAIod,QAAQgrC,GAAwBrvC,GACxB,OAAVA,EAAiB,GAAKA,IAIjC31B,EAAQ+oE,oBAAsB,KAC5B,MAAM+B,EAAOtmE,QAAQnE,QAAQk6B,MAAM,GAAG51B,MAAM,KAAKgC,IAAI2xC,QACrD,OAAoB,IAAhBwyB,EAAKl5D,QAAgBk5D,EAAK,IAAM,GAAkB,IAAZA,EAAK,IAAYA,EAAK,IAAM,IAMxE9qE,EAAQwiE,UAAYpuD,GACdA,GAAsC,kBAApBA,EAAQ22D,QACrB32D,EAAQ22D,SAEA,IAAVxF,GAA+B,OAAb9/D,EAAKmD,IAGhC5I,EAAQopE,WAAa,CAACz+B,EAAOi7B,EAAMoF,KACjC,MAAM7K,EAAMx1B,EAAMjgB,YAAYk7C,EAAMoF,GACpC,OAAa,IAAT7K,EAAmBx1B,EACA,OAAnBA,EAAMw1B,EAAM,GAAoBngE,EAAQopE,WAAWz+B,EAAOi7B,EAAMzF,EAAM,GACnE,GAAGx1B,EAAMpQ,MAAM,EAAG4lC,OAASx1B,EAAMpQ,MAAM4lC,MAGhDngE,EAAQ2mE,aAAe,CAACh8B,EAAOgI,EAAQ,MACrC,IAAI4I,EAAS5Q,EAKb,OAJI4Q,EAAOwgB,WAAW,QACpBxgB,EAASA,EAAOhhB,MAAM,GACtBoY,EAAMwJ,OAAS,MAEVZ,GAGTv7C,EAAQioE,WAAa,CAACt9B,EAAOgI,EAAQ,GAAIv+B,EAAU,MAIjD,IAAImnC,EAAS,GAHGnnC,EAAQiuD,SAAW,GAAK,SAGX13B,KAFdv2B,EAAQiuD,SAAW,GAAK,MAMvC,OAHsB,IAAlB1vB,EAAMivB,UACRrmB,EAAS,UAAUA,UAEdA,I,sBC9BThtC,EAAOvO,QA9BP,SAAkBirE,GAChB,IAAIC,EAAO,IAAID,EACXE,EAAOD,EAsBX,MAAO,CACLp8D,IArBF,WACE,IAAImuD,EAAUiO,EAWd,OATIjO,EAAQtiB,KACVuwB,EAAOjO,EAAQtiB,MAEfuwB,EAAO,IAAID,EACXE,EAAOD,GAGTjO,EAAQtiB,KAAO,KAERsiB,GAUPtlC,QAPF,SAAkB8S,GAChB0gC,EAAKxwB,KAAOlQ,EACZ0gC,EAAO1gC,M,SCtBXl8B,EAAOvO,QAEP,SAAsBiH,EAAOwJ,GAC3B,IAAIzI,EAASojE,EAAStxD,EAClBuxD,GAAS,EAWb,SAASlkE,EAAM7G,GACb,SAASuU,IACHpE,GAAIA,EAAGnQ,EAAK0H,GAChByI,EAAK,KAEH46D,EAAQ7mE,QAAQquC,SAASh+B,GACxBA,IAGP,SAASy2D,EAAM35D,EAAGrR,EAAK8H,GACrBJ,EAAQ2J,GAAKvJ,GACK,KAAZgjE,GAAiB9qE,IACrB6G,EAAK7G,GArBL6W,MAAM0jB,QAAQ5zB,IAChBe,EAAU,GACVojE,EAAUnkE,EAAM2K,SAEhBkI,EAAOha,OAAOga,KAAK7S,GACnBe,EAAU,GACVojE,EAAUtxD,EAAKlI,QAmBZw5D,EAGMtxD,EAETA,EAAK7R,SAAQ,SAAU7F,GACrB6E,EAAM7E,IAAK,SAAU9B,EAAK8H,GAAUkjE,EAAKlpE,EAAK9B,EAAK8H,SAIrDnB,EAAMgB,SAAQ,SAAU+rD,EAAMriD,GAC5BqiD,GAAK,SAAU1zD,EAAK8H,GAAUkjE,EAAK35D,EAAGrR,EAAK8H,SAT7CjB,EAAK,MAaPkkE,GAAS,I,aC7CX,IAAI79C,EAFJxtB,EAAUuO,EAAOvO,QAAUurE,EAQzB/9C,EAJqB,iBAAZhpB,SACPA,QAAQoc,KACRpc,QAAQoc,IAAI4qD,YACZ,cAAcx5D,KAAKxN,QAAQoc,IAAI4qD,YACzB,WACN,IAAInnC,EAAOltB,MAAMpJ,UAAUwsB,MAAM5lB,KAAKvH,UAAW,GACjDi3B,EAAK63B,QAAQ,UACb76D,QAAQirD,IAAI13C,MAAMvT,QAASgjC,IAGrB,aAKVrkC,EAAQyrE,oBAAsB,QAE9B,IACIC,EAAmBpzB,OAAOozB,kBACD,iBAMzBC,EAAK3rE,EAAQ2rE,GAAK,GAClBC,EAAM5rE,EAAQ4rE,IAAM,GACpBC,EAAI,EAQJC,EAAoBD,IACxBD,EAAIE,GAAqB,cACzB,IAAIC,EAAyBF,IAC7BD,EAAIG,GAA0B,SAM9B,IAAIC,EAAuBH,IAC3BD,EAAII,GAAwB,6BAK5B,IAAIC,EAAcJ,IAClBD,EAAIK,GAAe,IAAML,EAAIE,GAAV,QACMF,EAAIE,GADV,QAEMF,EAAIE,GAAqB,IAElD,IAAII,EAAmBL,IACvBD,EAAIM,GAAoB,IAAMN,EAAIG,GAAV,QACMH,EAAIG,GADV,QAEMH,EAAIG,GAA0B,IAK5D,IAAII,EAAuBN,IAC3BD,EAAIO,GAAwB,MAAQP,EAAIE,GACZ,IAAMF,EAAII,GAAwB,IAE9D,IAAII,EAA4BP,IAChCD,EAAIQ,GAA6B,MAAQR,EAAIG,GACZ,IAAMH,EAAII,GAAwB,IAMnE,IAAIK,EAAaR,IACjBD,EAAIS,GAAc,QAAUT,EAAIO,GACd,SAAWP,EAAIO,GAAwB,OAEzD,IAAIG,EAAkBT,IACtBD,EAAIU,GAAmB,SAAWV,EAAIQ,GACf,SAAWR,EAAIQ,GAA6B,OAKnE,IAAIG,EAAkBV,IACtBD,EAAIW,GAAmB,gBAMvB,IAAIC,EAAQX,IACZD,EAAIY,GAAS,UAAYZ,EAAIW,GAChB,SAAWX,EAAIW,GAAmB,OAW/C,IAAIE,EAAOZ,IACPa,EAAY,KAAOd,EAAIK,GACXL,EAAIS,GAAc,IAClBT,EAAIY,GAAS,IAE7BZ,EAAIa,GAAQ,IAAMC,EAAY,IAK9B,IAAIC,EAAa,WAAaf,EAAIM,GACjBN,EAAIU,GAAmB,IACvBV,EAAIY,GAAS,IAE1BI,EAAQf,IACZD,EAAIgB,GAAS,IAAMD,EAAa,IAEhC,IAAIE,EAAOhB,IACXD,EAAIiB,GAAQ,eAKZ,IAAIC,EAAwBjB,IAC5BD,EAAIkB,GAAyBlB,EAAIG,GAA0B,WAC3D,IAAIgB,EAAmBlB,IACvBD,EAAImB,GAAoBnB,EAAIE,GAAqB,WAEjD,IAAIkB,EAAcnB,IAClBD,EAAIoB,GAAe,YAAcpB,EAAImB,GAAlB,WACYnB,EAAImB,GADhB,WAEYnB,EAAImB,GAFhB,OAGQnB,EAAIS,GAAc,KAC1BT,EAAIY,GAJJ,QAOnB,IAAIS,EAAmBpB,IACvBD,EAAIqB,GAAoB,YAAcrB,EAAIkB,GAAlB,WACYlB,EAAIkB,GADhB,WAEYlB,EAAIkB,GAFhB,OAGQlB,EAAIU,GAAmB,KAC/BV,EAAIY,GAJJ,QAOxB,IAAIU,EAASrB,IACbD,EAAIsB,GAAU,IAAMtB,EAAIiB,GAAQ,OAASjB,EAAIoB,GAAe,IAC5D,IAAIG,EAActB,IAClBD,EAAIuB,GAAe,IAAMvB,EAAIiB,GAAQ,OAASjB,EAAIqB,GAAoB,IAItE,IAAIG,EAASvB,IACbD,EAAIwB,GAAU,4EAQd,IAAIC,EAAYxB,IAChBD,EAAIyB,GAAa,UAEjB,IAAIC,EAAYzB,IAChBD,EAAI0B,GAAa,SAAW1B,EAAIyB,GAAa,OAC7C1B,EAAG2B,GAAa,IAAI1hC,OAAOggC,EAAI0B,GAAY,KAC3C,IAEIC,EAAQ1B,IACZD,EAAI2B,GAAS,IAAM3B,EAAIyB,GAAazB,EAAIoB,GAAe,IACvD,IAAIQ,EAAa3B,IACjBD,EAAI4B,GAAc,IAAM5B,EAAIyB,GAAazB,EAAIqB,GAAoB,IAIjE,IAAIQ,EAAY5B,IAChBD,EAAI6B,GAAa,UAEjB,IAAIC,EAAY7B,IAChBD,EAAI8B,GAAa,SAAW9B,EAAI6B,GAAa,OAC7C9B,EAAG+B,GAAa,IAAI9hC,OAAOggC,EAAI8B,GAAY,KAC3C,IAEIC,EAAQ9B,IACZD,EAAI+B,GAAS,IAAM/B,EAAI6B,GAAa7B,EAAIoB,GAAe,IACvD,IAAIY,EAAa/B,IACjBD,EAAIgC,GAAc,IAAMhC,EAAI6B,GAAa7B,EAAIqB,GAAoB,IAGjE,IAAIY,EAAkBhC,IACtBD,EAAIiC,GAAmB,IAAMjC,EAAIiB,GAAQ,QAAUF,EAAa,QAChE,IAAImB,EAAajC,IACjBD,EAAIkC,GAAc,IAAMlC,EAAIiB,GAAQ,QAAUH,EAAY,QAI1D,IAAIqB,EAAiBlC,IACrBD,EAAImC,GAAkB,SAAWnC,EAAIiB,GACf,QAAUF,EAAa,IAAMf,EAAIoB,GAAe,IAGtErB,EAAGoC,GAAkB,IAAIniC,OAAOggC,EAAImC,GAAiB,KACrD,IAMIC,EAAcnC,IAClBD,EAAIoC,GAAe,SAAWpC,EAAIoB,GAAf,cAEMpB,EAAIoB,GAFV,SAKnB,IAAIiB,EAAmBpC,IACvBD,EAAIqC,GAAoB,SAAWrC,EAAIqB,GAAf,cAEMrB,EAAIqB,GAFV,SAMxB,IAAIxJ,EAAOoI,IACXD,EAAInI,GAAQ,kBAIZ,IAAK,IAAI9xD,EAAI,EAAGA,EALLk6D,GAKYl6D,IACrB6b,EAAM7b,EAAGi6D,EAAIj6D,IACRg6D,EAAGh6D,KACNg6D,EAAGh6D,GAAK,IAAIi6B,OAAOggC,EAAIj6D,KAK3B,SAAS8G,EAAOpY,EAAS+T,GAQvB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACR85D,QAAS95D,EACT+5D,mBAAmB,IAInB9tE,aAAmBkrE,EACrB,OAAOlrE,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,GAAIA,EAAQuR,OA/OG,IAgPb,OAAO,KAIT,KADQwC,EAAQ85D,MAAQvC,EAAGiB,GAASjB,EAAGc,IAChCz6D,KAAK3R,GACV,OAAO,KAGT,IACE,OAAO,IAAIkrE,EAAOlrE,EAAS+T,GAC3B,MAAO6hC,GACP,OAAO,MAkBX,SAASs1B,EAAQlrE,EAAS+T,GAOxB,GANKA,GAA8B,iBAAZA,IACrBA,EAAU,CACR85D,QAAS95D,EACT+5D,mBAAmB,IAGnB9tE,aAAmBkrE,EAAQ,CAC7B,GAAIlrE,EAAQ6tE,QAAU95D,EAAQ85D,MAC5B,OAAO7tE,EAEPA,EAAUA,EAAQA,aAEf,GAAuB,iBAAZA,EAChB,MAAM,IAAIyyC,UAAU,oBAAsBzyC,GAG5C,GAAIA,EAAQuR,OA9RG,IA+Rb,MAAM,IAAIkhC,UAAU,yCAGtB,KAAMjyC,gBAAgB0qE,GACpB,OAAO,IAAIA,EAAOlrE,EAAS+T,GAG7BoZ,EAAM,SAAUntB,EAAS+T,GACzBvT,KAAKuT,QAAUA,EACfvT,KAAKqtE,QAAU95D,EAAQ85D,MAEvB,IAAIt8C,EAAIvxB,EAAQ87B,OAAOxG,MAAMvhB,EAAQ85D,MAAQvC,EAAGiB,GAASjB,EAAGc,IAE5D,IAAK76C,EACH,MAAM,IAAIkhB,UAAU,oBAAsBzyC,GAU5C,GAPAQ,KAAKutE,IAAM/tE,EAGXQ,KAAKwtE,OAASz8C,EAAE,GAChB/wB,KAAKytE,OAAS18C,EAAE,GAChB/wB,KAAK+kD,OAASh0B,EAAE,GAEZ/wB,KAAKwtE,MAAQ3C,GAAoB7qE,KAAKwtE,MAAQ,EAChD,MAAM,IAAIv7B,UAAU,yBAGtB,GAAIjyC,KAAKytE,MAAQ5C,GAAoB7qE,KAAKytE,MAAQ,EAChD,MAAM,IAAIx7B,UAAU,yBAGtB,GAAIjyC,KAAK+kD,MAAQ8lB,GAAoB7qE,KAAK+kD,MAAQ,EAChD,MAAM,IAAI9S,UAAU,yBAIjBlhB,EAAE,GAGL/wB,KAAK0tE,WAAa38C,EAAE,GAAGjtB,MAAM,KAAKgC,KAAI,SAAU6I,GAC9C,GAAI,WAAWwC,KAAKxC,GAAK,CACvB,IAAI4xC,GAAO5xC,EACX,GAAI4xC,GAAO,GAAKA,EAAMsqB,EACpB,OAAOtqB,EAGX,OAAO5xC,KATT3O,KAAK0tE,WAAa,GAapB1tE,KAAK2tE,MAAQ58C,EAAE,GAAKA,EAAE,GAAGjtB,MAAM,KAAO,GACtC9D,KAAKsZ,SArHPna,EAAQyY,MAAQA,EAiChBzY,EAAQyuE,MACR,SAAgBpuE,EAAS+T,GACvB,IAAI01B,EAAIrxB,EAAMpY,EAAS+T,GACvB,OAAO01B,EAAIA,EAAEzpC,QAAU,MAGzBL,EAAQ0uE,MACR,SAAgBruE,EAAS+T,GACvB,IAAIsL,EAAIjH,EAAMpY,EAAQ87B,OAAOnC,QAAQ,SAAU,IAAK5lB,GACpD,OAAOsL,EAAIA,EAAErf,QAAU,MAGzBL,EAAQurE,OAASA,EA2EjBA,EAAOx9D,UAAUoM,OAAS,WAKxB,OAJAtZ,KAAKR,QAAUQ,KAAKwtE,MAAQ,IAAMxtE,KAAKytE,MAAQ,IAAMztE,KAAK+kD,MACtD/kD,KAAK0tE,WAAW38D,SAClB/Q,KAAKR,SAAW,IAAMQ,KAAK0tE,WAAWrhE,KAAK,MAEtCrM,KAAKR,SAGdkrE,EAAOx9D,UAAUyH,SAAW,WAC1B,OAAO3U,KAAKR,SAGdkrE,EAAOx9D,UAAU4gE,QAAU,SAAUC,GAMnC,OALAphD,EAAM,iBAAkB3sB,KAAKR,QAASQ,KAAKuT,QAASw6D,GAC9CA,aAAiBrD,IACrBqD,EAAQ,IAAIrD,EAAOqD,EAAO/tE,KAAKuT,UAG1BvT,KAAKguE,YAAYD,IAAU/tE,KAAKiuE,WAAWF,IAGpDrD,EAAOx9D,UAAU8gE,YAAc,SAAUD,GAKvC,OAJMA,aAAiBrD,IACrBqD,EAAQ,IAAIrD,EAAOqD,EAAO/tE,KAAKuT,UAG1B26D,EAAmBluE,KAAKwtE,MAAOO,EAAMP,QACrCU,EAAmBluE,KAAKytE,MAAOM,EAAMN,QACrCS,EAAmBluE,KAAK+kD,MAAOgpB,EAAMhpB,QAG9C2lB,EAAOx9D,UAAU+gE,WAAa,SAAUF,GAMtC,GALMA,aAAiBrD,IACrBqD,EAAQ,IAAIrD,EAAOqD,EAAO/tE,KAAKuT,UAI7BvT,KAAK0tE,WAAW38D,SAAWg9D,EAAML,WAAW38D,OAC9C,OAAQ,EACH,IAAK/Q,KAAK0tE,WAAW38D,QAAUg9D,EAAML,WAAW38D,OACrD,OAAO,EACF,IAAK/Q,KAAK0tE,WAAW38D,SAAWg9D,EAAML,WAAW38D,OACtD,OAAO,EAGT,IAAID,EAAI,EACR,EAAG,CACD,IAAItJ,EAAIxH,KAAK0tE,WAAW58D,GACpBrJ,EAAIsmE,EAAML,WAAW58D,GAEzB,GADA6b,EAAM,qBAAsB7b,EAAGtJ,EAAGC,QACxBjE,IAANgE,QAAyBhE,IAANiE,EACrB,OAAO,EACF,QAAUjE,IAANiE,EACT,OAAO,EACF,QAAUjE,IAANgE,EACT,OAAQ,EACH,GAAIA,IAAMC,EAGf,OAAOymE,EAAmB1mE,EAAGC,WAEtBqJ,IAKb45D,EAAOx9D,UAAUihE,IAAM,SAAUr3C,EAASs3C,GACxC,OAAQt3C,GACN,IAAK,WACH92B,KAAK0tE,WAAW38D,OAAS,EACzB/Q,KAAK+kD,MAAQ,EACb/kD,KAAKytE,MAAQ,EACbztE,KAAKwtE,QACLxtE,KAAKmuE,IAAI,MAAOC,GAChB,MACF,IAAK,WACHpuE,KAAK0tE,WAAW38D,OAAS,EACzB/Q,KAAK+kD,MAAQ,EACb/kD,KAAKytE,QACLztE,KAAKmuE,IAAI,MAAOC,GAChB,MACF,IAAK,WAIHpuE,KAAK0tE,WAAW38D,OAAS,EACzB/Q,KAAKmuE,IAAI,QAASC,GAClBpuE,KAAKmuE,IAAI,MAAOC,GAChB,MAGF,IAAK,aAC4B,IAA3BpuE,KAAK0tE,WAAW38D,QAClB/Q,KAAKmuE,IAAI,QAASC,GAEpBpuE,KAAKmuE,IAAI,MAAOC,GAChB,MAEF,IAAK,QAKgB,IAAfpuE,KAAKytE,OACU,IAAfztE,KAAK+kD,OACsB,IAA3B/kD,KAAK0tE,WAAW38D,QAClB/Q,KAAKwtE,QAEPxtE,KAAKytE,MAAQ,EACbztE,KAAK+kD,MAAQ,EACb/kD,KAAK0tE,WAAa,GAClB,MACF,IAAK,QAKgB,IAAf1tE,KAAK+kD,OAA0C,IAA3B/kD,KAAK0tE,WAAW38D,QACtC/Q,KAAKytE,QAEPztE,KAAK+kD,MAAQ,EACb/kD,KAAK0tE,WAAa,GAClB,MACF,IAAK,QAK4B,IAA3B1tE,KAAK0tE,WAAW38D,QAClB/Q,KAAK+kD,QAEP/kD,KAAK0tE,WAAa,GAClB,MAGF,IAAK,MACH,GAA+B,IAA3B1tE,KAAK0tE,WAAW38D,OAClB/Q,KAAK0tE,WAAa,CAAC,OACd,CAEL,IADA,IAAI58D,EAAI9Q,KAAK0tE,WAAW38D,SACfD,GAAK,GACsB,iBAAvB9Q,KAAK0tE,WAAW58D,KACzB9Q,KAAK0tE,WAAW58D,KAChBA,GAAK,IAGE,IAAPA,GAEF9Q,KAAK0tE,WAAWpmE,KAAK,GAGrB8mE,IAGEpuE,KAAK0tE,WAAW,KAAOU,EACrB70C,MAAMv5B,KAAK0tE,WAAW,MACxB1tE,KAAK0tE,WAAa,CAACU,EAAY,IAGjCpuE,KAAK0tE,WAAa,CAACU,EAAY,IAGnC,MAEF,QACE,MAAM,IAAI9tE,MAAM,+BAAiCw2B,GAIrD,OAFA92B,KAAKsZ,SACLtZ,KAAKutE,IAAMvtE,KAAKR,QACTQ,MAGTb,EAAQgvE,IACR,SAAc3uE,EAASs3B,EAASu2C,EAAOe,GACd,iBAAZ,IACTA,EAAaf,EACbA,OAAQ7pE,GAGV,IACE,OAAO,IAAIknE,EAAOlrE,EAAS6tE,GAAOc,IAAIr3C,EAASs3C,GAAY5uE,QAC3D,MAAO41C,GACP,OAAO,OAIXj2C,EAAQkvE,KACR,SAAeC,EAAUC,GACvB,GAAIC,EAAGF,EAAUC,GACf,OAAO,KAEP,IAAIE,EAAK72D,EAAM02D,GACXI,EAAK92D,EAAM22D,GACXjzB,EAAS,GACb,GAAImzB,EAAGf,WAAW38D,QAAU29D,EAAGhB,WAAW38D,OAAQ,CAChDuqC,EAAS,MACT,IAAIqzB,EAAgB,aAEtB,IAAK,IAAIptE,KAAOktE,EACd,IAAY,UAARltE,GAA2B,UAARA,GAA2B,UAARA,IACpCktE,EAAGltE,KAASmtE,EAAGntE,GACjB,OAAO+5C,EAAS/5C,EAItB,OAAOotE,GAIXxvE,EAAQ+uE,mBAAqBA,EAE7B,IAAIU,EAAU,WACd,SAASV,EAAoB1mE,EAAGC,GAC9B,IAAIonE,EAAOD,EAAQz9D,KAAK3J,GACpBsnE,EAAOF,EAAQz9D,KAAK1J,GAOxB,OALIonE,GAAQC,IACVtnE,GAAKA,EACLC,GAAKA,GAGAD,IAAMC,EAAI,EACZonE,IAASC,GAAS,EAClBA,IAASD,EAAQ,EAClBrnE,EAAIC,GAAK,EACT,EAwBN,SAASqmE,EAAStmE,EAAGC,EAAG4lE,GACtB,OAAO,IAAI3C,EAAOljE,EAAG6lE,GAAOS,QAAQ,IAAIpD,EAAOjjE,EAAG4lE,IA4BpD,SAAS0B,EAAIvnE,EAAGC,EAAG4lE,GACjB,OAAOS,EAAQtmE,EAAGC,EAAG4lE,GAAS,EAIhC,SAAS2B,EAAIxnE,EAAGC,EAAG4lE,GACjB,OAAOS,EAAQtmE,EAAGC,EAAG4lE,GAAS,EAIhC,SAASmB,EAAIhnE,EAAGC,EAAG4lE,GACjB,OAAgC,IAAzBS,EAAQtmE,EAAGC,EAAG4lE,GAIvB,SAAS4B,EAAKznE,EAAGC,EAAG4lE,GAClB,OAAgC,IAAzBS,EAAQtmE,EAAGC,EAAG4lE,GAIvB,SAASz2B,GAAKpvC,EAAGC,EAAG4lE,GAClB,OAAOS,EAAQtmE,EAAGC,EAAG4lE,IAAU,EAIjC,SAAS6B,GAAK1nE,EAAGC,EAAG4lE,GAClB,OAAOS,EAAQtmE,EAAGC,EAAG4lE,IAAU,EAIjC,SAAS8B,GAAK3nE,EAAG4nE,EAAI3nE,EAAG4lE,GACtB,OAAQ+B,GACN,IAAK,MAKH,MAJiB,iBAAN5nE,IACTA,EAAIA,EAAEhI,SACS,iBAANiI,IACTA,EAAIA,EAAEjI,SACDgI,IAAMC,EAEf,IAAK,MAKH,MAJiB,iBAAND,IACTA,EAAIA,EAAEhI,SACS,iBAANiI,IACTA,EAAIA,EAAEjI,SACDgI,IAAMC,EAEf,IAAK,GACL,IAAK,IACL,IAAK,KACH,OAAO+mE,EAAGhnE,EAAGC,EAAG4lE,GAElB,IAAK,KACH,OAAO4B,EAAIznE,EAAGC,EAAG4lE,GAEnB,IAAK,IACH,OAAO0B,EAAGvnE,EAAGC,EAAG4lE,GAElB,IAAK,KACH,OAAOz2B,GAAIpvC,EAAGC,EAAG4lE,GAEnB,IAAK,IACH,OAAO2B,EAAGxnE,EAAGC,EAAG4lE,GAElB,IAAK,KACH,OAAO6B,GAAI1nE,EAAGC,EAAG4lE,GAEnB,QACE,MAAM,IAAIp7B,UAAU,qBAAuBm9B,IAKjD,SAASC,GAAYC,EAAM/7D,GAQzB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACR85D,QAAS95D,EACT+5D,mBAAmB,IAInBgC,aAAgBD,GAAY,CAC9B,GAAIC,EAAKjC,UAAY95D,EAAQ85D,MAC3B,OAAOiC,EAEPA,EAAOA,EAAKlwE,MAIhB,KAAMY,gBAAgBqvE,IACpB,OAAO,IAAIA,GAAWC,EAAM/7D,GAG9BoZ,EAAM,aAAc2iD,EAAM/7D,GAC1BvT,KAAKuT,QAAUA,EACfvT,KAAKqtE,QAAU95D,EAAQ85D,MACvBrtE,KAAK4X,MAAM03D,GAEPtvE,KAAKw2C,SAAW+4B,GAClBvvE,KAAKZ,MAAQ,GAEbY,KAAKZ,MAAQY,KAAKwvE,SAAWxvE,KAAKw2C,OAAOh3C,QAG3CmtB,EAAM,OAAQ3sB,MAzJhBb,EAAQswE,oBACR,SAA8BjoE,EAAGC,GAC/B,OAAOymE,EAAmBzmE,EAAGD,IAG/BrI,EAAQquE,MACR,SAAgBhmE,EAAG6lE,GACjB,OAAO,IAAI3C,EAAOljE,EAAG6lE,GAAOG,OAG9BruE,EAAQsuE,MACR,SAAgBjmE,EAAG6lE,GACjB,OAAO,IAAI3C,EAAOljE,EAAG6lE,GAAOI,OAG9BtuE,EAAQ4lD,MACR,SAAgBv9C,EAAG6lE,GACjB,OAAO,IAAI3C,EAAOljE,EAAG6lE,GAAOtoB,OAG9B5lD,EAAQ2uE,QAAUA,EAKlB3uE,EAAQuwE,aACR,SAAuBloE,EAAGC,GACxB,OAAOqmE,EAAQtmE,EAAGC,GAAG,IAGvBtI,EAAQwwE,SACR,SAAmBnoE,EAAGC,EAAG4lE,GACvB,OAAOS,EAAQrmE,EAAGD,EAAG6lE,IAGvBluE,EAAQo/D,KACR,SAAe7oB,EAAM23B,GACnB,OAAO33B,EAAK6oB,MAAK,SAAU/2D,EAAGC,GAC5B,OAAOtI,EAAQ2uE,QAAQtmE,EAAGC,EAAG4lE,OAIjCluE,EAAQywE,MACR,SAAgBl6B,EAAM23B,GACpB,OAAO33B,EAAK6oB,MAAK,SAAU/2D,EAAGC,GAC5B,OAAOtI,EAAQwwE,SAASnoE,EAAGC,EAAG4lE,OAIlCluE,EAAQ4vE,GAAKA,EAKb5vE,EAAQ6vE,GAAKA,EAKb7vE,EAAQqvE,GAAKA,EAKbrvE,EAAQ8vE,IAAMA,EAKd9vE,EAAQy3C,IAAMA,GAKdz3C,EAAQ+vE,IAAMA,GAKd/vE,EAAQgwE,IAAMA,GA0CdhwE,EAAQkwE,WAAaA,GAmCrB,IAAIE,GAAM,GAuFV,SAASM,GAAOj0B,EAAOroC,GAQrB,GAPKA,GAA8B,iBAAZA,IACrBA,EAAU,CACR85D,QAAS95D,EACT+5D,mBAAmB,IAInB1xB,aAAiBi0B,GACnB,OAAIj0B,EAAMyxB,UAAY95D,EAAQ85D,OAC1BzxB,EAAM0xB,sBAAwB/5D,EAAQ+5D,kBACjC1xB,EAEA,IAAIi0B,GAAMj0B,EAAM2xB,IAAKh6D,GAIhC,GAAIqoC,aAAiByzB,GACnB,OAAO,IAAIQ,GAAMj0B,EAAMx8C,MAAOmU,GAGhC,KAAMvT,gBAAgB6vE,IACpB,OAAO,IAAIA,GAAMj0B,EAAOroC,GAgB1B,GAbAvT,KAAKuT,QAAUA,EACfvT,KAAKqtE,QAAU95D,EAAQ85D,MACvBrtE,KAAKstE,oBAAsB/5D,EAAQ+5D,kBAGnCttE,KAAKutE,IAAM3xB,EACX57C,KAAKg1B,IAAM4mB,EAAM93C,MAAM,cAAcgC,KAAI,SAAU81C,GACjD,OAAO57C,KAAK8vE,WAAWl0B,EAAMtgB,UAC5Bt7B,MAAMoM,QAAO,SAAUud,GAExB,OAAOA,EAAE5Y,WAGN/Q,KAAKg1B,IAAIjkB,OACZ,MAAM,IAAIkhC,UAAU,yBAA2B2J,GAGjD57C,KAAKsZ,SAgGP,SAASy2D,GAAKphE,GACZ,OAAQA,GAA2B,MAArBA,EAAGsnB,eAAgC,MAAPtnB,EAkM5C,SAASqhE,GAAeC,EACtBt9C,EAAMu9C,EAAIC,EAAIC,EAAIC,EAAKC,EACvBC,EAAIC,EAAIC,EAAIC,EAAIC,EAAKC,GAuBrB,QArBEj+C,EADEo9C,GAAIG,GACC,GACEH,GAAII,GACN,KAAOD,EAAK,OACVH,GAAIK,GACN,KAAOF,EAAK,IAAMC,EAAK,KAEvB,KAAOx9C,GAeD,KAXb49C,EADER,GAAIS,GACD,GACIT,GAAIU,GACR,MAAQD,EAAK,GAAK,OACdT,GAAIW,GACR,IAAMF,EAAK,MAAQC,EAAK,GAAK,KACzBE,EACJ,KAAOH,EAAK,IAAMC,EAAK,IAAMC,EAAK,IAAMC,EAExC,KAAOJ,IAGWj1C,OAqB3B,SAASu1C,GAAS77C,EAAKx1B,EAAS+T,GAC9B,IAAK,IAAIzC,EAAI,EAAGA,EAAIkkB,EAAIjkB,OAAQD,IAC9B,IAAKkkB,EAAIlkB,GAAGK,KAAK3R,GACf,OAAO,EAIX,GAAIA,EAAQkuE,WAAW38D,SAAWwC,EAAQ+5D,kBAAmB,CAM3D,IAAKx8D,EAAI,EAAGA,EAAIkkB,EAAIjkB,OAAQD,IAE1B,GADA6b,EAAMqI,EAAIlkB,GAAG0lC,QACTxhB,EAAIlkB,GAAG0lC,SAAW+4B,IAIlBv6C,EAAIlkB,GAAG0lC,OAAOk3B,WAAW38D,OAAS,EAAG,CACvC,IAAI+/D,EAAU97C,EAAIlkB,GAAG0lC,OACrB,GAAIs6B,EAAQtD,QAAUhuE,EAAQguE,OAC1BsD,EAAQrD,QAAUjuE,EAAQiuE,OAC1BqD,EAAQ/rB,QAAUvlD,EAAQulD,MAC5B,OAAO,EAMb,OAAO,EAGT,OAAO,EAIT,SAASgK,GAAWvvD,EAASo8C,EAAOroC,GAClC,IACEqoC,EAAQ,IAAIi0B,GAAMj0B,EAAOroC,GACzB,MAAO6hC,GACP,OAAO,EAET,OAAOwG,EAAMzqC,KAAK3R,GA6HpB,SAASuxE,GAASvxE,EAASo8C,EAAOo1B,EAAMz9D,GAItC,IAAI09D,EAAMC,EAAOC,EAAM7B,EAAM8B,EAC7B,OAJA5xE,EAAU,IAAIkrE,EAAOlrE,EAAS+T,GAC9BqoC,EAAQ,IAAIi0B,GAAMj0B,EAAOroC,GAGjBy9D,GACN,IAAK,IACHC,EAAOlC,EACPmC,EAAQhC,GACRiC,EAAOnC,EACPM,EAAO,IACP8B,EAAQ,KACR,MACF,IAAK,IACHH,EAAOjC,EACPkC,EAAQt6B,GACRu6B,EAAOpC,EACPO,EAAO,IACP8B,EAAQ,KACR,MACF,QACE,MAAM,IAAIn/B,UAAU,yCAIxB,GAAI8c,GAAUvvD,EAASo8C,EAAOroC,GAC5B,OAAO,EAMT,IAAK,IAAIzC,EAAI,EAAGA,EAAI8qC,EAAM5mB,IAAIjkB,SAAUD,EAAG,CACzC,IAAIugE,EAAcz1B,EAAM5mB,IAAIlkB,GAExBwgE,EAAO,KACPC,EAAM,KAiBV,GAfAF,EAAYjqE,SAAQ,SAAUoqE,GACxBA,EAAWh7B,SAAW+4B,KACxBiC,EAAa,IAAInC,GAAW,YAE9BiC,EAAOA,GAAQE,EACfD,EAAMA,GAAOC,EACTP,EAAKO,EAAWh7B,OAAQ86B,EAAK96B,OAAQjjC,GACvC+9D,EAAOE,EACEL,EAAKK,EAAWh7B,OAAQ+6B,EAAI/6B,OAAQjjC,KAC7Cg+D,EAAMC,MAMNF,EAAK9B,WAAaF,GAAQgC,EAAK9B,WAAa4B,EAC9C,OAAO,EAKT,KAAMG,EAAI/B,UAAY+B,EAAI/B,WAAaF,IACnC4B,EAAM1xE,EAAS+xE,EAAI/6B,QACrB,OAAO,EACF,GAAI+6B,EAAI/B,WAAa4B,GAASD,EAAK3xE,EAAS+xE,EAAI/6B,QACrD,OAAO,EAGX,OAAO,EA3rBT64B,GAAWniE,UAAU0K,MAAQ,SAAU03D,GACrC,IAAImC,EAAIzxE,KAAKuT,QAAQ85D,MAAQvC,EAAGkC,GAAmBlC,EAAGmC,GAClDl8C,EAAIu+C,EAAKx6C,MAAM28C,GAEnB,IAAK1gD,EACH,MAAM,IAAIkhB,UAAU,uBAAyBq9B,GAG/CtvE,KAAKwvE,SAAWz+C,EAAE,GACI,MAAlB/wB,KAAKwvE,WACPxvE,KAAKwvE,SAAW,IAIbz+C,EAAE,GAGL/wB,KAAKw2C,OAAS,IAAIk0B,EAAO35C,EAAE,GAAI/wB,KAAKuT,QAAQ85D,OAF5CrtE,KAAKw2C,OAAS+4B,IAMlBF,GAAWniE,UAAUyH,SAAW,WAC9B,OAAO3U,KAAKZ,OAGdiwE,GAAWniE,UAAUiE,KAAO,SAAU3R,GAGpC,OAFAmtB,EAAM,kBAAmBntB,EAASQ,KAAKuT,QAAQ85D,OAE3CrtE,KAAKw2C,SAAW+4B,KAIG,iBAAZ/vE,IACTA,EAAU,IAAIkrE,EAAOlrE,EAASQ,KAAKuT,UAG9B47D,GAAI3vE,EAASQ,KAAKwvE,SAAUxvE,KAAKw2C,OAAQx2C,KAAKuT,WAGvD87D,GAAWniE,UAAUwkE,WAAa,SAAUpC,EAAM/7D,GAChD,KAAM+7D,aAAgBD,IACpB,MAAM,IAAIp9B,UAAU,4BAUtB,IAAI0/B,EAEJ,GATKp+D,GAA8B,iBAAZA,IACrBA,EAAU,CACR85D,QAAS95D,EACT+5D,mBAAmB,IAMD,KAAlBttE,KAAKwvE,SAEP,OADAmC,EAAW,IAAI9B,GAAMP,EAAKlwE,MAAOmU,GAC1Bw7C,GAAU/uD,KAAKZ,MAAOuyE,EAAUp+D,GAClC,GAAsB,KAAlB+7D,EAAKE,SAEd,OADAmC,EAAW,IAAI9B,GAAM7vE,KAAKZ,MAAOmU,GAC1Bw7C,GAAUugB,EAAK94B,OAAQm7B,EAAUp+D,GAG1C,IAAIq+D,IACiB,OAAlB5xE,KAAKwvE,UAAuC,MAAlBxvE,KAAKwvE,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BqC,IACiB,OAAlB7xE,KAAKwvE,UAAuC,MAAlBxvE,KAAKwvE,UACb,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9BsC,EAAa9xE,KAAKw2C,OAAOh3C,UAAY8vE,EAAK94B,OAAOh3C,QACjDuyE,IACiB,OAAlB/xE,KAAKwvE,UAAuC,OAAlBxvE,KAAKwvE,UACb,OAAlBF,EAAKE,UAAuC,OAAlBF,EAAKE,UAC9BwC,EACF7C,GAAInvE,KAAKw2C,OAAQ,IAAK84B,EAAK94B,OAAQjjC,KACf,OAAlBvT,KAAKwvE,UAAuC,MAAlBxvE,KAAKwvE,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAC9ByC,EACF9C,GAAInvE,KAAKw2C,OAAQ,IAAK84B,EAAK94B,OAAQjjC,KACf,OAAlBvT,KAAKwvE,UAAuC,MAAlBxvE,KAAKwvE,YACd,OAAlBF,EAAKE,UAAuC,MAAlBF,EAAKE,UAElC,OAAOoC,GAA2BC,GAC/BC,GAAcC,GACfC,GAA8BC,GAGlC9yE,EAAQ0wE,MAAQA,GA8ChBA,GAAM3iE,UAAUoM,OAAS,WAIvB,OAHAtZ,KAAK47C,MAAQ57C,KAAKg1B,IAAIlvB,KAAI,SAAUosE,GAClC,OAAOA,EAAM7lE,KAAK,KAAKivB,UACtBjvB,KAAK,MAAMivB,OACPt7B,KAAK47C,OAGdi0B,GAAM3iE,UAAUyH,SAAW,WACzB,OAAO3U,KAAK47C,OAGdi0B,GAAM3iE,UAAU4iE,WAAa,SAAUl0B,GACrC,IAAIyxB,EAAQrtE,KAAKuT,QAAQ85D,MACzBzxB,EAAQA,EAAMtgB,OAEd,IAAI62C,EAAK9E,EAAQvC,EAAGsC,GAAoBtC,EAAGqC,GAC3CvxB,EAAQA,EAAMziB,QAAQg5C,EAAInC,IAC1BrjD,EAAM,iBAAkBivB,GAExBA,EAAQA,EAAMziB,QAAQ2xC,EAAGoC,GA9qBC,UA+qB1BvgD,EAAM,kBAAmBivB,EAAOkvB,EAAGoC,IASnCtxB,GAHAA,GAHAA,EAAQA,EAAMziB,QAAQ2xC,EAAG2B,GAttBJ,QAytBPtzC,QAAQ2xC,EAAG+B,GA1sBJ,QA6sBP/oE,MAAM,OAAOuI,KAAK,KAKhC,IAAI+lE,EAAS/E,EAAQvC,EAAGkC,GAAmBlC,EAAGmC,GAC1Cj4C,EAAM4mB,EAAM93C,MAAM,KAAKgC,KAAI,SAAUwpE,GACvC,OA4CJ,SAA0BA,EAAM/7D,GAU9B,OATAoZ,EAAM,OAAQ2iD,EAAM/7D,GACpB+7D,EA6DF,SAAwBA,EAAM/7D,GAC5B,OAAO+7D,EAAKh0C,OAAOx3B,MAAM,OAAOgC,KAAI,SAAUwpE,GAC5C,OAIJ,SAAuBA,EAAM/7D,GAC3BoZ,EAAM,QAAS2iD,EAAM/7D,GACrB,IAAIk+D,EAAIl+D,EAAQ85D,MAAQvC,EAAGiC,GAAcjC,EAAGgC,GAC5C,OAAOwC,EAAKn2C,QAAQs4C,GAAG,SAAUY,EAAGC,EAAGvhD,EAAGva,EAAG+7D,GAE3C,IAAIrsB,EA2CJ,OA5CAv5B,EAAM,QAAS2iD,EAAM+C,EAAGC,EAAGvhD,EAAGva,EAAG+7D,GAG7BxC,GAAIuC,GACNpsB,EAAM,GACG6pB,GAAIh/C,GACbm1B,EAAM,KAAOosB,EAAI,WAAaA,EAAI,GAAK,OAC9BvC,GAAIv5D,GAEX0vC,EADQ,MAANosB,EACI,KAAOA,EAAI,IAAMvhD,EAAI,OAASuhD,EAAI,MAAQvhD,EAAI,GAAK,KAEnD,KAAOuhD,EAAI,IAAMvhD,EAAI,SAAWuhD,EAAI,GAAK,OAExCC,GACT5lD,EAAM,kBAAmB4lD,GAGrBrsB,EAFM,MAANosB,EACQ,MAANvhD,EACI,KAAOuhD,EAAI,IAAMvhD,EAAI,IAAMva,EAAI,IAAM+7D,EACrC,KAAOD,EAAI,IAAMvhD,EAAI,MAAQva,EAAI,GAEjC,KAAO87D,EAAI,IAAMvhD,EAAI,IAAMva,EAAI,IAAM+7D,EACrC,KAAOD,EAAI,MAAQvhD,EAAI,GAAK,KAG9B,KAAOuhD,EAAI,IAAMvhD,EAAI,IAAMva,EAAI,IAAM+7D,EACrC,OAASD,EAAI,GAAK,SAG1B3lD,EAAM,SAGFu5B,EAFM,MAANosB,EACQ,MAANvhD,EACI,KAAOuhD,EAAI,IAAMvhD,EAAI,IAAMva,EAC3B,KAAO87D,EAAI,IAAMvhD,EAAI,MAAQva,EAAI,GAEjC,KAAO87D,EAAI,IAAMvhD,EAAI,IAAMva,EAC3B,KAAO87D,EAAI,MAAQvhD,EAAI,GAAK,KAG9B,KAAOuhD,EAAI,IAAMvhD,EAAI,IAAMva,EAC3B,OAAS87D,EAAI,GAAK,QAI5B3lD,EAAM,eAAgBu5B,GACfA,KApDAssB,CAAalD,EAAM/7D,MACzBlH,KAAK,KAhEDomE,CAAcnD,EAAM/7D,GAC3BoZ,EAAM,QAAS2iD,GACfA,EAmBF,SAAwBA,EAAM/7D,GAC5B,OAAO+7D,EAAKh0C,OAAOx3B,MAAM,OAAOgC,KAAI,SAAUwpE,GAC5C,OAIJ,SAAuBA,EAAM/7D,GAC3B,IAAIk+D,EAAIl+D,EAAQ85D,MAAQvC,EAAG6B,GAAc7B,EAAG4B,GAC5C,OAAO4C,EAAKn2C,QAAQs4C,GAAG,SAAUY,EAAGC,EAAGvhD,EAAGva,EAAG+7D,GAE3C,IAAIrsB,EAoBJ,OArBAv5B,EAAM,QAAS2iD,EAAM+C,EAAGC,EAAGvhD,EAAGva,EAAG+7D,GAG7BxC,GAAIuC,GACNpsB,EAAM,GACG6pB,GAAIh/C,GACbm1B,EAAM,KAAOosB,EAAI,WAAaA,EAAI,GAAK,OAC9BvC,GAAIv5D,GAEb0vC,EAAM,KAAOosB,EAAI,IAAMvhD,EAAI,OAASuhD,EAAI,MAAQvhD,EAAI,GAAK,KAChDwhD,GACT5lD,EAAM,kBAAmB4lD,GACzBrsB,EAAM,KAAOosB,EAAI,IAAMvhD,EAAI,IAAMva,EAAI,IAAM+7D,EACrC,KAAOD,EAAI,MAAQvhD,EAAI,GAAK,MAGlCm1B,EAAM,KAAOosB,EAAI,IAAMvhD,EAAI,IAAMva,EAC3B,KAAO87D,EAAI,MAAQvhD,EAAI,GAAK,KAGpCpE,EAAM,eAAgBu5B,GACfA,KA5BAwsB,CAAapD,EAAM/7D,MACzBlH,KAAK,KAtBDsmE,CAAcrD,EAAM/7D,GAC3BoZ,EAAM,SAAU2iD,GAChBA,EAmHF,SAAyBA,EAAM/7D,GAE7B,OADAoZ,EAAM,iBAAkB2iD,EAAM/7D,GACvB+7D,EAAKxrE,MAAM,OAAOgC,KAAI,SAAUwpE,GACrC,OAIJ,SAAwBA,EAAM/7D,GAC5B+7D,EAAOA,EAAKh0C,OACZ,IAAIm2C,EAAIl+D,EAAQ85D,MAAQvC,EAAGwB,GAAexB,EAAGuB,GAC7C,OAAOiD,EAAKn2C,QAAQs4C,GAAG,SAAUvrB,EAAK0sB,EAAMN,EAAGvhD,EAAGva,EAAG+7D,GACnD5lD,EAAM,SAAU2iD,EAAMppB,EAAK0sB,EAAMN,EAAGvhD,EAAGva,EAAG+7D,GAC1C,IAAIM,EAAK9C,GAAIuC,GACTQ,EAAKD,GAAM9C,GAAIh/C,GACfgiD,EAAKD,GAAM/C,GAAIv5D,GAwDnB,MArDa,MAATo8D,GAFOG,IAGTH,EAAO,IAGLC,EAGA3sB,EAFW,MAAT0sB,GAAyB,MAATA,EAEZ,SAGA,IAECA,GAdAG,GAiBLD,IACF/hD,EAAI,GAENva,EAAI,EAES,MAATo8D,GAIFA,EAAO,KACHE,GACFR,GAAKA,EAAI,EACTvhD,EAAI,EACJva,EAAI,IAEJua,GAAKA,EAAI,EACTva,EAAI,IAEY,OAATo8D,IAGTA,EAAO,IACHE,EACFR,GAAKA,EAAI,EAETvhD,GAAKA,EAAI,GAIbm1B,EAAM0sB,EAAON,EAAI,IAAMvhD,EAAI,IAAMva,GACxBs8D,EACT5sB,EAAM,KAAOosB,EAAI,WAAaA,EAAI,GAAK,OAC9BS,IACT7sB,EAAM,KAAOosB,EAAI,IAAMvhD,EAAI,OAASuhD,EAAI,MAAQvhD,EAAI,GAAK,MAG3DpE,EAAM,gBAAiBu5B,GAEhBA,KAnEA8sB,CAAc1D,EAAM/7D,MAC1BlH,KAAK,KAvHD4mE,CAAe3D,EAAM/7D,GAC5BoZ,EAAM,SAAU2iD,GAChBA,EA6LF,SAAuBA,EAAM/7D,GAG3B,OAFAoZ,EAAM,eAAgB2iD,EAAM/7D,GAErB+7D,EAAKh0C,OAAOnC,QAAQ2xC,EAAGlI,GAAO,IAhM9BsQ,CAAa5D,EAAM/7D,GAC1BoZ,EAAM,QAAS2iD,GACRA,EAtDE6D,CAAgB7D,EAAMtvE,KAAKuT,WACjCvT,MAAMqM,KAAK,KAAKvI,MAAM,OAWzB,OAVI9D,KAAKuT,QAAQ85D,QAEfr4C,EAAMA,EAAI5oB,QAAO,SAAUkjE,GACzB,QAASA,EAAKx6C,MAAMs9C,OAGlBp9C,EAAIlvB,KAAI,SAAUwpE,GACtB,OAAO,IAAID,GAAWC,EAAMtvE,KAAKuT,WAChCvT,OAKL6vE,GAAM3iE,UAAUwkE,WAAa,SAAU91B,EAAOroC,GAC5C,KAAMqoC,aAAiBi0B,IACrB,MAAM,IAAI59B,UAAU,uBAGtB,OAAOjyC,KAAKg1B,IAAI4W,MAAK,SAAUwnC,GAC7B,OAAOA,EAAgBziB,OAAM,SAAU0iB,GACrC,OAAOz3B,EAAM5mB,IAAI4W,MAAK,SAAU0nC,GAC9B,OAAOA,EAAiB3iB,OAAM,SAAU4iB,GACtC,OAAOF,EAAe3B,WAAW6B,EAAiBhgE,gBAQ5DpU,EAAQq0E,cACR,SAAwB53B,EAAOroC,GAC7B,OAAO,IAAIs8D,GAAMj0B,EAAOroC,GAASyhB,IAAIlvB,KAAI,SAAUwpE,GACjD,OAAOA,EAAKxpE,KAAI,SAAU6jB,GACxB,OAAOA,EAAEvqB,SACRiN,KAAK,KAAKivB,OAAOx3B,MAAM,SAoP9B+rE,GAAM3iE,UAAUiE,KAAO,SAAU3R,GAC/B,IAAKA,EACH,OAAO,EAGc,iBAAZA,IACTA,EAAU,IAAIkrE,EAAOlrE,EAASQ,KAAKuT,UAGrC,IAAK,IAAIzC,EAAI,EAAGA,EAAI9Q,KAAKg1B,IAAIjkB,OAAQD,IACnC,GAAI+/D,GAAQ7wE,KAAKg1B,IAAIlkB,GAAItR,EAASQ,KAAKuT,SACrC,OAAO,EAGX,OAAO,GAuCTpU,EAAQ4vD,UAAYA,GAUpB5vD,EAAQs0E,cACR,SAAwB7vE,EAAUg4C,EAAOroC,GACvC,IAAI8N,EAAM,KACNqyD,EAAQ,KACZ,IACE,IAAIC,EAAW,IAAI9D,GAAMj0B,EAAOroC,GAChC,MAAO6hC,GACP,OAAO,KAYT,OAVAxxC,EAASwD,SAAQ,SAAU6hC,GACrB0qC,EAASxiE,KAAK83B,KAEX5nB,IAA6B,IAAtBqyD,EAAM5F,QAAQ7kC,KAGxByqC,EAAQ,IAAIhJ,EADZrpD,EAAM4nB,EACkB11B,QAIvB8N,GAGTliB,EAAQy0E,cACR,SAAwBhwE,EAAUg4C,EAAOroC,GACvC,IAAI+N,EAAM,KACNuyD,EAAQ,KACZ,IACE,IAAIF,EAAW,IAAI9D,GAAMj0B,EAAOroC,GAChC,MAAO6hC,GACP,OAAO,KAYT,OAVAxxC,EAASwD,SAAQ,SAAU6hC,GACrB0qC,EAASxiE,KAAK83B,KAEX3nB,GAA4B,IAArBuyD,EAAM/F,QAAQ7kC,KAGxB4qC,EAAQ,IAAInJ,EADZppD,EAAM2nB,EACkB11B,QAIvB+N,GAGTniB,EAAQ20E,WACR,SAAqBl4B,EAAOyxB,GAC1BzxB,EAAQ,IAAIi0B,GAAMj0B,EAAOyxB,GAEzB,IAAI0G,EAAS,IAAIrJ,EAAO,SACxB,GAAI9uB,EAAMzqC,KAAK4iE,GACb,OAAOA,EAIT,GADAA,EAAS,IAAIrJ,EAAO,WAChB9uB,EAAMzqC,KAAK4iE,GACb,OAAOA,EAGTA,EAAS,KACT,IAAK,IAAIjjE,EAAI,EAAGA,EAAI8qC,EAAM5mB,IAAIjkB,SAAUD,EACpB8qC,EAAM5mB,IAAIlkB,GAEhB1J,SAAQ,SAAUoqE,GAE5B,IAAIwC,EAAU,IAAItJ,EAAO8G,EAAWh7B,OAAOh3C,SAC3C,OAAQgyE,EAAWhC,UACjB,IAAK,IAC+B,IAA9BwE,EAAQtG,WAAW38D,OACrBijE,EAAQjvB,QAERivB,EAAQtG,WAAWpmE,KAAK,GAE1B0sE,EAAQzG,IAAMyG,EAAQ16D,SAExB,IAAK,GACL,IAAK,KACEy6D,IAAUhF,EAAGgF,EAAQC,KACxBD,EAASC,GAEX,MACF,IAAK,IACL,IAAK,KAEH,MAEF,QACE,MAAM,IAAI1zE,MAAM,yBAA2BkxE,EAAWhC,cAK9D,OAAIuE,GAAUn4B,EAAMzqC,KAAK4iE,GAChBA,EAGF,MAGT50E,EAAQ80E,WACR,SAAqBr4B,EAAOroC,GAC1B,IAGE,OAAO,IAAIs8D,GAAMj0B,EAAOroC,GAASqoC,OAAS,IAC1C,MAAOxG,GACP,OAAO,OAKXj2C,EAAQ+0E,IACR,SAAc10E,EAASo8C,EAAOroC,GAC5B,OAAOw9D,GAAQvxE,EAASo8C,EAAO,IAAKroC,IAItCpU,EAAQg1E,IACR,SAAc30E,EAASo8C,EAAOroC,GAC5B,OAAOw9D,GAAQvxE,EAASo8C,EAAO,IAAKroC,IAGtCpU,EAAQ4xE,QAAUA,GAsElB5xE,EAAQuuE,WACR,SAAqBluE,EAAS+T,GAC5B,IAAI41D,EAASvxD,EAAMpY,EAAS+T,GAC5B,OAAQ41D,GAAUA,EAAOuE,WAAW38D,OAAUo4D,EAAOuE,WAAa,MAGpEvuE,EAAQuyE,WACR,SAAqB0C,EAAIC,EAAI9gE,GAG3B,OAFA6gE,EAAK,IAAIvE,GAAMuE,EAAI7gE,GACnB8gE,EAAK,IAAIxE,GAAMwE,EAAI9gE,GACZ6gE,EAAG1C,WAAW2C,IAGvBl1E,EAAQm1E,OACR,SAAiB90E,GACf,GAAIA,aAAmBkrE,EACrB,OAAOlrE,EAGT,GAAuB,iBAAZA,EACT,OAAO,KAGT,IAAIs1B,EAAQt1B,EAAQs1B,MAAMg2C,EAAGyB,IAE7B,OAAa,MAATz3C,EACK,KAGFld,EAAMkd,EAAM,GACjB,KAAOA,EAAM,IAAM,KACnB,KAAOA,EAAM,IAAM,Q,sBCv8CvB,SAASy/C,EAAYC,GACnB,MAA2B,mBAAbA,EAIhB,IAAIC,EAASj0E,QAAQC,MAAM2H,KAAK5H,SAIhC,SAAStB,EAAgB0qC,EAAKpnC,EAAMpD,GAClC,IAAIg2B,IAAewU,EAAIpnC,IAASonC,EAAIslB,qBAAqB1sD,GACzDvD,OAAOC,eAAe0qC,EAAKpnC,EAAM,CAC/B6yB,cAAc,EACdD,WAAYA,EACZ+5B,UAAU,EACV/vD,MAAOA,IAKX,SAASm3C,EAAShjC,GACZA,GAAWA,EAAQkhE,SAChBF,EAAWhhE,EAAQkhE,QACnBA,EAASlhE,EAAQkhE,OADWA,EAAO,+CAK5C,SAASngC,EAAMogC,EAAQlyE,EAAMmyE,GAC3B,GAAKD,GAAWA,EAAOlyE,GAAvB,CAKA,IAAKmyE,EAGH,OAFAF,EAAO,4BACPA,GAAO,IAAKn0E,OAASs5B,OAIvB,GAAK26C,EAAWG,EAAOlyE,KAAW+xE,EAAWI,GAA7C,CAKA,IAAIl/B,EAAWi/B,EAAOlyE,GAClBsgD,EAAU6xB,EAAQl/B,EAAUjzC,GAShC,OAPAtD,EAAe4jD,EAAS,aAAcrN,GACtCv2C,EAAe4jD,EAAS,YAAY,WAC9B4xB,EAAOlyE,KAAUsgD,GAAS5jD,EAAew1E,EAAQlyE,EAAMizC,MAE7Dv2C,EAAe4jD,EAAS,aAAa,GAErC5jD,EAAew1E,EAAQlyE,EAAMsgD,GACtBA,EAdL2xB,EAAO,sDAXPA,EAAO,wBAA0BjyE,EAAO,YAiD5C,SAASwsD,EAAQ0lB,EAAQlyE,GACvB,OAAKkyE,GAAWA,EAAOlyE,GAMlBkyE,EAAOlyE,GAAMoyE,SAGTF,EAAOlyE,GAAMoyE,gBAFpBH,EAAO,mCAAqCjyE,EAAO,6BANnDiyE,EAAO,+BACPA,GAAO,IAAKn0E,OAASs5B,QAgCzB2c,EAAQjC,KAAOA,EACfiC,EAAQE,SAzDR,SAAmBo+B,EAAS9tE,EAAO4tE,GACjC,IAAKE,EAGH,OAFAJ,EAAO,kDACPA,GAAO,IAAKn0E,OAASs5B,OAEXtjB,MAAM0jB,QAAQ66C,KACxBA,EAAU,CAACA,IAGP9tE,GAASuP,MAAM0jB,QAAQjzB,GAK7B8tE,EAAQztE,SAAQ,SAAUstE,GACxB3tE,EAAMK,SAAQ,SAAU5E,GACtB8xC,EAAKogC,EAAQlyE,EAAMmyE,SANrBF,EAAO,0DAgDXl+B,EAAQyY,OAASA,EACjBzY,EAAQu+B,WAxBR,SAAqBD,EAAS9tE,GAC5B,IAAK8tE,EAGH,OAFAJ,EAAO,kDACPA,GAAO,IAAKn0E,OAASs5B,OAEXtjB,MAAM0jB,QAAQ66C,KACxBA,EAAU,CAACA,IAGP9tE,GAASuP,MAAM0jB,QAAQjzB,GAK7B8tE,EAAQztE,SAAQ,SAAUstE,GACxB3tE,EAAMK,SAAQ,SAAU5E,GACtBwsD,EAAO0lB,EAAQlyE,SANjBiyE,EAAO,4DAgBX/mE,EAAOvO,QAAUo3C,G,QCjFjB7oC,EAAOvO,QAAU,SAA0BsB,EAAO85B,GAChD,IAAIw6C,EAAQ,GACZA,EAAMztE,KAdR,SAA2B7G,GACzB,IACE,OAAOH,MAAM4M,UAAUyH,SAASb,KAAKrT,GACrC,MAAOL,GACP,IACE,MAAO,WAAaA,EAAI,IACxB,MAAO40E,GACP,MAAO,YAOAC,CAAkBx0E,IAC7B,IAAK,IAAIqQ,EAAI,EAAGA,EAAIypB,EAAOxpB,OAAQD,IAAK,CACtC,IACI2qB,EADAhB,EAAQF,EAAOzpB,GAEnB,IACE2qB,EAAOhB,EAAM9lB,WACb,MAAOvU,GACP,IACEq7B,EAAO,WAAar7B,EAAI,IACxB,MAAO40E,GAEPv5C,EAAO,WAGXs5C,EAAMztE,KAAK,UAAYm0B,GAEzB,OAAOs5C,EAAM1oE,KAAK,Q,eCvDpB,GAAIklC,OAAO2jC,YAAa,CAEtB,GAAI3jC,OAAO2jC,YAAY11E,UAAY,WAKjC,MAAM,IAAIc,MAAM,4CAJhBoN,EAAOvO,QAAUoyC,OAAO2jC,iBAS1BxnE,EAAOvO,QAAUoyC,OAAO2jC,YAAc,EAAQ,O,6DCZhD,IAAIC,EAAkB,EAAQ,KAG9B,SAASjyB,IACPljD,KAAKo1E,OAAS,IAAIC,EAClBr1E,KAAKoM,OAAS,IAAIipE,EAClBr1E,KAAKsZ,OAAS,IAAIg8D,EAClBt1E,KAAKR,QAAU,WAIjB,IAAI+1E,GAAwB,EAC5BryB,EAAWh2C,UAAUwkC,SAAW,SAAS8jC,EAAiBjiE,GACnDA,IAASA,EAAU,IAGxBgiE,GAAwB,EACxB,IAAI3rC,EAAM,GACVtpC,MAAMm1E,kBAAkB7rC,EAAK4rC,GAC7B,IAAIE,EAAY9rC,EAAIhQ,MAWpB,OAVA27C,GAAwB,EAGxBG,EAAYA,EAAUh8C,MAAMnmB,EAAQmmB,OAAS,GAGzCnmB,EAAQ6hE,SAAQM,EAAY11E,KAAKo1E,OAAOO,QAAQ/rC,EAAK8rC,IACrDniE,EAAQnH,SAAQspE,EAAY11E,KAAKoM,OAAOupE,QAAQ/rC,EAAK8rC,IAGlDA,GAGT,IAAIr7B,EAAQ,IAAI6I,EAEhB,SAASmyB,IACPr1E,KAAKojD,WAAa,GAwBpB,SAASkyB,IACPt1E,KAAK41E,UAAYT,EACjBn1E,KAAK61E,eAAYryE,EAvBnB6xE,EAAcnoE,UAAUyoE,QAAU,SAAUl1E,EAAO85B,GACjD,IAAK,IAAIzpB,EAAI,EAAG++C,EAAI7vD,KAAKojD,WAAWryC,OAAQD,EAAI++C,EAAG/+C,IACjDypB,EAASv6B,KAAKojD,WAAWtyC,GAAGrQ,EAAO85B,GAGrC,OAAOA,GAGT86C,EAAcnoE,UAAUukC,OAAS,SAAU0R,GACzCnjD,KAAKojD,WAAW97C,KAAK67C,IAGvBkyB,EAAcnoE,UAAUm2C,SAAW,SAAUF,GAC3C,IAAI97C,EAAQrH,KAAKojD,WAAWv4B,QAAQs4B,GAEpC,OAAe,IAAX97C,IAEJrH,KAAKojD,WAAWhoB,OAAO/zB,EAAO,IACvB,IAQTiuE,EAAcpoE,UAAUisB,QAAU,SAAU28C,GACtCA,EACF91E,KAAK41E,UAAYE,EAEjB91E,KAAK+1E,WAITT,EAAcpoE,UAAU6oE,QAAW,WACjC/1E,KAAK41E,UAAYT,EACjBn1E,KAAK61E,eAAYryE,GAGnB8xE,EAAcpoE,UAAU8oE,QAAU,WAChCh2E,KAAK61E,UAAY71E,KAAK41E,WAGxBN,EAAcpoE,UAAU+oE,UAAY,WAC9Bj2E,KAAK61E,YAAcV,EACrBn1E,KAAKm5B,aAAQ31B,GAEbxD,KAAKm5B,QAAQn5B,KAAK61E,WAGpB71E,KAAK61E,eAAYryE,GAWflD,MAAM41E,mBACN77B,EAAM/gC,OAAO6f,QAAQ74B,MAAM41E,mBAG/B,IAAIC,GAAwB,EAC5B,SAASD,EAAkBz1E,EAAO21E,GAChC,GAAIb,EAAuB,OAAOa,EAClC,GAAID,EAAuB,OAAOhB,EAAgB10E,EAAO21E,GAGzD,IAAI77C,EAAS67C,EAAe1lE,SAG5B6pB,EAAS8f,EAAM+6B,OAAOO,QAAQl1E,EAAO85B,GAMrCA,GAHAA,EAAS8f,EAAMjuC,OAAOupE,QAAQl1E,EAAO85B,IAGrBb,MAAM,EAAGp5B,MAAM+1E,iBAM3Bp3E,OAAOq3E,aAAa71E,SACoC+C,IAAvDvE,OAAOs3E,yBAAyB91E,EAAO,cAC1CA,EAAMixC,SAAW,CACf+D,SAAU2gC,EACVI,QAASj8C,IAKb47C,GAAwB,EACxB,IAAI78D,EAAS+gC,EAAM/gC,OAAOs8D,UAAUn1E,EAAO85B,GAG3C,OAFA47C,GAAwB,EAEjB78D,EAITra,OAAOC,eAAeoB,MAAO,oBAAqB,CAChD,IAAO,WACL,OAAO41E,GAGT,IAAO,SAAUJ,GAOXA,IAAaI,EACf77B,EAAM/gC,OAAO28D,aAOb57B,EAAM/gC,OAAO08D,UACb37B,EAAM/gC,OAAO6f,QAAQ28C,OAgB3B72E,OAAOC,eAAeoB,MAAM4M,UAAW,WAAY,CACjD,IATF,WAKE,OAHAlN,KAAK45B,MAGE55B,KAAK0xC,UAMZ,IAAO,SAAUnX,GAGft7B,OAAOC,eAAec,KAAM,WAAY,CACpCZ,MAAOm7B,EACP40B,UAAU,EACV95B,cAAc,KAIpBA,cAAc,IAGhB3nB,EAAOvO,QAAUk7C,G,4BC5LjB,MAAM6iB,EAAW,EAAQ,MAEnBH,EAAe,CAACz7C,EAAKD,EAAK9N,KAC9B,IAAsB,IAAlB2pD,EAAS57C,GACX,MAAM,IAAI2wB,UAAU,4DAGtB,QAAY,IAAR5wB,GAAkBC,IAAQD,EAC5B,OAAO6nB,OAAO5nB,GAGhB,IAAsB,IAAlB47C,EAAS77C,GACX,MAAM,IAAI4wB,UAAU,8DAGtB,IAAIuN,EAAO,CAAEi3B,YAAY,KAASljE,GACF,kBAArBisC,EAAKk3B,cACdl3B,EAAKi3B,YAAkC,IAArBj3B,EAAKk3B,aAGzB,IAIIC,EAAWr1D,EAAM,IAAMD,EAAM,IAJrB6nB,OAAOsW,EAAKi3B,YACRvtC,OAAOsW,EAAKo3B,WACd1tC,OAAOsW,EAAKme,SACfz0B,OAAOsW,EAAKlL,MAGvB,GAAIyoB,EAAaf,MAAMvlD,eAAekgE,GACpC,OAAO5Z,EAAaf,MAAM2a,GAAUpvE,OAGtC,IAAIC,EAAIsZ,KAAKQ,IAAIA,EAAKD,GAClB5Z,EAAIqZ,KAAKO,IAAIC,EAAKD,GAEtB,GAAwB,IAApBP,KAAKyrB,IAAI/kC,EAAIC,GAAU,CACzB,IAAIF,EAAS+Z,EAAM,IAAMD,EACzB,OAAIm+B,EAAKme,QACA,IAAIp2D,MAEK,IAAdi4C,EAAKlL,KACA/sC,EAEF,MAAMA,KAGf,IAAIsvE,EAAWC,EAAWx1D,IAAQw1D,EAAWz1D,GACzCywB,EAAQ,CAAExwB,MAAKD,MAAK7Z,IAAGC,KACvB62D,EAAY,GACZD,EAAY,GA4BhB,OA1BIwY,IACF/kC,EAAM+kC,SAAWA,EACjB/kC,EAAMssB,OAASl1B,OAAO4I,EAAMzwB,KAAKtQ,QAG/BvJ,EAAI,IAEN62D,EAAY0Y,EADCtvE,EAAI,EAAIqZ,KAAKyrB,IAAI9kC,GAAK,EACCqZ,KAAKyrB,IAAI/kC,GAAIsqC,EAAO0N,GACxDh4C,EAAIsqC,EAAMtqC,EAAI,GAGZC,GAAK,IACP62D,EAAYyY,EAAgBvvE,EAAGC,EAAGqqC,EAAO0N,IAG3C1N,EAAMusB,UAAYA,EAClBvsB,EAAMwsB,UAAYA,EAClBxsB,EAAMvqC,OAYR,SAAyByvE,EAAKC,EAAK1jE,GACjC,IAAI2jE,EAAeC,EAAeH,EAAKC,EAAK,KAAK,IAAmB,GAChEG,EAAeD,EAAeF,EAAKD,EAAK,IAAI,IAAmB,GAC/DK,EAAcF,EAAeH,EAAKC,EAAK,MAAM,IAAkB,GAEnE,OADkBC,EAAaxmE,OAAO2mE,GAAa3mE,OAAO0mE,GACvC/qE,KAAK,KAjBTirE,CAAgBjZ,EAAWC,IAErB,IAAjB9e,EAAKme,QACP7rB,EAAMvqC,OAAS,IAAIuqC,EAAMvqC,WACF,IAAdi4C,EAAKlL,MAAmBgqB,EAAUvtD,OAASstD,EAAUttD,OAAU,IACxE+gC,EAAMvqC,OAAS,MAAMuqC,EAAMvqC,WAG7Bw1D,EAAaf,MAAM2a,GAAY7kC,EACxBA,EAAMvqC,QA4Cf,SAASgwE,EAAetpC,EAAOupC,EAAMjkE,GACnC,GAAI06B,IAAUupC,EACZ,MAAO,CAAE78B,QAAS1M,EAAOhtB,MAAO,GAAIw2D,OAAQ,GAG9C,IAAIC,EAoFN,SAAalwE,EAAGC,GACd,IAAIq5C,EAAM,GACV,IAAK,IAAIhwC,EAAI,EAAGA,EAAItJ,EAAEuJ,OAAQD,IAAKgwC,EAAIx5C,KAAK,CAACE,EAAEsJ,GAAIrJ,EAAEqJ,KACrD,OAAOgwC,EAvFM62B,CAAI1pC,EAAOupC,GACpBC,EAASC,EAAO3mE,OAChB4pC,EAAU,GACV15B,EAAQ,EAEZ,IAAK,IAAInQ,EAAI,EAAGA,EAAI2mE,EAAQ3mE,IAAK,CAC/B,IAAK8mE,EAAYC,GAAaH,EAAO5mE,GAEjC8mE,IAAeC,EACjBl9B,GAAWi9B,EAEa,MAAfA,GAAoC,MAAdC,EAC/Bl9B,GAuGG,IADiBnzC,EAtGQowE,KAsGLnwE,EAtGiBowE,GAuGxBrwE,GAAM,EAAK,GAAK,MAAMC,KApGtCwZ,IAmGN,IAA0BzZ,EAAGC,EA3F3B,OAJIwZ,IACF05B,IAAiC,IAAtBpnC,EAAQqjE,UAAqB,MAAQ,SAG3C,CAAEj8B,UAAS15B,MAAO,CAACA,GAAQw2D,UAGpC,SAASV,EAAgBz1D,EAAKD,EAAKmlD,EAAKjzD,GACtC,IAGIkoC,EAHAE,EAjEN,SAAuBr6B,EAAKD,GAC1B,IAAIy2D,EAAQ,EACR3a,EAAQ,EAERqa,EAAOO,EAAWz2D,EAAKw2D,GACvBE,EAAQ,IAAI1uE,IAAI,CAAC+X,IAErB,KAAOC,GAAOk2D,GAAQA,GAAQn2D,GAC5B22D,EAAMvuE,IAAI+tE,GACVM,GAAS,EACTN,EAAOO,EAAWz2D,EAAKw2D,GAKzB,IAFAN,EAAOS,EAAW52D,EAAM,EAAG87C,GAAS,EAE7B77C,EAAMk2D,GAAQA,GAAQn2D,GAC3B22D,EAAMvuE,IAAI+tE,GACVra,GAAS,EACTqa,EAAOS,EAAW52D,EAAM,EAAG87C,GAAS,EAKtC,OAFA6a,EAAQ,IAAIA,GACZA,EAAMzZ,KAAKuP,GACJkK,EA0CME,CAAc52D,EAAKD,GAC5B6jD,EAAS,GACTj3B,EAAQ3sB,EAGZ,IAAK,IAAIxQ,EAAI,EAAGA,EAAI6qC,EAAO5qC,OAAQD,IAAK,CACtC,IAAIuQ,EAAMs6B,EAAO7qC,GACb84B,EAAM2tC,EAAeruC,OAAO+E,GAAQ/E,OAAO7nB,GAAM9N,GACjD4pD,EAAQ,GAEPqJ,EAAIqQ,WAAYp7B,GAAQA,EAAKd,UAAY/Q,EAAI+Q,SAW9C6rB,EAAIqQ,WACN1Z,EAAQgb,EAAS92D,EAAKmlD,EAAKjzD,IAG7Bq2B,EAAIgnB,OAASuM,EAAQvzB,EAAI+Q,QAAUy9B,EAAaxuC,EAAI3oB,OACpDikD,EAAO59D,KAAKsiC,GACZqE,EAAQ5sB,EAAM,EACdo6B,EAAO7R,IAjBD6R,EAAKx6B,MAAMlQ,OAAS,GACtB0qC,EAAKx6B,MAAMu0B,MAGbiG,EAAKx6B,MAAM3Z,KAAKsiC,EAAI3oB,MAAM,IAC1Bw6B,EAAKmV,OAASnV,EAAKd,QAAUy9B,EAAa38B,EAAKx6B,OAC/CgtB,EAAQ5sB,EAAM,GAclB,OAAO6jD,EAGT,SAASiS,EAAer2B,EAAKu3B,EAAY/8B,EAAQg9B,EAAc/kE,GAC7D,IAAIhM,EAAS,GAEb,IAAK,IAAIy3C,KAAO8B,EAAK,CACnB,IAAI,OAAE8P,GAAW5R,EAGZs5B,GAAiB9W,EAAS6W,EAAY,SAAUznB,IACnDrpD,EAAOD,KAAKg0C,EAASsV,GAInB0nB,GAAgB9W,EAAS6W,EAAY,SAAUznB,IACjDrpD,EAAOD,KAAKg0C,EAASsV,GAGzB,OAAOrpD,EAaT,SAASumE,EAAQtmE,EAAGC,GAClB,OAAOD,EAAIC,EAAI,EAAIA,EAAID,GAAK,EAAI,EAGlC,SAASg6D,EAAS1gB,EAAKv/C,EAAK0P,GAC1B,OAAO6vC,EAAIlV,MAAKoT,GAAOA,EAAIz9C,KAAS0P,IAGtC,SAAS8mE,EAAWz2D,EAAKomB,GACvB,OAAO+P,OAAOvO,OAAO5nB,GAAKoY,MAAM,GAAIgO,GAAO,IAAImc,OAAOnc,IAGxD,SAASuwC,EAAWM,EAASpb,GAC3B,OAAOob,EAAWA,EAAUz3D,KAAKI,IAAI,GAAIi8C,GAG3C,SAASib,EAAaX,GACpB,IAAKxpC,EAAQ,EAAGupC,EAAO,IAAMC,EAC7B,OAAID,GAAQvpC,EAAQ,EACX,IAAIA,GAASupC,EAAO,IAAMA,EAAO,OAEnC,GAOT,SAASV,EAAW/6D,GAClB,MAAO,YAAY5K,KAAK4K,GAG1B,SAASo8D,EAAS/4E,EAAOonE,EAAKjzD,GAC5B,IAAKizD,EAAIqQ,SACP,OAAOz3E,EAGT,IAAIivE,EAAOvtD,KAAKyrB,IAAIi6B,EAAIpI,OAASl1B,OAAO9pC,GAAO2R,QAC3CynE,GAA+B,IAAvBjlE,EAAQkjE,WAEpB,OAAQpI,GACN,KAAK,EACH,MAAO,GACT,KAAK,EACH,OAAOmK,EAAQ,KAAO,IACxB,KAAK,EACH,OAAOA,EAAQ,SAAW,KAC5B,QACE,OAAOA,EAAQ,OAAOnK,KAAU,KAAKA,MAS3CtR,EAAaf,MAAQ,GACrBe,EAAa0b,WAAa,IAAO1b,EAAaf,MAAQ,GAMtDtuD,EAAOvO,QAAU49D,G,4BC3RjB99D,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtDuE,QAAQoc,IAAgD,4CAAI,EAC5D,IAAI/c,EAAK,EAAQ,MACbmf,EAAK,EAAQ,MACbvd,EAAO,EAAQ,MACf8zE,EAAS,EAAQ,MACjBC,EAAc,EAAQ,MACtBC,EAAmC,WAEnC,SAASA,EAAkBv3E,EAAaC,EAAkBC,EAAKs3E,GAC3D,IAAItnE,EAAQvR,KACZA,KAAKqB,YAAcA,EACnBrB,KAAKsB,iBAAmBA,EACxBtB,KAAK64E,YAAa,EAClB74E,KAAK84E,WAAY,EACjB94E,KAAK64E,aAAeA,EACpB,IAAIE,EAAcp1E,QAAQoc,IAAiB,aAAK,GAC5Cg5D,GAAe13E,GAAmD,UAApCsC,QAAQoc,IAAsB,mBAC5Dg5D,EAAcn0E,EAAKyH,KAAK0sE,EAAa13E,EAAc,QACnDrB,KAAKg5E,UAAYh2E,EAAGi2E,kBAAkBF,EAAa,CAAExjC,MAAO,IAAK2jC,SAAU,OAAQC,WAAW,KAElGn5E,KAAKo5E,gBAAgB73E,GACrBvB,KAAKq5E,eAAiBX,EAAOY,UAAUC,0BAAyB,WAAc,OAAOhoE,EAAM6nE,gBAAgB73E,MAsQ/G,OApQAq3E,EAAkB1rE,UAAUksE,gBAAkB,SAAU73E,GACpD,IAAI0T,EAASyjE,EAAOY,UAAUE,iBAAiBZ,EAAkBa,qBAC7Dz5E,KAAK84E,YAAc7jE,EAAOhH,IAAI2qE,EAAkBc,6BAA6B,KAC7E15E,KAAK84E,UAAY7jE,EAAOhH,IAAI2qE,EAAkBc,6BAA6B,GACvE15E,KAAK84E,UACL94E,KAAK25E,wBAAwBp4E,GAG7BvB,KAAK6C,YAIjB+1E,EAAkB1rE,UAAUysE,wBAA0B,SAAUp4E,GAExDo3E,EAAYzqC,eACZluC,KAAK45E,kBAAoB,IAAIjB,EAAY58C,gBAAgBx6B,GAEzDvB,KAAK45E,kBAAkBnwD,QAAQmI,wBAAuB,KAGtD+mD,EAAYtqC,MAAM9sC,GACbutC,wBAAuB,GACvBF,2BAA0B,GAC1BD,0BAAyB,GACzBI,4BAA2B,GAC3BC,8BAA6B,GAC7BN,uBAAsB,GACtB9c,wBAAuB,GACvBqc,QACLjuC,KAAK45E,kBAAoBjB,EAAYzqC,eAEzCluC,KAAK45E,kBAAkBt6E,iBAAmBU,KAAK65E,sBAC3CnB,GAAUA,EAAO34D,MACjB/f,KAAK45E,kBAAkB7rE,QAAQwM,KAAKva,KAAK45E,kBAAkB7rE,QAAQkL,KAAK4B,QAAU69D,EAAO34D,IAAI+5D,UAC7F95E,KAAK45E,kBAAkB7rE,QAAQwM,KAAKva,KAAK45E,kBAAkB7rE,QAAQkL,KAAK0B,WAAa+9D,EAAO34D,IAAIpF,WAGhGpZ,GAA+B,IAAxBA,EAAIspB,QAAQ,UACnB7qB,KAAK45E,kBAAkB3kE,OAAOye,YAAc,+CAC5C1zB,KAAK64E,YAAa,IAY1BD,EAAkB1rE,UAAU2sE,oBAAsB,WAC9C,IAAIv6E,EAAmBL,OAAO0X,OAAO,MAKrC,GAJArX,EAAiB,aAAe6iB,EAAG8U,WACnC33B,EAAiB,2BAA6B6iB,EAAG2U,WAAa,IAAIqC,QAAQ,6BAA8B,UACxG75B,EAAiB,kBAAoBU,KAAKqB,YAC1C/B,EAAiB,qBAAuBU,KAAKsB,iBACzCo3E,GAAUA,EAAO34D,IAAK,CAItB,OAHAzgB,EAAiB,0BAA4Bo5E,EAAO34D,IAAI+5D,UACxDx6E,EAAiB,0BAA4Bo5E,EAAO34D,IAAIpF,UACxDrb,EAAiB,wBAA0Bo5E,EAAOl5E,QAC1Ck5E,EAAO34D,IAAIg6D,QACf,KAAKrB,EAAOsB,OAAOC,IACf36E,EAAiB,iBAAmB,MACpC,MACJ,KAAKo5E,EAAOsB,OAAOE,QACf56E,EAAiB,iBAAmB,UACpC,MACJ,QACIA,EAAiB,iBAAmB,UAE5CA,EAAiB,qBAAuBU,KAAKm6E,gBAAgBzB,EAAO34D,IAAIq6D,YAE5E,OAAO96E,GAEXs5E,EAAkB1rE,UAAUitE,gBAAkB,SAAUC,GACpD,IAAKA,EACD,MAAO,OAEX,IAAIl0B,EAAM,QAOV,MALA,CAAC,aAAc,gBAAiB,qBAAsB,OAAO9+C,SAAQ,SAAUqwB,GACrC,IAAlC2iD,EAAWvvD,QAAQ4M,EAAM,OACzByuB,EAAMzuB,MAGPyuB,GAEX0yB,EAAkB1rE,UAAUmtE,yBAA2B,WACnD,OAAIr6E,KAAK64E,YAC+C,UAAhD74E,KAAKm6E,gBAAgBzB,EAAO34D,IAAIq6D,kBAGb52E,IAAnBxD,KAAKs6E,WAA2Bt6E,KAAKs6E,UAAUC,gBAAkB7B,EAAO8B,cAAcC,WAGtF/B,EAAO34D,IAAIg6D,SAAWrB,EAAOsB,OAAOC,KAOhDh7E,OAAOC,eAAe05E,EAAkB1rE,UAAW,YAAa,CAC5De,IAAK,WAID,YAHwBzK,IAApBxD,KAAK06E,aACL16E,KAAK06E,WAAahC,EAAOiC,WAAWC,aAAa56E,KAAKqB,cAEnDrB,KAAK06E,YAEhBtlD,YAAY,EACZC,cAAc,IAElBujD,EAAkB1rE,UAAU2tE,eAAiB,SAAUjxC,EAAKkxC,GACxD,GAAY,OAARlxC,GAA+B,iBAARA,EACvB,OAAOA,EACX,GAAsB,mBAAXkxC,EACP,OAAOlxC,EACX,IAAIsc,EAAM,GACV,IAAK,IAAI3kD,KAAOqoC,EACZsc,EAAI3kD,GAAOu5E,EAAOv5E,EAAKqoC,EAAIroC,IAE/B,OAAO2kD,GAEX0yB,EAAkB1rE,UAAU6tE,mBAAqB,SAAUnhD,EAAOmhD,GAC9D,GAAInhD,QACA,MAAO,GAEX,IAAIohD,EAAkB,CAAC,IAAIjwC,OAAO2tC,EAAO34D,IAAIk7D,QAAQ9hD,QAAQ,sBAAuB,QAAS,OACzFn5B,KAAKs6E,WACLU,EAAgB1zE,KAAK,IAAIyjC,OAAO/qC,KAAKs6E,UAAUY,cAAc/hD,QAAQ,sBAAuB,QAAS,OAEzG,IAAIgiD,EAAevhD,EACnB,GAAImhD,EAAoB,CAEpB,IADA,IAAIK,EAAiB,GACZvnE,EAAK,EAAGwnE,EAAoBL,EAAiBnnE,EAAKwnE,EAAkBtqE,OAAQ8C,IAEjF,IADA,IAAIynE,EAASD,EAAkBxnE,KAClB,CACT,IAAItM,EAAS+zE,EAAOt/D,KAAK4d,GACzB,IAAKryB,EACD,MAEJ6zE,EAAe9zE,KAAK,CAACC,EAAOF,MAAOi0E,EAAO9R,YAGlD,IAAI+R,EAAmB,kDACnBC,EAAY,sFACZhS,EAAY,EAChB2R,EAAe,GAef,IAdA,IAAIz0B,EAAU,WACV,IAAIn/C,EAASi0E,EAAUx/D,KAAK4d,GAC5B,IAAKryB,EACD,MAAO,SAGNg0E,EAAiBpqE,KAAK5J,EAAO,KAAO6zE,EAAezqB,OAAM,SAAU3hD,GACpE,IAAIo6B,EAAIp6B,EAAG,GAAIysE,EAAIzsE,EAAG,GACtB,OAAOzH,EAAOF,MAAQ+hC,GAAK7hC,EAAOF,OAASo0E,OAE3CN,GAAgBvhD,EAAM9P,UAAU0/C,EAAWjiE,EAAOF,OAAS,6BAC3DmiE,EAAYgS,EAAUhS,YAKV,UADF9iB,MAId8iB,EAAY5vC,EAAM7oB,SAClBoqE,GAAgBvhD,EAAMzd,OAAOqtD,IAIrC,IAAK,IAAIx6D,EAAK,EAAG0sE,EAAoBV,EAAiBhsE,EAAK0sE,EAAkB3qE,OAAQ/B,IAC7EssE,EAASI,EAAkB1sE,GAC/BmsE,EAAeA,EAAahiD,QAAQmiD,EAAQ,IAEhD,OAAOH,GAEXvC,EAAkB1rE,UAAU/M,mBAAqB,SAAUN,EAAWC,EAAYC,GAC9E,IAAIwR,EAAQvR,KACZ,GAAIA,KAAK84E,WAAaj5E,GAAaG,KAAK45E,kBAAmB,CACvD,IAAI+B,EAAkB37E,KAAK66E,eAAe/6E,GAAY,SAAU87E,EAAM/qE,GAAQ,OAAOU,EAAMwpE,mBAAmBlqE,EAAMU,EAAMsnE,eAC1H74E,KAAK45E,kBAAkBlzC,WAAW,CAC9BlkC,KAAMxC,KAAKqB,YAAc,IAAMxB,EAC/BC,WAAY67E,EACZ57E,aAAcA,IAEdC,KAAKg5E,WACLh5E,KAAKg5E,UAAU/4C,MAAM,aAAepgC,EAAY,IAAMgzB,KAAKC,UAAU,CAAEhzB,WAAYA,EAAYC,aAAcA,IAAkB,QAI3I64E,EAAkB1rE,UAAU2uE,wBAA0B,SAAUh8E,EAAWC,EAAYC,EAAc+7E,GACjG,IAAIvqE,EAAQvR,KACZ,GAAIA,KAAK84E,WAAaj5E,GAAaG,KAAK45E,kBAAmB,CAIvD,IAAI+B,EAAkB37E,KAAK66E,eAAe/6E,GAAY,SAAUyB,EAAKsP,GACjE,OAAIU,EAAM8oE,2BACC9oE,EAAMwpE,mBAAmBlqE,EAAMU,EAAMsnE,iBAE7Br1E,IAAfs4E,IAAyD,IAA7BA,EAAWjxD,QAAQtpB,GACxC,WAEJgQ,EAAMwpE,mBAAmBlqE,EAAMU,EAAMsnE,eAEhD74E,KAAK45E,kBAAkBlzC,WAAW,CAC9BlkC,KAAMxC,KAAKqB,YAAc,IAAMxB,EAC/BC,WAAY67E,EACZ57E,aAAcA,IAEdC,KAAKg5E,WACLh5E,KAAKg5E,UAAU/4C,MAAM,aAAepgC,EAAY,IAAMgzB,KAAKC,UAAU,CAAEhzB,WAAYA,EAAYC,aAAcA,IAAkB,QAI3I64E,EAAkB1rE,UAAU6uE,uBAAyB,SAAUt7E,EAAOX,EAAYC,GAC9E,IAAIwR,EAAQvR,KACZ,GAAIA,KAAKq6E,4BAA8Br6E,KAAK84E,WAAar4E,GAAST,KAAK45E,kBAAmB,CACtF,IAAI+B,EAAkB37E,KAAK66E,eAAe/6E,GAAY,SAAU87E,EAAM/qE,GAAQ,OAAOU,EAAMwpE,mBAAmBlqE,EAAMU,EAAMsnE,eAC1H74E,KAAK45E,kBAAkBhoE,eAAe,CAClCC,UAAWpR,EACXX,WAAY67E,EACZ57E,aAAcA,IAEdC,KAAKg5E,WACLh5E,KAAKg5E,UAAU/4C,MAAM,aAAex/B,EAAM+B,KAAO,IAAM/B,EAAMF,QAAU,IAAMsyB,KAAKC,UAAU,CAAEhzB,WAAYA,EAAYC,aAAcA,IAAkB,QAIlK64E,EAAkB1rE,UAAUrK,QAAU,WAClC,IAAI0O,EAAQvR,KACZA,KAAKq5E,eAAex2E,UACpB,IAAIm5E,EAAsB,IAAI5pC,SAAQ,SAAU3b,GAC5C,IAAKllB,EAAMynE,UACP,OAAOviD,OAAQ,GAEnBllB,EAAMynE,UAAU5tE,GAAG,SAAUqrB,GAC7BllB,EAAMynE,UAAUhlE,SAEhBioE,EAAkB,IAAI7pC,SAAQ,SAAU3b,GACpCllB,EAAMqoE,kBACNroE,EAAMqoE,kBAAkB9nE,MAAM,CAC1BhN,SAAU,WAENyM,EAAMqoE,uBAAoBp2E,EAC1BizB,OAAQ,MAKhBA,OAAQ,MAGhB,OAAO2b,QAAQme,IAAI,CAAC0rB,EAAiBD,KAEzCpD,EAAkBa,oBAAsB,YACxCb,EAAkBc,4BAA8B,kBACzCd,EArR2B,GAuRtCz5E,EAAQiC,QAAUw3E,G,4BC7RlB35E,OAAOC,eAAeC,EAAS,aAAc,CAAEC,OAAO,IACtD,IAkBI88E,EAMAC,EAMAC,EASAC,EACA9oE,EACA+oE,EAzCA13E,EAAO,EAAQ,MACf5B,EAAK,EAAQ,MACb2R,EAAW1V,OAAOiO,UAAUyH,SAChC,SAAS4nE,EAAUn9E,GACf,YAAwB,IAAVA,EAElB,SAAS89D,EAAS99D,GACd,MAAgC,oBAAzBuV,EAASb,KAAK1U,GAEzB,SAASyxD,EAASzxD,GACd,MAAgC,oBAAzBuV,EAASb,KAAK1U,GAKzB,SAASo9E,EAAiB7qC,GACtB,OAAO9e,KAAKjb,MAAM5U,EAAG6zB,aAAa8a,EAAU,SAqFhD,SAASr4B,EAAO/Y,EAASijC,GAuBrB,OArBI84C,IAEA/7E,EAAU,IAAWA,EAAQ44B,QAAQ,WAAY,QAAU,KAE3C,IAAhBqK,EAAKzyB,OACIxQ,EAGAA,EAAQ44B,QAAQ,cAAc,SAAUrE,EAAOgyC,GACpD,IAAIz/D,EAAQy/D,EAAK,GACb2V,EAAMj5C,EAAKn8B,GACXq1E,EAAc5nD,EAOlB,MANmB,iBAAR2nD,EACPC,EAAcD,EAEM,iBAARA,GAAmC,kBAARA,GAAlC,MAAuDA,IAC5DC,EAAcxzC,OAAOuzC,IAElBC,KAKnB,SAASC,EAA6BC,GAClC,OAAO,SAAUr7E,EAAKhB,GAElB,IADA,IAAIijC,EAAO,GACF3vB,EAAK,EAAGA,EAAKtH,UAAUwE,OAAQ8C,IACpC2vB,EAAK3vB,EAAK,GAAKtH,UAAUsH,GAE7B,OAAIqpD,EAAS37D,GACLA,GAAOq7E,EAAS7rE,YAChBvQ,QAAQC,MAAM,qEAAuE,IAAIH,MAAM,IAAIs5B,OAGhGtgB,EAAOsjE,EAASr7E,GAAMiiC,GAGzBqtB,EAAStwD,IACTC,QAAQ4Q,KAAK,WAAa7Q,EAAU,uCAC7B+Y,EAAO/Y,EAASijC,SAGvBhjC,QAAQC,MAAM,gDAAkD,IAAIH,MAAM,IAAIs5B,QAK9F,SAASijD,EAASt7E,EAAKhB,GAEnB,IADA,IAAIijC,EAAO,GACF3vB,EAAK,EAAGA,EAAKtH,UAAUwE,OAAQ8C,IACpC2vB,EAAK3vB,EAAK,GAAKtH,UAAUsH,GAE7B,OAAOyF,EAAO/Y,EAASijC,GAgI3B,SAASs5C,EAAYv7E,EAAKw7E,GAEtB,OADAV,EAAgB96E,GAAOw7E,EAChBA,EA+CX,SAASC,EAAqBC,GAC1B,IACI,OAhGR,SAAgCC,GAC5B,IAAIC,EAAWX,EAAiB53E,EAAKyH,KAAK6wE,EAAQ,sBAC9C31E,EAAStI,OAAO0X,OAAO,MAC3B,IAAK,IAAIymE,KAAYD,EAAU,CAC3B,IAAI92E,EAAQ82E,EAASC,GACrB71E,EAAO61E,GAAY/2E,EAAMu2E,SAE7B,OAAOr1E,EAyFI81E,CAAuBJ,GAElC,MAAOx9E,GAEH,YADAe,QAAQirD,IAAI,mDAAoDhsD,IAIxE,SAAS69E,EAAcltE,EAAQ6sE,GAC3B,IAAI11E,EAEJ,IAtPuC,IAAhCgM,EAAQgqE,0BAAsD/5E,IAAtB+P,EAAQiqE,gBAAsDh6E,IAA3B+P,EAAQkqE,qBAAmEj6E,IAAnC+P,EAAQmqE,6BAC5Fl6E,IAA/B+P,EAAQoqE,mBAsPX,IACIp2E,EA3DZ,SAAuC6I,EAAQ6sE,GAC3C,IAAI11E,EAXOq2E,EACPrnE,EAWAwmE,EAASn4E,EAAKyH,KAAKkH,EAAQiqE,UAAWptE,EAAOzB,GAAK,IAAMyB,EAAO0H,KAAO,SACtE+lE,GAAgB,EAChBC,GAAc,EAClB,IAGI,OAFAv2E,EAASsrB,KAAKjb,MAAM5U,EAAG6zB,aAAakmD,EAAQ,CAAE7D,SAAU,OAAQ6E,KAAM,OAhB/DH,EAiBDb,EAhBNxmE,EAAI,IAAIa,KACZpU,EAAGg7E,OAAOJ,EAAMrnE,EAAGA,GAAG,eAgBXhP,EAEX,MAAO9H,GACH,GAAiB,WAAbA,EAAImkC,KACJk6C,GAAc,MAEb,MAAIr+E,aAAeigD,aAWpB,MAAMjgD,EATNe,QAAQirD,IAAI,wCAA0ChsD,EAAIc,QAAU,KACpEyC,EAAGmjC,OAAO42C,GAAQ,SAAUt9E,GACpBA,GACAe,QAAQC,MAAM,6BAA+Bs8E,EAAS,eAG9Dc,GAAgB,GAOxB,KADAt2E,EApEJ,SAAyB6I,EAAQ6tE,GAC7B,IAAIC,EAAuB3qE,EAAQoqE,mBAAmBvtE,EAAOzB,IAC7D,GAAKuvE,EAAL,CAGA,IAAIC,EAAe3B,EAAiB0B,GAAsBE,SACtDjB,EAAWX,EAAiB53E,EAAKyH,KAAK4xE,EAAc,sBACpD12E,EAAStI,OAAO0X,OAAO,MAC3B,IAAK,IAAI0nE,KAAYlB,EAAU,CAC3B,IAAI92E,EAAQ82E,EAASkB,GACjBC,EAAeH,EAAa/tE,EAAOmuE,OAAS,IAAMF,GACtD,GAAIC,EAAc,CAEd,IADA,IAAIE,EAAiB,GACZ1tE,EAAI,EAAGA,EAAIzK,EAAM4S,KAAKlI,OAAQD,IAAK,CACxC,IAAI2tE,EAAap4E,EAAM4S,KAAKnI,GAExB4tE,EAAoBJ,EADdztB,EAAS4tB,GAAcA,EAAaA,EAAWl9E,UAE/BiC,IAAtBk7E,IACAA,EAAoBr4E,EAAMu2E,SAAS9rE,IAEvC0tE,EAAel3E,KAAKo3E,GAExBn3E,EAAO82E,GAAYG,OAGnBj3E,EAAO82E,GAAYh4E,EAAMu2E,SAGjC,OAAOr1E,GAwCEo3E,CAAgBvuE,EAAQ6sE,KAClBY,EACX,OAAOt2E,EAEX,GAAIu2E,EACA,IACI96E,EAAG2iC,cAAco3C,EAAQlqD,KAAKC,UAAUvrB,GAAS,CAAE2xE,SAAU,OAAQ6E,KAAM,OAE/E,MAAOt+E,GACH,GAAiB,WAAbA,EAAImkC,KACJ,OAAOr8B,EAEX,MAAM9H,EAGd,OAAO8H,EAgBUq3E,CAA8BxuE,EAAQ6sE,GAEnD,MAAOx9E,GACHe,QAAQirD,IAAI,gCAAiChsD,GAGrD,IAAK8H,EAAQ,CAIT,GAAIgM,EAAQgqE,oBACR,OAAOP,EAAqBC,GAEhC,IAAI4B,EAvKZ,SAA4BzrB,GAExB,IADA,IAAI0rB,EAAWvrE,EAAQurE,SAChBA,GAAU,CACb,IAAID,EAAYj6E,EAAKyH,KAAK+mD,EAAM,cAAgB0rB,EAAW,SAC3D,GAAI97E,EAAGy/B,WAAWo8C,GACd,OAAOA,EAGP,IAAIx3E,EAAQy3E,EAASj1D,YAAY,KAE7Bi1D,EADAz3E,EAAQ,EACGy3E,EAASh1D,UAAU,EAAGziB,QAGtB7D,EAKvB,QAAiBA,IAAbs7E,IACID,EAAYj6E,EAAKyH,KAAK+mD,EAAM,mBAC5BpwD,EAAGy/B,WAAWo8C,IACd,OAAOA,EAkJKE,CAAmB9B,GACnC,GAAI4B,EACA,IACI,OAAOrC,EAAiBqC,GAE5B,MAAOp/E,GACHe,QAAQirD,IAAI,4CAA6ChsD,GAGjE8H,EAASy1E,EAAqBC,GAElC,OAAO11E,EAqBX,SAASy3E,EAAkBpB,GACvB,IAAKA,EAGD,OAAOf,EAGX,IAAIoC,EAAMr6E,EAAKs6E,QAAQtB,GAIvB,GAHIqB,IACArB,EAAOA,EAAKzhE,OAAO,EAAGyhE,EAAK7sE,OAASkuE,EAAIluE,SAExCwC,EAAQ4rE,gBAAkBjD,EAAckD,MAAQ7rE,EAAQ4rE,gBAAkBjD,EAAca,OAAQ,CAChG,IAAIsC,EA/BZ,SAAmCzB,GAG/B,IAFA,IAAIr2E,EACAwhD,EAAUnkD,EAAKmkD,QAAQ60B,GAEvBr2E,EAAS3C,EAAKyH,KAAK08C,EAAS,6BACxB/lD,EAAGy/B,WAAWl7B,IAFT,CAKT,IAAIyzC,EAASp2C,EAAKmkD,QAAQA,GAC1B,GAAI/N,IAAW+N,EAAS,CACpBxhD,OAAS/D,EACT,MAGAulD,EAAU/N,EAGlB,OAAOzzC,EAcc+3E,CAA0B1B,GAC3C,GAAIyB,EAAY,CACZ,IAAIpC,EAAar4E,EAAKmkD,QAAQs2B,GAC1BtC,EAASV,EAAgBY,GAC7B,QAAez5E,IAAXu5E,EACA,IACI,IAAI3sE,EAASyiB,KAAKjb,MAAM5U,EAAG6zB,aAAawoD,EAAY,SACpD,IACI,IAAIE,EAAYjC,EAAcltE,EAAQ6sE,GACtCF,EAASD,EAAYG,EAAYsC,EAAY,CAAEnvE,OAAQA,EAAQmvE,UAAWA,GAAc,MAE5F,MAAO9/E,GACHe,QAAQC,MAAM,4BAA6BhB,GAC3Cs9E,EAASD,EAAYG,EAAY,OAGzC,MAAOx9E,GACHe,QAAQC,MAAM,6BAA8BhB,GAC5Cs9E,EAASD,EAAYG,EAAY,MAGzC,GAAIF,EAAQ,CACR,IAAIyC,EAAW5B,EAAKzhE,OAAO8gE,EAAWlsE,OAAS,GAAGooB,QAAQ,MAAO,KAC7DyjD,EAAWG,EAAOwC,UAAUC,GAChC,YAAiBh8E,IAAbo5E,GACAp8E,QAAQC,MAAM,qBAAuBm9E,EAAO,wCACrC,WACH,MAAO,wBAGRjB,EAA6BC,KAIhD,GAAIrpE,EAAQ4rE,gBAAkBjD,EAAckD,MAAQ7rE,EAAQ4rE,gBAAkBjD,EAAc0B,KAExF,IACI,IAAI6B,EAAOjD,EA3RvB,SAAyBoB,GACrB,IAAI8B,EACJ,GAAInsE,EAAQosE,yBAA2BD,EACnCA,EAAmBA,MAElB,CACD,GAAIpD,IAAa/oE,EAAQurE,SACrBY,EAAmB,iBAInB,IADA,IAAIE,EAASrsE,EAAQurE,SACdc,GAAQ,CACX,IAAIf,EAAY,QAAUe,EAAS,QACnC,GAAI58E,EAAGy/B,WAAWm7C,EAAOiB,GAAY,CACjCa,EAAmBb,EACnB,MAGA,IAAIx3E,EAAQu4E,EAAO/1D,YAAY,KAC3BxiB,EAAQ,EACRu4E,EAASA,EAAO91D,UAAU,EAAGziB,IAG7Bq4E,EAAmB,YACnBE,EAAS,MAKrBrsE,EAAQosE,0BACRD,EAAmBA,GAG3B,OAAO9B,EAAO8B,EA0PsBG,CAAgBjC,IAC5C,OAAItnE,MAAM0jB,QAAQylD,GACP9C,EAA6B8C,GAGhClD,EAAUkD,EAAK7C,WAAaL,EAAUkD,EAAKxmE,MACpC0jE,EAA6B8C,EAAK7C,WAGzCp8E,QAAQC,MAAM,kBAAoBm9E,EAAO,iCAClC,WACH,MAAO,gEAKvB,MAAOn+E,GACc,WAAbA,EAAImkC,MACJpjC,QAAQC,MAAM,oCAAqChB,GAK/D,OADAe,QAAQC,MAAM,0CAA4Cm9E,GACnD,WACH,MAAO,4DA7bf,SAAW1B,GACPA,EAAoB,KAAI,OACxBA,EAAsB,OAAI,SAC1BA,EAAoB,KAAI,OAH5B,CAIGA,EAAgB/8E,EAAQ+8E,gBAAkB/8E,EAAQ+8E,cAAgB,KAErE,SAAWC,GAEPA,EAAyB,WAAI,aAC7BA,EAA2B,aAAI,eAHnC,CAIGA,EAAeh9E,EAAQg9E,eAAiBh9E,EAAQg9E,aAAe,KAElE,SAAWC,GAKPA,EAAa0D,GAJb,SAAY1gF,GACR,IAAIy/E,EAAYz/E,EAChB,OAAOy/E,GAAatC,EAAUsC,EAAUt9E,MAAQg7E,EAAUsC,EAAUkB,UAH5E,CAMG3D,IAAiBA,EAAe,KAKnC,WAEI,GADA7oE,EAAU,CAAEqsE,YAAQp8E,EAAWs7E,cAAUt7E,EAAW+5E,qBAAqB,EAAOoC,yBAAyB,EAAMR,cAAejD,EAAca,QACxIlsB,EAASltD,QAAQoc,IAAIigE,mBACrB,IACI,IAAIC,EAAgBptD,KAAKjb,MAAMjU,QAAQoc,IAAIigE,mBACvClB,OAAW,EAEf,GAAImB,EAAcC,mBAAoB,CAClC,IAAI9gF,EAAQ6gF,EAAcC,mBAAmB,KACzCrvB,EAASzxD,KACT0/E,EAAW1/E,GAqBnB,GAlBIyxD,EAASovB,EAAcL,UACvBrsE,EAAQqsE,OAASK,EAAcL,OAAO3pD,oBAEzBzyB,IAAbs7E,EACAvrE,EAAQurE,SAAWvrE,EAAQqsE,OAET,OAAbd,IACLvrE,EAAQurE,SAAWA,GAlDnC,SAAmB1/E,GACf,OAAiB,IAAVA,IAA4B,IAAVA,EAmDb+gF,CAAUF,EAAcG,wBACxB7sE,EAAQgqE,oBAAsB0C,EAAcG,sBAE5CvvB,EAASovB,EAAcI,cACvB9sE,EAAQiqE,UAAYyC,EAAcI,YAElCxvB,EAASovB,EAAcK,mBACvB/sE,EAAQkqE,eAAiBwC,EAAcK,iBAEvCzvB,EAASovB,EAAcM,yBAA0B,CACjDhtE,EAAQmqE,uBAAyBuC,EAAcM,wBAC/C,IACIhtE,EAAQoqE,mBAAqBnB,EAAiBjpE,EAAQmqE,wBAE1D,MAAOj9E,GAECw/E,EAAcO,gBACdx9E,EAAGuiC,UAAU06C,EAAcO,eAAgB,YAAa,QAAQ,SAAU/gF,GACtEe,QAAQC,MAAMhB,QAMlC,MAAOuP,IAIXstE,EAA8B,WAAnB/oE,EAAQqsE,OAEnBvD,EAAkBp9E,OAAO0X,OAAO,MAEpC8pE,GAmXAthF,EAAQ6/E,kBAAoBA,EAmB5B7/E,EAAQ8V,OAlBR,SAAgBuqC,GAgBZ,OAfIA,IACIqR,EAASrR,EAAKogC,UACdrsE,EAAQqsE,OAASpgC,EAAKogC,OAAO3pD,cAC7B1iB,EAAQurE,SAAWvrE,EAAQqsE,OAE3BvD,EAAkBp9E,OAAO0X,OAAO,YAETnT,IAAvBg8C,EAAK2/B,gBACL5rE,EAAQ4rE,cAAgB3/B,EAAK2/B,eAE7B3/B,EAAKkhC,eAAiBvE,EAAawE,aAA8C,IAAhCptE,EAAQgqE,sBACzDhqE,EAAQgqE,qBAAsB,IAGtCjB,EAA8B,WAAnB/oE,EAAQqsE,OACZZ,I,uxKCreX,gBAEM,EADN,QACqB,kBAAiB,+CA4EtC,IAAiB,EA1EJ,2BAA2B,CAAC,EAAqB,IAA8B,EAAS,EAA2B,KAA2E,EAAa,EAAI,SAAW,GAC1N,uBAAwB,GAA4C,EAAS,EAAwB,KAAyD,EAAa,KAAK,QAEhL,8BAA8B,EAAS,EAA+B,MACtE,kBAAkB,EAAS,EAAmB,MAC9C,sCAAuC,GAAyC,EAAS,EAA2B,KAAyD,GAC7K,sBAAsB,EAAS,EAAqC,MACpE,uBAAuB,EAAS,EAAsC,MACtE,mBAAoB,GAAkC,EAAS,EAAoB,KAA4B,GAC/G,kBAAkB,EAAS,EAAmB,MAC9C,iBAAkB,GAAuC,EAAS,EAAkB,KAAsF,GAC1K,kBAAmB,GAAiC,EAAS,GAAmB,KAAmC,GACnH,gBAAgB,EAAS,GAAiB,MAC1C,sCAAsC,EAAS,GAAuC,MAGtF,eAAe,EAAS,GAAoB,MAC5C,mBAAmB,EAAS,GAAwB,MACpD,iBAAiB,EAAS,GAAgC,MAC1D,yBAAyB,aAAa,mBACtC,iBAAiB,EAAS,GAAsB,MAChD,mBAAmB,EAAS,GAAwB,MACpD,SAAS,EAAS,GAAwB,MAC1C,yBAAyB,kBACzB,oBAAoB,QACpB,qBAAqB,OAGrB,wBAAwB,EAAS,GAAuC,MACxE,YAAY,EAAS,GAAsB,MAC3C,mBAAmB,EAAS,GAAkC,MAC9D,yBAAyB,EAAS,GAAwC,MAC1E,mBAAmB,EAAS,GAAkC,MAC9D,uBAAuB,EAAS,GAAsC,MACtE,6BAA6B,EAAS,GAA4C,MAClF,sCAAuC,GAAsC,EAAS,GAAqD,KAA6E,GACxN,oCAAoC,CAAC,EAAqB,IAAsC,EAAS,GAAmD,KAA6E,EAAa,GACtP,yCAA0C,GAAiC,EAAS,GAAwD,KAAkF,GAC9N,oBAAoB,EAAS,GAAmC,MAChE,wBAAwB,EAAS,GAAuC,MACxE,oBAAoB,EAAS,GAAmC,MAChE,iBAAiB,EAAS,GAAgC,MAC1D,kBAAkB,EAAS,GAAiC,MAC5D,YAAY,EAAS,GAA2B,MAChD,iBAAiB,EAAS,GAAgC,MAC1D,KAAK,EAAS,GAAoB,MAClC,0BAA0B,EAAS,GAAyC,MAC5E,UAAU,EAAS,GAAyB,MAC5C,uBAAuB,EAAS,GAAsC,MACtE,eAAgB,GAAmB,EAAS,GAAgB,KAA8F,GAG1J,0BAA0B,EAAS,GAAyC,MAC5E,oBAAoB,CAAC,EAAkB,IAAsC,EAAS,GAAmC,KAAgE,EAAU,GACnM,oCAAqC,GAAsC,EAAS,GAAmD,KAAuE,GAC9M,UAAU,EAAS,GAAyB,MAC5C,wBAAwB,EAAS,GAAuC,MACxE,yBAAyB,EAAS,GAAwC,MAC1E,uBAAuB,EAAS,GAAsC,KAA+B,0BACrG,uBAAwB,GAAkC,EAAS,GAAsC,KAAoC,GAC7I,QAAQ,EAAS,GAAuB,MACxC,gBAAgB,EAAS,GAA+B,MACxD,kBAAkB,EAAS,GAAiC,MAC5D,wBAAwB,EAAS,GAAuC,MACxE,sBAAsB,EAAS,GAAqC,MACpE,4BAA4B,EAAS,GAA2C,MAGhF,0BAA0B,WAC1B,yBAAyB,6BAGzB,UAAU,EAAS,GAAyB,OAExC,4BAAS,KACZ,MAAQ,CAAE,YAAa,OAAQ,cAAe,OAC9C,cAAc,CAAE,aAAc,OAAQ,cAAe,MAAO,YAAa,OAAQ,cAAe,QAChG,WAAW,CAAE,aAAc,iBAAkB,gBAAiB,iBAAkB,cAAe,OAAQ,eAAgB,S,6GCjFrI,gBAGA,UACA,UAEA,+BACCr/E,YAAoBihF,GAAA,KAAAA,mBAGpBC,uBAAuB5B,EAAc6B,GACpC,OAAO9gF,KAAK4gF,iBAAiBC,uBAAuB5B,EAAK6B,GAG1DC,uBAAuBC,GACtB,OAAOhhF,KAAK4gF,iBAAiBG,uBAAuBC,GAGrDC,mBACMvI,EAAOwI,SAASC,eAAe,kCAGrCC,sBACCphF,KAAK4gF,iBAAiBQ,sBAGvB,iCACC,OAAO,IAAAC,8BAGRC,oBACC,OAAOthF,KAAK4gF,iBAAiBU,oBAG9BC,oCAAoCC,GACnC,OAAO,IAAAD,qCAAoCC,EAAaxhF,KAAK4gF,qB,mGC5B/D,MAAaa,EAKL,2BAA2BC,GACjCD,EAAeC,iBAAmBA,EAElCD,EAAevE,OAASuE,EAAeE,SAAS,UAAU,GAC1DF,EAAeG,QAAUH,EAAeE,SAAS,WAAW,GAGrD,gBAAgBn/E,EAAcq/E,GAAoB,GAGzD,OAAIA,EACI,CACNC,KAAML,EAAeC,iBAAiBK,eAAe,UAAav/E,SAClEw/E,MAAOP,EAAeC,iBAAiBK,eAAe,UAAav/E,UAG7D,CACNs/E,KAAML,EAAeC,iBAAiBK,eAAe,eAAkBv/E,SACvEw/E,MAAOP,EAAeC,iBAAiBK,eAAe,gBAAmBv/E,WAvB7E,oB,wFCPA,MAAay/E,EACZxhF,MAAMJ,GACLG,QAAQC,MAAMJ,IAFhB,QAKA,MAAMosD,EAAS,IAAIw1B,EACnB,UAAex1B,G,iHCNf,gBACA,UACA,UAmBA,SAASy1B,IACR,OAPOxJ,EAAOY,UAAUE,iBAAiB7wC,EAAUw5C,yBAOnCx5C,EAAUy5C,wBAf3B,wCACC,YA6BwC5+E,IAAjC0+E,KAA+E,OAAjCA,KACT,KAAxCA,IAA6B5mD,QARYt4B,EAAGy/B,WAAWy/C,KAtBdxJ,EAAO2J,IAAIzE,KAAKsE,UAAgC1+E,I,8GCP9F,gBAEA,UAEa,EAAA8+E,wBAAoD,IAAI,oBAC5D,KAAAC,WAAa,IAAIjsE,MACjB,KAAAksE,8BAAqE,GACrE,KAAAC,4BAAmE,GAE3EC,iBAAiBryC,EAA4BsyC,GAe5C,OAdA3iF,KAAK4iF,iBAAiBvyC,GACtBrwC,KAAKuiF,WAAWj7E,KAAK+oC,GACrBA,EAASwyC,sBAAsBz7E,SAAQo6E,IACtCxhF,KAAKwiF,8BAA8BhB,EAAYsB,qBAAqB9qE,eAAiBq4B,EACrFrwC,KAAKyiF,4BAA4BjB,EAAY7yE,GAAGqJ,eAAiBq4B,KAGlE,EAAAuoC,kBAAkBh3E,kBAAkB,EAAAmhF,eAAeC,qBAAsB,EAAAC,iBAAiBC,oBACxFxiF,yBAAyB,CACzBiiF,WAAYA,EACZhI,WAAYtqC,EAASwyC,sBAAsB/8E,KAAI0Q,GAAKA,EAAEssE,uBAAsBvkB,OAAOlyD,KAAK,QAExFnM,OAEK,IAAIw4E,EAAOyK,YAAW,KAC5B,MAAM7jB,EAAMt/D,KAAKuiF,WAAW13D,QAAQwlB,GAChCivB,GAAO,IACVt/D,KAAKuiF,WAAWnnD,OAAOkkC,EAAK,GAC5BjvB,EAASwyC,sBAAsBz7E,SAAQo6E,WAC/BxhF,KAAKwiF,8BAA8BhB,EAAYsB,qBAAqB9qE,sBACpEhY,KAAKyiF,4BAA4BjB,EAAY7yE,GAAGqJ,sBAM3D,gBACC,OAAOhY,KAAKuiF,WAAW7oD,MAAM,GAG9B0pD,QACCpjF,KAAKuiF,WAAWxxE,OAAS,EAG1B6xE,iBAAiBvyC,IAGjBgzC,8BAA8B/I,GAC7B,OAAOA,EAAYt6E,KAAKwiF,8BAA8BlI,EAAUtiE,oBAAiBxU,EAGlF8/E,yBAAyB9B,GACxB,OAAOA,EAAcxhF,KAAKyiF,4BAA4BjB,EAAYxpE,oBAAiBxU,K,6FClDrF,iBAIC7D,cACCK,KAAKo0C,QAAU,IAAIhC,SAAW,CAAC3b,EAAS0d,KACvCn0C,KAAKy2B,QAAUA,EACfz2B,KAAKm0C,OAASA,KAMhB7B,KAAcixC,EAAyDC,GACtE,OAAOxjF,KAAKo0C,QAAQ9B,KAAKixC,EAAaC,M,4ICjBxC,gBACA,UAEM5sD,EAAc,EAAQ,KAE5B,IAAI6sD,EAAcn+E,EAAMo+E,eAAe9sD,GAYvC,IAAYqsD,EAPAF,EAHC,EAAAnK,kBAAoB,IAAI,UAAqB6K,EAAYjhF,KAAMihF,EAAYjkF,QAASikF,EAAYE,QAGjGZ,EAAA,EAAAA,iBAAA,EAAAA,eAAc,KACzB,sCACA,0CACA,sCACA,+CAGWE,EAAA,EAAAA,mBAAA,EAAAA,iBAAgB,KAC3B,wCACA,oDACA,4DACA,kCACA,sDACA,0DACA,wDACA,sBACA,mC,oLC1BD,gBAEA,UACA,UAYA1+E,eAAeq/E,EAAch/E,GAC5B,IAEC,aADoB5B,EAAG6gF,SAAS3gF,KAAK0B,GAGtC,MAAOxE,GACN,GAAe,WAAXA,EAAEwjC,KACL,OAGA,MAAMxjC,GAyBT,IAAI0jF,EA7CJ,iBAAOv/E,eAA8Bw/E,GACpC,MAAMt9E,QAAcm9E,EAAcG,GAClC,QAAOt9E,GAAQA,EAAM6B,eAGtB,YAAO/D,eAAyB0hC,GAC/B,MAAMx/B,QAAcm9E,EAAc39C,GAClC,QAAOx/B,GAAQA,EAAM+B,UAwBtB,0BAA+BouB,GAC9B,GAAIA,EACH,MAAO,CACNp0B,KAAMo0B,EAAYp0B,KAClBhD,QAASo3B,EAAYp3B,QACrBmkF,MAAO/sD,EAAY+sD,QAUtB,IACCG,EAAY,EAAQ,MACfA,GAAWtkF,UAEfskF,OAAYtgF,GAEZ,OAQF,0BACC,OAAOsgF,GAQR,mCAAOv/E,eAAgDhE,EAAiByjF,SAClDtL,EAAOuL,OAAOC,uBAAuB3jF,EAASooC,EAAUw7C,aAC9Dx7C,EAAUw7C,WACnBzL,EAAO34D,IAAIqkE,aAAa1L,EAAO2J,IAAIzqE,MAAMosE,M,gHC7EhD,gBACA,UAEA,UAEA,UAKA,kCACCrkF,YAAoB0kF,GAAA,KAAAA,oBAMZ,KAAAC,qBAAqG,IAAI5L,EAAOjuE,aAC/G,KAAA85E,oBAA8FvkF,KAAKskF,sBAAsBl7D,MANjIppB,KAAKqkF,kBAAkBG,8BAA6B,IAC5CxkF,KAAK4hF,YAOd,sBACO5hF,KAAKqkF,kBAAkBxD,4BAAuBr9E,GAAW,GAC/DxD,KAAKskF,sBAAsBG,OAG5BC,YAAYC,GACX,OAAOA,EAAQC,iBAAiBF,YAAYC,EAAQA,SAGrD,kBAAkBA,GACjB,GAAIA,EAAS,CACZ,MAAM5qB,QAAc4qB,EAAQC,iBAAiBC,YAAYF,EAAQA,SACjE,OAAO5qB,EAAQA,EAAMj0D,KAAI2F,IAAQ,CAAqBm5E,iBAAkBD,EAAQC,iBAAkBD,QAASl5E,MAAU,GAEjH,CAEJ,MAAMq5E,QAAiB9kF,KAAKqkF,kBAAkBxD,4BAAuBr9E,GAAW,SAC1Ek1E,EAAOwI,SAASC,eAAe,aAAc,sBAA2C,IAApB2D,EAAS/zE,QACnF,MAAMg0E,EAA4B,GAC5BC,EAAiC,GAEjCC,EAAqC,GAE3C,IAAIC,EAAa,EACjB,IAAK,MAAMC,KAAWL,EACrB,IACC,MAAMM,QAAwBplF,KAAKqkF,kBAAkBgB,mBAAmBF,GAIxE,GAFAnlF,KAAKslF,2BAA2BL,EAAYE,QAEpB3hF,IAApB4hF,EAA+B,CAClCL,EAAgBz9E,KAAK69E,EAAQvgF,MAC7B,SAED,MAAMggF,QAAyBQ,EAAgBG,2BAA2BJ,GACtEP,EAAiBL,qBACpBK,EAAiBL,qBAAqBnkF,IACrCJ,KAAKskF,sBAAsBG,KAAKrkF,aAGXwkF,EAAiBC,YAAYF,KAC1Cv9E,SAAQ6wC,IACjB+sC,EAAU19E,KAAK,CACds9E,iBAAkBA,EAClBD,QAAS1sC,OAGV,MAAO73C,GACR8kF,IACA1kF,QAAQC,MAAML,EAAEG,SAoBlB,OAhBI2kF,EAAa,GACXxM,EAAOuL,OAAOuB,iBAAiB,EAAAC,sBAGrC,EAAA7M,kBAAkBt2E,iBAAiB2iF,EAAY,6BAC/C,EAAArM,kBAAkBt2E,iBACjB,CACC,QAAWwiF,EAAS/zE,OAASg0E,EAAgBh0E,OAC7C,UAAag0E,EAAgBh0E,QAE9B,gCAEGg0E,EAAgBh0E,OAAS,GACvB2nE,EAAOuL,OAAOuB,kBAAiB,IAAAE,sBAAqBX,IAGnDC,GAIDM,2BAA2BL,EAAoCU,GACtE,MAAM1G,EAAMr6E,EAAKs6E,QAAQyG,EAAWC,QAE/BX,EAAWxuE,eAAewoE,KAC9BgG,EAAWhG,GAAO,GAGnBgG,EAAWhG,Q,iGClGb,gBAOA,mBAMCt/E,YAAYkmF,EAAqBC,EAAoBC,EAAsBC,EAA6C,KAL9G,KAAAC,WAAkC,GAGlC,KAAAC,kBAAmC,IAAI9zC,SAAc,CAAC3b,EAAS0d,IAAWn0C,KAAKmmF,mBAAqB,CAAE1vD,UAAS0d,YAGxHn0C,KAAKomF,cAAe,IAAAC,gBAAgBpC,OAAOqC,sBAAsBT,EAAaC,EAAYE,GAC1FhmF,KAAKomF,aAAaG,SAASC,MAAQT,EACnC/lF,KAAKymF,SAASzmF,KAAKomF,aAAaM,aAAaC,SAAQ,IAAM3mF,KAAK4mF,2BAChE5mF,KAAKymF,SAASzmF,KAAKomF,aAAaG,SAASI,SAAQ,IAAM3mF,KAAK6mF,uBAC5D7mF,KAAKomF,aAAaU,wBAAuBviF,SACjCvE,KAAK+mF,aAQP,aACN,MAAMC,GAAM,IAAAX,gBAAgBpC,OAAOgD,UAAU,IAC7CD,EAAIE,iBAAgB3iF,MAAO7C,GACnB1B,KAAKmnF,WAAWzlF,KAExB1B,KAAKomF,aAAagB,QAAU,CAACJ,IAC7B,IAAAX,gBAAgBpC,OAAOoD,WAAWrnF,KAAKomF,oBACjCpmF,KAAKkmF,kBAGFU,wBACT5mF,KAAK6C,UAGE,gCACD7C,KAAKsnF,aACXtnF,KAAK6C,UAGI,oBAGAA,UACT7C,KAAKimF,WAAW7+E,SAAQmgF,GAAcA,EAAW1kF,YAGxC4jF,SAASc,GAClBvnF,KAAKimF,WAAW3+E,KAAKigF,GAGZ/B,iBAAiBjlF,GAC1BP,KAAKomF,aAAa7lF,QAAU,CAC3BqrB,KAAMrrB,EACN+oB,OAAO,IAAA+8D,gBAAgBpC,OAAOuD,aAAalnF,OAItCmnF,kBACN,OAAOznF,KAAKomF,aAAa7lF,QAGhBmnF,0BAA0BhmF,EAA4Bq4D,GAC/D,OAAOr4D,EAAKimF,aAAaC,gBAAgBC,UAAU9tB,EAAO,CAAE+tB,UAAW,CAAE,eAAgB,MAAO,gBAAiB,UAAYC,WAAW,CAAEC,SAAU,MAAOC,WAAY,WAAYC,e,6ICtErL,gBACA,UACA,UAEA,UAEA,UACA,UACA,UACA,UAGA,MAAMC,EAAN,cACC,KAAAC,cAAwB,GACxB,KAAAtF,qBAA+B,GAC/B,KAAAtgF,KAAe,GACf,KAAA4zB,SAAmB,IAKpB,sCAAO7xB,eAAmDi9E,EAA2BZ,GACpF,MAAMyH,EAAS,IAAIC,EAAiB1H,EAAkBY,GAGtD,aAFM6G,EAAOvoC,aACPuoC,EAAOE,iBACNF,EAAO1C,YAGf,MAAa2C,UAAyB,EAAAE,WASrC7oF,YAAoBihF,EAA6C6H,GAChEn+E,MAAMq+B,EAAU+/C,sBAAuB,aAAc//C,EAAUggD,kBAD5C,KAAA/H,mBAA6C,KAAA6H,sBAR1D,KAAAvjE,MAA+B,IAAIijE,EAKnC,KAAAI,iBAAkC,IAAIn2C,SAAc,CAAC3b,EAAS0d,IAAWn0C,KAAK4oF,yBAA2B,CAAEnyD,UAAS0d,YAO1H,EAAAykC,kBAAkBh3E,kBAAkB,EAAAmhF,eAAeuF,iBAAkB,EAAArF,iBAAiB4F,0BACpFnoF,yBAAyB,CAAEooF,sBAAqDtlF,IAAnCk1E,EAAOY,UAAUyP,eAA6Bp0E,aAC3FzU,OAGH,iBACC,IAGC,aADoC,IAAA8oF,gBAAehpF,KAAKklB,MAAMkR,gBAOzB,IAAA4yD,gBAAepkF,EAAKyH,KAAKrM,KAAKklB,MAAMkR,SAAUp2B,KAAKklB,MAAM1iB,QAE7FxC,KAAKwlF,iBAAiB78C,EAAUsgD,kCAAkCjpF,KAAKklB,MAAM1iB,KAAMxC,KAAKklB,MAAMkR,YACvF,IAGgD,UAA9Cp2B,KAAK4gF,iBAAiBU,qBAX/BthF,KAAKwlF,iBAAiB78C,EAAUugD,oCAAoClpF,KAAKklB,MAAMkR,YACxE,GAeT,MAAO32B,GAEN,OADAO,KAAKwlF,iBAAiB/lF,GAAKc,QAAUd,EAAIc,QAAUd,IAC5C,GAIAmnF,wBACR5mF,KAAK4oF,0BAA0BnyD,UAC/Bz2B,KAAK6C,UAGG,mBACR,IAEC,EAAA+1E,kBAAkBh3E,kBAAkB,EAAAmhF,eAAeuF,iBAAkB,EAAArF,iBAAiBkG,2BACpFzoF,yBAAyB,CAAEoiF,qBAAsB9iF,KAAKklB,MAAM49D,qBAAsBsG,kBAAmBppF,KAAKklB,MAAMkjE,gBAChHloF,OAEFF,KAAK2lF,iBAAmB3lF,KAAK4gF,iBAAiByI,cAAcrpF,KAAKklB,MAAM1iB,KAAMk2E,EAAO2J,IAAIzE,KAAK59E,KAAKklB,MAAMkR,UAAWp2B,KAAKklB,MAAMkjE,cAAepoF,KAAKklB,MAAMokE,eAAgBtpF,KAAKklB,MAAMqkE,iBACnLvpF,KAAK4oF,0BAA0BnyD,UAEhC,MAAOh3B,GAEN,EAAAm5E,kBAAkBr2E,iBAAiB,EAAAwgF,eAAeuF,iBAAkB,EAAArF,iBAAiBkG,2BACnFzoF,yBAAyB,CAAEoiF,qBAAsB9iF,KAAKklB,MAAM49D,qBAAsBsG,kBAAmBppF,KAAKklB,MAAMkjE,cAAe3nF,MAAOhB,GAAKc,QAAUd,EAAIc,QAAUd,IACnKS,OAEGw4E,EAAOuL,OAAOuB,iBAAiB/lF,GAAKc,QAAUd,EAAIc,QAAUd,IAIzD,iBAAiBiC,GAC1B,IAAI8nF,QAAwBxpF,KAAK4gF,iBAAiB6I,qBAG9CzpF,KAAKyoF,qBAAuBe,EAAgBhpC,MAAKhqC,GAAKA,EAAE7H,KAAO3O,KAAKyoF,qBAAqB95E,OAC5F66E,EAAkB,CAACxpF,KAAKyoF,sBAGzB,MAAMiB,EAA4BhoF,EAAKimF,aAAagC,iBAAiBC,UAAU,CAC9EC,MAAOL,EAAgB1jF,KAAK07E,IACE,CAC5B7yE,GAAI6yE,EAAY7yE,GAChB63E,MAAOhF,EAAYsI,YACnBC,KAAMvI,EAAYuI,KAClBC,aAAc,CACb,CACCC,UAAWzI,EAAYsI,YACvBI,WAAY,CACX,YAAa,OACb,cAAe,SAEd,CACFD,UAAWzI,EAAY2I,kBAK3BC,WAAY,OACZC,UAAW,OACXC,UAAW,QACXC,WAAY,QACZC,UAAW7hD,EAAU8hD,UACrBC,MAAO,QACPC,aAAc,MACdC,eAAgBpB,EAAgBz4E,OAAS,EAAIy4E,EAAgB,GAAG76E,QAAKnL,IACnE0kF,YAEHloF,KAAKymF,SAASiD,EAA0BmB,oBAAmBtmF,MAAOnE,IACjEJ,KAAKklB,MAAMkjE,cAAgBhoF,EAAE0qF,OAC7B,MAAMC,EAAkBvB,EAAgBhpC,MAAKhqC,GAAKA,EAAE7H,KAAOvO,EAAE0qF,SAEzDC,GAAiBC,iBAEpBC,EAAuBx+E,OAASs+E,GAAiBC,gBACjDC,EAAuB7rF,MAAQY,KAAKkrF,yBAAyBH,GAE7D/qF,KAAKmrF,aAAaC,eAAeprF,KAAKqrF,oCAAsC,KAG5ErrF,KAAKmrF,aAAaG,eAAetrF,KAAKqrF,qCACtCrrF,KAAKklB,MAAMokE,oBAAiB9lF,GAGzBunF,GAAiBQ,gBACpBC,EAAmBC,SAAU,EAC7BzrF,KAAKklB,MAAMqkE,iBAAkB,EAEzBwB,EAAgBW,4BACbC,EAAaC,eAAe,MAAOb,EAAgBW,sBACzDG,EAAsBC,QAAQH,IAG9BE,EAAsBE,WAAWJ,GAGlC3rF,KAAKmrF,aAAaa,YAAYhsF,KAAKisF,mCAEnCjsF,KAAKklB,MAAMqkE,iBAAkB,EAC7BvpF,KAAKmrF,aAAaG,eAAetrF,KAAKisF,sCAIxC,MAAMC,EAAqBxqF,EAAKimF,aAAawE,WAAWvC,UAAU,CACjEY,UAAW7hD,EAAUyjD,iBACrBC,YAAa1jD,EAAU2jD,uBACvBC,UAAU,EACV7B,MAAO/hD,EAAU6jD,oBACftE,YAEHloF,KAAKymF,SAASyF,EAAmBO,eAAc,KAC9CzsF,KAAKklB,MAAM1iB,KAAO0pF,EAAmB9sF,MAC9B8sF,EAAmBN,eAAe,QAASM,EAAmB9sF,WAGtE,MAAMstF,EAAkBhrF,EAAKimF,aAAawE,WAAWvC,UAAU,CAC9DY,UAAW7hD,EAAUgkD,qBACrBN,YAAa1jD,EAAUikD,2BACvBL,UAAU,EACV7B,MAAO/hD,EAAU6jD,oBACftE,YAEHloF,KAAKymF,SAASiG,EAAgBD,eAAc,KAC3CzsF,KAAKklB,MAAMkR,SAAWs2D,EAAgBttF,MAC/BstF,EAAgBd,eAAe,QAASc,EAAgBttF,WAGhE,MAAMytF,EAAqBnrF,EAAKimF,aAAamF,SAASlD,UAAU,CAC/DY,UAAW7hD,EAAUokD,iBACrBC,SAAU,EAAAvL,eAAevE,OACzB+P,OAAQ,OACRvC,MAAO,SACLxC,YACHloF,KAAKymF,SAASoG,EAAmBK,YAAW3oF,UAC3C,IAAI4oF,QAAmBzU,EAAOuL,OAAOmJ,eAAe,CACnDC,gBAAgB,EAChBC,kBAAkB,EAClBC,eAAe,EACfC,YAAY,IAAAnM,gCAEb,IAAK8L,GAAoC,IAAtBA,EAAWp8E,OAC7B,OAED,MAAM08E,EAAiBN,EAAW,GAAGvH,OACrC8G,EAAgBttF,MAAQquF,EACxBztF,KAAKklB,MAAMkR,SAAWq3D,MAGvB,MAAMxC,EAAyBvpF,EAAKimF,aAAa+F,WAAW9D,UAAU,CACrEn9E,OAAQ+8E,EAAgB,GAAGwB,gBAC3B5rF,MAAOY,KAAKkrF,yBAAyB1B,EAAgB,IACrDgB,UAAW7hD,EAAUglD,eACrBpB,UAAU,EACV7B,MAAO/hD,EAAU6jD,oBACftE,YAEHloF,KAAKymF,SAASwE,EAAuB2C,gBAAe,KACnD5tF,KAAKklB,MAAMokE,eAAiB2B,EAAuB7rF,UAIpDY,KAAKqrF,oCAAsC,CAC1CwC,MAAOllD,EAAUglD,eACjBpB,UAAU,EACVrE,UAAW+C,GAGZ,MAAMO,EAAqB9pF,EAAKimF,aAAamG,WAAWlE,UAAU,CACjE6B,SAAS,EACTjF,MAAO79C,EAAUolD,kBACf7F,YAEHloF,KAAKymF,SAAS+E,EAAmBwC,WAAU,KAC1ChuF,KAAKklB,MAAMqkE,gBAAkBiC,EAAmBC,YAGjD,MAAME,EAAejqF,EAAKimF,aAAasG,YAAYrE,UAAU,CAC5DpD,MAAO79C,EAAUw7C,UACjBvtE,IAAK,KACHsxE,YAEG2D,EAAwBnqF,EAAKimF,aAAaC,gBAC9CG,WAAW,CAAEC,SAAU,MAAOC,WAAY,aAC1CJ,UAAU,CAAC2D,GAAqB,CAAE1D,UAAW,CAAEoG,KAAM,WAAY,eAAgB,UACjFhG,YAEEsB,EAAgB,GAAGkC,6BAChBC,EAAaC,eAAe,MAAOpC,EAAgB,GAAGkC,sBAC5DG,EAAsBC,QAAQH,IAG/B3rF,KAAKisF,gCAAkC,CACtC/D,UAAW2D,GAGZ7rF,KAAKmrF,YAAczpF,EAAKimF,aAAawG,gBAAgBC,cAAc,CAClE,CACCP,MAAOllD,EAAU8hD,UACjB8B,UAAU,EACVrE,UAAWwB,GAEZ,CACCmE,MAAOllD,EAAUyjD,iBACjBG,UAAU,EACVrE,UAAWloF,KAAK0nF,0BAA0BhmF,EAAM,CAACwqF,KAElD,CACC2B,MAAOllD,EAAUgkD,qBACjBJ,UAAU,EACVrE,UAAWloF,KAAK0nF,0BAA0BhmF,EAAM,CAACgrF,EAAiBG,OAKhErD,EAAgB,GAAGwB,iBACtBhrF,KAAKmrF,YAAYa,YAAYhsF,KAAKqrF,qCAI/B7B,EAAgB,GAAG+B,gBACtBvrF,KAAKmrF,YAAYa,YAAYhsF,KAAKisF,uCAG7BvqF,EAAK2sF,gBAAgBruF,KAAKmrF,YAAYjD,aAC5CloF,KAAKmmF,oBAAoB1vD,UAQ1By0D,yBAAyB1J,GAExB,OAAIA,EAAY8M,uBAAyB9M,EAAYwJ,iBAAiB/vB,SAASumB,EAAY8M,uBACnF9M,EAAY8M,2BAEnB,GApRH,sB,oHC7BA,gBACA,UACA,UACA,UACA,UAMA,gCAAO/pF,eAA6Cq8E,GAEnD,MAAM2N,SAAsB3N,EAAiB6I,sBAAsB3jF,KAAI0oF,IAC/D,CACNhI,MAAOgI,EAAS1E,YAChBK,YAAaqE,EAASrE,YACtBx7E,GAAI6/E,EAAS7/E,GACbq8E,gBAAiBwD,EAASxD,gBAC1BsD,sBAAuBE,EAASF,sBAChCG,UAAWD,EAASjD,eACpBmD,gBAAiBF,EAAS9C,qBAC1BiD,aAAcH,EAASG,iBAKnBnN,QAAoB9I,EAAOuL,OAAO2K,cAAcL,EAAc,CAAEV,MAAOllD,EAAUkmD,kBAAmBC,gBAAgB,IAC1H,IAAKtN,EACJ,OAID,MAAMuN,QAAoBrW,EAAOuL,OAAO+K,aACvC,CACCnB,MAAOllD,EAAUsmD,iBACjBC,cAAgB9vF,GACRA,OAAQoE,EAAYmlC,EAAUwmD,kBAEtCL,gBAAgB,IAElB,IAAKC,EACJ,OAGD,MAAMK,GAAwB,IAAA/N,8BACxBgO,EAA+B,CAAC1mD,EAAU2mD,wBAC5CF,GACHC,EAA6Bh0B,QAAQ+zB,EAAsBxJ,QAI5D,IAsCI0D,EAyBAiG,EA/DAC,EAAkB,GAClBC,EAA6B9mD,EAAU+mD,sBAC3C,OAAa,CACZ,MAAMC,QAA8BjX,EAAOuL,OAAO2K,cACjDS,EACA,CAAExB,MAAO4B,EAA4BX,gBAAgB,IACtD,IAAKa,EAEJ,OAED,GAAIA,IAA0BhnD,EAAU2mD,uBAAwB,CAC/D,MAAMM,QAAkBlX,EAAOuL,OAAOmJ,eAAe,CACpDC,gBAAgB,EAChBC,kBAAkB,EAClBC,eAAe,EACfsC,UAAWlnD,EAAUmnD,OACrBjC,MAAOllD,EAAU+mD,sBACjBlC,WAAY4B,IAEb,IAAKQ,EAAW,CAEfH,EAA6B9mD,EAAU+mD,sBACvC,SAEDF,EAAkBI,EAAU,GAAGhK,YAE/B4J,EAAkBG,EAGnB,UAD6B,IAAA3G,gBAAepkF,EAAKyH,KAAKmjF,EAAiBT,IAGtE,MAGDU,EAA6B9mD,EAAUonD,uCAAuChB,GAK/E,GAAIvN,EAAYwJ,gBAAiB,CAEhC,IAAIA,EAA0CxJ,EAAYwJ,gBAAgBllF,KAAIwjF,IAA2B,CAAE9C,MAAO8C,MAElH,GAAI9H,EAAY8M,sBAAuB,CAEtC,MAAM0B,EAAehF,EAAgBiF,WAAUn/E,GAAKA,EAAE01E,QAAUhF,EAAY8M,wBACxE0B,GAAgB,GACnBhF,EAAgB5vD,OAAO40D,EAAc,GAItChF,EAAgB3vB,QAAQ,CAAEmrB,MAAOhF,EAAY8M,sBAAuBnE,YAAaxhD,EAAUunD,UAG5F,MAAMC,QAA+BzX,EAAOuL,OAAO2K,cAAc5D,EAAiB,CAAE6C,MAAOllD,EAAUynD,qBAAsBtB,gBAAgB,IAC3I,IAAKqB,EAEJ,OAGD7G,EAAiB6G,EAAuB3J,MAIzC,GAAIhF,EAAYiN,UAAW,CAE1B,MAAM4B,EAA8C,CACnDrD,SAAU,IAAItU,EAAO4X,UAAU,iBAC/BC,QAAS5nD,EAAUw7C,WAEdqM,EAAY9X,EAAOuL,OAAOwM,kBAChCD,EAAUz2B,MAAQ,CAAC,CAAEysB,MAAO79C,EAAU+nD,gBAAkB,CAAElK,MAAO79C,EAAUgoD,KAC3EH,EAAU3C,MAAQllD,EAAUolD,gBAC5ByC,EAAU1B,gBAAiB,EAC3B,MAAM8B,EAAmC,GAEzC,IACKpP,EAAYkN,kBAEf8B,EAAUK,QAAU,CAACR,GACrBG,EAAUM,YAAcnoD,EAAUooD,yBAGnC,IAAIC,EAAkB,IAAI5+C,SAA8B3b,IACvDm6D,EAAYtpF,KACXkpF,EAAUS,WAAU,KACnBx6D,OAAQjzB,MAETgtF,EAAUU,sBAAsBzlF,IAC/BgrB,EAAQhrB,EAAK,GAAG+6E,QAAU79C,EAAU+nD,oBAGlClP,EAAYkN,iBACfkC,EAAYtpF,KAAKkpF,EAAUW,oBAAmB5sF,gBACvCm0E,EAAO34D,IAAIqkE,aAAa1L,EAAO2J,IAAIzqE,MAAM4pE,EAAYkN,yBAK9D8B,EAAUY,OACV7B,QAAiByB,EACjBR,EAAUa,O,QAEVT,EAAYxpF,SAAQmP,GAAKA,EAAE1T,YAG5B,QAAiBW,IAAb+rF,EAEH,aAII3O,EAAiByI,cAAc0F,EAAarW,EAAO2J,IAAIzE,KAAK4R,GAAkBhO,EAAY7yE,GAAI26E,EAAgBiG,GAIhH/N,EAAYmN,cAAgBnN,EAAY8M,wBACtC,IAAAgD,kCAAiC3oD,EAAU4oD,aAAa/P,EAAY8M,uBAAwB9M,EAAYmN,gB,4HCvK/G,gBACA,UACA,UAEA,UACA,UACA,UACA,UAEA,MAAa6C,UAA2B,EAAAhJ,WAWvC7oF,YAAoBihF,GACnBt2E,MAAMq+B,EAAU8oD,wBAAyB,cAAe9oD,EAAU+oD,gBAD/C,KAAA9Q,mBAInB,EAAAhI,kBAAkBh3E,kBAAkB,EAAAmhF,eAAeyO,mBAAoB,EAAAvO,iBAAiB0O,4BACtFjxF,yBAAyB,CAAEooF,sBAAqDtlF,IAAnCk1E,EAAOY,UAAUyP,eAA6Bp0E,aAC3FzU,OAGH,iBACC,IAOC,OANIF,KAAK4xF,kBAAkBnG,cACpBzrF,KAAK6xF,aAAa7xF,KAAK8xF,gBAAiB1yF,MAAQupC,EAAUopD,QAAQ97D,qBAElEj2B,KAAKgyF,kBAA0BhyF,KAAKiyF,sBAAuB7yF,QAGV,UAA9CY,KAAK4gF,iBAAiBU,oBAKjC,MAAO7hF,GAEN,OADAO,KAAKwlF,iBAAiB/lF,GAAKc,QAAUd,EAAIc,QAAUd,IAC5C,GAIF,mBAAmBm+E,EAAcsU,GAEvC,UADyB,IAAAC,WAAUvU,GAElC,MAAM,IAAIt9E,MAAMqoC,EAAUypD,kBAAkBF,EAAUtU,IAIjD,wBAAwBxnD,GAI9B,UADoC,IAAA4yD,gBAAe5yD,GAElD,MAAM,IAAI91B,MAAMqoC,EAAU0pD,kCAAkCj8D,IAIrD,mBACR,IAEC,MAAMk8D,EAAsB,CAAEC,uBAAsD/uF,IAAnCk1E,EAAOY,UAAUyP,eAA6Bp0E,YAE/F,IAAI69E,EAEAxyF,KAAKyyF,yBAA0BhH,SAClC,EAAA7S,kBAAkBh3E,kBAAkB,EAAAmhF,eAAeyO,mBAAoB,EAAAvO,iBAAiByP,UACtFhyF,yBAAyB,CAAEiyF,eAAgB,YAC3CzyF,OAEFsyF,EAAqBxyF,KAAK4gF,iBAAiBgS,gBAA+C5yF,KAAK6yF,yBAAyB3K,UAAW9oF,MAAQY,KAAKiyF,sBAAuB7yF,SAEvKkzF,EAAeQ,UAAY,QAC3BN,EAAqBxyF,KAAK4gF,iBAAiBG,uBAAuB,CAACrI,EAAO2J,IAAIzE,KAAK59E,KAAK8xF,gBAAiB1yF,UAG1G,EAAAw5E,kBAAkBh3E,kBAAkB,EAAAmhF,eAAeyO,mBAAoB,EAAAvO,iBAAiB8P,gBACtFryF,yBAAyB4xF,GACzBpyF,aAEIsyF,EAEP,MAAO/yF,GACDi5E,EAAOuL,OAAOuB,iBAAiB/lF,GAAKc,QAAUd,EAAIc,QAAUd,IAIzD,iBAAiBiC,GAC1B1B,KAAK4xF,iBAAmBlwF,EAAKimF,aAAaqL,cAAcpJ,UAAU,CACjEpnF,KAAM,WACNgkF,MAAO79C,EAAUsqD,MACjBxH,SAAS,IACPvD,YAEHloF,KAAKymF,SAASzmF,KAAK4xF,iBAAiBsB,yBAAwBzH,IACvDA,IACHzrF,KAAKmrF,aAAaG,eAAyCtrF,KAAK6yF,yBAChE7yF,KAAKmrF,aAAaG,eAAyCtrF,KAAKmzF,yBAChEnzF,KAAKmrF,aAAaC,eAAyCprF,KAAKozF,2BAA4B,QAI9FpzF,KAAKyyF,yBAA2B/wF,EAAKimF,aAAaqL,cAAcpJ,UAAU,CACzEpnF,KAAM,WACNgkF,MAAO79C,EAAU0qD,gBACfnL,YAEHloF,KAAKszF,iCAAmC,CACvCzF,MAAOllD,EAAU4qD,sBACjBhH,UAAU,EACVrE,UAAWxmF,EAAKimF,aAAaC,gBAC3BC,UAAU,CAAC7nF,KAAK4xF,iBAAkB5xF,KAAKyyF,0BAA2B,CAAEvE,KAAM,WAAYpG,UAAW,CAAE,eAAgB,UACnH8B,UAAU,CAAE4J,SAAU,eACtBtL,aAGHloF,KAAKymF,SAASzmF,KAAKyyF,yBAAyBS,yBAAwBzH,IAC/DA,IACHzrF,KAAKmrF,aAAaG,eAAyCtrF,KAAKozF,4BAChEpzF,KAAKmrF,aAAaC,eAAyCprF,KAAK6yF,wBAAyB,GACzF7yF,KAAKmrF,aAAaC,eAAyCprF,KAAKmzF,wBAAyB,QAI3F,MAAMM,EAAiB/xF,EAAKimF,aAAawE,WAAWvC,UAAU,CAC7DY,UAAW7hD,EAAU+qD,gBACrBrH,YAAa1jD,EAAUgrD,sBACvBpH,UAAU,EACV7B,MAAO/hD,EAAU6jD,oBACftE,YAEHloF,KAAKymF,SAASgN,EAAehH,eAAc,IACnCgH,EAAe7H,eAAe,QAAS5rF,KAAKiyF,sBAAuB7yF,UAG3EY,KAAK6yF,wBAA0B,CAC9BhF,MAAOllD,EAAU+qD,gBACjBxL,UAAWuL,GAGZzzF,KAAKiyF,sBAAwBvwF,EAAKimF,aAAawE,WAAWvC,UAAU,CACnEY,UAAW7hD,EAAUirD,oBACrBvH,YAAa1jD,EAAUkrD,0BACvBtH,UAAU,EACV7B,MAAO/hD,EAAU6jD,oBACftE,YAEHloF,KAAKymF,SAASzmF,KAAKiyF,sBAAsBxF,eAAc,IAC/CzsF,KAAKiyF,sBAAuBrG,eAAe,QAAS5rF,KAAKiyF,sBAAuB7yF,UAGxF,MAAM00F,EAAmCpyF,EAAKimF,aAAamF,SAASlD,UAAU,CAC7EY,UAAW7hD,EAAUokD,iBACrBC,SAAU,EAAAvL,eAAevE,OACzBwN,MAAO,OACPuC,OAAQ,SACN/E,YAEHloF,KAAKymF,SAASqN,EAAiC5G,YAAW3oF,UACzD,MAAM4oF,QAAmBzU,EAAOuL,OAAOmJ,eAAe,CACrDC,gBAAgB,EAChBC,kBAAkB,EAClBC,eAAe,EACfC,YAAY,IAAAnM,gCAEb,IAAK8L,GAAoC,IAAtBA,EAAWp8E,OAC7B,OAGD,MAAM08E,EAAiBN,EAAW,GAAGvH,OACrC5lF,KAAKiyF,sBAAuB7yF,MAAQquF,EAC/BztF,KAAKiyF,sBAAuBrG,eAAe,QAAS5rF,KAAKiyF,sBAAuB7yF,WAGtFY,KAAKmzF,wBAA0B,CAC9BtF,MAAOllD,EAAUirD,oBACjB1L,UAAWloF,KAAK0nF,0BAA0BhmF,EAAM,CAAC1B,KAAKiyF,sBAAuB6B,IAC7EvH,UAAU,GAGXvsF,KAAK8xF,gBAAkBpwF,EAAKimF,aAAawE,WAAWvC,UAAU,CAC7DY,UAAW7hD,EAAU4qD,sBACrBlH,YAAa1jD,EAAUorD,uBACvBxH,UAAU,EACV7B,MAAO/hD,EAAU6jD,oBACftE,YAEHloF,KAAKymF,SAASzmF,KAAK8xF,gBAAgBrF,eAAc,IACzCzsF,KAAK8xF,gBAAiBlG,eAAe,QAAS5rF,KAAK8xF,gBAAiB1yF,UAG5E,MAAM40F,EAAiCtyF,EAAKimF,aAAamF,SAASlD,UAAU,CAC3EY,UAAW7hD,EAAUokD,iBACrBC,SAAU,EAAAvL,eAAevE,OACzBwN,MAAO,OACPuC,OAAQ,SACN/E,YACHloF,KAAKymF,SAASuN,EAA+B9G,YAAW,IAAMltF,KAAKi0F,yBAEnE,MAAMrM,EAAgB5nF,KAAK0nF,0BAA0BhmF,EAAM,CAAC1B,KAAK8xF,gBAAiBkC,IAC7EpM,EAAcsM,gBAAgB,CAAE,aAAc,UACnDl0F,KAAKozF,2BAA6B,CACjClL,UAAWN,GAGZ5nF,KAAKmrF,YAAczpF,EAAKimF,aAAawG,gBAAgBC,cAAc,CAClEpuF,KAAKszF,iCACLtzF,KAAKozF,mCAEA1xF,EAAK2sF,gBAAgBruF,KAAKmrF,aAAajD,aAC7CloF,KAAKmmF,oBAAoB1vD,UAGnB,4BACN,MAAM09D,QAAwBC,EAAiBp0F,KAAK4gF,kBAChDuT,IACHn0F,KAAK8xF,gBAAiB1yF,MAAQ+0F,EAAgBvO,SAK1CrhF,eAAe6vF,EAAiBxT,GACtC,MAAMj0B,EAAwC,GACxC4hC,QAAqB3N,EAAiB6I,qBAe5C,OAdA98B,EAAQhkB,EAAU0rD,iBAAmB,IAAI,IAAI/qF,IAAIilF,EAAazoF,KAAI6qB,GAAQA,EAAKmyD,yBAC/EyL,EAAannF,SAAQupB,IACpBg8B,EAAQh8B,EAAKm5D,aAAe,CAACn5D,EAAKmyD,gCAGZpK,EAAOuL,OAAOmJ,eAAe,CACnDC,gBAAgB,EAChBC,kBAAkB,EAClBC,eAAe,EACfsC,UAAWlnD,EAAU2rD,4BACrB3nC,QAASA,EACT6gC,YAAY,IAAAnM,mCAGK,GA3OnB,uBA0NA,sB,uGClOA,gBACA,UACA,UACA,UAEA,UAEA,yBASC1hF,YAAoB0kF,EAA8CkQ,GAA9C,KAAAlQ,oBAA8C,KAAAkQ,YAG3D,sBACN,MAAMpP,EAAUnlF,KAAKu0F,UAAU5P,QAAQQ,QAEvC,UAAY,IAAAgN,WAAUhN,EAAQgP,iBAC7B,MAAM,IAAI7zF,MAAMqoC,EAAU6rD,iBAAiBrP,EAAQgP,kBAGpD,IAAKhP,EAAQsP,gBACZ,MAAM,IAAIn0F,MAAMqoC,EAAU+rD,iBAI3B,GADA10F,KAAKolF,sBAAwBplF,KAAKqkF,kBAAkBgB,mBAAmB3M,EAAO2J,IAAIzE,KAAKuH,EAAQgP,mBAC1Fn0F,KAAKolF,gBACT,MAAM,IAAI9kF,MAAMqoC,EAAUgsD,oCAAoCxP,EAAQgP,wBAGjEn0F,KAAK40F,gBAAgBzP,EAAQsP,gBAAiBtP,EAAQgP,uBACtDn0F,KAAK60F,UAAW/0C,OAGf,sBAAsB+tC,EAAesG,GAC5Cn0F,KAAK60F,WAAY,IAAAxO,gBAAgBpC,OAAO6Q,yBAAyBjH,EAAO,mBAAoB,CAAEkH,gBAAgB,IAC9G/0F,KAAK60F,UAAUG,cAAazwF,MAAO0wF,IAClCj1F,KAAKi1F,UAAYA,EAEjBj1F,KAAKk1F,YAAc,CAClBrH,MAAO,GACPl/E,GAAI,eACJy4E,QAASpnF,KAAKm1F,gBAAgBtH,EAAOsG,GACrCiB,QAASp1F,KAAKq1F,uBAAuBlB,IAE/B,CACNn0F,KAAKk1F,gBAKAG,uBAAuBlB,GAC9B,MAAMmB,EAA2Dt1F,KAAKolF,gBAAiBmQ,sBAGjF1E,EAAyC,GAEzC2E,EAAuBF,EAAevkF,OAE5CukF,EAAeluF,SAAQ,CAACvF,EAAQ4zF,KAC/B,GAAIz1F,KAAK01F,gBAAgB7zF,GAAS,CACjC,MAAMirF,EAAS9sF,KAAK21F,aAAa9zF,GACjCgvF,EAAQvpF,KAAK,CAAE4gF,UAAW4E,EAAQ8I,sBAAwBJ,EAAuB,IAAMC,QACjF,CACN,MAAMI,EAAch0F,EAAOi0F,QAAQ/kF,OAEnClP,EAAOi0F,QAAQ1uF,SAAQ,CAAC2uF,EAAa1uF,KACpC,MAAMylF,EAAS9sF,KAAK21F,aAAaI,GACjClF,EAAQvpF,KAAK,CAAE4gF,UAAW4E,EAAQ8I,sBAAyBC,EAAc,IAAMxuF,GAAWmuF,EAAuB,IAAMC,WAK1H,MAAMO,EAAgBh2F,KAAKi1F,UAAWtN,aAAamF,SACjDlD,UAAU,CACVpD,MAAO79C,EAAUstD,QACjBjJ,SAAU,EAAAvL,eAAeG,QACzBqL,OAAQ,SACN/E,YAUJ,OARA8N,EAAc9I,YAAW,KACxBltF,KAAKk2F,eAAenK,WAAW/rF,KAAKm2F,gBACpCn2F,KAAKm2F,eAAiBn2F,KAAKo2F,aAAajC,GACxCn0F,KAAKk2F,eAAepK,QAAQ9rF,KAAKm2F,mBAGlCtF,EAAQvpF,KAAK,CAAE4gF,UAAW8N,IAEnBh2F,KAAKi1F,UAAWtN,aAAa0O,mBAClCC,iBACAzF,GACC3I,YAGIwN,gBAAgB9rD,GACvB,YAAkBpmC,IAAXomC,EAAIj7B,GAGJgnF,aAAaY,GACpB,IAAIzJ,EAAS9sF,KAAKi1F,UAAWtN,aAAamF,SACxClD,UAAU,CACVpD,MAAO+P,EAAc5nF,GACrBq+E,SAAUuJ,EAAcxM,KACxBkD,OAAQ,SACN/E,YAMJ,OAJA4E,EAAOI,YAAW,KACjBqJ,EAAcj0C,IAAItiD,KAAKu0F,cAGjBzH,EAGAqI,gBAAgBtH,EAAesG,GACtCn0F,KAAKk2F,cAAgBl2F,KAAKi1F,UAAWtN,aAAaC,gBAAgBG,WACjE,CACCC,SAAU,SACV0C,MAAO,OACPuC,OAAQ,SACN/E,YAEJ,MAAMsO,EAAkBx2F,KAAKy2F,aAAa5I,EAAOsG,GAMjD,OALAn0F,KAAKm2F,eAAiBn2F,KAAKo2F,aAAajC,GAExCn0F,KAAKk2F,cAAcpK,QAAQ0K,GAC3Bx2F,KAAKk2F,cAAcpK,QAAQ9rF,KAAKm2F,gBAEzBn2F,KAAKk2F,cAMLO,aAAa5I,EAAez3D,GACnC,MAAMogE,EAAkBx2F,KAAKi1F,UAAWtN,aAAaC,gBAAgBG,WACpE,CACCC,SAAU,SACV0C,MAAO,OACPuC,OAAQ,QACN/E,YAEE93E,EAASpQ,KAAKi1F,UAAWtN,aAAaC,gBAAgBG,WAC3D,CACCC,SAAU,SACV0C,MAAO,OACPuC,OAAQ,QACN/E,YAEEwO,EAAa12F,KAAKi1F,UAAWtN,aAAa/7D,OAC9Cg+D,UAAU,CAAExqF,MAAOyuF,EAAO/F,UAAW,CAAE,qBAAsB,OAAQ,mBAAoB,SACzFI,YACF93E,EAAO07E,QAAQ4K,EAAY,CAAE5O,UAAW,CAAE,eAAgB,OAAQ,cAAe,OAAQ,YAAa,OAAQ,cAAe,SAE7H,MAAM6O,EAAoB/xF,EAAKmkD,QAAQ3yB,GACjCwgE,EAAgB52F,KAAKi1F,UAAWtN,aAAa/7D,OACjDg+D,UAAU,CAAExqF,MAAOu3F,EAAmB7O,UAAW,CAAE,qBAAsB,OAAQ,mBAAoB,SACrGI,YACF93E,EAAO07E,QAAQ8K,EAAe,CAAE9O,UAAW,CAAE,eAAgB,OAAQ,cAAe,OAAQ,iBAAkB,OAAQ,YAAa,UAEnI,MAAM+O,EAAkB72F,KAAKolF,gBAAiB0R,MAExCC,EAAgBre,EAAO2J,IAAIzE,KAAKiZ,EAAiB7U,MAAMrtE,YAAYqiF,KAAK,CAAEC,OAAQ,gBAaxF,OAZAT,EAAgB1K,QAAQ17E,EAAQ,CAC/B03E,UAAW,CACV,mBAAoB,OAAOiP,KAC3B,oBAAqB,YACrB,sBAAuB,aACvB,kBAAmB,MACnB,gBAAiB,iBACjB,MAAS,OACT,OAAU,UAILP,EAMAJ,aAAac,GACpB,MAAMC,EAAmCn3F,KAAKolF,gBAAiBgS,uBAAuBF,GAEhFf,EAAiBn2F,KAAKi1F,UAAWtN,aAAaC,gBAAgBG,WACnE,CACCC,SAAU,SACV0C,MAAO,OACPuC,OAAQ,SACN/E,YAiEJ,OA/DAiP,EAAc/vF,SAAQ6O,IACrB,MAAMohF,EAAiBr3F,KAAKi1F,UAAWtN,aAAa/7D,OAClDg+D,UAAU,CAAExqF,MAAO6W,EAAKzT,KAAMslF,UAAW,CAAE,qBAAsB,OAAQ,mBAAoB,SAC7FI,YAGF,GAFAiO,EAAerK,QAAQuL,EAAgB,CAAEvP,UAAW,CAAE,eAAgB,OAAQ,iBAAkB,UAAWn/C,EAAU2uD,UAAUzJ,SAEtG,IAArB53E,EAAKyC,KAAK3H,OAAc,CAC3B,MAAMwmF,EAAa5uD,EAAU6uD,eAAevhF,EAAKzT,KAAKi1F,qBAChDC,EAAc13F,KAAKi1F,UAAWtN,aAAa/7D,OAC/Cg+D,UAAU,CAAExqF,MAAOm4F,IACnBrP,YACFiO,EAAerK,QAAQ4L,EAAa,CAAE5P,UAAW,CAAE,eAAgB,OAAQ,iBAAkB,cACvF,CACN,MAAM6P,EAA+C,GACrD1hF,EAAK0hF,QAAQvwF,SAASwwF,IACrB,IAAIC,EAAM,CACT/N,YAAa8N,EAAO9N,YACpBgO,UAA2B,SAAhBF,EAAOjnE,MAAkB,IAAA01D,gBAAgB0R,oBAAoB7P,WAAY,IAAA7B,gBAAgB0R,oBAAoBnnC,OACxHonC,YAAY,EACZtN,MAAOkN,EAAOlN,MACduN,gBAAiB,CAChB,OAAU,UACPtvD,EAAU2uD,UAAUY,aAExBC,aAAc,IACVxvD,EAAU2uD,UAAUc,WAGzBT,EAAQrwF,KAAKuwF,MAGd,MAAMn/E,EAAiD,GACvDzC,EAAKyC,KAAKtR,SAAQqF,IACjB,MAAM4rF,EAAsD,GAC5D5rF,EAAOrF,SAAQ6J,IACd,GAAmB,iBAARA,EACVonF,EAAY/wF,KAAK,CAAElI,MAAO6R,QACpB,CACN,MAAMqnF,EAAgBt4F,KAAKi1F,UAAWtN,aAAamP,QAAQlN,UAAU,CACpEoD,SAAU/7E,EAAI84E,KACdW,MAAO,OACPuC,OAAQ,OACR7C,WAAY,OACZC,UAAW,SACTnC,YACGqQ,EAAkBv4F,KAAKi1F,UAAWtN,aAAa/7D,OAAOg+D,UAAU,CACrExqF,MAAO6R,EAAI2a,KACXk8D,UAAW,CAAE,qBAAsB,OAAQ,aAAc,OAAQ,mBAAoB,SACnFI,YAEGsQ,EAAax4F,KAAKi1F,UAAWtN,aAAaC,gBAAgBC,UAAU,CAACyQ,EAAeC,GAAkB,CAAErK,KAAM,WAAYpG,UAAW,CAAE,eAAgB,UAAYC,WAAW,CAAEC,SAAU,QAASE,YACzMmQ,EAAY/wF,KAAK,CAAElI,MAAOo5F,QAG5B9/E,EAAKpR,KAAK+wF,MAGX,MAAMI,EAAQz4F,KAAKi1F,UAAWtN,aAAa+Q,mBACzC9O,UAAU,CAAE+N,QAASA,EAASgB,WAAYjgF,EAAM8xE,UAAWv0E,EAAKzT,KAAMslF,UAAW,CAAE,cAAe,UAAYI,YAEhHiO,EAAerK,QAAQ2M,OAGlBtC,K,uGCpQT,gBAEA,UAEA,UACA,UAEA,UACA,UACA,UACA,UACA,UAEMyC,EAA6B,gBAC7BC,EAAoC,mBAE1C,yBAOCl5F,cANQ,KAAAm5F,8BAA2D,IAAIpgB,EAAOjuE,aACrE,KAAA+5E,6BAAmDxkF,KAAK84F,+BAA+B1vE,MAExF,KAAA2vE,oBAA2Cv1F,EAsG3C,KAAAw1F,wBAAiDx1F,EAlGxDxD,KAAK6gF,4BAAuBr9E,GAAW,GAAMi/C,OAAMhjD,GAAOe,QAAQC,MAAM,4CAA6ChB,KAErH,EAAAm5E,kBAAkBh3E,kBAAkB,EAAAmhF,eAAekW,kBAAmB,EAAAhW,iBAAiBiW,gBACrFx4F,yBAAyB,CACzBy4F,iBAAkBn5F,KAAK+4F,gBAAgBhoF,OAAO4D,YAAc,IAC5DykF,oBAAqBp5F,KAAKq5F,kBAAkBtoF,OAAO4D,YAAc,MAC/DzU,OAGL,iCACC,IAAK,MAAMo6E,KAAa5B,EAAOiC,WAAWpqB,IAAK,CAC9C,MAAMg+B,EAAejU,EAAUgf,YAAYC,aAAejf,EAAUgf,YAAYC,YAAYzU,SAC5F,GAAIyJ,GAAgBA,EAAax9E,OAAS,EACzC,OAAO,EAGT,OAAO,EAMR,0BACC,SAAI,IAAAs1E,mBAAoB3N,EAAOY,UAAUkgB,kBAAiE,IAA7C9gB,EAAOY,UAAUkgB,iBAAiBzoF,gBACzE2nE,EAAOuL,OAAOwV,mBAAmB9wD,EAAU+wD,oBAAqB,CAAEC,OAAO,GAAQhxD,EAAUixD,gBACjGjxD,EAAUixD,aAYpB,6BAA6B5Y,GAGnC,MAAM6Y,EAAgC,GAEtC,IAAK,MAAM3C,KAAelW,EAAc,CACvC,MAAM8Y,EAAephB,EAAOY,UAAUygB,eAAe7C,GAAa,QAE7C1zF,IAAjBs2F,GAA8BphB,EAAO2J,IAAIzE,KAAKkc,GAAclU,SAAWsR,EAAYtR,QACtFiU,EAAoBvyF,KAAK1C,EAAKmkD,QAAQmuC,EAAYtyF,OAIhDi1F,EAAoB9oF,OAAS,GAEhC2nE,EAAOY,UAAU0gB,uBAAuBthB,EAAOY,UAAUkgB,kBAAkBzoF,QAAU,OAAGvN,KAAeq2F,EAAoB/zF,KAAIo3E,IAAU,CAAG+c,IAAKvhB,EAAO2J,IAAIzE,KAAKV,QAKlK,MAAMgd,SAAoCl6F,KAAK6gF,4BAAuBr9E,GAAW,IAAQsC,KAAI0Q,GAAKA,EAAE5R,OACpG,IAAIu1F,GAA2B,EAC/B,MAAMC,EAAgC,GAEtC,IAAK,MAAMlD,KAAelW,EACrBkZ,EAAiBj/B,SAASi8B,EAAYtyF,OACzCw1F,EAAoB9yF,KAAK4vF,EAAYtR,QAChClN,EAAOuL,OAAOC,uBAAuBv7C,EAAU0xD,qBAAqBnD,EAAYtR,WAGrFuU,GAAkB,EAElB,EAAAvhB,kBAAkBh3E,kBAAkB,EAAAmhF,eAAekW,kBAAmB,EAAAhW,iBAAiBqX,yBACrF55F,yBAAyB,CACzB8gF,YAAa58E,EAAKs6E,QAAQgY,EAAYtR,UACpC1lF,QAKN,MAAMm5F,EAAmBr5F,KAAKu6F,+BAAyC1B,GACjE2B,EAA0BnB,EAAiBjtF,QAAOquF,IAAiBzZ,EAAaxgC,MAAKk6C,GAAWhiB,EAAOY,UAAUygB,eAAeW,KAAaD,MAC/IpB,EAAiBtoF,SAAWypF,EAAwBzpF,cACjD/Q,KAAK26F,+BAA+B9B,EAAmC2B,GAI1EL,GACHn6F,KAAK84F,8BAA8BrU,OAI9B,iCACAzkF,KAAK46F,gCACX,MAAMrM,EAA6C,GAInD,OAHA,EAAAjM,wBAAwBrxC,UAAU7pC,SAAQipC,IACzCk+C,EAAajnF,QAAQ+oC,EAASwyC,0BAExB0L,EAWD,6BAA6BtP,EAAc6B,GAA2B,GAM5E,IAJIA,QAA2Ct9E,IAAxBxD,KAAK+4F,uBACrB/4F,KAAK66F,+BAGgBr3F,IAAxBxD,KAAK+4F,eACR,MAAM,IAAIz4F,MAAMqoC,EAAUmyD,qCAQ3B,OAJA96F,KAAKq5F,iBAAmBr5F,KAAKu6F,+BAAyC1B,GACtE74F,KAAK+4F,eAAiB/4F,KAAK+4F,eAAe3sF,QAAO+4E,IAAYnlF,KAAKq5F,kBAAkB74C,MAAKu6C,GAAmBA,IAAoBriB,EAAOY,UAAUygB,eAAe5U,OAG5JlG,EACIj/E,KAAK+4F,eAAe3sF,QAAOoK,GAAKA,EAAEovE,OAAO3vD,cAActuB,SAASs3E,EAAIhpD,iBAEpEj2B,KAAK+4F,eAIN,gCAEP,GAAI/4F,KAAKg5F,mBACR,OAAOh5F,KAAKg5F,mBAAmB5kD,QAGhCp0C,KAAKg5F,mBAAqB,IAAI,EAAAgC,SAE9B,IACC,MAAMC,EAAkBviB,EAAOY,UAAUkgB,kBAAkB1zF,KAAIggC,GAAK9lC,KAAKk7F,uBAAuBp1D,EAAEm0D,QAAS,GAC3Gj6F,KAAK+4F,sBAAwB3mD,QAAQme,IAAI0qC,IAAkBrlE,QAAO,CAAC6lB,EAAM0/C,IAAS1/C,EAAK/qC,OAAOyqF,IAAO,IACrGn7F,KAAKg5F,mBAAmBviE,UACvB,MAAOh3B,GAER,MADAO,KAAKg5F,mBAAmB7kD,OAAO10C,GACzBA,E,QAENO,KAAKg5F,wBAAqBx1F,GAOrB49E,sBACNphF,KAAK84F,8BAA8BrU,OAQpC,6BAA6BvH,GAE5B,MAAMke,EAA6B,IAAI,IAAI9xF,WAAWtJ,KAAKypF,sBAAsB3jF,KAAI0Q,GAAcA,EAAEssE,yBAG/FuY,EAAc35B,EAAKvQ,WAAW+rB,EAAO0I,OAAOzsD,QAAQ,MAAO,MAI3DmiE,EAAaF,EAA2BrqF,OAAS,EAAInM,EAAKwzD,MAAM/rD,KAAKgvF,EAAa,KAAM,MAAMD,EAA2BzmF,eAAiB/P,EAAKwzD,MAAM/rD,KAAKgvF,EAAa,KAAM,KAAKD,EAA2B,MAGnN,aAAc15B,EAAK45B,IAAax1F,KAAI0Q,GAAKkiE,EAAO2J,IAAIzE,KAAKh5E,EAAK6xB,QAAQjgB,MAGvE,yBAAyB0gF,GACxB,MAAM1V,EAAc58E,EAAKs6E,QAAQgY,EAAYtyF,MAAMu0B,QAAQ,MAAO,IAKlE,OAJe,EAAAmpD,wBAAwBe,8BAA8B7B,UAE9DxhF,KAAK46F,8BAA8BpZ,GAEnC,EAAAc,wBAAwBe,8BAA8B7B,GAG9D,oBAAoBh/E,EAAc4zB,EAAsBgyD,EAAuBmT,EAA+BhS,GAC7G,MAAMl5C,EAAW,EAAAiyC,wBAAwBgB,yBAAyB8E,GAClE,GAAI/3C,EAAU,CACb,MAAM6mD,QAAoB7mD,EAASg5C,cAAc7mF,EAAM4zB,EAAUgyD,EAAemT,EAAsBhS,GAGtG,aAFMvpF,KAAK+gF,uBAAuB,CAACmW,IACnCl3F,KAAK84F,8BAA8BrU,OAC5ByS,EAEP,MAAM,IAAI52F,MAAMqoC,EAAUgsD,oCAAoCvM,IAIhE,sBAAsBxxE,EAAa4kF,GAClC,MAAMC,EAAqC/iB,EAAOiC,WAAWC,aAAa,cAAez7E,QAASu8F,OAAO,GACnGl8C,EAAO,CACZppB,SAAUsiD,EAAOijB,iBAAiBC,aAClC/N,MAAOllD,EAAUkzD,gBAAgBjlF,GACjCklF,aAAa,GAGd,IAEMpjB,EAAOwI,SAASC,eAAe,kBACpC,MAAM4a,QAAuBrjB,EAAOuL,OAAO+X,aAC1Cx8C,GACA,CAACy8C,EAAU71B,IAAUq1B,EAAOS,MAAMtlF,EAAM,CAAEulF,WAAYX,EAAiBS,WAAUG,WAAW,GAAQh2B,KAI/Fi2B,QAAsBr8F,KAAKk7F,uBAAuBxiB,EAAO2J,IAAIzE,KAAKme,UAClE/7F,KAAK+gF,uBAAuBsb,GACjC,MAAOj8F,GACHs4E,EAAOuL,OAAOuB,iBAAiB78C,EAAU2zD,eAC9C97F,QAAQC,MAAML,IAQR,oCAAoCohF,GAC3C,MAAMgN,EAAWhN,EAAcA,EAAYxpE,mBAAgBxU,EAC3D,IAAI82E,EACJ,IAAKA,KAAa5B,EAAOiC,WAAWpqB,IAAK,CACxC,MAAMg+B,EAAejU,EAAUgf,YAAYC,aAAejf,EAAUgf,YAAYC,YAAYzU,SAE5F,GAAIyJ,GAAgBA,EAAax9E,OAAS,EACzC,GAAIy9E,GACH,IAAmF,IAA/ED,EAAa0B,WAAWsM,GAAiBA,EAAKvkF,gBAAkBw2E,IAAkB,OAC/ExuF,KAAKw8F,+BAA+BliB,GAC1C,kBAGKt6E,KAAKw8F,+BAA+BliB,IAMtC,qCAAqCA,GAC5C,IACMA,EAAUmiB,gBACRniB,EAAUoiB,WAEhB,MAAOj9F,GACR,UAAOgB,MAAMkoC,EAAUg0D,yBAAyBriB,EAAU3rE,GAAIlP,IAG3D66E,EAAUmiB,UAAYniB,EAAUn7E,UAAY,EAAAmjF,wBAAwBrxC,UAAUgqB,SAASqf,EAAUn7E,UACpG,EAAAmjF,wBAAwBI,iBAAiBpI,EAAUn7E,QAASm7E,EAAU3rE,IAQxE,oBAAoBuoF,GACnB,EAAAte,kBAAkBh3E,kBAAkB,EAAAmhF,eAAekW,kBAAmB,EAAAhW,iBAAiB2Z,6BACrFl8F,yBAAyB,CACzB8gF,YAAa58E,EAAKs6E,QAAQgY,EAAYtR,UACpC1lF,OAEJ,MAAMm5F,EAAmBr5F,KAAKu6F,+BAAyC1B,GACvEQ,EAAiB/xF,KAAKoxE,EAAOY,UAAUygB,eAAe7C,EAAYtR,eAC5D5lF,KAAK26F,+BAA+B9B,EAAmC,IAAI,IAAIvvF,IAAI+vF,KACzFr5F,KAAK84F,8BAA8BrU,OAGpC8V,+BAAkCsC,GACjC,OAAOnkB,EAAOY,UAAUE,iBAAiBof,GAA4B3qF,IAAI4uF,GAG1E,qCAAqCA,EAA2Bz9F,SACzDs5E,EAAOY,UAAUE,iBAAiBof,GAA4BkE,OAAOD,EAAmBz9F,EAAOs5E,EAAOqkB,oBAAoBtiB,c,sBCpTlI/sE,EAAOvO,QAAU+uD,QAAQ,2B,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,uC,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,W,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,gB,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,W,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,kB,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,Y,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,c,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,W,qBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,Q,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,W,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,O,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,S,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,U,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,W,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,Q,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,O,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,S,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,W,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,W,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,Q,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,S,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,W,sBCAzBxgD,EAAOvO,QAAU+uD,QAAQ,UCCrB8uC,EAA2B,GAG/B,SAASC,EAAoB1uC,GAE5B,IAAI2uC,EAAeF,EAAyBzuC,GAC5C,QAAqB/qD,IAAjB05F,EACH,OAAOA,EAAa/9F,QAGrB,IAAIuO,EAASsvF,EAAyBzuC,GAAY,CAGjDpvD,QAAS,IAOV,OAHAg+F,EAAoB5uC,GAAUz6C,KAAKpG,EAAOvO,QAASuO,EAAQA,EAAOvO,QAAS89F,GAGpEvvF,EAAOvO,QCrBf89F,EAAoBG,EAAI,CAACxzD,EAAK/4B,IAAU5R,OAAOiO,UAAUuJ,eAAe3C,KAAK81B,EAAK/4B,G,oHCKlF,gBACA,UACA,UAEA,UACA,UACA,UAEA,UACA,UACA,UACA,UA8DA,SAASwsF,EAA+Bzc,GAClClI,EAAOwI,SAASC,eAAe,aAAc,6BAA8BP,EAAiB0c,4BA7DlG,WAAO/4F,eAAwBwJ,GAC9B,MAAM+1E,GAAY,IAAAuC,gBACb3N,EAAOwI,SAASC,eAAe,aAAc,oBAAqB2C,GACvE,MAAMlD,EAAmB,IAAI,EAAA2c,iBAEvBC,EAA4B,IAAI,EAAAC,0BAA0B7c,GAChE7yE,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOY,UAAUqkB,6BAA4Bp5F,gBACjEi5F,EAA0B5b,cAEjC,MAAMgc,EAAyB,IAAI,EAAAC,uBAAuBjd,GAgD1D,OA/CA7yE,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOuL,OAAO6Z,yBAAyB,2BAA4BN,IAC9FzvF,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOiC,WAAWojB,aAAY,KACxDV,EAA+Bzc,OAEhCyc,EAA+Bzc,GAE/B7yE,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOwI,SAAS8c,gBAAgB,gBAAgBz5F,UAC1E,GAAIu/E,EAAW,CACd,MAAMuE,EAAS,IAAI,EAAAC,iBAAiB1H,SAC9ByH,EAAOvoC,kBAEP,IAAAm+C,+BAA8Brd,OAItC7yE,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOwI,SAAS8c,gBAAgB,yBAAyBz5F,UACnF,GAAIu/E,EAAW,CACd,MAAMuE,EAAS,IAAI,EAAAmJ,mBAAmB5Q,SAChCyH,EAAOvoC,WACP,CACN,MAAMo+C,QAAuB,IAAA9J,kBAAiBxT,GAC9C,IAAKsd,EACJ,aAEKtd,EAAiBG,uBAAuB,CAACmd,SAIjDnwF,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOwI,SAAS8c,gBAAgB,yBAAyBz5F,gBAC7Ei5F,EAA0B5b,cAGjC7zE,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOwI,SAAS8c,gBAAgB,uBAAuB,IAC1EtlB,EAAOwI,SAASC,eAAe,mCAGvCpzE,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOwI,SAAS8c,gBAAgB,0BAA0Bz5F,MAAO45F,UACrFvd,EAAiBwd,cAAc1lB,EAAO2J,IAAIzE,KAAKugB,EAASxZ,QAAQQ,QAAQgP,sBAG/EpmF,EAAQ2vF,cAAcp2F,KAAKoxE,EAAOwI,SAAS8c,gBAAgB,0BAA0Bz5F,MAAO45F,IAC3F,MAAMtJ,EAAY,IAAI,EAAAwJ,iBAAiBzd,EAAkBud,SACnDtJ,EAAUyJ,oBAGjB,EAAA7c,eAAe8c,oBAAoBxwF,GAE5BqkC,QAAQ3b,QAAQmnE,IAOxB,2B","file":"main.js","sourcesContent":["/*---------------------------------------------------------\n * Copyright (C) Microsoft Corporation. All rights reserved.\n *--------------------------------------------------------*/\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode_extension_telemetry_1 = require(\"vscode-extension-telemetry\");\nconst commonProperties = {};\ntry {\n    const azdata = require('azdata');\n    commonProperties['common.adsversion'] = azdata === null || azdata === void 0 ? void 0 : azdata.version;\n}\ncatch (err) {\n    // no-op when we're not in a context that has azdata available\n}\nclass TelemetryEventImpl {\n    constructor(reporter, eventName, properties, measurements) {\n        this.reporter = reporter;\n        this.eventName = eventName;\n        this.properties = properties;\n        this.measurements = measurements;\n        this.properties = properties || {};\n        Object.assign(this.properties, commonProperties);\n        this.measurements = measurements || {};\n    }\n    send() {\n        try {\n            this.reporter.sendTelemetryEvent(this.eventName, this.properties, this.measurements);\n        }\n        catch (e) {\n            // We don't want exceptions sending telemetry to break extensions so just log and ignore\n            const msg = e instanceof Error ? e.message : e;\n            console.error(`Error sending ${this.eventName} event ${msg}`);\n        }\n    }\n    withAdditionalProperties(additionalProperties) {\n        Object.assign(this.properties, additionalProperties);\n        return this;\n    }\n    withAdditionalMeasurements(additionalMeasurements) {\n        Object.assign(this.measurements, additionalMeasurements);\n        return this;\n    }\n    withConnectionInfo(connectionInfo) {\n        Object.assign(this.properties, {\n            authenticationType: connectionInfo.authenticationType,\n            providerName: connectionInfo.providerName,\n            serverType: connectionInfo.serverType,\n            engineType: connectionInfo.engineType\n        });\n        return this;\n    }\n}\nclass TelemetryReporter {\n    constructor(extensionId, extensionVersion, key) {\n        this._telemetryReporter = new vscode_extension_telemetry_1.default(extensionId, extensionVersion, key);\n    }\n    /**\n     * Creates a View event that can be sent later. This is used to log that a particular page or item was seen.\n     * @param view The name of the page or item that was viewed\n     */\n    createViewEvent(view) {\n        return new TelemetryEventImpl(this._telemetryReporter, 'view', {\n            view: view\n        });\n    }\n    /**\n     * Sends a View event. This is used to log that a particular page or item was seen.\n     * @param view The name of the page or item that was viewed\n     */\n    sendViewEvent(view) {\n        this.createViewEvent(view).send();\n    }\n    /**\n     * Creates an Action event that can be sent later. This is used to log when an action was taken, such as clicking a button.\n     * @param view The name of the page or item where this action occurred\n     * @param action The name of the action taken\n     * @param target The name of the item being acted on\n     * @param source The source of the action\n     */\n    createActionEvent(view, action, target = '', source = '', durationInMs) {\n        const measures = durationInMs ? { durationInMs: durationInMs } : {};\n        return new TelemetryEventImpl(this._telemetryReporter, 'action', {\n            view: view,\n            action: action,\n            target: target,\n            source: source\n        }, measures);\n    }\n    /**\n     * Sends a Action event. This is used to log when an action was taken, such as clicking a button.\n     * @param view The name of the page or item where this action occurred\n     * @param action The name of the action taken\n     * @param target The name of the item being acted on\n     * @param source The source of the action\n     */\n    sendActionEvent(view, action, target = '', source = '', durationInMs) {\n        this.createActionEvent(view, action, target, source, durationInMs).send();\n    }\n    /**\n     * Creates a Metrics event that can be sent later. This is used to log measurements taken.\n     * @param metrics The metrics to send\n     */\n    createMetricsEvent(metrics, groupName = '') {\n        return new TelemetryEventImpl(this._telemetryReporter, 'metrics', { groupName: groupName }, metrics);\n    }\n    /**\n     * Sends a Metrics event. This is used to log measurements taken.\n     * @param measurements The metrics to send\n     */\n    sendMetricsEvent(metrics, groupName = '') {\n        this.createMetricsEvent(metrics, groupName).send();\n    }\n    /**\n     * Creates a new Error event that can be sent later. This is used to log errors that occur.\n     * @param view The name of the page or item where the error occurred\n     * @param name The friendly name of the error\n     * @param errorCode The error code returned\n     * @param errorType The specific type of error\n     * @param properties Optional additional properties\n     */\n    createErrorEvent(view, name, errorCode = '', errorType = '') {\n        return new TelemetryEventImpl(this._telemetryReporter, 'error', {\n            view: view,\n            name: name,\n            errorCode: errorCode,\n            errorType: errorType\n        });\n    }\n    /**\n     * Sends a Error event. This is used to log errors that occur.\n     * @param view The name of the page or item where the error occurred\n     * @param name The friendly name of the error\n     * @param errorCode The error code returned\n     * @param errorType The specific type of error\n     */\n    sendErrorEvent(view, name, errorCode = '', errorType = '') {\n        this.createErrorEvent(view, name, errorCode, errorType).send();\n    }\n    /**\n     * Creates a custom telemetry event with the specified name that can be sent later. Generally the other send functions should be\n     * preferred over this - only use this if you absolutely need a custom event that can't be covered by the other methods.\n     * @param eventName The name of the event. Will be prefixed with <extension-name>/\n     * @param properties The list of properties to send along with the event\n     * @param measurements The list of measurements to send along with the event\n     */\n    createTelemetryEvent(eventName, properties, measurements) {\n        return new TelemetryEventImpl(this._telemetryReporter, eventName, properties, measurements);\n    }\n    /**\n     * Sends a custom telemetry event with the specified name. Generally the other send functions should be\n     * preferred over this - only use this if you absolutely need a custom event that can't be covered by the other\n     * @param eventName The name of the event. Will be prefixed with <extension-name>/\n     * @param properties The list of properties to send along with the event\n     * @param measurements The list of measurements to send along with the event\n     */\n    sendTelemetryEvent(eventName, properties, measurements) {\n        this.createTelemetryEvent(eventName, properties, measurements).send();\n    }\n    dispose() {\n        return this._telemetryReporter.dispose();\n    }\n}\nexports.default = TelemetryReporter;\n//# sourceMappingURL=telemetryReporter.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\r\nconst fs = require(\"fs\");\r\nexports.FILE_SYSTEM_ADAPTER = {\r\n    lstat: fs.lstat,\r\n    stat: fs.stat,\r\n    lstatSync: fs.lstatSync,\r\n    statSync: fs.statSync,\r\n    readdir: fs.readdir,\r\n    readdirSync: fs.readdirSync\r\n};\r\nfunction createFileSystemAdapter(fsMethods) {\r\n    if (fsMethods === undefined) {\r\n        return exports.FILE_SYSTEM_ADAPTER;\r\n    }\r\n    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\r\n}\r\nexports.createFileSystemAdapter = createFileSystemAdapter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.IS_SUPPORT_READDIR_WITH_FILE_TYPES = void 0;\r\nconst NODE_PROCESS_VERSION_PARTS = process.versions.node.split('.');\r\nconst MAJOR_VERSION = parseInt(NODE_PROCESS_VERSION_PARTS[0], 10);\r\nconst MINOR_VERSION = parseInt(NODE_PROCESS_VERSION_PARTS[1], 10);\r\nconst SUPPORTED_MAJOR_VERSION = 10;\r\nconst SUPPORTED_MINOR_VERSION = 10;\r\nconst IS_MATCHED_BY_MAJOR = MAJOR_VERSION > SUPPORTED_MAJOR_VERSION;\r\nconst IS_MATCHED_BY_MAJOR_AND_MINOR = MAJOR_VERSION === SUPPORTED_MAJOR_VERSION && MINOR_VERSION >= SUPPORTED_MINOR_VERSION;\r\n/**\r\n * IS `true` for Node.js 10.10 and greater.\r\n */\r\nexports.IS_SUPPORT_READDIR_WITH_FILE_TYPES = IS_MATCHED_BY_MAJOR || IS_MATCHED_BY_MAJOR_AND_MINOR;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Settings = exports.scandirSync = exports.scandir = void 0;\r\nconst async = require(\"./providers/async\");\r\nconst sync = require(\"./providers/sync\");\r\nconst settings_1 = require(\"./settings\");\r\nexports.Settings = settings_1.default;\r\nfunction scandir(path, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        return async.read(path, getSettings(), optionsOrSettingsOrCallback);\r\n    }\r\n    async.read(path, getSettings(optionsOrSettingsOrCallback), callback);\r\n}\r\nexports.scandir = scandir;\r\nfunction scandirSync(path, optionsOrSettings) {\r\n    const settings = getSettings(optionsOrSettings);\r\n    return sync.read(path, settings);\r\n}\r\nexports.scandirSync = scandirSync;\r\nfunction getSettings(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1.default(settingsOrOptions);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst rpl = require(\"run-parallel\");\r\nconst constants_1 = require(\"../constants\");\r\nconst utils = require(\"../utils\");\r\nconst common = require(\"./common\");\r\nfunction read(directory, settings, callback) {\r\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\r\n        return readdirWithFileTypes(directory, settings, callback);\r\n    }\r\n    return readdir(directory, settings, callback);\r\n}\r\nexports.read = read;\r\nfunction readdirWithFileTypes(directory, settings, callback) {\r\n    settings.fs.readdir(directory, { withFileTypes: true }, (readdirError, dirents) => {\r\n        if (readdirError !== null) {\r\n            return callFailureCallback(callback, readdirError);\r\n        }\r\n        const entries = dirents.map((dirent) => ({\r\n            dirent,\r\n            name: dirent.name,\r\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\r\n        }));\r\n        if (!settings.followSymbolicLinks) {\r\n            return callSuccessCallback(callback, entries);\r\n        }\r\n        const tasks = entries.map((entry) => makeRplTaskEntry(entry, settings));\r\n        rpl(tasks, (rplError, rplEntries) => {\r\n            if (rplError !== null) {\r\n                return callFailureCallback(callback, rplError);\r\n            }\r\n            callSuccessCallback(callback, rplEntries);\r\n        });\r\n    });\r\n}\r\nexports.readdirWithFileTypes = readdirWithFileTypes;\r\nfunction makeRplTaskEntry(entry, settings) {\r\n    return (done) => {\r\n        if (!entry.dirent.isSymbolicLink()) {\r\n            return done(null, entry);\r\n        }\r\n        settings.fs.stat(entry.path, (statError, stats) => {\r\n            if (statError !== null) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    return done(statError);\r\n                }\r\n                return done(null, entry);\r\n            }\r\n            entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\r\n            return done(null, entry);\r\n        });\r\n    };\r\n}\r\nfunction readdir(directory, settings, callback) {\r\n    settings.fs.readdir(directory, (readdirError, names) => {\r\n        if (readdirError !== null) {\r\n            return callFailureCallback(callback, readdirError);\r\n        }\r\n        const filepaths = names.map((name) => common.joinPathSegments(directory, name, settings.pathSegmentSeparator));\r\n        const tasks = filepaths.map((filepath) => {\r\n            return (done) => fsStat.stat(filepath, settings.fsStatSettings, done);\r\n        });\r\n        rpl(tasks, (rplError, results) => {\r\n            if (rplError !== null) {\r\n                return callFailureCallback(callback, rplError);\r\n            }\r\n            const entries = [];\r\n            names.forEach((name, index) => {\r\n                const stats = results[index];\r\n                const entry = {\r\n                    name,\r\n                    path: filepaths[index],\r\n                    dirent: utils.fs.createDirentFromStats(name, stats)\r\n                };\r\n                if (settings.stats) {\r\n                    entry.stats = stats;\r\n                }\r\n                entries.push(entry);\r\n            });\r\n            callSuccessCallback(callback, entries);\r\n        });\r\n    });\r\n}\r\nexports.readdir = readdir;\r\nfunction callFailureCallback(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback(callback, result) {\r\n    callback(null, result);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.joinPathSegments = void 0;\r\nfunction joinPathSegments(a, b, separator) {\r\n    /**\r\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\r\n     */\r\n    if (a.endsWith(separator)) {\r\n        return a + b;\r\n    }\r\n    return a + separator + b;\r\n}\r\nexports.joinPathSegments = joinPathSegments;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.readdir = exports.readdirWithFileTypes = exports.read = void 0;\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst constants_1 = require(\"../constants\");\r\nconst utils = require(\"../utils\");\r\nconst common = require(\"./common\");\r\nfunction read(directory, settings) {\r\n    if (!settings.stats && constants_1.IS_SUPPORT_READDIR_WITH_FILE_TYPES) {\r\n        return readdirWithFileTypes(directory, settings);\r\n    }\r\n    return readdir(directory, settings);\r\n}\r\nexports.read = read;\r\nfunction readdirWithFileTypes(directory, settings) {\r\n    const dirents = settings.fs.readdirSync(directory, { withFileTypes: true });\r\n    return dirents.map((dirent) => {\r\n        const entry = {\r\n            dirent,\r\n            name: dirent.name,\r\n            path: common.joinPathSegments(directory, dirent.name, settings.pathSegmentSeparator)\r\n        };\r\n        if (entry.dirent.isSymbolicLink() && settings.followSymbolicLinks) {\r\n            try {\r\n                const stats = settings.fs.statSync(entry.path);\r\n                entry.dirent = utils.fs.createDirentFromStats(entry.name, stats);\r\n            }\r\n            catch (error) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    throw error;\r\n                }\r\n            }\r\n        }\r\n        return entry;\r\n    });\r\n}\r\nexports.readdirWithFileTypes = readdirWithFileTypes;\r\nfunction readdir(directory, settings) {\r\n    const names = settings.fs.readdirSync(directory);\r\n    return names.map((name) => {\r\n        const entryPath = common.joinPathSegments(directory, name, settings.pathSegmentSeparator);\r\n        const stats = fsStat.statSync(entryPath, settings.fsStatSettings);\r\n        const entry = {\r\n            name,\r\n            path: entryPath,\r\n            dirent: utils.fs.createDirentFromStats(name, stats)\r\n        };\r\n        if (settings.stats) {\r\n            entry.stats = stats;\r\n        }\r\n        return entry;\r\n    });\r\n}\r\nexports.readdir = readdir;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path = require(\"path\");\r\nconst fsStat = require(\"@nodelib/fs.stat\");\r\nconst fs = require(\"./adapters/fs\");\r\nclass Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, false);\r\n        this.fs = fs.createFileSystemAdapter(this._options.fs);\r\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path.sep);\r\n        this.stats = this._getValue(this._options.stats, false);\r\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\r\n        this.fsStatSettings = new fsStat.Settings({\r\n            followSymbolicLink: this.followSymbolicLinks,\r\n            fs: this.fs,\r\n            throwErrorOnBrokenSymbolicLink: this.throwErrorOnBrokenSymbolicLink\r\n        });\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n}\r\nexports.default = Settings;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createDirentFromStats = void 0;\r\nclass DirentFromStats {\r\n    constructor(name, stats) {\r\n        this.name = name;\r\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\r\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\r\n        this.isDirectory = stats.isDirectory.bind(stats);\r\n        this.isFIFO = stats.isFIFO.bind(stats);\r\n        this.isFile = stats.isFile.bind(stats);\r\n        this.isSocket = stats.isSocket.bind(stats);\r\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\r\n    }\r\n}\r\nfunction createDirentFromStats(name, stats) {\r\n    return new DirentFromStats(name, stats);\r\n}\r\nexports.createDirentFromStats = createDirentFromStats;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fs = void 0;\r\nconst fs = require(\"./fs\");\r\nexports.fs = fs;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.createFileSystemAdapter = exports.FILE_SYSTEM_ADAPTER = void 0;\r\nconst fs = require(\"fs\");\r\nexports.FILE_SYSTEM_ADAPTER = {\r\n    lstat: fs.lstat,\r\n    stat: fs.stat,\r\n    lstatSync: fs.lstatSync,\r\n    statSync: fs.statSync\r\n};\r\nfunction createFileSystemAdapter(fsMethods) {\r\n    if (fsMethods === undefined) {\r\n        return exports.FILE_SYSTEM_ADAPTER;\r\n    }\r\n    return Object.assign(Object.assign({}, exports.FILE_SYSTEM_ADAPTER), fsMethods);\r\n}\r\nexports.createFileSystemAdapter = createFileSystemAdapter;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.statSync = exports.stat = exports.Settings = void 0;\r\nconst async = require(\"./providers/async\");\r\nconst sync = require(\"./providers/sync\");\r\nconst settings_1 = require(\"./settings\");\r\nexports.Settings = settings_1.default;\r\nfunction stat(path, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        return async.read(path, getSettings(), optionsOrSettingsOrCallback);\r\n    }\r\n    async.read(path, getSettings(optionsOrSettingsOrCallback), callback);\r\n}\r\nexports.stat = stat;\r\nfunction statSync(path, optionsOrSettings) {\r\n    const settings = getSettings(optionsOrSettings);\r\n    return sync.read(path, settings);\r\n}\r\nexports.statSync = statSync;\r\nfunction getSettings(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1.default(settingsOrOptions);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.read = void 0;\r\nfunction read(path, settings, callback) {\r\n    settings.fs.lstat(path, (lstatError, lstat) => {\r\n        if (lstatError !== null) {\r\n            return callFailureCallback(callback, lstatError);\r\n        }\r\n        if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\r\n            return callSuccessCallback(callback, lstat);\r\n        }\r\n        settings.fs.stat(path, (statError, stat) => {\r\n            if (statError !== null) {\r\n                if (settings.throwErrorOnBrokenSymbolicLink) {\r\n                    return callFailureCallback(callback, statError);\r\n                }\r\n                return callSuccessCallback(callback, lstat);\r\n            }\r\n            if (settings.markSymbolicLink) {\r\n                stat.isSymbolicLink = () => true;\r\n            }\r\n            callSuccessCallback(callback, stat);\r\n        });\r\n    });\r\n}\r\nexports.read = read;\r\nfunction callFailureCallback(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback(callback, result) {\r\n    callback(null, result);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.read = void 0;\r\nfunction read(path, settings) {\r\n    const lstat = settings.fs.lstatSync(path);\r\n    if (!lstat.isSymbolicLink() || !settings.followSymbolicLink) {\r\n        return lstat;\r\n    }\r\n    try {\r\n        const stat = settings.fs.statSync(path);\r\n        if (settings.markSymbolicLink) {\r\n            stat.isSymbolicLink = () => true;\r\n        }\r\n        return stat;\r\n    }\r\n    catch (error) {\r\n        if (!settings.throwErrorOnBrokenSymbolicLink) {\r\n            return lstat;\r\n        }\r\n        throw error;\r\n    }\r\n}\r\nexports.read = read;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst fs = require(\"./adapters/fs\");\r\nclass Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.followSymbolicLink = this._getValue(this._options.followSymbolicLink, true);\r\n        this.fs = fs.createFileSystemAdapter(this._options.fs);\r\n        this.markSymbolicLink = this._getValue(this._options.markSymbolicLink, false);\r\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, true);\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n}\r\nexports.default = Settings;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Settings = exports.walkStream = exports.walkSync = exports.walk = void 0;\r\nconst async_1 = require(\"./providers/async\");\r\nconst stream_1 = require(\"./providers/stream\");\r\nconst sync_1 = require(\"./providers/sync\");\r\nconst settings_1 = require(\"./settings\");\r\nexports.Settings = settings_1.default;\r\nfunction walk(directory, optionsOrSettingsOrCallback, callback) {\r\n    if (typeof optionsOrSettingsOrCallback === 'function') {\r\n        return new async_1.default(directory, getSettings()).read(optionsOrSettingsOrCallback);\r\n    }\r\n    new async_1.default(directory, getSettings(optionsOrSettingsOrCallback)).read(callback);\r\n}\r\nexports.walk = walk;\r\nfunction walkSync(directory, optionsOrSettings) {\r\n    const settings = getSettings(optionsOrSettings);\r\n    const provider = new sync_1.default(directory, settings);\r\n    return provider.read();\r\n}\r\nexports.walkSync = walkSync;\r\nfunction walkStream(directory, optionsOrSettings) {\r\n    const settings = getSettings(optionsOrSettings);\r\n    const provider = new stream_1.default(directory, settings);\r\n    return provider.read();\r\n}\r\nexports.walkStream = walkStream;\r\nfunction getSettings(settingsOrOptions = {}) {\r\n    if (settingsOrOptions instanceof settings_1.default) {\r\n        return settingsOrOptions;\r\n    }\r\n    return new settings_1.default(settingsOrOptions);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst async_1 = require(\"../readers/async\");\r\nclass AsyncProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new async_1.default(this._root, this._settings);\r\n        this._storage = new Set();\r\n    }\r\n    read(callback) {\r\n        this._reader.onError((error) => {\r\n            callFailureCallback(callback, error);\r\n        });\r\n        this._reader.onEntry((entry) => {\r\n            this._storage.add(entry);\r\n        });\r\n        this._reader.onEnd(() => {\r\n            callSuccessCallback(callback, [...this._storage]);\r\n        });\r\n        this._reader.read();\r\n    }\r\n}\r\nexports.default = AsyncProvider;\r\nfunction callFailureCallback(callback, error) {\r\n    callback(error);\r\n}\r\nfunction callSuccessCallback(callback, entries) {\r\n    callback(null, entries);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst stream_1 = require(\"stream\");\r\nconst async_1 = require(\"../readers/async\");\r\nclass StreamProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new async_1.default(this._root, this._settings);\r\n        this._stream = new stream_1.Readable({\r\n            objectMode: true,\r\n            read: () => { },\r\n            destroy: () => {\r\n                if (!this._reader.isDestroyed) {\r\n                    this._reader.destroy();\r\n                }\r\n            }\r\n        });\r\n    }\r\n    read() {\r\n        this._reader.onError((error) => {\r\n            this._stream.emit('error', error);\r\n        });\r\n        this._reader.onEntry((entry) => {\r\n            this._stream.push(entry);\r\n        });\r\n        this._reader.onEnd(() => {\r\n            this._stream.push(null);\r\n        });\r\n        this._reader.read();\r\n        return this._stream;\r\n    }\r\n}\r\nexports.default = StreamProvider;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst sync_1 = require(\"../readers/sync\");\r\nclass SyncProvider {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._reader = new sync_1.default(this._root, this._settings);\r\n    }\r\n    read() {\r\n        return this._reader.read();\r\n    }\r\n}\r\nexports.default = SyncProvider;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst events_1 = require(\"events\");\r\nconst fsScandir = require(\"@nodelib/fs.scandir\");\r\nconst fastq = require(\"fastq\");\r\nconst common = require(\"./common\");\r\nconst reader_1 = require(\"./reader\");\r\nclass AsyncReader extends reader_1.default {\r\n    constructor(_root, _settings) {\r\n        super(_root, _settings);\r\n        this._settings = _settings;\r\n        this._scandir = fsScandir.scandir;\r\n        this._emitter = new events_1.EventEmitter();\r\n        this._queue = fastq(this._worker.bind(this), this._settings.concurrency);\r\n        this._isFatalError = false;\r\n        this._isDestroyed = false;\r\n        this._queue.drain = () => {\r\n            if (!this._isFatalError) {\r\n                this._emitter.emit('end');\r\n            }\r\n        };\r\n    }\r\n    read() {\r\n        this._isFatalError = false;\r\n        this._isDestroyed = false;\r\n        setImmediate(() => {\r\n            this._pushToQueue(this._root, this._settings.basePath);\r\n        });\r\n        return this._emitter;\r\n    }\r\n    get isDestroyed() {\r\n        return this._isDestroyed;\r\n    }\r\n    destroy() {\r\n        if (this._isDestroyed) {\r\n            throw new Error('The reader is already destroyed');\r\n        }\r\n        this._isDestroyed = true;\r\n        this._queue.killAndDrain();\r\n    }\r\n    onEntry(callback) {\r\n        this._emitter.on('entry', callback);\r\n    }\r\n    onError(callback) {\r\n        this._emitter.once('error', callback);\r\n    }\r\n    onEnd(callback) {\r\n        this._emitter.once('end', callback);\r\n    }\r\n    _pushToQueue(directory, base) {\r\n        const queueItem = { directory, base };\r\n        this._queue.push(queueItem, (error) => {\r\n            if (error !== null) {\r\n                this._handleError(error);\r\n            }\r\n        });\r\n    }\r\n    _worker(item, done) {\r\n        this._scandir(item.directory, this._settings.fsScandirSettings, (error, entries) => {\r\n            if (error !== null) {\r\n                return done(error, undefined);\r\n            }\r\n            for (const entry of entries) {\r\n                this._handleEntry(entry, item.base);\r\n            }\r\n            done(null, undefined);\r\n        });\r\n    }\r\n    _handleError(error) {\r\n        if (this._isDestroyed || !common.isFatalError(this._settings, error)) {\r\n            return;\r\n        }\r\n        this._isFatalError = true;\r\n        this._isDestroyed = true;\r\n        this._emitter.emit('error', error);\r\n    }\r\n    _handleEntry(entry, base) {\r\n        if (this._isDestroyed || this._isFatalError) {\r\n            return;\r\n        }\r\n        const fullpath = entry.path;\r\n        if (base !== undefined) {\r\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\r\n        }\r\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\r\n            this._emitEntry(entry);\r\n        }\r\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\r\n            this._pushToQueue(fullpath, entry.path);\r\n        }\r\n    }\r\n    _emitEntry(entry) {\r\n        this._emitter.emit('entry', entry);\r\n    }\r\n}\r\nexports.default = AsyncReader;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.joinPathSegments = exports.replacePathSegmentSeparator = exports.isAppliedFilter = exports.isFatalError = void 0;\r\nfunction isFatalError(settings, error) {\r\n    if (settings.errorFilter === null) {\r\n        return true;\r\n    }\r\n    return !settings.errorFilter(error);\r\n}\r\nexports.isFatalError = isFatalError;\r\nfunction isAppliedFilter(filter, value) {\r\n    return filter === null || filter(value);\r\n}\r\nexports.isAppliedFilter = isAppliedFilter;\r\nfunction replacePathSegmentSeparator(filepath, separator) {\r\n    return filepath.split(/[/\\\\]/).join(separator);\r\n}\r\nexports.replacePathSegmentSeparator = replacePathSegmentSeparator;\r\nfunction joinPathSegments(a, b, separator) {\r\n    if (a === '') {\r\n        return b;\r\n    }\r\n    /**\r\n     * The correct handling of cases when the first segment is a root (`/`, `C:/`) or UNC path (`//?/C:/`).\r\n     */\r\n    if (a.endsWith(separator)) {\r\n        return a + b;\r\n    }\r\n    return a + separator + b;\r\n}\r\nexports.joinPathSegments = joinPathSegments;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst common = require(\"./common\");\r\nclass Reader {\r\n    constructor(_root, _settings) {\r\n        this._root = _root;\r\n        this._settings = _settings;\r\n        this._root = common.replacePathSegmentSeparator(_root, _settings.pathSegmentSeparator);\r\n    }\r\n}\r\nexports.default = Reader;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst fsScandir = require(\"@nodelib/fs.scandir\");\r\nconst common = require(\"./common\");\r\nconst reader_1 = require(\"./reader\");\r\nclass SyncReader extends reader_1.default {\r\n    constructor() {\r\n        super(...arguments);\r\n        this._scandir = fsScandir.scandirSync;\r\n        this._storage = new Set();\r\n        this._queue = new Set();\r\n    }\r\n    read() {\r\n        this._pushToQueue(this._root, this._settings.basePath);\r\n        this._handleQueue();\r\n        return [...this._storage];\r\n    }\r\n    _pushToQueue(directory, base) {\r\n        this._queue.add({ directory, base });\r\n    }\r\n    _handleQueue() {\r\n        for (const item of this._queue.values()) {\r\n            this._handleDirectory(item.directory, item.base);\r\n        }\r\n    }\r\n    _handleDirectory(directory, base) {\r\n        try {\r\n            const entries = this._scandir(directory, this._settings.fsScandirSettings);\r\n            for (const entry of entries) {\r\n                this._handleEntry(entry, base);\r\n            }\r\n        }\r\n        catch (error) {\r\n            this._handleError(error);\r\n        }\r\n    }\r\n    _handleError(error) {\r\n        if (!common.isFatalError(this._settings, error)) {\r\n            return;\r\n        }\r\n        throw error;\r\n    }\r\n    _handleEntry(entry, base) {\r\n        const fullpath = entry.path;\r\n        if (base !== undefined) {\r\n            entry.path = common.joinPathSegments(base, entry.name, this._settings.pathSegmentSeparator);\r\n        }\r\n        if (common.isAppliedFilter(this._settings.entryFilter, entry)) {\r\n            this._pushToStorage(entry);\r\n        }\r\n        if (entry.dirent.isDirectory() && common.isAppliedFilter(this._settings.deepFilter, entry)) {\r\n            this._pushToQueue(fullpath, entry.path);\r\n        }\r\n    }\r\n    _pushToStorage(entry) {\r\n        this._storage.add(entry);\r\n    }\r\n}\r\nexports.default = SyncReader;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst path = require(\"path\");\r\nconst fsScandir = require(\"@nodelib/fs.scandir\");\r\nclass Settings {\r\n    constructor(_options = {}) {\r\n        this._options = _options;\r\n        this.basePath = this._getValue(this._options.basePath, undefined);\r\n        this.concurrency = this._getValue(this._options.concurrency, Infinity);\r\n        this.deepFilter = this._getValue(this._options.deepFilter, null);\r\n        this.entryFilter = this._getValue(this._options.entryFilter, null);\r\n        this.errorFilter = this._getValue(this._options.errorFilter, null);\r\n        this.pathSegmentSeparator = this._getValue(this._options.pathSegmentSeparator, path.sep);\r\n        this.fsScandirSettings = new fsScandir.Settings({\r\n            followSymbolicLinks: this._options.followSymbolicLinks,\r\n            fs: this._options.fs,\r\n            pathSegmentSeparator: this._options.pathSegmentSeparator,\r\n            stats: this._options.stats,\r\n            throwErrorOnBrokenSymbolicLink: this._options.throwErrorOnBrokenSymbolicLink\r\n        });\r\n    }\r\n    _getValue(option, value) {\r\n        return option !== null && option !== void 0 ? option : value;\r\n    }\r\n}\r\nexports.default = Settings;\r\n","\"use strict\";\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectConsole = (function () {\n    function AutoCollectConsole(client) {\n        if (!!AutoCollectConsole.INSTANCE) {\n            throw new Error(\"Console logging adapter tracking should be configured from the applicationInsights object\");\n        }\n        this._client = client;\n        AutoCollectConsole.INSTANCE = this;\n    }\n    AutoCollectConsole.prototype.enable = function (isEnabled, collectConsoleLog) {\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/console.sub\").enable(isEnabled && collectConsoleLog, this._client);\n            require(\"./diagnostic-channel/bunyan.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/winston.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectConsole.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectConsole.prototype.dispose = function () {\n        AutoCollectConsole.INSTANCE = null;\n        this.enable(false, false);\n    };\n    AutoCollectConsole._methodNames = [\"debug\", \"info\", \"log\", \"warn\", \"error\"];\n    return AutoCollectConsole;\n}());\nmodule.exports = AutoCollectConsole;\n//# sourceMappingURL=Console.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../Library/Logging\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar CorrelationContextManager = (function () {\n    function CorrelationContextManager() {\n    }\n    /**\n     *  Provides the current Context.\n     *  The context is the most recent one entered into for the current\n     *  logical chain of execution, including across asynchronous calls.\n     */\n    CorrelationContextManager.getCurrentContext = function () {\n        if (!CorrelationContextManager.enabled) {\n            return null;\n        }\n        var context = CorrelationContextManager.session.get(CorrelationContextManager.CONTEXT_NAME);\n        if (context === undefined) {\n            return null;\n        }\n        return context;\n    };\n    /**\n     *  A helper to generate objects conforming to the CorrelationContext interface\n     */\n    CorrelationContextManager.generateContextObject = function (operationId, parentId, operationName, correlationContextHeader, traceparent, tracestate) {\n        parentId = parentId || operationId;\n        if (this.enabled) {\n            return {\n                operation: {\n                    name: operationName,\n                    id: operationId,\n                    parentId: parentId,\n                    traceparent: traceparent,\n                    tracestate: tracestate\n                },\n                customProperties: new CustomPropertiesImpl(correlationContextHeader)\n            };\n        }\n        return null;\n    };\n    /**\n     *  Runs a function inside a given Context.\n     *  All logical children of the execution path that entered this Context\n     *  will receive this Context object on calls to GetCurrentContext.\n     */\n    CorrelationContextManager.runWithContext = function (context, fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn, (_a = {}, _a[CorrelationContextManager.CONTEXT_NAME] = context, _a))();\n        }\n        else {\n            return fn();\n        }\n        var _a;\n    };\n    /**\n     * Wrapper for cls-hooked bindEmitter method\n     */\n    CorrelationContextManager.wrapEmitter = function (emitter) {\n        if (CorrelationContextManager.enabled) {\n            CorrelationContextManager.session.bindEmitter(emitter);\n        }\n    };\n    /**\n     *  Patches a callback to restore the correct Context when getCurrentContext\n     *  is run within it. This is necessary if automatic correlation fails to work\n     *  with user-included libraries.\n     *\n     *  The supplied callback will be given the same context that was present for\n     *  the call to wrapCallback.  */\n    CorrelationContextManager.wrapCallback = function (fn) {\n        if (CorrelationContextManager.enabled) {\n            return CorrelationContextManager.session.bind(fn);\n        }\n        return fn;\n    };\n    /**\n     *  Enables the CorrelationContextManager.\n     */\n    CorrelationContextManager.enable = function (forceClsHooked) {\n        if (this.enabled) {\n            return;\n        }\n        if (!this.isNodeVersionCompatible()) {\n            this.enabled = false;\n            return;\n        }\n        if (!CorrelationContextManager.hasEverEnabled) {\n            this.forceClsHooked = forceClsHooked;\n            this.hasEverEnabled = true;\n            if (typeof this.cls === \"undefined\") {\n                if ((CorrelationContextManager.forceClsHooked === true) || (CorrelationContextManager.forceClsHooked === undefined && CorrelationContextManager.shouldUseClsHooked())) {\n                    this.cls = require('cls-hooked');\n                }\n                else {\n                    this.cls = require('continuation-local-storage');\n                }\n            }\n            CorrelationContextManager.session = this.cls.createNamespace(\"AI-CLS-Session\");\n            DiagChannel.registerContextPreservation(function (cb) {\n                return CorrelationContextManager.session.bind(cb);\n            });\n        }\n        this.enabled = true;\n    };\n    /**\n     *  Disables the CorrelationContextManager.\n     */\n    CorrelationContextManager.disable = function () {\n        this.enabled = false;\n    };\n    /**\n     * Reset the namespace\n     */\n    CorrelationContextManager.reset = function () {\n        if (CorrelationContextManager.hasEverEnabled) {\n            CorrelationContextManager.session = null;\n            CorrelationContextManager.session = this.cls.createNamespace('AI-CLS-Session');\n        }\n    };\n    /**\n     *  Reports if CorrelationContextManager is able to run in this environment\n     */\n    CorrelationContextManager.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) > 3 || (parseInt(nodeVer[0]) > 2 && parseInt(nodeVer[1]) > 2);\n    };\n    /**\n     * We only want to use cls-hooked when it uses async_hooks api (8.2+), else\n     * use async-listener (plain -cls)\n     */\n    CorrelationContextManager.shouldUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 2);\n    };\n    /**\n     * A TypeError is triggered by cls-hooked for node [8.0, 8.2)\n     * @internal Used in tests only\n     */\n    CorrelationContextManager.canUseClsHooked = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        var greater800 = (parseInt(nodeVer[0]) > 8) || (parseInt(nodeVer[0]) >= 8 && parseInt(nodeVer[1]) >= 0);\n        var less820 = (parseInt(nodeVer[0]) < 8) || (parseInt(nodeVer[0]) <= 8 && parseInt(nodeVer[1]) < 2);\n        var greater470 = parseInt(nodeVer[0]) > 4 || (parseInt(nodeVer[0]) >= 4 && parseInt(nodeVer[1]) >= 7); // cls-hooked requires node 4.7+\n        return !(greater800 && less820) && greater470;\n    };\n    CorrelationContextManager.enabled = false;\n    CorrelationContextManager.hasEverEnabled = false;\n    CorrelationContextManager.forceClsHooked = undefined; // true: use cls-hooked, false: use cls, undefined: choose based on node version\n    CorrelationContextManager.CONTEXT_NAME = \"ApplicationInsights-Context\";\n    return CorrelationContextManager;\n}());\nexports.CorrelationContextManager = CorrelationContextManager;\nvar CustomPropertiesImpl = (function () {\n    function CustomPropertiesImpl(header) {\n        this.props = [];\n        this.addHeaderData(header);\n    }\n    CustomPropertiesImpl.prototype.addHeaderData = function (header) {\n        var keyvals = header ? header.split(\", \") : [];\n        this.props = keyvals.map(function (keyval) {\n            var parts = keyval.split(\"=\");\n            return { key: parts[0], value: parts[1] };\n        }).concat(this.props);\n    };\n    CustomPropertiesImpl.prototype.serializeToHeader = function () {\n        return this.props.map(function (keyval) {\n            return keyval.key + \"=\" + keyval.value;\n        }).join(\", \");\n    };\n    CustomPropertiesImpl.prototype.getProperty = function (prop) {\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                return keyval.value;\n            }\n        }\n        return;\n    };\n    // TODO: Strictly according to the spec, properties which are recieved from\n    // an incoming request should be left untouched, while we may add our own new\n    // properties. The logic here will need to change to track that.\n    CustomPropertiesImpl.prototype.setProperty = function (prop, val) {\n        if (CustomPropertiesImpl.bannedCharacters.test(prop) || CustomPropertiesImpl.bannedCharacters.test(val)) {\n            Logging.warn(\"Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: \" + prop + \" and value: \" + val);\n            return;\n        }\n        for (var i = 0; i < this.props.length; ++i) {\n            var keyval = this.props[i];\n            if (keyval.key === prop) {\n                keyval.value = val;\n                return;\n            }\n        }\n        this.props.push({ key: prop, value: val });\n    };\n    CustomPropertiesImpl.bannedCharacters = /[,=]/;\n    return CustomPropertiesImpl;\n}());\n//# sourceMappingURL=CorrelationContextManager.js.map","\"use strict\";\nvar AutoCollectExceptions = (function () {\n    function AutoCollectExceptions(client) {\n        if (!!AutoCollectExceptions.INSTANCE) {\n            throw new Error(\"Exception tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectExceptions.INSTANCE = this;\n        this._client = client;\n        // Only use for 13.7.0+\n        var nodeVer = process.versions.node.split(\".\");\n        AutoCollectExceptions._canUseUncaughtExceptionMonitor = parseInt(nodeVer[0]) > 13 || (parseInt(nodeVer[0]) === 13 && parseInt(nodeVer[1]) >= 7);\n    }\n    AutoCollectExceptions.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectExceptions.prototype.enable = function (isEnabled) {\n        var _this = this;\n        if (isEnabled) {\n            this._isInitialized = true;\n            var self = this;\n            if (!this._exceptionListenerHandle) {\n                // For scenarios like Promise.reject(), an error won't be passed to the handle. Create a placeholder\n                // error for these scenarios.\n                var handle = function (reThrow, name, error) {\n                    if (error === void 0) { error = new Error(AutoCollectExceptions._FALLBACK_ERROR_MESSAGE); }\n                    _this._client.trackException({ exception: error });\n                    _this._client.flush({ isAppCrashing: true });\n                    // only rethrow when we are the only listener\n                    if (reThrow && name && process.listeners(name).length === 1) {\n                        console.error(error);\n                        process.exit(1);\n                    }\n                };\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    // Node.js >= 13.7.0, use uncaughtExceptionMonitor. It handles both promises and exceptions\n                    this._exceptionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    this._exceptionListenerHandle = handle.bind(this, true, AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME);\n                    this._rejectionListenerHandle = handle.bind(this, false); // never rethrows\n                    process.on(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.on(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n            }\n        }\n        else {\n            if (this._exceptionListenerHandle) {\n                if (AutoCollectExceptions._canUseUncaughtExceptionMonitor) {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME, this._exceptionListenerHandle);\n                }\n                else {\n                    process.removeListener(AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME, this._exceptionListenerHandle);\n                    process.removeListener(AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME, this._rejectionListenerHandle);\n                }\n                this._exceptionListenerHandle = undefined;\n                this._rejectionListenerHandle = undefined;\n                delete this._exceptionListenerHandle;\n                delete this._rejectionListenerHandle;\n            }\n        }\n    };\n    AutoCollectExceptions.prototype.dispose = function () {\n        AutoCollectExceptions.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectExceptions.INSTANCE = null;\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME = \"uncaughtExceptionMonitor\";\n    AutoCollectExceptions.UNCAUGHT_EXCEPTION_HANDLER_NAME = \"uncaughtException\";\n    AutoCollectExceptions.UNHANDLED_REJECTION_HANDLER_NAME = \"unhandledRejection\";\n    AutoCollectExceptions._RETHROW_EXIT_MESSAGE = \"Application Insights Rethrow Exception Handler\";\n    AutoCollectExceptions._FALLBACK_ERROR_MESSAGE = \"A promise was rejected without providing an error. Application Insights generated this error stack for you.\";\n    AutoCollectExceptions._canUseUncaughtExceptionMonitor = false;\n    return AutoCollectExceptions;\n}());\nmodule.exports = AutoCollectExceptions;\n//# sourceMappingURL=Exceptions.js.map","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpDependencyParser = require(\"./HttpDependencyParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Traceparent = require(\"../Library/Traceparent\");\nvar DiagChannel = require(\"./diagnostic-channel/initialization\");\nvar AutoCollectHttpDependencies = (function () {\n    function AutoCollectHttpDependencies(client) {\n        if (!!AutoCollectHttpDependencies.INSTANCE) {\n            throw new Error(\"Client request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpDependencies.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpDependencies.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._initialize();\n        }\n        if (DiagChannel.IsInitialized) {\n            require(\"./diagnostic-channel/mongodb.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/mysql.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/redis.sub\").enable(isEnabled, this._client);\n            require(\"./diagnostic-channel/postgres.sub\").enable(isEnabled, this._client);\n        }\n    };\n    AutoCollectHttpDependencies.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpDependencies.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var originalGet = http.get;\n        var originalRequest = http.request;\n        var originalHttpsRequest = https.request;\n        var clientRequestPatch = function (request, options) {\n            var shouldCollect = !options[AutoCollectHttpDependencies.disableCollectionRequestOption] &&\n                !request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag];\n            request[AutoCollectHttpDependencies.alreadyAutoCollectedFlag] = true;\n            if (request && options && shouldCollect) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                AutoCollectHttpDependencies.trackRequest(_this._client, { options: options, request: request });\n            }\n        };\n        // On node >= v0.11.12 and < 9.0 (excluding 8.9.0) https.request just calls http.request (with additional options).\n        // On node < 0.11.12, 8.9.0, and 9.0 > https.request is handled separately\n        // Patch both and leave a flag to not double-count on versions that just call through\n        // We add the flag to both http and https to protect against strange double collection in other scenarios\n        http.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalRequest.call.apply(originalRequest, [http, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        https.request = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = originalHttpsRequest.call.apply(originalHttpsRequest, [https, options].concat(requestArgs));\n            clientRequestPatch(request, options);\n            return request;\n        };\n        // Node 8 calls http.request from http.get using a local reference!\n        // We have to patch .get manually in this case and can't just assume request is enough\n        // We have to replace the entire method in this case. We can't call the original.\n        // This is because calling the original will give us no chance to set headers as it internally does .end().\n        http.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = http.request).call.apply(_a, [http, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n        https.get = function (options) {\n            var requestArgs = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                requestArgs[_i - 1] = arguments[_i];\n            }\n            var request = (_a = https.request).call.apply(_a, [https, options].concat(requestArgs));\n            request.end();\n            return request;\n            var _a;\n        };\n    };\n    /**\n     * Tracks an outgoing request. Because it may set headers this method must be called before\n     * writing content to or ending the request.\n     */\n    AutoCollectHttpDependencies.trackRequest = function (client, telemetry) {\n        if (!telemetry.options || !telemetry.request || !client) {\n            Logging.info(\"AutoCollectHttpDependencies.trackRequest was called with invalid parameters: \", !telemetry.options, !telemetry.request, !client);\n            return;\n        }\n        var requestParser = new HttpDependencyParser(telemetry.options, telemetry.request);\n        var currentContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var uniqueRequestId;\n        var uniqueTraceparent;\n        if (currentContext && currentContext.operation && currentContext.operation.traceparent && Traceparent.isValidTraceId(currentContext.operation.traceparent.traceId)) {\n            currentContext.operation.traceparent.updateSpanId();\n            uniqueRequestId = currentContext.operation.traceparent.getBackCompatRequestId();\n        }\n        else if (CorrelationIdManager.w3cEnabled) {\n            // Start an operation now so that we can include the w3c headers in the outgoing request\n            var traceparent = new Traceparent();\n            uniqueTraceparent = traceparent.toString();\n            uniqueRequestId = traceparent.getBackCompatRequestId();\n        }\n        else {\n            uniqueRequestId = currentContext && currentContext.operation && (currentContext.operation.parentId + AutoCollectHttpDependencies.requestNumber++ + '.');\n        }\n        // Add the source correlationId to the request headers, if a value was not already provided.\n        // The getHeader/setHeader methods aren't available on very old Node versions, and\n        // are not included in the v0.10 type declarations currently used. So check if the\n        // methods exist before invoking them.\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl()) && telemetry.request.getHeader && telemetry.request.setHeader) {\n            if (client.config && client.config.correlationId) {\n                // getHeader returns \"any\" type in newer versions of node. In basic scenarios, this will be <string | string[] | number>, but could be modified to anything else via middleware\n                var correlationHeader = telemetry.request.getHeader(RequestResponseHeaders.requestContextHeader);\n                try {\n                    Util.safeIncludeCorrelationHeader(client, telemetry.request, correlationHeader);\n                }\n                catch (err) {\n                    Logging.warn(\"Request-Context header could not be set. Correlation of requests may be lost\", err);\n                }\n                if (currentContext && currentContext.operation) {\n                    try {\n                        telemetry.request.setHeader(RequestResponseHeaders.requestIdHeader, uniqueRequestId);\n                        // Also set legacy headers\n                        telemetry.request.setHeader(RequestResponseHeaders.parentIdHeader, currentContext.operation.id);\n                        telemetry.request.setHeader(RequestResponseHeaders.rootIdHeader, uniqueRequestId);\n                        // Set W3C headers, if available\n                        if (uniqueTraceparent || currentContext.operation.traceparent) {\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, uniqueTraceparent || currentContext.operation.traceparent.toString());\n                        }\n                        else if (CorrelationIdManager.w3cEnabled) {\n                            // should never get here since we set uniqueTraceparent above for the w3cEnabled scenario\n                            var traceparent = new Traceparent().toString();\n                            telemetry.request.setHeader(RequestResponseHeaders.traceparentHeader, traceparent);\n                        }\n                        if (currentContext.operation.tracestate) {\n                            var tracestate = currentContext.operation.tracestate.toString();\n                            if (tracestate) {\n                                telemetry.request.setHeader(RequestResponseHeaders.traceStateHeader, tracestate);\n                            }\n                        }\n                        var correlationContextHeader = currentContext.customProperties.serializeToHeader();\n                        if (correlationContextHeader) {\n                            telemetry.request.setHeader(RequestResponseHeaders.correlationContextHeader, correlationContextHeader);\n                        }\n                    }\n                    catch (err) {\n                        Logging.warn(\"Correlation headers could not be set. Correlation of requests may be lost.\", err);\n                    }\n                }\n            }\n        }\n        // Collect dependency telemetry about the request when it finishes.\n        if (telemetry.request.on) {\n            telemetry.request.on('response', function (response) {\n                requestParser.onResponse(response);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"http.ClientResponse\"] = response;\n                client.trackDependency(dependencyTelemetry);\n            });\n            telemetry.request.on('error', function (e) {\n                requestParser.onError(e);\n                var dependencyTelemetry = requestParser.getDependencyTelemetry(telemetry, uniqueRequestId);\n                dependencyTelemetry.contextObjects = dependencyTelemetry.contextObjects || {};\n                dependencyTelemetry.contextObjects[\"http.RequestOptions\"] = telemetry.options;\n                dependencyTelemetry.contextObjects[\"http.ClientRequest\"] = telemetry.request;\n                dependencyTelemetry.contextObjects[\"Error\"] = e;\n                client.trackDependency(dependencyTelemetry);\n            });\n        }\n    };\n    AutoCollectHttpDependencies.prototype.dispose = function () {\n        AutoCollectHttpDependencies.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectHttpDependencies.disableCollectionRequestOption = 'disableAppInsightsAutoCollection';\n    AutoCollectHttpDependencies.requestNumber = 1;\n    AutoCollectHttpDependencies.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpDependencies;\n}());\nmodule.exports = AutoCollectHttpDependencies;\n//# sourceMappingURL=HttpDependencies.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpDependencyParser = (function (_super) {\n    __extends(HttpDependencyParser, _super);\n    function HttpDependencyParser(requestOptions, request) {\n        var _this = _super.call(this) || this;\n        if (request && request.method && requestOptions) {\n            // The ClientRequest.method property isn't documented, but is always there.\n            _this.method = request.method;\n            _this.url = HttpDependencyParser._getUrlFromRequestOptions(requestOptions, request);\n            _this.startTime = +new Date();\n        }\n        return _this;\n    }\n    /**\n     * Called when the ClientRequest emits an error event.\n     */\n    HttpDependencyParser.prototype.onError = function (error) {\n        this._setStatus(undefined, error);\n    };\n    /**\n     * Called when the ClientRequest emits a response event.\n     */\n    HttpDependencyParser.prototype.onResponse = function (response) {\n        this._setStatus(response.statusCode, undefined);\n        this.correlationId = Util.getCorrelationContextTarget(response, RequestResponseHeaders.requestContextTargetKey);\n    };\n    /**\n     * Gets a dependency data contract object for a completed ClientRequest.\n     */\n    HttpDependencyParser.prototype.getDependencyTelemetry = function (baseTelemetry, dependencyId) {\n        var urlObject = url.parse(this.url);\n        urlObject.search = undefined;\n        urlObject.hash = undefined;\n        var dependencyName = this.method.toUpperCase() + \" \" + urlObject.pathname;\n        var remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        var remoteDependencyTarget = urlObject.hostname;\n        if (this.correlationId) {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_AI;\n            if (this.correlationId !== CorrelationIdManager.correlationIdPrefix) {\n                remoteDependencyTarget = urlObject.hostname + \" | \" + this.correlationId;\n            }\n        }\n        else {\n            remoteDependencyType = Contracts.RemoteDependencyDataConstants.TYPE_HTTP;\n        }\n        if (urlObject.port) {\n            remoteDependencyTarget += \":\" + urlObject.port;\n        }\n        var dependencyTelemetry = {\n            id: dependencyId,\n            name: dependencyName,\n            data: this.url,\n            duration: this.duration,\n            success: this._isSuccess(),\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            properties: this.properties || {},\n            dependencyTypeName: remoteDependencyType,\n            target: remoteDependencyTarget\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!dependencyTelemetry[key]) {\n                    dependencyTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    dependencyTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return dependencyTelemetry;\n    };\n    /**\n     * Builds a URL from request options, using the same logic as http.request(). This is\n     * necessary because a ClientRequest object does not expose a url property.\n     */\n    HttpDependencyParser._getUrlFromRequestOptions = function (options, request) {\n        if (typeof options === 'string') {\n            options = url.parse(options);\n        }\n        else {\n            // Avoid modifying the original options object.\n            var originalOptions_1 = options;\n            options = {};\n            if (originalOptions_1) {\n                Object.keys(originalOptions_1).forEach(function (key) {\n                    options[key] = originalOptions_1[key];\n                });\n            }\n        }\n        // Oddly, url.format ignores path and only uses pathname and search,\n        // so create them from the path, if path was specified\n        if (options.path) {\n            var parsedQuery = url.parse(options.path);\n            options.pathname = parsedQuery.pathname;\n            options.search = parsedQuery.search;\n        }\n        // Simiarly, url.format ignores hostname and port if host is specified,\n        // even if host doesn't have the port, but http.request does not work\n        // this way. It will use the port if one is not specified in host,\n        // effectively treating host as hostname, but will use the port specified\n        // in host if it exists.\n        if (options.host && options.port) {\n            // Force a protocol so it will parse the host as the host, not path.\n            // It is discarded and not used, so it doesn't matter if it doesn't match\n            var parsedHost = url.parse(\"http://\" + options.host);\n            if (!parsedHost.port && options.port) {\n                options.hostname = options.host;\n                delete options.host;\n            }\n        }\n        // Mix in default values used by http.request and others\n        options.protocol = options.protocol || (request.agent && request.agent.protocol) || undefined;\n        options.hostname = options.hostname || 'localhost';\n        return url.format(options);\n    };\n    return HttpDependencyParser;\n}(RequestParser));\nmodule.exports = HttpDependencyParser;\n//# sourceMappingURL=HttpDependencyParser.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar url = require(\"url\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar RequestParser = require(\"./RequestParser\");\nvar CorrelationIdManager = require(\"../Library/CorrelationIdManager\");\nvar Tracestate = require(\"../Library/Tracestate\");\nvar Traceparent = require(\"../Library/Traceparent\");\n/**\n * Helper class to read data from the requst/response objects and convert them into the telemetry contract\n */\nvar HttpRequestParser = (function (_super) {\n    __extends(HttpRequestParser, _super);\n    function HttpRequestParser(request, requestId) {\n        var _this = _super.call(this) || this;\n        if (request) {\n            _this.method = request.method;\n            _this.url = _this._getAbsoluteUrl(request);\n            _this.startTime = +new Date();\n            _this.socketRemoteAddress = request.socket && request.socket.remoteAddress;\n            _this.parseHeaders(request, requestId);\n            if (request.connection) {\n                _this.connectionRemoteAddress = request.connection.remoteAddress;\n                _this.legacySocketRemoteAddress = request.connection[\"socket\"] && request.connection[\"socket\"].remoteAddress;\n            }\n        }\n        return _this;\n    }\n    HttpRequestParser.prototype.onError = function (error, ellapsedMilliseconds) {\n        this._setStatus(undefined, error);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.onResponse = function (response, ellapsedMilliseconds) {\n        this._setStatus(response.statusCode, undefined);\n        // This parameter is only for overrides. setStatus handles this internally for the autocollected case\n        if (ellapsedMilliseconds) {\n            this.duration = ellapsedMilliseconds;\n        }\n    };\n    HttpRequestParser.prototype.getRequestTelemetry = function (baseTelemetry) {\n        var requestTelemetry = {\n            id: this.requestId,\n            name: this.method + \" \" + url.parse(this.url).pathname,\n            url: this.url,\n            /*\n            See https://github.com/Microsoft/ApplicationInsights-dotnet-server/blob/25d695e6a906fbe977f67be3966d25dbf1c50a79/Src/Web/Web.Shared.Net/RequestTrackingTelemetryModule.cs#L250\n            for reference\n            */\n            source: this.sourceCorrelationId,\n            duration: this.duration,\n            resultCode: this.statusCode ? this.statusCode.toString() : null,\n            success: this._isSuccess(),\n            properties: this.properties\n        };\n        // We should keep any parameters the user passed in\n        // Except the fields defined above in requestTelemetry, which take priority\n        // Except the properties field, where they're merged instead, with baseTelemetry taking priority\n        if (baseTelemetry) {\n            // Copy missing fields\n            for (var key in baseTelemetry) {\n                if (!requestTelemetry[key]) {\n                    requestTelemetry[key] = baseTelemetry[key];\n                }\n            }\n            // Merge properties\n            if (baseTelemetry.properties) {\n                for (var key in baseTelemetry.properties) {\n                    requestTelemetry.properties[key] = baseTelemetry.properties[key];\n                }\n            }\n        }\n        return requestTelemetry;\n    };\n    HttpRequestParser.prototype.getRequestTags = function (tags) {\n        // create a copy of the context for requests since client info will be used here\n        var newTags = {};\n        for (var key in tags) {\n            newTags[key] = tags[key];\n        }\n        // don't override tags if they are already set\n        newTags[HttpRequestParser.keys.locationIp] = tags[HttpRequestParser.keys.locationIp] || this._getIp();\n        newTags[HttpRequestParser.keys.sessionId] = tags[HttpRequestParser.keys.sessionId] || this._getId(\"ai_session\");\n        newTags[HttpRequestParser.keys.userId] = tags[HttpRequestParser.keys.userId] || this._getId(\"ai_user\");\n        newTags[HttpRequestParser.keys.userAuthUserId] = tags[HttpRequestParser.keys.userAuthUserId] || this._getId(\"ai_authUser\");\n        newTags[HttpRequestParser.keys.operationName] = this.getOperationName(tags);\n        newTags[HttpRequestParser.keys.operationParentId] = this.getOperationParentId(tags);\n        newTags[HttpRequestParser.keys.operationId] = this.getOperationId(tags);\n        return newTags;\n    };\n    HttpRequestParser.prototype.getOperationId = function (tags) {\n        return tags[HttpRequestParser.keys.operationId] || this.operationId;\n    };\n    HttpRequestParser.prototype.getOperationParentId = function (tags) {\n        return tags[HttpRequestParser.keys.operationParentId] || this.parentId || this.getOperationId(tags);\n    };\n    HttpRequestParser.prototype.getOperationName = function (tags) {\n        return tags[HttpRequestParser.keys.operationName] || this.method + \" \" + url.parse(this.url).pathname;\n    };\n    HttpRequestParser.prototype.getRequestId = function () {\n        return this.requestId;\n    };\n    HttpRequestParser.prototype.getCorrelationContextHeader = function () {\n        return this.correlationContextHeader;\n    };\n    HttpRequestParser.prototype.getTraceparent = function () {\n        return this.traceparent;\n    };\n    HttpRequestParser.prototype.getTracestate = function () {\n        return this.tracestate;\n    };\n    HttpRequestParser.prototype.getLegacyRootId = function () {\n        return this.legacyRootId;\n    };\n    HttpRequestParser.prototype._getAbsoluteUrl = function (request) {\n        if (!request.headers) {\n            return request.url;\n        }\n        var encrypted = request.connection ? request.connection.encrypted : null;\n        var requestUrl = url.parse(request.url);\n        var pathName = requestUrl.pathname;\n        var search = requestUrl.search;\n        var absoluteUrl = url.format({\n            protocol: encrypted ? \"https\" : \"http\",\n            host: request.headers.host,\n            pathname: pathName,\n            search: search\n        });\n        return absoluteUrl;\n    };\n    HttpRequestParser.prototype._getIp = function () {\n        // regex to match ipv4 without port\n        // Note: including the port would cause the payload to be rejected by the data collector\n        var ipMatch = /[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}/;\n        var check = function (str) {\n            var results = ipMatch.exec(str);\n            if (results) {\n                return results[0];\n            }\n        };\n        var ip = check(this.rawHeaders[\"x-forwarded-for\"])\n            || check(this.rawHeaders[\"x-client-ip\"])\n            || check(this.rawHeaders[\"x-real-ip\"])\n            || check(this.connectionRemoteAddress)\n            || check(this.socketRemoteAddress)\n            || check(this.legacySocketRemoteAddress);\n        // node v12 returns this if the address is \"localhost\"\n        if (!ip\n            && this.connectionRemoteAddress\n            && this.connectionRemoteAddress.substr\n            && this.connectionRemoteAddress.substr(0, 2) === \"::\") {\n            ip = \"127.0.0.1\";\n        }\n        return ip;\n    };\n    HttpRequestParser.prototype._getId = function (name) {\n        var cookie = (this.rawHeaders && this.rawHeaders[\"cookie\"] &&\n            typeof this.rawHeaders[\"cookie\"] === 'string' && this.rawHeaders[\"cookie\"]) || \"\";\n        var value = HttpRequestParser.parseId(Util.getCookie(name, cookie));\n        return value;\n    };\n    /**\n     * Sets this operation's operationId, parentId, requestId (and legacyRootId, if necessary) based on this operation's traceparent\n     */\n    HttpRequestParser.prototype.setBackCompatFromThisTraceContext = function () {\n        // Set operationId\n        this.operationId = this.traceparent.traceId;\n        if (this.traceparent.legacyRootId) {\n            this.legacyRootId = this.traceparent.legacyRootId;\n        }\n        // Set parentId with existing spanId\n        this.parentId = this.traceparent.parentId;\n        // Update the spanId and set the current requestId\n        this.traceparent.updateSpanId();\n        this.requestId = this.traceparent.getBackCompatRequestId();\n    };\n    HttpRequestParser.prototype.parseHeaders = function (request, requestId) {\n        this.rawHeaders = request.headers || request.rawHeaders;\n        this.userAgent = request.headers && request.headers[\"user-agent\"];\n        this.sourceCorrelationId = Util.getCorrelationContextTarget(request, RequestResponseHeaders.requestContextSourceKey);\n        if (request.headers) {\n            var tracestateHeader = request.headers[RequestResponseHeaders.traceStateHeader]; // w3c header\n            var traceparentHeader = request.headers[RequestResponseHeaders.traceparentHeader]; // w3c header\n            var requestIdHeader = request.headers[RequestResponseHeaders.requestIdHeader]; // default AI header\n            var legacy_parentId = request.headers[RequestResponseHeaders.parentIdHeader]; // legacy AI header\n            var legacy_rootId = request.headers[RequestResponseHeaders.rootIdHeader]; // legacy AI header\n            this.correlationContextHeader = request.headers[RequestResponseHeaders.correlationContextHeader];\n            if (CorrelationIdManager.w3cEnabled && (traceparentHeader || tracestateHeader)) {\n                // Parse W3C Trace Context headers\n                this.traceparent = new Traceparent(traceparentHeader); // new traceparent is always created from this\n                this.tracestate = traceparentHeader && tracestateHeader && new Tracestate(tracestateHeader); // discard tracestate if no traceparent is present\n                this.setBackCompatFromThisTraceContext();\n            }\n            else if (requestIdHeader) {\n                // Parse AI headers\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent(null, requestIdHeader);\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = requestIdHeader;\n                    this.requestId = CorrelationIdManager.generateRequestId(this.parentId);\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            else {\n                // Legacy fallback\n                if (CorrelationIdManager.w3cEnabled) {\n                    this.traceparent = new Traceparent();\n                    this.traceparent.parentId = legacy_parentId;\n                    this.traceparent.legacyRootId = legacy_rootId || legacy_parentId;\n                    this.setBackCompatFromThisTraceContext();\n                }\n                else {\n                    this.parentId = legacy_parentId;\n                    this.requestId = CorrelationIdManager.generateRequestId(legacy_rootId || this.parentId);\n                    this.correlationContextHeader = null;\n                    this.operationId = CorrelationIdManager.getRootId(this.requestId);\n                }\n            }\n            if (requestId) {\n                // For the scenarios that don't guarantee an AI-created context,\n                // override the requestId with the provided one.\n                this.requestId = requestId;\n                this.operationId = CorrelationIdManager.getRootId(this.requestId);\n            }\n        }\n    };\n    HttpRequestParser.parseId = function (cookieValue) {\n        var cookieParts = cookieValue.split(\"|\");\n        if (cookieParts.length > 0) {\n            return cookieParts[0];\n        }\n        return \"\"; // old behavior was to return \"\" for incorrect parsing\n    };\n    HttpRequestParser.keys = new Contracts.ContextTagKeys();\n    return HttpRequestParser;\n}(RequestParser));\nmodule.exports = HttpRequestParser;\n//# sourceMappingURL=HttpRequestParser.js.map","\"use strict\";\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Logging = require(\"../Library/Logging\");\nvar Util = require(\"../Library/Util\");\nvar RequestResponseHeaders = require(\"../Library/RequestResponseHeaders\");\nvar HttpRequestParser = require(\"./HttpRequestParser\");\nvar CorrelationContextManager_1 = require(\"./CorrelationContextManager\");\nvar AutoCollectPerformance = require(\"./Performance\");\nvar AutoCollectHttpRequests = (function () {\n    function AutoCollectHttpRequests(client) {\n        if (!!AutoCollectHttpRequests.INSTANCE) {\n            throw new Error(\"Server request tracking should be configured from the applicationInsights object\");\n        }\n        AutoCollectHttpRequests.INSTANCE = this;\n        this._client = client;\n    }\n    AutoCollectHttpRequests.prototype.enable = function (isEnabled) {\n        this._isEnabled = isEnabled;\n        // Autocorrelation requires automatic monitoring of incoming server requests\n        // Disabling autocollection but enabling autocorrelation will still enable\n        // request monitoring but will not produce request events\n        if ((this._isAutoCorrelating || this._isEnabled || AutoCollectPerformance.isEnabled()) && !this._isInitialized) {\n            this.useAutoCorrelation(this._isAutoCorrelating);\n            this._initialize();\n        }\n    };\n    AutoCollectHttpRequests.prototype.useAutoCorrelation = function (isEnabled, forceClsHooked) {\n        if (isEnabled && !this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.enable(forceClsHooked);\n        }\n        else if (!isEnabled && this._isAutoCorrelating) {\n            CorrelationContextManager_1.CorrelationContextManager.disable();\n        }\n        this._isAutoCorrelating = isEnabled;\n    };\n    AutoCollectHttpRequests.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectHttpRequests.prototype.isAutoCorrelating = function () {\n        return this._isAutoCorrelating;\n    };\n    AutoCollectHttpRequests.prototype._generateCorrelationContext = function (requestParser) {\n        if (!this._isAutoCorrelating) {\n            return;\n        }\n        return CorrelationContextManager_1.CorrelationContextManager.generateContextObject(requestParser.getOperationId(this._client.context.tags), requestParser.getRequestId(), requestParser.getOperationName(this._client.context.tags), requestParser.getCorrelationContextHeader(), requestParser.getTraceparent(), requestParser.getTracestate());\n    };\n    AutoCollectHttpRequests.prototype._initialize = function () {\n        var _this = this;\n        this._isInitialized = true;\n        var wrapOnRequestHandler = function (onRequest) {\n            if (!onRequest) {\n                return undefined;\n            }\n            if (typeof onRequest !== 'function') {\n                throw new Error('onRequest handler must be a function');\n            }\n            return function (request, response) {\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(request);\n                CorrelationContextManager_1.CorrelationContextManager.wrapEmitter(response);\n                var shouldCollect = request && !request[AutoCollectHttpRequests.alreadyAutoCollectedFlag];\n                if (request && shouldCollect) {\n                    // Set up correlation context\n                    var requestParser_1 = new HttpRequestParser(request);\n                    var correlationContext = _this._generateCorrelationContext(requestParser_1);\n                    // Note: Check for if correlation is enabled happens within this method.\n                    // If not enabled, function will directly call the callback.\n                    CorrelationContextManager_1.CorrelationContextManager.runWithContext(correlationContext, function () {\n                        if (_this._isEnabled) {\n                            // Mark as auto collected\n                            request[AutoCollectHttpRequests.alreadyAutoCollectedFlag] = true;\n                            // Auto collect request\n                            AutoCollectHttpRequests.trackRequest(_this._client, { request: request, response: response }, requestParser_1);\n                        }\n                        if (typeof onRequest === \"function\") {\n                            onRequest(request, response);\n                        }\n                    });\n                }\n                else {\n                    if (typeof onRequest === \"function\") {\n                        onRequest(request, response);\n                    }\n                }\n            };\n        };\n        // The `http.createServer` function will instantiate a new http.Server object.\n        // Inside the Server's constructor, it is using addListener to register the\n        // onRequest handler. So there are two ways to inject the wrapped onRequest handler:\n        // 1) Overwrite Server.prototype.addListener (and .on()) globally and not patching\n        //    the http.createServer call. Or\n        // 2) Overwrite the http.createServer method and add a patched addListener to the\n        //    fresh server instance. This seems more stable for possible future changes as\n        //    it also covers the case where the Server might not use addListener to manage\n        //    the callback internally.\n        //    And also as long as the constructor uses addListener to add the handle, it is\n        //    ok to patch the addListener after construction only. Because if we would patch\n        //    the prototype one and the createServer method, we would wrap the handler twice\n        //    in case of the constructor call.\n        var wrapServerEventHandler = function (server) {\n            var originalAddListener = server.addListener.bind(server);\n            server.addListener = function (eventType, eventHandler) {\n                switch (eventType) {\n                    case 'request':\n                    case 'checkContinue':\n                        return originalAddListener(eventType, wrapOnRequestHandler(eventHandler));\n                    default:\n                        return originalAddListener(eventType, eventHandler);\n                }\n            };\n            // on is an alias to addListener only\n            server.on = server.addListener;\n        };\n        var originalHttpServer = http.createServer;\n        http.createServer = function (onRequest) {\n            // todo: get a pointer to the server so the IP address can be read from server.address\n            var server = originalHttpServer(wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n        var originalHttpsServer = https.createServer;\n        https.createServer = function (options, onRequest) {\n            var server = originalHttpsServer(options, wrapOnRequestHandler(onRequest));\n            wrapServerEventHandler(server);\n            return server;\n        };\n    };\n    /**\n     * Tracks a request synchronously (doesn't wait for response 'finish' event)\n     */\n    AutoCollectHttpRequests.trackRequestSync = function (client, telemetry) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = new HttpRequestParser(telemetry.request, (correlationContext && correlationContext.operation.parentId));\n        // Overwrite correlation context with request parser results\n        if (correlationContext) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getRequestId() || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, telemetry.duration, telemetry.error);\n    };\n    /**\n     * Tracks a request by listening to the response 'finish' event\n     */\n    AutoCollectHttpRequests.trackRequest = function (client, telemetry, _requestParser) {\n        if (!telemetry.request || !telemetry.response || !client) {\n            Logging.info(\"AutoCollectHttpRequests.trackRequest was called with invalid parameters: \", !telemetry.request, !telemetry.response, !client);\n            return;\n        }\n        // store data about the request\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        var requestParser = _requestParser || new HttpRequestParser(telemetry.request, correlationContext && correlationContext.operation.parentId);\n        if (Util.canIncludeCorrelationHeader(client, requestParser.getUrl())) {\n            AutoCollectHttpRequests.addResponseCorrelationIdHeader(client, telemetry.response);\n        }\n        // Overwrite correlation context with request parser results (if not an automatic track. we've already precalculated the correlation context in that case)\n        if (correlationContext && !_requestParser) {\n            correlationContext.operation.id = requestParser.getOperationId(client.context.tags) || correlationContext.operation.id;\n            correlationContext.operation.name = requestParser.getOperationName(client.context.tags) || correlationContext.operation.name;\n            correlationContext.operation.parentId = requestParser.getOperationParentId(client.context.tags) || correlationContext.operation.parentId;\n            correlationContext.customProperties.addHeaderData(requestParser.getCorrelationContextHeader());\n        }\n        // response listeners\n        if (telemetry.response.once) {\n            telemetry.response.once(\"finish\", function () {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, null);\n            });\n        }\n        // track a failed request if an error is emitted\n        if (telemetry.request.on) {\n            telemetry.request.on(\"error\", function (error) {\n                AutoCollectHttpRequests.endRequest(client, requestParser, telemetry, null, error);\n            });\n        }\n    };\n    /**\n     * Add the target correlationId to the response headers, if not already provided.\n     */\n    AutoCollectHttpRequests.addResponseCorrelationIdHeader = function (client, response) {\n        if (client.config && client.config.correlationId &&\n            response.getHeader && response.setHeader && !response.headersSent) {\n            var correlationHeader = response.getHeader(RequestResponseHeaders.requestContextHeader);\n            Util.safeIncludeCorrelationHeader(client, response, correlationHeader);\n        }\n    };\n    AutoCollectHttpRequests.endRequest = function (client, requestParser, telemetry, ellapsedMilliseconds, error) {\n        if (error) {\n            requestParser.onError(error, ellapsedMilliseconds);\n        }\n        else {\n            requestParser.onResponse(telemetry.response, ellapsedMilliseconds);\n        }\n        var requestTelemetry = requestParser.getRequestTelemetry(telemetry);\n        requestTelemetry.tagOverrides = requestParser.getRequestTags(client.context.tags);\n        if (telemetry.tagOverrides) {\n            for (var key in telemetry.tagOverrides) {\n                requestTelemetry.tagOverrides[key] = telemetry.tagOverrides[key];\n            }\n        }\n        var legacyRootId = requestParser.getLegacyRootId();\n        if (legacyRootId) {\n            requestTelemetry.properties[\"ai_legacyRootId\"] = legacyRootId;\n        }\n        requestTelemetry.contextObjects = requestTelemetry.contextObjects || {};\n        requestTelemetry.contextObjects[\"http.ServerRequest\"] = telemetry.request;\n        requestTelemetry.contextObjects[\"http.ServerResponse\"] = telemetry.response;\n        client.trackRequest(requestTelemetry);\n    };\n    AutoCollectHttpRequests.prototype.dispose = function () {\n        AutoCollectHttpRequests.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n        CorrelationContextManager_1.CorrelationContextManager.disable();\n        this._isAutoCorrelating = false;\n    };\n    AutoCollectHttpRequests.alreadyAutoCollectedFlag = '_appInsightsAutoCollected';\n    return AutoCollectHttpRequests;\n}());\nmodule.exports = AutoCollectHttpRequests;\n//# sourceMappingURL=HttpRequests.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Config = require(\"../Library/Config\");\nvar Context = require(\"../Library/Context\");\nvar Logging = require(\"../Library/Logging\");\nvar AutoCollectNativePerformance = (function () {\n    function AutoCollectNativePerformance(client) {\n        this._disabledMetrics = {};\n        // Note: Only 1 instance of this can exist. So when we reconstruct this object,\n        // just disable old native instance and reset JS member variables\n        if (AutoCollectNativePerformance.INSTANCE) {\n            AutoCollectNativePerformance.INSTANCE.dispose();\n        }\n        AutoCollectNativePerformance.INSTANCE = this;\n        this._client = client;\n    }\n    /**\n     *  Reports if NativePerformance is able to run in this environment\n     */\n    AutoCollectNativePerformance.isNodeVersionCompatible = function () {\n        var nodeVer = process.versions.node.split(\".\");\n        return parseInt(nodeVer[0]) >= 6;\n    };\n    /**\n     * Start instance of native metrics agent.\n     *\n     * @param {boolean} isEnabled\n     * @param {number} [collectionInterval=60000]\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.enable = function (isEnabled, disabledMetrics, collectionInterval) {\n        var _this = this;\n        if (disabledMetrics === void 0) { disabledMetrics = {}; }\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (!AutoCollectNativePerformance.isNodeVersionCompatible()) {\n            return;\n        }\n        if (AutoCollectNativePerformance._metricsAvailable == undefined && isEnabled && !this._isInitialized) {\n            // Try to require in the native-metrics library. If it's found initialize it, else do nothing and never try again.\n            try {\n                var NativeMetricsEmitters = require(\"applicationinsights-native-metrics\");\n                AutoCollectNativePerformance._emitter = new NativeMetricsEmitters();\n                AutoCollectNativePerformance._metricsAvailable = true;\n                Logging.info(\"Native metrics module successfully loaded!\");\n            }\n            catch (err) {\n                // Package not available. Never try again\n                AutoCollectNativePerformance._metricsAvailable = false;\n                return;\n            }\n        }\n        this._isEnabled = isEnabled;\n        this._disabledMetrics = disabledMetrics;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        // Enable the emitter if we were able to construct one\n        if (this._isEnabled && AutoCollectNativePerformance._emitter) {\n            // enable self\n            AutoCollectNativePerformance._emitter.enable(true, collectionInterval);\n            this._handle = setInterval(function () { return _this._trackNativeMetrics(); }, collectionInterval);\n            this._handle.unref();\n        }\n        else if (AutoCollectNativePerformance._emitter) {\n            // disable self\n            AutoCollectNativePerformance._emitter.enable(false);\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    /**\n     * Cleanup this instance of AutoCollectNativePerformance\n     *\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype.dispose = function () {\n        this.enable(false);\n    };\n    /**\n     * Parse environment variable and overwrite isEnabled based on respective fields being set\n     *\n     * @private\n     * @static\n     * @param {(boolean | IDisabledExtendedMetrics)} collectExtendedMetrics\n     * @returns {(boolean | IDisabledExtendedMetrics)}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.parseEnabled = function (collectExtendedMetrics) {\n        var disableAll = process.env[Config.ENV_nativeMetricsDisableAll];\n        var individualOptOuts = process.env[Config.ENV_nativeMetricsDisablers];\n        // case 1: disable all env var set, RETURN with isEnabled=false\n        if (disableAll) {\n            return { isEnabled: false, disabledMetrics: {} };\n        }\n        // case 2: individual env vars set, RETURN with isEnabled=true, disabledMetrics={...}\n        if (individualOptOuts) {\n            var optOutsArr = individualOptOuts.split(\",\");\n            var disabledMetrics = {};\n            if (optOutsArr.length > 0) {\n                for (var _i = 0, optOutsArr_1 = optOutsArr; _i < optOutsArr_1.length; _i++) {\n                    var opt = optOutsArr_1[_i];\n                    disabledMetrics[opt] = true;\n                }\n            }\n            // case 2a: collectExtendedMetrics is an object, overwrite existing ones if they exist\n            if (typeof collectExtendedMetrics === \"object\") {\n                return { isEnabled: true, disabledMetrics: __assign({}, collectExtendedMetrics, disabledMetrics) };\n            }\n            // case 2b: collectExtendedMetrics is a boolean, set disabledMetrics as is\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: disabledMetrics };\n        }\n        // case 4: no env vars set, input arg is a boolean, RETURN with isEnabled=collectExtendedMetrics, disabledMetrics={}\n        if (typeof collectExtendedMetrics === \"boolean\") {\n            return { isEnabled: collectExtendedMetrics, disabledMetrics: {} };\n        }\n        else {\n            // case 5: no env vars set, input arg is object, RETURN with isEnabled=true, disabledMetrics=collectExtendedMetrics\n            return { isEnabled: true, disabledMetrics: collectExtendedMetrics };\n        }\n    };\n    /**\n     * Trigger an iteration of native metrics collection\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackNativeMetrics = function () {\n        var shouldSendAll = true;\n        if (typeof this._isEnabled !== \"object\") {\n            shouldSendAll = this._isEnabled;\n        }\n        if (shouldSendAll) {\n            this._trackGarbageCollection();\n            this._trackEventLoop();\n            this._trackHeapUsage();\n        }\n    };\n    /**\n     * Tracks garbage collection stats for this interval. One custom metric is sent per type of garbage\n     * collection that occurred during this collection interval.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackGarbageCollection = function () {\n        if (this._disabledMetrics.gc) {\n            return;\n        }\n        var gcData = AutoCollectNativePerformance._emitter.getGCData();\n        for (var gc in gcData) {\n            var metrics = gcData[gc].metrics;\n            var name_1 = gc + \" Garbage Collection Duration\";\n            var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n            this._client.trackMetric({\n                name: name_1,\n                value: metrics.total,\n                count: metrics.count,\n                max: metrics.max,\n                min: metrics.min,\n                stdDev: stdDev,\n                tagOverrides: (_a = {},\n                    _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                    _a)\n            });\n        }\n        var _a;\n    };\n    /**\n     * Tracks event loop ticks per interval as a custom metric. Also included in the metric is min/max/avg\n     * time spent in event loop for this interval.\n     *\n     * @private\n     * @returns {void}\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackEventLoop = function () {\n        if (this._disabledMetrics.loop) {\n            return;\n        }\n        var loopData = AutoCollectNativePerformance._emitter.getLoopData();\n        var metrics = loopData.loopUsage;\n        if (metrics.count == 0) {\n            return;\n        }\n        var name = \"Event Loop CPU Time\";\n        var stdDev = Math.sqrt(metrics.sumSquares / metrics.count - Math.pow(metrics.total / metrics.count, 2)) || 0;\n        this._client.trackMetric({\n            name: name,\n            value: metrics.total,\n            count: metrics.count,\n            min: metrics.min,\n            max: metrics.max,\n            stdDev: stdDev,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        var _a;\n    };\n    /**\n     * Track heap memory usage metrics as a custom metric.\n     *\n     * @private\n     * @memberof AutoCollectNativePerformance\n     */\n    AutoCollectNativePerformance.prototype._trackHeapUsage = function () {\n        if (this._disabledMetrics.heap) {\n            return;\n        }\n        var memoryUsage = process.memoryUsage();\n        var heapUsed = memoryUsage.heapUsed, heapTotal = memoryUsage.heapTotal, rss = memoryUsage.rss;\n        this._client.trackMetric({\n            name: \"Memory Usage (Heap)\",\n            value: heapUsed,\n            count: 1,\n            tagOverrides: (_a = {},\n                _a[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _a)\n        });\n        this._client.trackMetric({\n            name: \"Memory Total (Heap)\",\n            value: heapTotal,\n            count: 1,\n            tagOverrides: (_b = {},\n                _b[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _b)\n        });\n        this._client.trackMetric({\n            name: \"Memory Usage (Non-Heap)\",\n            value: rss - heapTotal,\n            count: 1,\n            tagOverrides: (_c = {},\n                _c[this._client.context.keys.internalSdkVersion] = \"node-nativeperf:\" + Context.sdkVersion,\n                _c)\n        });\n        var _a, _b, _c;\n    };\n    return AutoCollectNativePerformance;\n}());\nexports.AutoCollectNativePerformance = AutoCollectNativePerformance;\n//# sourceMappingURL=NativePerformance.js.map","\"use strict\";\nvar os = require(\"os\");\nvar Constants = require(\"../Declarations/Constants\");\nvar AutoCollectPerformance = (function () {\n    /**\n     * @param enableLiveMetricsCounters - enable sending additional live metrics information (dependency metrics, exception metrics, committed memory)\n     */\n    function AutoCollectPerformance(client, collectionInterval, enableLiveMetricsCounters) {\n        if (collectionInterval === void 0) { collectionInterval = 60000; }\n        if (enableLiveMetricsCounters === void 0) { enableLiveMetricsCounters = false; }\n        this._lastIntervalRequestExecutionTime = 0; // the sum of durations which took place during from app start until last interval\n        this._lastIntervalDependencyExecutionTime = 0;\n        if (!AutoCollectPerformance.INSTANCE) {\n            AutoCollectPerformance.INSTANCE = this;\n        }\n        this._isInitialized = false;\n        this._client = client;\n        this._collectionInterval = collectionInterval;\n        this._enableLiveMetricsCounters = enableLiveMetricsCounters;\n    }\n    AutoCollectPerformance.prototype.enable = function (isEnabled, collectionInterval) {\n        var _this = this;\n        this._isEnabled = isEnabled;\n        if (this._isEnabled && !this._isInitialized) {\n            this._isInitialized = true;\n        }\n        if (isEnabled) {\n            if (!this._handle) {\n                this._lastCpus = os.cpus();\n                this._lastRequests = {\n                    totalRequestCount: AutoCollectPerformance._totalRequestCount,\n                    totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n                    time: +new Date\n                };\n                this._lastDependencies = {\n                    totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                    totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                    time: +new Date\n                };\n                this._lastExceptions = {\n                    totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                    time: +new Date\n                };\n                if (typeof process.cpuUsage === 'function') {\n                    this._lastAppCpuUsage = process.cpuUsage();\n                }\n                this._lastHrtime = process.hrtime();\n                this._collectionInterval = collectionInterval || this._collectionInterval;\n                this._handle = setInterval(function () { return _this.trackPerformance(); }, this._collectionInterval);\n                this._handle.unref(); // Allow the app to terminate even while this loop is going on\n            }\n        }\n        else {\n            if (this._handle) {\n                clearInterval(this._handle);\n                this._handle = undefined;\n            }\n        }\n    };\n    AutoCollectPerformance.countRequest = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalRequestExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedRequestCount++;\n        }\n        AutoCollectPerformance._totalRequestCount++;\n    };\n    AutoCollectPerformance.countException = function () {\n        AutoCollectPerformance._totalExceptionCount++;\n    };\n    AutoCollectPerformance.countDependency = function (duration, success) {\n        var durationMs;\n        if (!AutoCollectPerformance.isEnabled()) {\n            return;\n        }\n        if (typeof duration === 'string') {\n            // dependency duration is passed in as \"00:00:00.123\" by autocollectors\n            durationMs = +new Date('1970-01-01T' + duration + 'Z'); // convert to num ms, returns NaN if wrong\n        }\n        else if (typeof duration === 'number') {\n            durationMs = duration;\n        }\n        else {\n            return;\n        }\n        AutoCollectPerformance._intervalDependencyExecutionTime += durationMs;\n        if (success === false) {\n            AutoCollectPerformance._totalFailedDependencyCount++;\n        }\n        AutoCollectPerformance._totalDependencyCount++;\n    };\n    AutoCollectPerformance.prototype.isInitialized = function () {\n        return this._isInitialized;\n    };\n    AutoCollectPerformance.isEnabled = function () {\n        return AutoCollectPerformance.INSTANCE && AutoCollectPerformance.INSTANCE._isEnabled;\n    };\n    AutoCollectPerformance.prototype.trackPerformance = function () {\n        this._trackCpu();\n        this._trackMemory();\n        this._trackNetwork();\n        this._trackDependencyRate();\n        this._trackExceptionRate();\n    };\n    AutoCollectPerformance.prototype._trackCpu = function () {\n        // this reports total ms spent in each category since the OS was booted, to calculate percent it is necessary\n        // to find the delta since the last measurement\n        var cpus = os.cpus();\n        if (cpus && cpus.length && this._lastCpus && cpus.length === this._lastCpus.length) {\n            var totalUser = 0;\n            var totalSys = 0;\n            var totalNice = 0;\n            var totalIdle = 0;\n            var totalIrq = 0;\n            for (var i = 0; !!cpus && i < cpus.length; i++) {\n                var cpu = cpus[i];\n                var lastCpu = this._lastCpus[i];\n                var name = \"% cpu(\" + i + \") \";\n                var model = cpu.model;\n                var speed = cpu.speed;\n                var times = cpu.times;\n                var lastTimes = lastCpu.times;\n                // user cpu time (or) % CPU time spent in user space\n                var user = (times.user - lastTimes.user) || 0;\n                totalUser += user;\n                // system cpu time (or) % CPU time spent in kernel space\n                var sys = (times.sys - lastTimes.sys) || 0;\n                totalSys += sys;\n                // user nice cpu time (or) % CPU time spent on low priority processes\n                var nice = (times.nice - lastTimes.nice) || 0;\n                totalNice += nice;\n                // idle cpu time (or) % CPU time spent idle\n                var idle = (times.idle - lastTimes.idle) || 0;\n                totalIdle += idle;\n                // irq (or) % CPU time spent servicing/handling hardware interrupts\n                var irq = (times.irq - lastTimes.irq) || 0;\n                totalIrq += irq;\n            }\n            // Calculate % of total cpu time (user + system) this App Process used (Only supported by node v6.1.0+)\n            var appCpuPercent = undefined;\n            if (typeof process.cpuUsage === 'function') {\n                var appCpuUsage = process.cpuUsage();\n                var hrtime = process.hrtime();\n                var totalApp = ((appCpuUsage.user - this._lastAppCpuUsage.user) + (appCpuUsage.system - this._lastAppCpuUsage.system)) || 0;\n                if (typeof this._lastHrtime !== 'undefined' && this._lastHrtime.length === 2) {\n                    var elapsedTime = ((hrtime[0] - this._lastHrtime[0]) * 1e6 + (hrtime[1] - this._lastHrtime[1]) / 1e3) || 0; // convert to microseconds\n                    appCpuPercent = 100 * totalApp / (elapsedTime * cpus.length);\n                }\n                // Set previous\n                this._lastAppCpuUsage = appCpuUsage;\n                this._lastHrtime = hrtime;\n            }\n            var combinedTotal = (totalUser + totalSys + totalNice + totalIdle + totalIrq) || 1;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESSOR_TIME, value: ((combinedTotal - totalIdle) / combinedTotal) * 100 });\n            this._client.trackMetric({ name: Constants.PerformanceCounter.PROCESS_TIME, value: appCpuPercent || ((totalUser / combinedTotal) * 100) });\n        }\n        this._lastCpus = cpus;\n    };\n    AutoCollectPerformance.prototype._trackMemory = function () {\n        var freeMem = os.freemem();\n        var usedMem = process.memoryUsage().rss;\n        var committedMemory = os.totalmem() - freeMem;\n        this._client.trackMetric({ name: Constants.PerformanceCounter.PRIVATE_BYTES, value: usedMem });\n        this._client.trackMetric({ name: Constants.PerformanceCounter.AVAILABLE_BYTES, value: freeMem });\n        // Only supported by quickpulse service\n        if (this._enableLiveMetricsCounters) {\n            this._client.trackMetric({ name: Constants.QuickPulseCounter.COMMITTED_BYTES, value: committedMemory });\n        }\n    };\n    AutoCollectPerformance.prototype._trackNetwork = function () {\n        // track total request counters\n        var lastRequests = this._lastRequests;\n        var requests = {\n            totalRequestCount: AutoCollectPerformance._totalRequestCount,\n            totalFailedRequestCount: AutoCollectPerformance._totalFailedRequestCount,\n            time: +new Date\n        };\n        var intervalRequests = (requests.totalRequestCount - lastRequests.totalRequestCount) || 0;\n        var intervalFailedRequests = (requests.totalFailedRequestCount - lastRequests.totalFailedRequestCount) || 0;\n        var elapsedMs = requests.time - lastRequests.time;\n        var elapsedSeconds = elapsedMs / 1000;\n        var averageRequestExecutionTime = ((AutoCollectPerformance._intervalRequestExecutionTime - this._lastIntervalRequestExecutionTime) / intervalRequests) || 0; // default to 0 in case no requests in this interval\n        this._lastIntervalRequestExecutionTime = AutoCollectPerformance._intervalRequestExecutionTime; // reset\n        if (elapsedMs > 0) {\n            var requestsPerSec = intervalRequests / elapsedSeconds;\n            var failedRequestsPerSec = intervalFailedRequests / elapsedSeconds;\n            this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_RATE, value: requestsPerSec });\n            // Only send duration to live metrics if it has been updated!\n            if (!this._enableLiveMetricsCounters || intervalRequests > 0) {\n                this._client.trackMetric({ name: Constants.PerformanceCounter.REQUEST_DURATION, value: averageRequestExecutionTime });\n            }\n            // Only supported by quickpulse service\n            if (this._enableLiveMetricsCounters) {\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.REQUEST_FAILURE_RATE, value: failedRequestsPerSec });\n            }\n        }\n        this._lastRequests = requests;\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackDependencyRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastDependencies = this._lastDependencies;\n            var dependencies = {\n                totalDependencyCount: AutoCollectPerformance._totalDependencyCount,\n                totalFailedDependencyCount: AutoCollectPerformance._totalFailedDependencyCount,\n                time: +new Date\n            };\n            var intervalDependencies = (dependencies.totalDependencyCount - lastDependencies.totalDependencyCount) || 0;\n            var intervalFailedDependencies = (dependencies.totalFailedDependencyCount - lastDependencies.totalFailedDependencyCount) || 0;\n            var elapsedMs = dependencies.time - lastDependencies.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            var averageDependencyExecutionTime = ((AutoCollectPerformance._intervalDependencyExecutionTime - this._lastIntervalDependencyExecutionTime) / intervalDependencies) || 0;\n            this._lastIntervalDependencyExecutionTime = AutoCollectPerformance._intervalDependencyExecutionTime; // reset\n            if (elapsedMs > 0) {\n                var dependenciesPerSec = intervalDependencies / elapsedSeconds;\n                var failedDependenciesPerSec = intervalFailedDependencies / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_RATE, value: dependenciesPerSec });\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_FAILURE_RATE, value: failedDependenciesPerSec });\n                // redundant check for livemetrics, but kept for consistency w/ requests\n                // Only send duration to live metrics if it has been updated!\n                if (!this._enableLiveMetricsCounters || intervalDependencies > 0) {\n                    this._client.trackMetric({ name: Constants.QuickPulseCounter.DEPENDENCY_DURATION, value: averageDependencyExecutionTime });\n                }\n            }\n            this._lastDependencies = dependencies;\n        }\n    };\n    // Static counter is accumulated externally. Report the rate to client here\n    // Note: This is currently only used with QuickPulse client\n    AutoCollectPerformance.prototype._trackExceptionRate = function () {\n        if (this._enableLiveMetricsCounters) {\n            var lastExceptions = this._lastExceptions;\n            var exceptions = {\n                totalExceptionCount: AutoCollectPerformance._totalExceptionCount,\n                time: +new Date\n            };\n            var intervalExceptions = (exceptions.totalExceptionCount - lastExceptions.totalExceptionCount) || 0;\n            var elapsedMs = exceptions.time - lastExceptions.time;\n            var elapsedSeconds = elapsedMs / 1000;\n            if (elapsedMs > 0) {\n                var exceptionsPerSec = intervalExceptions / elapsedSeconds;\n                this._client.trackMetric({ name: Constants.QuickPulseCounter.EXCEPTION_RATE, value: exceptionsPerSec });\n            }\n            this._lastExceptions = exceptions;\n        }\n    };\n    AutoCollectPerformance.prototype.dispose = function () {\n        AutoCollectPerformance.INSTANCE = null;\n        this.enable(false);\n        this._isInitialized = false;\n    };\n    AutoCollectPerformance._totalRequestCount = 0;\n    AutoCollectPerformance._totalFailedRequestCount = 0;\n    AutoCollectPerformance._lastRequestExecutionTime = 0;\n    AutoCollectPerformance._totalDependencyCount = 0;\n    AutoCollectPerformance._totalFailedDependencyCount = 0;\n    AutoCollectPerformance._lastDependencyExecutionTime = 0;\n    AutoCollectPerformance._totalExceptionCount = 0;\n    AutoCollectPerformance._intervalDependencyExecutionTime = 0;\n    AutoCollectPerformance._intervalRequestExecutionTime = 0;\n    return AutoCollectPerformance;\n}());\nmodule.exports = AutoCollectPerformance;\n//# sourceMappingURL=Performance.js.map","\"use strict\";\n/**\n * Base class for helpers that read data from HTTP requst/response objects and convert them\n * into the telemetry contract objects.\n */\nvar RequestParser = (function () {\n    function RequestParser() {\n    }\n    /**\n     * Gets a url parsed out from request options\n     */\n    RequestParser.prototype.getUrl = function () {\n        return this.url;\n    };\n    RequestParser.prototype.RequestParser = function () {\n        this.startTime = +new Date();\n    };\n    RequestParser.prototype._setStatus = function (status, error) {\n        var endTime = +new Date();\n        this.duration = endTime - this.startTime;\n        this.statusCode = status;\n        var properties = this.properties || {};\n        if (error) {\n            if (typeof error === \"string\") {\n                properties[\"error\"] = error;\n            }\n            else if (error instanceof Error) {\n                properties[\"error\"] = error.message;\n            }\n            else if (typeof error === \"object\") {\n                for (var key in error) {\n                    properties[key] = error[key] && error[key].toString && error[key].toString();\n                }\n            }\n        }\n        this.properties = properties;\n    };\n    RequestParser.prototype._isSuccess = function () {\n        return (0 < this.statusCode) && (this.statusCode < 400);\n    };\n    return RequestParser;\n}());\nmodule.exports = RequestParser;\n//# sourceMappingURL=RequestParser.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\n// Mapping from bunyan levels defined at https://github.com/trentm/node-bunyan/blob/master/lib/bunyan.js#L256\nvar bunyanToAILevelMap = {\n    10: Contracts_1.SeverityLevel.Verbose,\n    20: Contracts_1.SeverityLevel.Verbose,\n    30: Contracts_1.SeverityLevel.Information,\n    40: Contracts_1.SeverityLevel.Warning,\n    50: Contracts_1.SeverityLevel.Error,\n    60: Contracts_1.SeverityLevel.Critical,\n};\nvar subscriber = function (event) {\n    var message = event.data.result;\n    clients.forEach(function (client) {\n        var AIlevel = bunyanToAILevelMap[event.data.level];\n        if (message instanceof Error) {\n            client.trackException({ exception: (message) });\n        }\n        else {\n            client.trackTrace({ message: message, severity: AIlevel });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"bunyan\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"bunyan\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=bunyan.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({ exception: message });\n        }\n        else {\n            // Message can have a trailing newline\n            if (message.lastIndexOf(\"\\n\") == message.length - 1) {\n                message = message.substring(0, message.length - 1);\n            }\n            client.trackTrace({ message: message, severity: (event.data.stderr ? Contracts_1.SeverityLevel.Warning : Contracts_1.SeverityLevel.Information) });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"console\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"console\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=console.sub.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Logging = require(\"../../Library/Logging\");\nexports.IsInitialized = !process.env[\"APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL\"];\nvar TAG = \"DiagnosticChannel\";\nif (exports.IsInitialized) {\n    var publishers = require(\"diagnostic-channel-publishers\");\n    var individualOptOuts = process.env[\"APPLICATION_INSIGHTS_NO_PATCH_MODULES\"] || \"\";\n    var unpatchedModules = individualOptOuts.split(\",\");\n    var modules = {\n        bunyan: publishers.bunyan,\n        console: publishers.console,\n        mongodb: publishers.mongodb,\n        mongodbCore: publishers.mongodbCore,\n        mysql: publishers.mysql,\n        redis: publishers.redis,\n        pg: publishers.pg,\n        pgPool: publishers.pgPool,\n        winston: publishers.winston\n    };\n    for (var mod in modules) {\n        if (unpatchedModules.indexOf(mod) === -1) {\n            modules[mod].enable();\n            Logging.info(TAG, \"Subscribed to \" + mod + \" events\");\n        }\n    }\n    if (unpatchedModules.length > 0) {\n        Logging.info(TAG, \"Some modules will not be patched\", unpatchedModules);\n    }\n}\nelse {\n    Logging.info(TAG, \"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set\");\n}\nfunction registerContextPreservation(cb) {\n    if (!exports.IsInitialized) {\n        return;\n    }\n    require(\"diagnostic-channel\").channel.addContextPreservation(cb);\n}\nexports.registerContextPreservation = registerContextPreservation;\n//# sourceMappingURL=initialization.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    if (event.data.event.commandName === \"ismaster\") {\n        // suppress noisy ismaster commands\n    }\n    clients.forEach(function (client) {\n        var dbName = (event.data.startedData && event.data.startedData.databaseName) || \"Unknown database\";\n        client.trackDependency({\n            target: dbName,\n            data: event.data.event.commandName,\n            name: event.data.event.commandName,\n            duration: event.data.event.duration,\n            success: event.data.succeeded,\n            /* TODO: transmit result code from mongo */\n            resultCode: event.data.succeeded ? \"0\" : \"1\",\n            dependencyTypeName: 'mongodb'\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mongodb\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mongodb\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var queryObj = event.data.query || {};\n        var sqlString = queryObj.sql || \"Unknown query\";\n        var success = !event.data.err;\n        var connection = queryObj._connection || {};\n        var connectionConfig = connection.config || {};\n        var dbName = connectionConfig.socketPath ? connectionConfig.socketPath : (connectionConfig.host || \"localhost\") + \":\" + connectionConfig.port;\n        client.trackDependency({\n            target: dbName,\n            data: sqlString,\n            name: sqlString,\n            duration: event.data.duration,\n            success: success,\n            /* TODO: transmit result code from mysql */\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"mysql\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"mysql\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"mysql\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        var q = event.data.query;\n        var sql = (q.preparable && q.preparable.text) || q.plan || q.text || \"unknown query\";\n        var success = !event.data.error;\n        var conn = event.data.database.host + \":\" + event.data.database.port;\n        client.trackDependency({\n            target: conn,\n            data: sql,\n            name: sql,\n            duration: event.data.duration,\n            success: success,\n            resultCode: success ? \"0\" : \"1\",\n            dependencyTypeName: \"postgres\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"postgres\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"postgres\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=postgres.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nexports.subscriber = function (event) {\n    clients.forEach(function (client) {\n        if (event.data.commandObj.command === \"info\") {\n            // We don't want to report 'info', it's irrelevant\n            return;\n        }\n        client.trackDependency({\n            target: event.data.address,\n            name: event.data.commandObj.command,\n            data: event.data.commandObj.command,\n            duration: event.data.duration,\n            success: !event.data.err,\n            /* TODO: transmit result code from redis */\n            resultCode: event.data.err ? \"1\" : \"0\",\n            dependencyTypeName: \"redis\"\n        });\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"redis\", exports.subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"redis\", exports.subscriber);\n        }\n    }\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts_1 = require(\"../../Declarations/Contracts\");\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar clients = [];\nvar winstonToAILevelMap = {\n    syslog: function (og) {\n        var map = {\n            emerg: Contracts_1.SeverityLevel.Critical,\n            alert: Contracts_1.SeverityLevel.Critical,\n            crit: Contracts_1.SeverityLevel.Critical,\n            error: Contracts_1.SeverityLevel.Error,\n            warning: Contracts_1.SeverityLevel.Warning,\n            notice: Contracts_1.SeverityLevel.Information,\n            info: Contracts_1.SeverityLevel.Information,\n            debug: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    npm: function (og) {\n        var map = {\n            error: Contracts_1.SeverityLevel.Error,\n            warn: Contracts_1.SeverityLevel.Warning,\n            info: Contracts_1.SeverityLevel.Information,\n            verbose: Contracts_1.SeverityLevel.Verbose,\n            debug: Contracts_1.SeverityLevel.Verbose,\n            silly: Contracts_1.SeverityLevel.Verbose\n        };\n        return map[og] === undefined ? Contracts_1.SeverityLevel.Information : map[og];\n    },\n    unknown: function (og) {\n        return Contracts_1.SeverityLevel.Information;\n    }\n};\nvar subscriber = function (event) {\n    var message = event.data.message;\n    clients.forEach(function (client) {\n        if (message instanceof Error) {\n            client.trackException({\n                exception: message,\n                properties: event.data.meta\n            });\n        }\n        else {\n            var AIlevel = winstonToAILevelMap[event.data.levelKind](event.data.level);\n            client.trackTrace({\n                message: message,\n                severity: AIlevel,\n                properties: event.data.meta\n            });\n        }\n    });\n};\nfunction enable(enabled, client) {\n    if (enabled) {\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.subscribe(\"winston\", subscriber);\n        }\n        ;\n        clients.push(client);\n    }\n    else {\n        clients = clients.filter(function (c) { return c != client; });\n        if (clients.length === 0) {\n            diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n        }\n    }\n}\nexports.enable = enable;\nfunction dispose() {\n    diagnostic_channel_1.channel.unsubscribe(\"winston\", subscriber);\n    clients = [];\n}\nexports.dispose = dispose;\n//# sourceMappingURL=winston.sub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_BREEZE_ENDPOINT = \"https://dc.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_ENDPOINT = \"https://rt.services.visualstudio.com\";\nexports.DEFAULT_LIVEMETRICS_HOST = \"rt.services.visualstudio.com\";\nvar QuickPulseCounter;\n(function (QuickPulseCounter) {\n    // Memory\n    QuickPulseCounter[\"COMMITTED_BYTES\"] = \"\\\\Memory\\\\Committed Bytes\";\n    // CPU\n    QuickPulseCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    // Request\n    QuickPulseCounter[\"REQUEST_RATE\"] = \"\\\\ApplicationInsights\\\\Requests/Sec\";\n    QuickPulseCounter[\"REQUEST_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Requests Failed/Sec\";\n    QuickPulseCounter[\"REQUEST_DURATION\"] = \"\\\\ApplicationInsights\\\\Request Duration\";\n    // Dependency\n    QuickPulseCounter[\"DEPENDENCY_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_FAILURE_RATE\"] = \"\\\\ApplicationInsights\\\\Dependency Calls Failed/Sec\";\n    QuickPulseCounter[\"DEPENDENCY_DURATION\"] = \"\\\\ApplicationInsights\\\\Dependency Call Duration\";\n    // Exception\n    QuickPulseCounter[\"EXCEPTION_RATE\"] = \"\\\\ApplicationInsights\\\\Exceptions/Sec\";\n})(QuickPulseCounter = exports.QuickPulseCounter || (exports.QuickPulseCounter = {}));\nvar PerformanceCounter;\n(function (PerformanceCounter) {\n    // Memory\n    PerformanceCounter[\"PRIVATE_BYTES\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\Private Bytes\";\n    PerformanceCounter[\"AVAILABLE_BYTES\"] = \"\\\\Memory\\\\Available Bytes\";\n    // CPU\n    PerformanceCounter[\"PROCESSOR_TIME\"] = \"\\\\Processor(_Total)\\\\% Processor Time\";\n    PerformanceCounter[\"PROCESS_TIME\"] = \"\\\\Process(??APP_WIN32_PROC??)\\\\% Processor Time\";\n    // Requests\n    PerformanceCounter[\"REQUEST_RATE\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Requests/Sec\";\n    PerformanceCounter[\"REQUEST_DURATION\"] = \"\\\\ASP.NET Applications(??APP_W3SVC_PROC??)\\\\Request Execution Time\";\n})(PerformanceCounter = exports.PerformanceCounter || (exports.PerformanceCounter = {}));\n;\n/**\n * Map a PerformanceCounter/QuickPulseCounter to a QuickPulseCounter. If no mapping exists, mapping is *undefined*\n */\nexports.PerformanceToQuickPulseCounter = (_a = {},\n    _a[PerformanceCounter.PROCESSOR_TIME] = QuickPulseCounter.PROCESSOR_TIME,\n    _a[PerformanceCounter.REQUEST_RATE] = QuickPulseCounter.REQUEST_RATE,\n    _a[PerformanceCounter.REQUEST_DURATION] = QuickPulseCounter.REQUEST_DURATION,\n    // Remap quick pulse only counters\n    _a[QuickPulseCounter.COMMITTED_BYTES] = QuickPulseCounter.COMMITTED_BYTES,\n    _a[QuickPulseCounter.REQUEST_FAILURE_RATE] = QuickPulseCounter.REQUEST_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_RATE] = QuickPulseCounter.DEPENDENCY_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_FAILURE_RATE] = QuickPulseCounter.DEPENDENCY_FAILURE_RATE,\n    _a[QuickPulseCounter.DEPENDENCY_DURATION] = QuickPulseCounter.DEPENDENCY_DURATION,\n    _a[QuickPulseCounter.EXCEPTION_RATE] = QuickPulseCounter.EXCEPTION_RATE,\n    _a);\nexports.QuickPulseDocumentType = {\n    Event: \"Event\",\n    Exception: \"Exception\",\n    Trace: \"Trace\",\n    Metric: \"Metric\",\n    Request: \"Request\",\n    Dependency: \"RemoteDependency\",\n    Availability: \"Availability\"\n};\nexports.QuickPulseType = {\n    Event: \"EventTelemetryDocument\",\n    Exception: \"ExceptionTelemetryDocument\",\n    Trace: \"TraceTelemetryDocument\",\n    Metric: \"MetricTelemetryDocument\",\n    Request: \"RequestTelemetryDocument\",\n    Dependency: \"DependencyTelemetryDocument\",\n    Availability: \"AvailabilityTelemetryDocument\"\n};\nexports.TelemetryTypeStringToQuickPulseType = {\n    EventData: exports.QuickPulseType.Event,\n    ExceptionData: exports.QuickPulseType.Exception,\n    MessageData: exports.QuickPulseType.Trace,\n    MetricData: exports.QuickPulseType.Metric,\n    RequestData: exports.QuickPulseType.Request,\n    RemoteDependencyData: exports.QuickPulseType.Dependency,\n    AvailabilityData: exports.QuickPulseType.Availability\n};\nexports.TelemetryTypeStringToQuickPulseDocumentType = {\n    EventData: exports.QuickPulseDocumentType.Event,\n    ExceptionData: exports.QuickPulseDocumentType.Exception,\n    MessageData: exports.QuickPulseDocumentType.Trace,\n    MetricData: exports.QuickPulseDocumentType.Metric,\n    RequestData: exports.QuickPulseDocumentType.Request,\n    RemoteDependencyData: exports.QuickPulseDocumentType.Dependency,\n    AvailabilityData: exports.QuickPulseDocumentType.Availability\n};\nvar _a;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Generated_1 = require(\"./Generated\");\nvar RemoteDependencyDataConstants = (function () {\n    function RemoteDependencyDataConstants() {\n    }\n    RemoteDependencyDataConstants.TYPE_HTTP = \"Http\";\n    RemoteDependencyDataConstants.TYPE_AI = \"Http (tracked component)\";\n    return RemoteDependencyDataConstants;\n}());\nexports.RemoteDependencyDataConstants = RemoteDependencyDataConstants;\nfunction domainSupportsProperties(domain) {\n    return \"properties\" in domain ||\n        domain instanceof Generated_1.EventData ||\n        domain instanceof Generated_1.ExceptionData ||\n        domain instanceof Generated_1.MessageData ||\n        domain instanceof Generated_1.MetricData ||\n        domain instanceof Generated_1.PageViewData ||\n        domain instanceof Generated_1.RemoteDependencyData ||\n        domain instanceof Generated_1.RequestData;\n}\nexports.domainSupportsProperties = domainSupportsProperties;\n//# sourceMappingURL=Constants.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of AvailabilityData represent the result of executing an availability test.\n */\nvar AvailabilityData = (function (_super) {\n    __extends(AvailabilityData, _super);\n    function AvailabilityData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return AvailabilityData;\n}(Domain));\nmodule.exports = AvailabilityData;\n//# sourceMappingURL=AvailabilityData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Data struct to contain only C section with custom fields.\n */\nvar Base = (function () {\n    function Base() {\n    }\n    return Base;\n}());\nmodule.exports = Base;\n//# sourceMappingURL=Base.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nvar ContextTagKeys = (function () {\n    function ContextTagKeys() {\n        this.applicationVersion = \"ai.application.ver\";\n        this.deviceId = \"ai.device.id\";\n        this.deviceLocale = \"ai.device.locale\";\n        this.deviceModel = \"ai.device.model\";\n        this.deviceOEMName = \"ai.device.oemName\";\n        this.deviceOSVersion = \"ai.device.osVersion\";\n        this.deviceType = \"ai.device.type\";\n        this.locationIp = \"ai.location.ip\";\n        this.operationId = \"ai.operation.id\";\n        this.operationName = \"ai.operation.name\";\n        this.operationParentId = \"ai.operation.parentId\";\n        this.operationSyntheticSource = \"ai.operation.syntheticSource\";\n        this.operationCorrelationVector = \"ai.operation.correlationVector\";\n        this.sessionId = \"ai.session.id\";\n        this.sessionIsFirst = \"ai.session.isFirst\";\n        this.userAccountId = \"ai.user.accountId\";\n        this.userId = \"ai.user.id\";\n        this.userAuthUserId = \"ai.user.authUserId\";\n        this.cloudRole = \"ai.cloud.role\";\n        this.cloudRoleInstance = \"ai.cloud.roleInstance\";\n        this.internalSdkVersion = \"ai.internal.sdkVersion\";\n        this.internalAgentVersion = \"ai.internal.agentVersion\";\n        this.internalNodeName = \"ai.internal.nodeName\";\n    }\n    return ContextTagKeys;\n}());\nmodule.exports = ContextTagKeys;\n//# sourceMappingURL=ContextTagKeys.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Base = require(\"./Base\");\n\"use strict\";\n/**\n * Data struct to contain both B and C sections.\n */\nvar Data = (function (_super) {\n    __extends(Data, _super);\n    function Data() {\n        return _super.call(this) || this;\n    }\n    return Data;\n}(Base));\nmodule.exports = Data;\n//# sourceMappingURL=Data.js.map","\"use strict\";\n// THIS FILE WAS AUTOGENERATED\nvar DataPointType = require(\"./DataPointType\");\n\"use strict\";\n/**\n * Metric data single measurement.\n */\nvar DataPoint = (function () {\n    function DataPoint() {\n        this.kind = DataPointType.Measurement;\n    }\n    return DataPoint;\n}());\nmodule.exports = DataPoint;\n//# sourceMappingURL=DataPoint.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Type of the metric data measurement.\n */\nvar DataPointType;\n(function (DataPointType) {\n    DataPointType[DataPointType[\"Measurement\"] = 0] = \"Measurement\";\n    DataPointType[DataPointType[\"Aggregation\"] = 1] = \"Aggregation\";\n})(DataPointType || (DataPointType = {}));\nmodule.exports = DataPointType;\n//# sourceMappingURL=DataPointType.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * The abstract common base of all domains.\n */\nvar Domain = (function () {\n    function Domain() {\n    }\n    return Domain;\n}());\nmodule.exports = Domain;\n//# sourceMappingURL=Domain.js.map","\"use strict\";\n/**\n * System variables for a telemetry item.\n */\nvar Envelope = (function () {\n    function Envelope() {\n        this.ver = 1;\n        this.sampleRate = 100.0;\n        this.tags = {};\n    }\n    return Envelope;\n}());\nmodule.exports = Envelope;\n//# sourceMappingURL=Envelope.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Event represent structured event records that can be grouped and searched by their properties. Event data item also creates a metric of event count by name.\n */\nvar EventData = (function (_super) {\n    __extends(EventData, _super);\n    function EventData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return EventData;\n}(Domain));\nmodule.exports = EventData;\n//# sourceMappingURL=EventData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Exception represents a handled or unhandled exception that occurred during execution of the monitored application.\n */\nvar ExceptionData = (function (_super) {\n    __extends(ExceptionData, _super);\n    function ExceptionData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.exceptions = [];\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return ExceptionData;\n}(Domain));\nmodule.exports = ExceptionData;\n//# sourceMappingURL=ExceptionData.js.map","\"use strict\";\n/**\n * Exception details of the exception in a chain.\n */\nvar ExceptionDetails = (function () {\n    function ExceptionDetails() {\n        this.hasFullStack = true;\n        this.parsedStack = [];\n    }\n    return ExceptionDetails;\n}());\nmodule.exports = ExceptionDetails;\n//# sourceMappingURL=ExceptionDetails.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * Instances of Message represent printf-like trace statements that are text-searched. Log4Net, NLog and other text-based log file entries are translated into intances of this type. The message does not have measurements.\n */\nvar MessageData = (function (_super) {\n    __extends(MessageData, _super);\n    function MessageData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        return _this;\n    }\n    return MessageData;\n}(Domain));\nmodule.exports = MessageData;\n//# sourceMappingURL=MessageData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of the Metric item is a list of measurements (single data points) and/or aggregations.\n */\nvar MetricData = (function (_super) {\n    __extends(MetricData, _super);\n    function MetricData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.metrics = [];\n        _this.properties = {};\n        return _this;\n    }\n    return MetricData;\n}(Domain));\nmodule.exports = MetricData;\n//# sourceMappingURL=MetricData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar EventData = require(\"./EventData\");\n\"use strict\";\n/**\n * An instance of PageView represents a generic action on a page like a button click. It is also the base type for PageView.\n */\nvar PageViewData = (function (_super) {\n    __extends(PageViewData, _super);\n    function PageViewData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return PageViewData;\n}(EventData));\nmodule.exports = PageViewData;\n//# sourceMappingURL=PageViewData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Remote Dependency represents an interaction of the monitored component with a remote component/service like SQL or an HTTP endpoint.\n */\nvar RemoteDependencyData = (function (_super) {\n    __extends(RemoteDependencyData, _super);\n    function RemoteDependencyData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.success = true;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RemoteDependencyData;\n}(Domain));\nmodule.exports = RemoteDependencyData;\n//# sourceMappingURL=RemoteDependencyData.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n// THIS FILE WAS AUTOGENERATED\nvar Domain = require(\"./Domain\");\n\"use strict\";\n/**\n * An instance of Request represents completion of an external request to the application to do work and contains a summary of that request execution and the results.\n */\nvar RequestData = (function (_super) {\n    __extends(RequestData, _super);\n    function RequestData() {\n        var _this = _super.call(this) || this;\n        _this.ver = 2;\n        _this.properties = {};\n        _this.measurements = {};\n        return _this;\n    }\n    return RequestData;\n}(Domain));\nmodule.exports = RequestData;\n//# sourceMappingURL=RequestData.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Defines the level of severity for the event.\n */\nvar SeverityLevel;\n(function (SeverityLevel) {\n    SeverityLevel[SeverityLevel[\"Verbose\"] = 0] = \"Verbose\";\n    SeverityLevel[SeverityLevel[\"Information\"] = 1] = \"Information\";\n    SeverityLevel[SeverityLevel[\"Warning\"] = 2] = \"Warning\";\n    SeverityLevel[SeverityLevel[\"Error\"] = 3] = \"Error\";\n    SeverityLevel[SeverityLevel[\"Critical\"] = 4] = \"Critical\";\n})(SeverityLevel || (SeverityLevel = {}));\nmodule.exports = SeverityLevel;\n//# sourceMappingURL=SeverityLevel.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\n/**\n * Stack frame information.\n */\nvar StackFrame = (function () {\n    function StackFrame() {\n    }\n    return StackFrame;\n}());\nmodule.exports = StackFrame;\n//# sourceMappingURL=StackFrame.js.map","// THIS FILE WAS AUTOGENERATED\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AvailabilityData = require(\"./AvailabilityData\");\nexports.Base = require(\"./Base\");\nexports.ContextTagKeys = require(\"./ContextTagKeys\");\nexports.Data = require(\"./Data\");\nexports.DataPoint = require(\"./DataPoint\");\nexports.DataPointType = require(\"./DataPointType\");\nexports.Domain = require(\"./Domain\");\nexports.Envelope = require(\"./Envelope\");\nexports.EventData = require(\"./EventData\");\nexports.ExceptionData = require(\"./ExceptionData\");\nexports.ExceptionDetails = require(\"./ExceptionDetails\");\nexports.MessageData = require(\"./MessageData\");\nexports.MetricData = require(\"./MetricData\");\nexports.PageViewData = require(\"./PageViewData\");\nexports.RemoteDependencyData = require(\"./RemoteDependencyData\");\nexports.RequestData = require(\"./RequestData\");\nexports.SeverityLevel = require(\"./SeverityLevel\");\nexports.StackFrame = require(\"./StackFrame\");\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Converts the user-friendly enumeration TelemetryType to the underlying schema baseType value\n * @param type Type to convert to BaseData string\n */\nfunction telemetryTypeToBaseType(type) {\n    switch (type) {\n        case TelemetryType.Event:\n            return \"EventData\";\n        case TelemetryType.Exception:\n            return \"ExceptionData\";\n        case TelemetryType.Trace:\n            return \"MessageData\";\n        case TelemetryType.Metric:\n            return \"MetricData\";\n        case TelemetryType.Request:\n            return \"RequestData\";\n        case TelemetryType.Dependency:\n            return \"RemoteDependencyData\";\n        case TelemetryType.Availability:\n            return \"AvailabilityData\";\n    }\n    return undefined;\n}\nexports.telemetryTypeToBaseType = telemetryTypeToBaseType;\n/**\n * Converts the schema baseType value to the user-friendly enumeration TelemetryType\n * @param baseType BaseData string to convert to TelemetryType\n */\nfunction baseTypeToTelemetryType(baseType) {\n    switch (baseType) {\n        case \"EventData\":\n            return TelemetryType.Event;\n        case \"ExceptionData\":\n            return TelemetryType.Exception;\n        case \"MessageData\":\n            return TelemetryType.Trace;\n        case \"MetricData\":\n            return TelemetryType.Metric;\n        case \"RequestData\":\n            return TelemetryType.Request;\n        case \"RemoteDependencyData\":\n            return TelemetryType.Dependency;\n        case \"AvailabilityData\":\n            return TelemetryType.Availability;\n    }\n    return undefined;\n}\nexports.baseTypeToTelemetryType = baseTypeToTelemetryType;\nexports.TelemetryTypeString = {\n    Event: \"EventData\",\n    Exception: \"ExceptionData\",\n    Trace: \"MessageData\",\n    Metric: \"MetricData\",\n    Request: \"RequestData\",\n    Dependency: \"RemoteDependencyData\",\n    Availability: \"AvailabilityData\"\n};\n/**\n * Telemetry types supported by this SDK\n */\nvar TelemetryType;\n(function (TelemetryType) {\n    TelemetryType[TelemetryType[\"Event\"] = 0] = \"Event\";\n    TelemetryType[TelemetryType[\"Exception\"] = 1] = \"Exception\";\n    TelemetryType[TelemetryType[\"Trace\"] = 2] = \"Trace\";\n    TelemetryType[TelemetryType[\"Metric\"] = 3] = \"Metric\";\n    TelemetryType[TelemetryType[\"Request\"] = 4] = \"Request\";\n    TelemetryType[TelemetryType[\"Dependency\"] = 5] = \"Dependency\";\n    TelemetryType[TelemetryType[\"Availability\"] = 6] = \"Availability\";\n})(TelemetryType = exports.TelemetryType || (exports.TelemetryType = {}));\n//# sourceMappingURL=TelemetryType.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./TelemetryType\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./Constants\"));\n__export(require(\"./Generated\"));\n__export(require(\"./TelemetryTypes\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Channel = (function () {\n    function Channel(isDisabled, getBatchSize, getBatchIntervalMs, sender) {\n        this._buffer = [];\n        this._lastSend = 0;\n        this._isDisabled = isDisabled;\n        this._getBatchSize = getBatchSize;\n        this._getBatchIntervalMs = getBatchIntervalMs;\n        this._sender = sender;\n    }\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Channel.prototype.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        this._sender.setDiskRetryMode(value, resendInterval, maxBytesOnDisk);\n    };\n    /**\n     * Add a telemetry item to the send buffer\n     */\n    Channel.prototype.send = function (envelope) {\n        var _this = this;\n        // if master off switch is set, don't send any data\n        if (this._isDisabled()) {\n            // Do not send/save data\n            return;\n        }\n        // validate input\n        if (!envelope) {\n            Logging.warn(\"Cannot send null/undefined telemetry\");\n            return;\n        }\n        // check if the incoming payload is too large, truncate if necessary\n        var payload = this._stringify(envelope);\n        if (typeof payload !== \"string\") {\n            return;\n        }\n        // enqueue the payload\n        this._buffer.push(payload);\n        // flush if we would exceed the max-size limit by adding this item\n        if (this._buffer.length >= this._getBatchSize()) {\n            this.triggerSend(false);\n            return;\n        }\n        // ensure an invocation timeout is set if anything is in the buffer\n        if (!this._timeoutHandle && this._buffer.length > 0) {\n            this._timeoutHandle = setTimeout(function () {\n                _this._timeoutHandle = null;\n                _this.triggerSend(false);\n            }, this._getBatchIntervalMs());\n        }\n    };\n    /**\n     * Immediately send buffered data\n     */\n    Channel.prototype.triggerSend = function (isNodeCrashing, callback) {\n        var bufferIsEmpty = this._buffer.length < 1;\n        if (!bufferIsEmpty) {\n            // compose an array of payloads\n            var batch = this._buffer.join(\"\\n\");\n            // invoke send\n            if (isNodeCrashing) {\n                this._sender.saveOnCrash(batch);\n                if (typeof callback === \"function\") {\n                    callback(\"data saved on crash\");\n                }\n            }\n            else {\n                this._sender.send(Buffer.from ? Buffer.from(batch) : new Buffer(batch), callback);\n            }\n        }\n        // update lastSend time to enable throttling\n        this._lastSend = +new Date;\n        // clear buffer\n        this._buffer.length = 0;\n        clearTimeout(this._timeoutHandle);\n        this._timeoutHandle = null;\n        if (bufferIsEmpty && typeof callback === \"function\") {\n            callback(\"no data to send\");\n        }\n    };\n    Channel.prototype._stringify = function (envelope) {\n        try {\n            return JSON.stringify(envelope);\n        }\n        catch (error) {\n            Logging.warn(\"Failed to serialize payload\", error, envelope);\n        }\n    };\n    return Channel;\n}());\nmodule.exports = Channel;\n//# sourceMappingURL=Channel.js.map","\"use strict\";\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\nvar ConnectionStringParser = require(\"./ConnectionStringParser\");\nvar Constants = require(\"../Declarations/Constants\");\nvar url = require(\"url\");\nvar Config = (function () {\n    function Config(setupString) {\n        var _this = this;\n        this.endpointBase = Constants.DEFAULT_BREEZE_ENDPOINT;\n        var connectionStringEnv = process.env[Config.ENV_connectionString];\n        var csCode = ConnectionStringParser.parse(setupString);\n        var csEnv = ConnectionStringParser.parse(connectionStringEnv);\n        var iKeyCode = !csCode.instrumentationkey && Object.keys(csCode).length > 0\n            ? null // CS was valid but instrumentation key was not provided, null and grab from env var\n            : setupString; // CS was invalid, so it must be an ikey\n        this.instrumentationKey = csCode.instrumentationkey || iKeyCode /* === instrumentationKey */ || csEnv.instrumentationkey || Config._getInstrumentationKey();\n        this.endpointUrl = (csCode.ingestionendpoint || csEnv.ingestionendpoint || this.endpointBase) + \"/v2/track\";\n        this.maxBatchSize = 250;\n        this.maxBatchIntervalMs = 15000;\n        this.disableAppInsights = false;\n        this.samplingPercentage = 100;\n        this.correlationIdRetryIntervalMs = 30 * 1000;\n        this.correlationHeaderExcludedDomains = [\n            \"*.core.windows.net\",\n            \"*.core.chinacloudapi.cn\",\n            \"*.core.cloudapi.de\",\n            \"*.core.usgovcloudapi.net\",\n            \"*.core.microsoft.scloud\",\n            \"*.core.eaglex.ic.gov\"\n        ];\n        this.setCorrelationId = function (correlationId) { return _this.correlationId = correlationId; };\n        this.proxyHttpUrl = process.env[Config.ENV_http_proxy] || undefined;\n        this.proxyHttpsUrl = process.env[Config.ENV_https_proxy] || undefined;\n        this.httpAgent = undefined;\n        this.httpsAgent = undefined;\n        this.profileQueryEndpoint = csCode.ingestionendpoint || csEnv.ingestionendpoint || process.env[Config.ENV_profileQueryEndpoint] || this.endpointBase;\n        this._quickPulseHost = csCode.liveendpoint || csEnv.liveendpoint || process.env[Config.ENV_quickPulseHost] || Constants.DEFAULT_LIVEMETRICS_HOST;\n        // Parse quickPulseHost if it startswith http(s)://\n        if (this._quickPulseHost.match(/^https?:\\/\\//)) {\n            this._quickPulseHost = url.parse(this._quickPulseHost).host;\n        }\n    }\n    Object.defineProperty(Config.prototype, \"profileQueryEndpoint\", {\n        get: function () {\n            return this._profileQueryEndpoint;\n        },\n        set: function (endpoint) {\n            CorrelationIdManager.cancelCorrelationIdQuery(this, this.setCorrelationId);\n            this._profileQueryEndpoint = endpoint;\n            this.correlationId = CorrelationIdManager.correlationIdPrefix; // Reset the correlationId while we wait for the new query\n            CorrelationIdManager.queryCorrelationId(this, this.setCorrelationId);\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Config.prototype, \"quickPulseHost\", {\n        get: function () {\n            return this._quickPulseHost;\n        },\n        set: function (host) {\n            this._quickPulseHost = host;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Config._getInstrumentationKey = function () {\n        // check for both the documented env variable and the azure-prefixed variable\n        var iKey = process.env[Config.ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.ENV_iKey]\n            || process.env[Config.legacy_ENV_iKey]\n            || process.env[Config.ENV_azurePrefix + Config.legacy_ENV_iKey];\n        if (!iKey || iKey == \"\") {\n            throw new Error(\"Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server\");\n        }\n        return iKey;\n    };\n    // Azure adds this prefix to all environment variables\n    Config.ENV_azurePrefix = \"APPSETTING_\";\n    // This key is provided in the readme\n    Config.ENV_iKey = \"APPINSIGHTS_INSTRUMENTATIONKEY\";\n    Config.legacy_ENV_iKey = \"APPINSIGHTS_INSTRUMENTATION_KEY\";\n    Config.ENV_profileQueryEndpoint = \"APPINSIGHTS_PROFILE_QUERY_ENDPOINT\";\n    Config.ENV_quickPulseHost = \"APPINSIGHTS_QUICKPULSE_HOST\";\n    // Azure Connection String\n    Config.ENV_connectionString = \"APPLICATIONINSIGHTS_CONNECTION_STRING\";\n    // Native Metrics Opt Outs\n    Config.ENV_nativeMetricsDisablers = \"APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC\";\n    Config.ENV_nativeMetricsDisableAll = \"APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS\";\n    Config.ENV_http_proxy = \"http_proxy\";\n    Config.ENV_https_proxy = \"https_proxy\";\n    return Config;\n}());\nmodule.exports = Config;\n//# sourceMappingURL=Config.js.map","\"use strict\";\nvar Constants = require(\"../Declarations/Constants\");\nvar ConnectionStringParser = (function () {\n    function ConnectionStringParser() {\n    }\n    ConnectionStringParser.parse = function (connectionString) {\n        if (!connectionString) {\n            return {};\n        }\n        var kvPairs = connectionString.split(ConnectionStringParser._FIELDS_SEPARATOR);\n        var result = kvPairs.reduce(function (fields, kv) {\n            var kvParts = kv.split(ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR);\n            if (kvParts.length === 2) {\n                var key = kvParts[0].toLowerCase();\n                var value = kvParts[1];\n                fields[key] = value;\n            }\n            return fields;\n        }, {});\n        if (Object.keys(result).length > 0) {\n            // this is a valid connection string, so parse the results\n            if (result.endpointsuffix) {\n                // use endpoint suffix where overrides are not provided\n                var locationPrefix = result.location ? result.location + \".\" : \"\";\n                result.ingestionendpoint = result.ingestionendpoint || (\"https://\" + locationPrefix + \"dc.\" + result.endpointsuffix);\n                result.liveendpoint = result.liveendpoint || (\"https://\" + locationPrefix + \"live.\" + result.endpointsuffix);\n            }\n            // apply the default endpoints\n            result.ingestionendpoint = result.ingestionendpoint || Constants.DEFAULT_BREEZE_ENDPOINT;\n            result.liveendpoint = result.liveendpoint || Constants.DEFAULT_LIVEMETRICS_ENDPOINT;\n        }\n        return result;\n    };\n    ConnectionStringParser._FIELDS_SEPARATOR = \";\";\n    ConnectionStringParser._FIELD_KEY_VALUE_SEPARATOR = \"=\";\n    return ConnectionStringParser;\n}());\nmodule.exports = ConnectionStringParser;\n//# sourceMappingURL=ConnectionStringParser.js.map","\"use strict\";\nvar os = require(\"os\");\nvar fs = require(\"fs\");\nvar path = require(\"path\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Logging = require(\"./Logging\");\nvar Context = (function () {\n    function Context(packageJsonPath) {\n        this.keys = new Contracts.ContextTagKeys();\n        this.tags = {};\n        this._loadApplicationContext();\n        this._loadDeviceContext();\n        this._loadInternalContext();\n    }\n    Context.prototype._loadApplicationContext = function (packageJsonPath) {\n        // note: this should return the host package.json\n        packageJsonPath = packageJsonPath || path.resolve(__dirname, \"../../../../package.json\");\n        if (!Context.appVersion[packageJsonPath]) {\n            Context.appVersion[packageJsonPath] = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.appVersion[packageJsonPath] = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.applicationVersion] = Context.appVersion[packageJsonPath];\n    };\n    Context.prototype._loadDeviceContext = function () {\n        this.tags[this.keys.deviceId] = \"\";\n        this.tags[this.keys.cloudRoleInstance] = os && os.hostname();\n        this.tags[this.keys.deviceOSVersion] = os && (os.type() + \" \" + os.release());\n        this.tags[this.keys.cloudRole] = Context.DefaultRoleName;\n        // not yet supported tags\n        this.tags[\"ai.device.osArchitecture\"] = os && os.arch();\n        this.tags[\"ai.device.osPlatform\"] = os && os.platform();\n    };\n    Context.prototype._loadInternalContext = function () {\n        // note: this should return the sdk package.json\n        var packageJsonPath = path.resolve(__dirname, \"../../package.json\");\n        if (!Context.sdkVersion) {\n            Context.sdkVersion = \"unknown\";\n            try {\n                var packageJson = JSON.parse(fs.readFileSync(packageJsonPath, \"utf8\"));\n                if (packageJson && typeof packageJson.version === \"string\") {\n                    Context.sdkVersion = packageJson.version;\n                }\n            }\n            catch (exception) {\n                Logging.info(\"unable to read app version: \", exception);\n            }\n        }\n        this.tags[this.keys.internalSdkVersion] = \"node:\" + Context.sdkVersion;\n    };\n    Context.DefaultRoleName = \"Web\";\n    Context.appVersion = {};\n    Context.sdkVersion = null;\n    return Context;\n}());\nmodule.exports = Context;\n//# sourceMappingURL=Context.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar CorrelationIdManager = (function () {\n    function CorrelationIdManager() {\n    }\n    CorrelationIdManager.queryCorrelationId = function (config, callback) {\n        // GET request to `${this.endpointBase}/api/profiles/${this.instrumentationKey}/appId`\n        // If it 404s, the iKey is bad and we should give up\n        // If it fails otherwise, try again later\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        if (CorrelationIdManager.completedLookups.hasOwnProperty(appIdUrlString)) {\n            callback(CorrelationIdManager.completedLookups[appIdUrlString]);\n            return;\n        }\n        else if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n            CorrelationIdManager.pendingLookups[appIdUrlString].push(callback);\n            return;\n        }\n        CorrelationIdManager.pendingLookups[appIdUrlString] = [callback];\n        var fetchAppId = function () {\n            if (!CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                // This query has been cancelled.\n                return;\n            }\n            var requestOptions = {\n                method: 'GET',\n                // Ensure this request is not captured by auto-collection.\n                // Note: we don't refer to the property in HttpDependencyParser because that would cause a cyclical dependency\n                disableAppInsightsAutoCollection: true\n            };\n            Logging.info(CorrelationIdManager.TAG, requestOptions);\n            var req = Util.makeRequest(config, appIdUrlString, requestOptions, function (res) {\n                if (res.statusCode === 200) {\n                    // Success; extract the appId from the body\n                    var appId_1 = \"\";\n                    res.setEncoding(\"utf-8\");\n                    res.on('data', function (data) {\n                        appId_1 += data;\n                    });\n                    res.on('end', function () {\n                        Logging.info(CorrelationIdManager.TAG, appId_1);\n                        var result = CorrelationIdManager.correlationIdPrefix + appId_1;\n                        CorrelationIdManager.completedLookups[appIdUrlString] = result;\n                        if (CorrelationIdManager.pendingLookups[appIdUrlString]) {\n                            CorrelationIdManager.pendingLookups[appIdUrlString].forEach(function (cb) { return cb(result); });\n                        }\n                        delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                    });\n                }\n                else if (res.statusCode >= 400 && res.statusCode < 500) {\n                    // Not found, probably a bad key. Do not try again.\n                    CorrelationIdManager.completedLookups[appIdUrlString] = undefined;\n                    delete CorrelationIdManager.pendingLookups[appIdUrlString];\n                }\n                else {\n                    // Retry after timeout.\n                    setTimeout(fetchAppId, config.correlationIdRetryIntervalMs);\n                }\n            });\n            if (req) {\n                req.on('error', function (error) {\n                    // Unable to contact endpoint.\n                    // Do nothing for now.\n                    Logging.warn(CorrelationIdManager.TAG, error);\n                });\n                req.end();\n            }\n        };\n        setTimeout(fetchAppId, 0);\n    };\n    CorrelationIdManager.cancelCorrelationIdQuery = function (config, callback) {\n        var appIdUrlString = config.profileQueryEndpoint + \"/api/profiles/\" + config.instrumentationKey + \"/appId\";\n        var pendingLookups = CorrelationIdManager.pendingLookups[appIdUrlString];\n        if (pendingLookups) {\n            CorrelationIdManager.pendingLookups[appIdUrlString] = pendingLookups.filter(function (cb) { return cb != callback; });\n            if (CorrelationIdManager.pendingLookups[appIdUrlString].length == 0) {\n                delete CorrelationIdManager.pendingLookups[appIdUrlString];\n            }\n        }\n    };\n    /**\n     * Generate a request Id according to https://github.com/lmolkova/correlation/blob/master/hierarchical_request_id.md\n     * @param parentId\n     */\n    CorrelationIdManager.generateRequestId = function (parentId) {\n        if (parentId) {\n            parentId = parentId[0] == '|' ? parentId : '|' + parentId;\n            if (parentId[parentId.length - 1] !== '.') {\n                parentId += '.';\n            }\n            var suffix = (CorrelationIdManager.currentRootId++).toString(16);\n            return CorrelationIdManager.appendSuffix(parentId, suffix, '_');\n        }\n        else {\n            return CorrelationIdManager.generateRootId();\n        }\n    };\n    /**\n     * Given a hierarchical identifier of the form |X.*\n     * return the root identifier X\n     * @param id\n     */\n    CorrelationIdManager.getRootId = function (id) {\n        var endIndex = id.indexOf('.');\n        if (endIndex < 0) {\n            endIndex = id.length;\n        }\n        var startIndex = id[0] === '|' ? 1 : 0;\n        return id.substring(startIndex, endIndex);\n    };\n    CorrelationIdManager.generateRootId = function () {\n        return '|' + Util.w3cTraceId() + '.';\n    };\n    CorrelationIdManager.appendSuffix = function (parentId, suffix, delimiter) {\n        if (parentId.length + suffix.length < CorrelationIdManager.requestIdMaxLength) {\n            return parentId + suffix + delimiter;\n        }\n        // Combined identifier would be too long, so we must truncate it.\n        // We need 9 characters of space: 8 for the overflow ID, 1 for the\n        // overflow delimiter '#'\n        var trimPosition = CorrelationIdManager.requestIdMaxLength - 9;\n        if (parentId.length > trimPosition) {\n            for (; trimPosition > 1; --trimPosition) {\n                var c = parentId[trimPosition - 1];\n                if (c === '.' || c === '_') {\n                    break;\n                }\n            }\n        }\n        if (trimPosition <= 1) {\n            // parentId is not a valid ID\n            return CorrelationIdManager.generateRootId();\n        }\n        suffix = Util.randomu32().toString(16);\n        while (suffix.length < 8) {\n            suffix = '0' + suffix;\n        }\n        return parentId.substring(0, trimPosition) + suffix + '#';\n    };\n    CorrelationIdManager.TAG = \"CorrelationIdManager\";\n    CorrelationIdManager.correlationIdPrefix = \"cid-v1:\";\n    CorrelationIdManager.w3cEnabled = false;\n    // To avoid extraneous HTTP requests, we maintain a queue of callbacks waiting on a particular appId lookup,\n    // as well as a cache of completed lookups so future requests can be resolved immediately.\n    CorrelationIdManager.pendingLookups = {};\n    CorrelationIdManager.completedLookups = {};\n    CorrelationIdManager.requestIdMaxLength = 1024;\n    CorrelationIdManager.currentRootId = Util.randomu32();\n    return CorrelationIdManager;\n}());\nmodule.exports = CorrelationIdManager;\n//# sourceMappingURL=CorrelationIdManager.js.map","\"use strict\";\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Util = require(\"./Util\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\n/**\n * Manages the logic of creating envelopes from Telemetry objects\n */\nvar EnvelopeFactory = (function () {\n    function EnvelopeFactory() {\n    }\n    /**\n     * Creates envelope ready to be sent by Channel\n     * @param telemetry Telemetry data\n     * @param telemetryType Type of telemetry\n     * @param commonProperties Bag of custom common properties to be added to the envelope\n     * @param context Client context\n     * @param config Client configuration\n     */\n    EnvelopeFactory.createEnvelope = function (telemetry, telemetryType, commonProperties, context, config) {\n        var data = null;\n        switch (telemetryType) {\n            case Contracts.TelemetryType.Trace:\n                data = EnvelopeFactory.createTraceData(telemetry);\n                break;\n            case Contracts.TelemetryType.Dependency:\n                data = EnvelopeFactory.createDependencyData(telemetry);\n                break;\n            case Contracts.TelemetryType.Event:\n                data = EnvelopeFactory.createEventData(telemetry);\n                break;\n            case Contracts.TelemetryType.Exception:\n                data = EnvelopeFactory.createExceptionData(telemetry);\n                break;\n            case Contracts.TelemetryType.Request:\n                data = EnvelopeFactory.createRequestData(telemetry);\n                break;\n            case Contracts.TelemetryType.Metric:\n                data = EnvelopeFactory.createMetricData(telemetry);\n                break;\n            case Contracts.TelemetryType.Availability:\n                data = EnvelopeFactory.createAvailabilityData(telemetry);\n                break;\n        }\n        if (commonProperties && Contracts.domainSupportsProperties(data.baseData)) {\n            if (data && data.baseData) {\n                // if no properties are specified just add the common ones\n                if (!data.baseData.properties) {\n                    data.baseData.properties = commonProperties;\n                }\n                else {\n                    // otherwise, check each of the common ones\n                    for (var name in commonProperties) {\n                        // only override if the property `name` has not been set on this item\n                        if (!data.baseData.properties[name]) {\n                            data.baseData.properties[name] = commonProperties[name];\n                        }\n                    }\n                }\n            }\n            // sanitize properties\n            data.baseData.properties = Util.validateStringMap(data.baseData.properties);\n        }\n        var iKey = config ? config.instrumentationKey || \"\" : \"\";\n        var envelope = new Contracts.Envelope();\n        envelope.data = data;\n        envelope.iKey = iKey;\n        // this is kind of a hack, but the envelope name is always the same as the data name sans the chars \"data\"\n        envelope.name =\n            \"Microsoft.ApplicationInsights.\" +\n                iKey.replace(/-/g, \"\") +\n                \".\" +\n                data.baseType.substr(0, data.baseType.length - 4);\n        envelope.tags = this.getTags(context, telemetry.tagOverrides);\n        envelope.time = (new Date()).toISOString();\n        envelope.ver = 1;\n        envelope.sampleRate = config ? config.samplingPercentage : 100;\n        // Exclude metrics from sampling by default\n        if (telemetryType === Contracts.TelemetryType.Metric) {\n            envelope.sampleRate = 100;\n        }\n        return envelope;\n    };\n    EnvelopeFactory.createTraceData = function (telemetry) {\n        var trace = new Contracts.MessageData();\n        trace.message = telemetry.message;\n        trace.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            trace.severityLevel = telemetry.severity;\n        }\n        else {\n            trace.severityLevel = Contracts.SeverityLevel.Information;\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Trace);\n        data.baseData = trace;\n        return data;\n    };\n    EnvelopeFactory.createDependencyData = function (telemetry) {\n        var remoteDependency = new Contracts.RemoteDependencyData();\n        if (typeof telemetry.name === \"string\") {\n            remoteDependency.name = telemetry.name.length > 1024 ? telemetry.name.slice(0, 1021) + '...' : telemetry.name;\n        }\n        remoteDependency.data = telemetry.data;\n        remoteDependency.target = telemetry.target;\n        remoteDependency.duration = Util.msToTimeSpan(telemetry.duration);\n        remoteDependency.success = telemetry.success;\n        remoteDependency.type = telemetry.dependencyTypeName;\n        remoteDependency.properties = telemetry.properties;\n        remoteDependency.resultCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        if (telemetry.id) {\n            remoteDependency.id = telemetry.id;\n        }\n        else {\n            remoteDependency.id = Util.w3cTraceId();\n        }\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Dependency);\n        data.baseData = remoteDependency;\n        return data;\n    };\n    EnvelopeFactory.createEventData = function (telemetry) {\n        var event = new Contracts.EventData();\n        event.name = telemetry.name;\n        event.properties = telemetry.properties;\n        event.measurements = telemetry.measurements;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Event);\n        data.baseData = event;\n        return data;\n    };\n    EnvelopeFactory.createExceptionData = function (telemetry) {\n        var exception = new Contracts.ExceptionData();\n        exception.properties = telemetry.properties;\n        if (!isNaN(telemetry.severity)) {\n            exception.severityLevel = telemetry.severity;\n        }\n        else {\n            exception.severityLevel = Contracts.SeverityLevel.Error;\n        }\n        exception.measurements = telemetry.measurements;\n        exception.exceptions = [];\n        var stack = telemetry.exception[\"stack\"];\n        var exceptionDetails = new Contracts.ExceptionDetails();\n        exceptionDetails.message = telemetry.exception.message;\n        exceptionDetails.typeName = telemetry.exception.name;\n        exceptionDetails.parsedStack = this.parseStack(stack);\n        exceptionDetails.hasFullStack = Util.isArray(exceptionDetails.parsedStack) && exceptionDetails.parsedStack.length > 0;\n        exception.exceptions.push(exceptionDetails);\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Exception);\n        data.baseData = exception;\n        return data;\n    };\n    EnvelopeFactory.createRequestData = function (telemetry) {\n        var requestData = new Contracts.RequestData();\n        if (telemetry.id) {\n            requestData.id = telemetry.id;\n        }\n        else {\n            requestData.id = Util.w3cTraceId();\n        }\n        requestData.name = telemetry.name;\n        requestData.url = telemetry.url;\n        requestData.source = telemetry.source;\n        requestData.duration = Util.msToTimeSpan(telemetry.duration);\n        requestData.responseCode = (telemetry.resultCode ? telemetry.resultCode + '' : '');\n        requestData.success = telemetry.success;\n        requestData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Request);\n        data.baseData = requestData;\n        return data;\n    };\n    EnvelopeFactory.createMetricData = function (telemetry) {\n        var metrics = new Contracts.MetricData(); // todo: enable client-batching of these\n        metrics.metrics = [];\n        var metric = new Contracts.DataPoint();\n        metric.count = !isNaN(telemetry.count) ? telemetry.count : 1;\n        metric.kind = Contracts.DataPointType.Aggregation;\n        metric.max = !isNaN(telemetry.max) ? telemetry.max : telemetry.value;\n        metric.min = !isNaN(telemetry.min) ? telemetry.min : telemetry.value;\n        metric.name = telemetry.name;\n        metric.stdDev = !isNaN(telemetry.stdDev) ? telemetry.stdDev : 0;\n        metric.value = telemetry.value;\n        metrics.metrics.push(metric);\n        metrics.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Metric);\n        data.baseData = metrics;\n        return data;\n    };\n    EnvelopeFactory.createAvailabilityData = function (telemetry) {\n        var availabilityData = new Contracts.AvailabilityData();\n        if (telemetry.id) {\n            availabilityData.id = telemetry.id;\n        }\n        else {\n            availabilityData.id = Util.w3cTraceId();\n        }\n        availabilityData.name = telemetry.name;\n        availabilityData.duration = Util.msToTimeSpan(telemetry.duration);\n        availabilityData.success = telemetry.success;\n        availabilityData.runLocation = telemetry.runLocation;\n        availabilityData.message = telemetry.message;\n        availabilityData.measurements = telemetry.measurements;\n        availabilityData.properties = telemetry.properties;\n        var data = new Contracts.Data();\n        data.baseType = Contracts.telemetryTypeToBaseType(Contracts.TelemetryType.Availability);\n        data.baseData = availabilityData;\n        return data;\n    };\n    EnvelopeFactory.getTags = function (context, tagOverrides) {\n        var correlationContext = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        // Make a copy of context tags so we don't alter the actual object\n        // Also perform tag overriding\n        var newTags = {};\n        if (context && context.tags) {\n            for (var key in context.tags) {\n                newTags[key] = context.tags[key];\n            }\n        }\n        if (tagOverrides) {\n            for (var key in tagOverrides) {\n                newTags[key] = tagOverrides[key];\n            }\n        }\n        // Fill in internally-populated values if not already set\n        if (correlationContext) {\n            newTags[context.keys.operationId] = newTags[context.keys.operationId] || correlationContext.operation.id;\n            newTags[context.keys.operationName] = newTags[context.keys.operationName] || correlationContext.operation.name;\n            newTags[context.keys.operationParentId] = newTags[context.keys.operationParentId] || correlationContext.operation.parentId;\n        }\n        return newTags;\n    };\n    EnvelopeFactory.parseStack = function (stack) {\n        var parsedStack = undefined;\n        if (typeof stack === \"string\") {\n            var frames = stack.split(\"\\n\");\n            parsedStack = [];\n            var level = 0;\n            var totalSizeInBytes = 0;\n            for (var i = 0; i <= frames.length; i++) {\n                var frame = frames[i];\n                if (_StackFrame.regex.test(frame)) {\n                    var parsedFrame = new _StackFrame(frames[i], level++);\n                    totalSizeInBytes += parsedFrame.sizeInBytes;\n                    parsedStack.push(parsedFrame);\n                }\n            }\n            // DP Constraint - exception parsed stack must be < 32KB\n            // remove frames from the middle to meet the threshold\n            var exceptionParsedStackThreshold = 32 * 1024;\n            if (totalSizeInBytes > exceptionParsedStackThreshold) {\n                var left = 0;\n                var right = parsedStack.length - 1;\n                var size = 0;\n                var acceptedLeft = left;\n                var acceptedRight = right;\n                while (left < right) {\n                    // check size\n                    var lSize = parsedStack[left].sizeInBytes;\n                    var rSize = parsedStack[right].sizeInBytes;\n                    size += lSize + rSize;\n                    if (size > exceptionParsedStackThreshold) {\n                        // remove extra frames from the middle\n                        var howMany = acceptedRight - acceptedLeft + 1;\n                        parsedStack.splice(acceptedLeft, howMany);\n                        break;\n                    }\n                    // update pointers\n                    acceptedLeft = left;\n                    acceptedRight = right;\n                    left++;\n                    right--;\n                }\n            }\n        }\n        return parsedStack;\n    };\n    return EnvelopeFactory;\n}());\nvar _StackFrame = (function () {\n    function _StackFrame(frame, level) {\n        this.sizeInBytes = 0;\n        this.level = level;\n        this.method = \"<no_method>\";\n        this.assembly = Util.trim(frame);\n        var matches = frame.match(_StackFrame.regex);\n        if (matches && matches.length >= 5) {\n            this.method = Util.trim(matches[2]) || this.method;\n            this.fileName = Util.trim(matches[4]) || \"<no_filename>\";\n            this.line = parseInt(matches[5]) || 0;\n        }\n        this.sizeInBytes += this.method.length;\n        this.sizeInBytes += this.fileName.length;\n        this.sizeInBytes += this.assembly.length;\n        // todo: these might need to be removed depending on how the back-end settles on their size calculation\n        this.sizeInBytes += _StackFrame.baseSize;\n        this.sizeInBytes += this.level.toString().length;\n        this.sizeInBytes += this.line.toString().length;\n    }\n    // regex to match stack frames from ie/chrome/ff\n    // methodName=$2, fileName=$4, lineNo=$5, column=$6\n    _StackFrame.regex = /^([\\s]+at)?(.*?)(\\@|\\s\\(|\\s)([^\\(\\@\\n]+):([0-9]+):([0-9]+)(\\)?)$/;\n    _StackFrame.baseSize = 58; //'{\"method\":\"\",\"level\":,\"assembly\":\"\",\"fileName\":\"\",\"line\":}'.length\n    return _StackFrame;\n}());\nmodule.exports = EnvelopeFactory;\n//# sourceMappingURL=EnvelopeFactory.js.map","\"use strict\";\nvar Logging = (function () {\n    function Logging() {\n    }\n    Logging.info = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (Logging.enableDebug) {\n            console.info(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.warn = function (message) {\n        var optionalParams = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            optionalParams[_i - 1] = arguments[_i];\n        }\n        if (!Logging.disableWarnings) {\n            console.warn(Logging.TAG + message, optionalParams);\n        }\n    };\n    Logging.enableDebug = false;\n    Logging.disableWarnings = false;\n    Logging.disableErrors = false;\n    Logging.TAG = \"ApplicationInsights:\";\n    return Logging;\n}());\nmodule.exports = Logging;\n//# sourceMappingURL=Logging.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar TelemetryClient = require(\"./TelemetryClient\");\nvar ServerRequestTracking = require(\"../AutoCollection/HttpRequests\");\nvar ClientRequestTracking = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\n/**\n * Application Insights Telemetry Client for Node.JS. Provides the Application Insights TelemetryClient API\n * in addition to Node-specific helper functions.\n * Construct a new TelemetryClient to have an instance with a different configuration than the default client.\n * In most cases, `appInsights.defaultClient` should be used instead.\n */\nvar NodeClient = (function (_super) {\n    __extends(NodeClient, _super);\n    function NodeClient() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will log immediately without waitng for request completion\n     * and it requires duration parameter to be specified on NodeHttpRequestTelemetry object.\n     * Use trackNodeHttpRequest function to log the telemetry after request completion\n     * @param telemetry Object encapsulating incoming request, response and duration information\n     */\n    NodeClient.prototype.trackNodeHttpRequestSync = function (telemetry) {\n        if (telemetry && telemetry.request && telemetry.response && telemetry.duration) {\n            ServerRequestTracking.trackRequestSync(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.\");\n        }\n    };\n    /**\n     * Log RequestTelemetry from HTTP request and response. This method will `follow` the request to completion.\n     * Use trackNodeHttpRequestSync function to log telemetry immediately without waiting for request completion\n     * @param telemetry Object encapsulating incoming request and response information\n     */\n    NodeClient.prototype.trackNodeHttpRequest = function (telemetry) {\n        if (telemetry.duration || telemetry.error) {\n            Logging.warn(\"trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects.\");\n        }\n        if (telemetry && telemetry.request && telemetry.response) {\n            ServerRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.\");\n        }\n    };\n    /**\n     * Log DependencyTelemetry from outgoing HTTP request. This method will instrument the outgoing request and append\n     * the specified headers and will log the telemetry when outgoing request is complete\n     * @param telemetry Object encapsulating outgoing request information\n     */\n    NodeClient.prototype.trackNodeHttpDependency = function (telemetry) {\n        if (telemetry && telemetry.request) {\n            ClientRequestTracking.trackRequest(this, telemetry);\n        }\n        else {\n            Logging.warn(\"trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.\");\n        }\n    };\n    return NodeClient;\n}(TelemetryClient));\nmodule.exports = NodeClient;\n//# sourceMappingURL=NodeClient.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar os = require(\"os\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar StreamId = Util.w3cTraceId(); // Create a guid\nvar QuickPulseEnvelopeFactory = (function () {\n    function QuickPulseEnvelopeFactory() {\n    }\n    QuickPulseEnvelopeFactory.createQuickPulseEnvelope = function (metrics, documents, config, context) {\n        var machineName = (os && typeof os.hostname === \"function\"\n            && os.hostname()) || \"Unknown\"; // Note: os.hostname() was added in node v0.3.3\n        var instance = (context.tags\n            && context.keys\n            && context.keys.cloudRoleInstance\n            && context.tags[context.keys.cloudRoleInstance]) || machineName;\n        var envelope = {\n            Documents: documents.length > 0 ? documents : null,\n            InstrumentationKey: config.instrumentationKey || \"\",\n            Metrics: metrics.length > 0 ? metrics : null,\n            InvariantVersion: 1,\n            Timestamp: \"/Date(\" + Date.now() + \")/\",\n            Version: context.tags[context.keys.internalSdkVersion],\n            StreamId: StreamId,\n            MachineName: machineName,\n            Instance: instance\n        };\n        return envelope;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseMetric = function (telemetry) {\n        var data;\n        data = {\n            Name: telemetry.name,\n            Value: telemetry.value,\n            Weight: telemetry.count || 1\n        };\n        return data;\n    };\n    QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument = function (envelope) {\n        switch (envelope.data.baseType) {\n            case Contracts.TelemetryTypeString.Event:\n                return QuickPulseEnvelopeFactory.createQuickPulseEventDocument(envelope);\n            case Contracts.TelemetryTypeString.Exception:\n                return QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument(envelope);\n            case Contracts.TelemetryTypeString.Trace:\n                return QuickPulseEnvelopeFactory.createQuickPulseTraceDocument(envelope);\n            case Contracts.TelemetryTypeString.Dependency:\n                return QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument(envelope);\n            case Contracts.TelemetryTypeString.Request:\n                return QuickPulseEnvelopeFactory.createQuickPulseRequestDocument(envelope);\n        }\n        return null;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseEventDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var name = envelope.data.baseData.name;\n        var eventDocument = __assign({}, document, { Name: name });\n        return eventDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseTraceDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var severityLevel = envelope.data.baseData.severityLevel || 0;\n        var traceDocument = __assign({}, document, { Message: envelope.data.baseData.message, SeverityLevel: Contracts.SeverityLevel[severityLevel] });\n        return traceDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseExceptionDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var exceptionDetails = envelope.data.baseData.exceptions;\n        var exception = '';\n        var exceptionMessage = '';\n        var exceptionType = '';\n        // Try to fill exception information from first error only\n        if (exceptionDetails && exceptionDetails.length > 0) {\n            // Try to grab the stack from parsedStack or stack\n            if (exceptionDetails[0].parsedStack && exceptionDetails[0].parsedStack.length > 0) {\n                exceptionDetails[0].parsedStack.forEach(function (err) {\n                    exception += err.assembly + \"\\n\";\n                });\n            }\n            else if (exceptionDetails[0].stack && exceptionDetails[0].stack.length > 0) {\n                exception = exceptionDetails[0].stack;\n            }\n            exceptionMessage = exceptionDetails[0].message;\n            exceptionType = exceptionDetails[0].typeName;\n        }\n        var exceptionDocument = __assign({}, document, { Exception: exception, ExceptionMessage: exceptionMessage, ExceptionType: exceptionType });\n        return exceptionDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseRequestDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var requestDocument = __assign({}, document, { Name: baseData.name, Success: baseData.success, Duration: baseData.duration, ResponseCode: baseData.responseCode, OperationName: baseData.name // TODO: is this correct?\n         });\n        return requestDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDependencyDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.createQuickPulseDocument(envelope);\n        var baseData = envelope.data.baseData;\n        var dependencyDocument = __assign({}, document, { Name: baseData.name, Target: baseData.target, Success: baseData.success, Duration: baseData.duration, ResultCode: baseData.resultCode, CommandName: baseData.data, OperationName: document.OperationId, DependencyTypeName: baseData.type });\n        return dependencyDocument;\n    };\n    QuickPulseEnvelopeFactory.createQuickPulseDocument = function (envelope) {\n        var documentType;\n        var __type;\n        var operationId, properties;\n        if (envelope.data.baseType) {\n            __type = Constants.TelemetryTypeStringToQuickPulseType[envelope.data.baseType];\n            documentType = Constants.TelemetryTypeStringToQuickPulseDocumentType[envelope.data.baseType];\n        }\n        else {\n            // Remark: This should never be hit because createQuickPulseDocument is only called within\n            // valid baseType values\n            Logging.warn(\"Document type invalid; not sending live metric document\", envelope.data.baseType);\n        }\n        operationId = envelope.tags[QuickPulseEnvelopeFactory.keys.operationId];\n        properties = QuickPulseEnvelopeFactory.aggregateProperties(envelope);\n        var document = {\n            DocumentType: documentType,\n            __type: __type,\n            OperationId: operationId,\n            Version: \"1.0\",\n            Properties: properties\n        };\n        return document;\n    };\n    QuickPulseEnvelopeFactory.aggregateProperties = function (envelope) {\n        var properties = [];\n        // Collect measurements\n        var meas = (envelope.data.baseData).measurements || {};\n        for (var key in meas) {\n            if (meas.hasOwnProperty(key)) {\n                var value = meas[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        // Collect properties\n        var props = (envelope.data.baseData).properties || {};\n        for (var key in props) {\n            if (props.hasOwnProperty(key)) {\n                var value = props[key];\n                var property = { key: key, value: value };\n                properties.push(property);\n            }\n        }\n        return properties;\n    };\n    QuickPulseEnvelopeFactory.keys = new Contracts.ContextTagKeys();\n    return QuickPulseEnvelopeFactory;\n}());\nmodule.exports = QuickPulseEnvelopeFactory;\n//# sourceMappingURL=QuickPulseEnvelopeFactory.js.map","\"use strict\";\nvar https = require(\"https\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Logging = require(\"./Logging\");\nvar QuickPulseConfig = {\n    method: \"POST\",\n    time: \"x-ms-qps-transmission-time\",\n    subscribed: \"x-ms-qps-subscribed\"\n};\nvar QuickPulseSender = (function () {\n    function QuickPulseSender(config) {\n        this._config = config;\n        this._consecutiveErrors = 0;\n    }\n    QuickPulseSender.prototype.ping = function (envelope, done) {\n        this._submitData(envelope, done, \"ping\");\n    };\n    QuickPulseSender.prototype.post = function (envelope, done) {\n        // Important: When POSTing data, envelope must be an array\n        this._submitData([envelope], done, \"post\");\n    };\n    QuickPulseSender.prototype._submitData = function (envelope, done, postOrPing) {\n        var _this = this;\n        var payload = JSON.stringify(envelope);\n        var options = (_a = {},\n            _a[AutoCollectHttpDependencies.disableCollectionRequestOption] = true,\n            _a.host = this._config.quickPulseHost,\n            _a.method = QuickPulseConfig.method,\n            _a.path = \"/QuickPulseService.svc/\" + postOrPing + \"?ikey=\" + this._config.instrumentationKey,\n            _a.headers = (_b = {\n                    'Expect': '100-continue'\n                },\n                _b[QuickPulseConfig.time] = 10000 * Date.now(),\n                _b['Content-Type'] = 'application\\/json',\n                _b['Content-Length'] = Buffer.byteLength(payload),\n                _b),\n            _a);\n        var req = https.request(options, function (res) {\n            var shouldPOSTData = res.headers[QuickPulseConfig.subscribed] === \"true\";\n            _this._consecutiveErrors = 0;\n            done(shouldPOSTData, res);\n        });\n        req.on(\"error\", function (error) {\n            // Unable to contact qps endpoint.\n            // Do nothing for now.\n            _this._consecutiveErrors++;\n            // LOG every error, but WARN instead when X number of consecutive errors occur\n            var notice = \"Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:\";\n            if (_this._consecutiveErrors % QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN === 0) {\n                notice = \"Live Metrics endpoint could not be reached \" + _this._consecutiveErrors + \" consecutive times. Most recent error:\";\n                Logging.warn(QuickPulseSender.TAG, notice, error);\n            }\n            else {\n                // Potentially transient error, do not change the ping/post state yet.\n                Logging.info(QuickPulseSender.TAG, notice, error);\n            }\n            done();\n        });\n        req.write(payload);\n        req.end();\n        var _a, _b;\n    };\n    QuickPulseSender.TAG = \"QuickPulseSender\";\n    QuickPulseSender.MAX_QPS_FAILURES_BEFORE_WARN = 25;\n    return QuickPulseSender;\n}());\nmodule.exports = QuickPulseSender;\n//# sourceMappingURL=QuickPulseSender.js.map","\"use strict\";\nvar Logging = require(\"./Logging\");\nvar Config = require(\"./Config\");\nvar QuickPulseEnvelopeFactory = require(\"./QuickPulseEnvelopeFactory\");\nvar QuickPulseSender = require(\"./QuickPulseSender\");\nvar Constants = require(\"../Declarations/Constants\");\nvar Context = require(\"./Context\");\n/** State Container for sending to the QuickPulse Service */\nvar QuickPulseStateManager = (function () {\n    function QuickPulseStateManager(iKey, context) {\n        this._isCollectingData = false;\n        this._lastSuccessTime = Date.now();\n        this._lastSendSucceeded = true;\n        this._metrics = {};\n        this._documents = [];\n        this._collectors = [];\n        this.config = new Config(iKey);\n        this.context = context || new Context();\n        this._sender = new QuickPulseSender(this.config);\n        this._isEnabled = false;\n    }\n    /**\n     *\n     * @param collector\n     */\n    QuickPulseStateManager.prototype.addCollector = function (collector) {\n        this._collectors.push(collector);\n    };\n    /**\n     * Override of TelemetryClient.trackMetric\n     */\n    QuickPulseStateManager.prototype.trackMetric = function (telemetry) {\n        this._addMetric(telemetry);\n    };\n    /**\n     * Add a document to the current buffer\n     * @param envelope\n     */\n    QuickPulseStateManager.prototype.addDocument = function (envelope) {\n        var document = QuickPulseEnvelopeFactory.telemetryEnvelopeToQuickPulseDocument(envelope);\n        if (document) {\n            this._documents.push(document);\n        }\n    };\n    /**\n     * Enable or disable communication with QuickPulseService\n     * @param isEnabled\n     */\n    QuickPulseStateManager.prototype.enable = function (isEnabled) {\n        if (isEnabled && !this._isEnabled) {\n            this._isEnabled = true;\n            this._goQuickPulse();\n        }\n        else if (!isEnabled && this._isEnabled) {\n            this._isEnabled = false;\n            clearTimeout(this._handle);\n            this._handle = undefined;\n        }\n    };\n    /**\n     * Enable or disable all collectors in this instance\n     * @param enable\n     */\n    QuickPulseStateManager.prototype.enableCollectors = function (enable) {\n        this._collectors.forEach(function (collector) {\n            collector.enable(enable);\n        });\n    };\n    /**\n     * Add the metric to this buffer. If same metric already exists in this buffer, add weight to it\n     * @param telemetry\n     */\n    QuickPulseStateManager.prototype._addMetric = function (telemetry) {\n        var value = telemetry.value;\n        var count = telemetry.count || 1;\n        var name = Constants.PerformanceToQuickPulseCounter[telemetry.name];\n        if (name) {\n            if (this._metrics[name]) {\n                this._metrics[name].Value = (this._metrics[name].Value * this._metrics[name].Weight + value * count) / (this._metrics[name].Weight + count);\n                this._metrics[name].Weight += count;\n            }\n            else {\n                this._metrics[name] = QuickPulseEnvelopeFactory.createQuickPulseMetric(telemetry);\n                this._metrics[name].Name = name;\n                this._metrics[name].Weight = 1;\n            }\n        }\n    };\n    QuickPulseStateManager.prototype._resetQuickPulseBuffer = function () {\n        delete this._metrics;\n        this._metrics = {};\n        this._documents.length = 0;\n    };\n    QuickPulseStateManager.prototype._goQuickPulse = function () {\n        var _this = this;\n        // Create envelope from Documents and Metrics\n        var metrics = Object.keys(this._metrics).map(function (k) { return _this._metrics[k]; });\n        var envelope = QuickPulseEnvelopeFactory.createQuickPulseEnvelope(metrics, this._documents.slice(), this.config, this.context);\n        // Clear this document, metric buffer\n        this._resetQuickPulseBuffer();\n        // Send it to QuickPulseService, if collecting\n        if (this._isCollectingData) {\n            this._post(envelope);\n        }\n        else {\n            this._ping(envelope);\n        }\n        var currentTimeout = this._isCollectingData ? QuickPulseStateManager.POST_INTERVAL : QuickPulseStateManager.PING_INTERVAL;\n        if (this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_POST_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't posted successfully in 20 seconds, so wait 60 seconds and ping\n            this._isCollectingData = false;\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        else if (!this._isCollectingData && Date.now() - this._lastSuccessTime >= QuickPulseStateManager.MAX_PING_WAIT_TIME && !this._lastSendSucceeded) {\n            // Haven't pinged successfully in 60 seconds, so wait another 60 seconds\n            currentTimeout = QuickPulseStateManager.FALLBACK_INTERVAL;\n        }\n        this._lastSendSucceeded = null;\n        this._handle = setTimeout(this._goQuickPulse.bind(this), currentTimeout);\n        this._handle.unref(); // Don't block apps from terminating\n    };\n    QuickPulseStateManager.prototype._ping = function (envelope) {\n        this._sender.ping(envelope, this._quickPulseDone.bind(this));\n    };\n    QuickPulseStateManager.prototype._post = function (envelope) {\n        this._sender.post(envelope, this._quickPulseDone.bind(this));\n    };\n    /**\n     * Change the current QPS send state. (shouldPOST == undefined) --> error, but do not change the state yet.\n     */\n    QuickPulseStateManager.prototype._quickPulseDone = function (shouldPOST, res) {\n        if (shouldPOST != undefined) {\n            if (this._isCollectingData !== shouldPOST) {\n                Logging.info(\"Live Metrics sending data\", shouldPOST);\n                this.enableCollectors(shouldPOST);\n            }\n            this._isCollectingData = shouldPOST;\n            if (res && res.statusCode < 300 && res.statusCode >= 200) {\n                this._lastSuccessTime = Date.now();\n                this._lastSendSucceeded = true;\n            }\n            else {\n                this._lastSendSucceeded = false;\n            }\n        }\n        else {\n            // Received an error, keep the state as is\n            this._lastSendSucceeded = false;\n        }\n    };\n    QuickPulseStateManager.MAX_POST_WAIT_TIME = 20000;\n    QuickPulseStateManager.MAX_PING_WAIT_TIME = 60000;\n    QuickPulseStateManager.FALLBACK_INTERVAL = 60000;\n    QuickPulseStateManager.PING_INTERVAL = 5000;\n    QuickPulseStateManager.POST_INTERVAL = 1000;\n    return QuickPulseStateManager;\n}());\nmodule.exports = QuickPulseStateManager;\n//# sourceMappingURL=QuickPulseStateManager.js.map","\"use strict\";\nmodule.exports = {\n    /**\n     * Request-Context header\n     */\n    requestContextHeader: \"request-context\",\n    /**\n     * Source instrumentation header that is added by an application while making http\n     * requests and retrieved by the other application when processing incoming requests.\n     */\n    requestContextSourceKey: \"appId\",\n    /**\n     * Target instrumentation header that is added to the response and retrieved by the\n     * calling application when processing incoming responses.\n     */\n    requestContextTargetKey: \"appId\",\n    /**\n     * Request-Id header\n     */\n    requestIdHeader: \"request-id\",\n    /**\n     * Legacy Header containing the id of the immidiate caller\n     */\n    parentIdHeader: \"x-ms-request-id\",\n    /**\n     * Legacy Header containing the correlation id that kept the same for every telemetry item\n     * accross transactions\n     */\n    rootIdHeader: \"x-ms-request-root-id\",\n    /**\n     * Correlation-Context header\n     *\n     * Not currently actively used, but the contents should be passed from incoming to outgoing requests\n     */\n    correlationContextHeader: \"correlation-context\",\n    /**\n     * W3C distributed tracing protocol header\n     */\n    traceparentHeader: \"traceparent\",\n    /**\n     * W3C distributed tracing protocol state header\n     */\n    traceStateHeader: \"tracestate\"\n};\n//# sourceMappingURL=RequestResponseHeaders.js.map","\"use strict\";\nvar fs = require(\"fs\");\nvar os = require(\"os\");\nvar path = require(\"path\");\nvar zlib = require(\"zlib\");\nvar child_process = require(\"child_process\");\nvar Logging = require(\"./Logging\");\nvar AutoCollectHttpDependencies = require(\"../AutoCollection/HttpDependencies\");\nvar Util = require(\"./Util\");\nvar Sender = (function () {\n    function Sender(config, onSuccess, onError) {\n        this._config = config;\n        this._onSuccess = onSuccess;\n        this._onError = onError;\n        this._enableDiskRetryMode = false;\n        this._resendInterval = Sender.WAIT_BETWEEN_RESEND;\n        this._maxBytesOnDisk = Sender.MAX_BYTES_ON_DISK;\n        this._numConsecutiveFailures = 0;\n        if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n            // Node's chmod levels do not appropriately restrict file access on Windows\n            // Use the built-in command line tool ICACLS on Windows to properly restrict\n            // access to the temporary directory used for disk retry mode.\n            if (Sender.USE_ICACLS) {\n                // This should be async - but it's currently safer to have this synchronous\n                // This guarantees we can immediately fail setDiskRetryMode if we need to\n                try {\n                    Sender.OS_PROVIDES_FILE_PROTECTION = fs.existsSync(Sender.ICACLS_PATH);\n                }\n                catch (e) { }\n                if (!Sender.OS_PROVIDES_FILE_PROTECTION) {\n                    Logging.warn(Sender.TAG, \"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.\");\n                }\n            }\n            else {\n                // chmod works everywhere else\n                Sender.OS_PROVIDES_FILE_PROTECTION = true;\n            }\n        }\n    }\n    /**\n    * Enable or disable offline mode\n    */\n    Sender.prototype.setDiskRetryMode = function (value, resendInterval, maxBytesOnDisk) {\n        this._enableDiskRetryMode = Sender.OS_PROVIDES_FILE_PROTECTION && value;\n        if (typeof resendInterval === 'number' && resendInterval >= 0) {\n            this._resendInterval = Math.floor(resendInterval);\n        }\n        if (typeof maxBytesOnDisk === 'number' && maxBytesOnDisk >= 0) {\n            this._maxBytesOnDisk = Math.floor(maxBytesOnDisk);\n        }\n        if (value && !Sender.OS_PROVIDES_FILE_PROTECTION) {\n            this._enableDiskRetryMode = false;\n            Logging.warn(Sender.TAG, \"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected.\");\n        }\n    };\n    Sender.prototype.send = function (payload, callback) {\n        var _this = this;\n        var endpointUrl = this._config.endpointUrl;\n        // todo: investigate specifying an agent here: https://nodejs.org/api/http.html#http_class_http_agent\n        var options = {\n            method: \"POST\",\n            withCredentials: false,\n            headers: {\n                \"Content-Type\": \"application/x-json-stream\"\n            }\n        };\n        zlib.gzip(payload, function (err, buffer) {\n            var dataToSend = buffer;\n            if (err) {\n                Logging.warn(err);\n                dataToSend = payload; // something went wrong so send without gzip\n                options.headers[\"Content-Length\"] = payload.length.toString();\n            }\n            else {\n                options.headers[\"Content-Encoding\"] = \"gzip\";\n                options.headers[\"Content-Length\"] = buffer.length;\n            }\n            Logging.info(Sender.TAG, options);\n            // Ensure this request is not captured by auto-collection.\n            options[AutoCollectHttpDependencies.disableCollectionRequestOption] = true;\n            var requestCallback = function (res) {\n                res.setEncoding(\"utf-8\");\n                //returns empty if the data is accepted\n                var responseString = \"\";\n                res.on(\"data\", function (data) {\n                    responseString += data;\n                });\n                res.on(\"end\", function () {\n                    _this._numConsecutiveFailures = 0;\n                    Logging.info(Sender.TAG, responseString);\n                    if (typeof _this._onSuccess === \"function\") {\n                        _this._onSuccess(responseString);\n                    }\n                    if (typeof callback === \"function\") {\n                        callback(responseString);\n                    }\n                    if (_this._enableDiskRetryMode) {\n                        // try to send any cached events if the user is back online\n                        if (res.statusCode === 200) {\n                            setTimeout(function () { return _this._sendFirstFileOnDisk(); }, _this._resendInterval).unref();\n                            // store to disk in case of burst throttling\n                        }\n                        else if (res.statusCode === 408 ||\n                            res.statusCode === 429 ||\n                            res.statusCode === 439 ||\n                            res.statusCode === 500 ||\n                            res.statusCode === 503) {\n                            // TODO: Do not support partial success (206) until _sendFirstFileOnDisk checks payload age\n                            _this._storeToDisk(payload);\n                        }\n                    }\n                });\n            };\n            var req = Util.makeRequest(_this._config, endpointUrl, options, requestCallback);\n            req.on(\"error\", function (error) {\n                // todo: handle error codes better (group to recoverable/non-recoverable and persist)\n                _this._numConsecutiveFailures++;\n                // Only use warn level if retries are disabled or we've had some number of consecutive failures sending data\n                // This is because warn level is printed in the console by default, and we don't want to be noisy for transient and self-recovering errors\n                // Continue informing on each failure if verbose logging is being used\n                if (!_this._enableDiskRetryMode || _this._numConsecutiveFailures > 0 && _this._numConsecutiveFailures % Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN === 0) {\n                    var notice = \"Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:\";\n                    if (_this._enableDiskRetryMode) {\n                        notice = \"Ingestion endpoint could not be reached \" + _this._numConsecutiveFailures + \" consecutive times. There may be resulting telemetry loss. Most recent error:\";\n                    }\n                    Logging.warn(Sender.TAG, notice, error);\n                }\n                else {\n                    var notice = \"Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:\";\n                    Logging.info(Sender.TAG, notice, error);\n                }\n                _this._onErrorHelper(error);\n                if (typeof callback === \"function\") {\n                    var errorMessage = \"error sending telemetry\";\n                    if (error && (typeof error.toString === \"function\")) {\n                        errorMessage = error.toString();\n                    }\n                    callback(errorMessage);\n                }\n                if (_this._enableDiskRetryMode) {\n                    _this._storeToDisk(payload);\n                }\n            });\n            req.write(dataToSend);\n            req.end();\n        });\n    };\n    Sender.prototype.saveOnCrash = function (payload) {\n        if (this._enableDiskRetryMode) {\n            this._storeToDiskSync(payload);\n        }\n    };\n    Sender.prototype._runICACLS = function (args, callback) {\n        var aclProc = child_process.spawn(Sender.ICACLS_PATH, args, { windowsHide: true });\n        aclProc.on(\"error\", function (e) { return callback(e); });\n        aclProc.on(\"close\", function (code, signal) {\n            return callback(code === 0 ? null : new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + code + \")\"));\n        });\n    };\n    Sender.prototype._runICACLSSync = function (args) {\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var aclProc = child_process.spawnSync(Sender.ICACLS_PATH, args, { windowsHide: true });\n            if (aclProc.error) {\n                throw aclProc.error;\n            }\n            else if (aclProc.status !== 0) {\n                throw new Error(\"Setting ACL restrictions did not succeed (ICACLS returned code \" + aclProc.status + \")\");\n            }\n        }\n        else {\n            throw new Error(\"Could not synchronously call ICACLS under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLIdentity = function (callback) {\n        if (Sender.ACL_IDENTITY) {\n            return callback(null, Sender.ACL_IDENTITY);\n        }\n        var psProc = child_process.spawn(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n            windowsHide: true,\n            stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n        });\n        var data = \"\";\n        psProc.stdout.on(\"data\", function (d) { return data += d; });\n        psProc.on(\"error\", function (e) { return callback(e, null); });\n        psProc.on(\"close\", function (code, signal) {\n            Sender.ACL_IDENTITY = data && data.trim();\n            return callback(code === 0 ? null : new Error(\"Getting ACL identity did not succeed (PS returned code \" + code + \")\"), Sender.ACL_IDENTITY);\n        });\n    };\n    Sender.prototype._getACLIdentitySync = function () {\n        if (Sender.ACL_IDENTITY) {\n            return Sender.ACL_IDENTITY;\n        }\n        // Some very old versions of Node (< 0.11) don't have this\n        if (child_process.spawnSync) {\n            var psProc = child_process.spawnSync(Sender.POWERSHELL_PATH, [\"-Command\", \"[System.Security.Principal.WindowsIdentity]::GetCurrent().Name\"], {\n                windowsHide: true,\n                stdio: ['ignore', 'pipe', 'pipe'] // Needed to prevent hanging on Win 7\n            });\n            if (psProc.error) {\n                throw psProc.error;\n            }\n            else if (psProc.status !== 0) {\n                throw new Error(\"Getting ACL identity did not succeed (PS returned code \" + psProc.status + \")\");\n            }\n            Sender.ACL_IDENTITY = psProc.stdout && psProc.stdout.toString().trim();\n            return Sender.ACL_IDENTITY;\n        }\n        else {\n            throw new Error(\"Could not synchronously get ACL identity under current version of Node.js\");\n        }\n    };\n    Sender.prototype._getACLArguments = function (directory, identity) {\n        return [directory,\n            \"/grant\", \"*S-1-5-32-544:(OI)(CI)F\",\n            \"/grant\", identity + \":(OI)(CI)F\",\n            \"/inheritance:r\"]; // Remove all inherited permissions\n    };\n    Sender.prototype._applyACLRules = function (directory, callback) {\n        var _this = this;\n        if (!Sender.USE_ICACLS) {\n            return callback(null);\n        }\n        // For performance, only run ACL rules if we haven't already during this session\n        if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n            // Avoid multiple calls race condition by setting ACLED_DIRECTORIES to false for this directory immediately\n            // If batches are being failed faster than the processes spawned below return, some data won't be stored to disk\n            // This is better than the alternative of potentially infinitely spawned processes\n            Sender.ACLED_DIRECTORIES[directory] = false;\n            // Restrict this directory to only current user and administrator access\n            this._getACLIdentity(function (err, identity) {\n                if (err) {\n                    Sender.ACLED_DIRECTORIES[directory] = false; // false is used to cache failed (vs undefined which is \"not yet tried\")\n                    return callback(err);\n                }\n                else {\n                    _this._runICACLS(_this._getACLArguments(directory, identity), function (err) {\n                        Sender.ACLED_DIRECTORIES[directory] = !err;\n                        return callback(err);\n                    });\n                }\n            });\n        }\n        else {\n            return callback(Sender.ACLED_DIRECTORIES[directory] ? null :\n                new Error(\"Setting ACL restrictions did not succeed (cached result)\"));\n        }\n    };\n    Sender.prototype._applyACLRulesSync = function (directory) {\n        if (Sender.USE_ICACLS) {\n            // For performance, only run ACL rules if we haven't already during this session\n            if (Sender.ACLED_DIRECTORIES[directory] === undefined) {\n                this._runICACLSSync(this._getACLArguments(directory, this._getACLIdentitySync()));\n                Sender.ACLED_DIRECTORIES[directory] = true; // If we get here, it succeeded. _runIACLSSync will throw on failures\n                return;\n            }\n            else if (!Sender.ACLED_DIRECTORIES[directory]) {\n                throw new Error(\"Setting ACL restrictions did not succeed (cached result)\");\n            }\n        }\n    };\n    Sender.prototype._confirmDirExists = function (directory, callback) {\n        var _this = this;\n        fs.lstat(directory, function (err, stats) {\n            if (err && err.code === 'ENOENT') {\n                fs.mkdir(directory, function (err) {\n                    if (err && err.code !== 'EEXIST') {\n                        callback(err);\n                    }\n                    else {\n                        _this._applyACLRules(directory, callback);\n                    }\n                });\n            }\n            else if (!err && stats.isDirectory()) {\n                _this._applyACLRules(directory, callback);\n            }\n            else {\n                callback(err || new Error(\"Path existed but was not a directory\"));\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Asynchronously.\n     */\n    Sender.prototype._getShallowDirectorySize = function (directory, callback) {\n        // Get the directory listing\n        fs.readdir(directory, function (err, files) {\n            if (err) {\n                return callback(err, -1);\n            }\n            var error = null;\n            var totalSize = 0;\n            var count = 0;\n            if (files.length === 0) {\n                callback(null, 0);\n                return;\n            }\n            // Query all file sizes\n            for (var i = 0; i < files.length; i++) {\n                fs.stat(path.join(directory, files[i]), function (err, fileStats) {\n                    count++;\n                    if (err) {\n                        error = err;\n                    }\n                    else {\n                        if (fileStats.isFile()) {\n                            totalSize += fileStats.size;\n                        }\n                    }\n                    if (count === files.length) {\n                        // Did we get an error?\n                        if (error) {\n                            callback(error, -1);\n                        }\n                        else {\n                            callback(error, totalSize);\n                        }\n                    }\n                });\n            }\n        });\n    };\n    /**\n     * Computes the size (in bytes) of all files in a directory at the root level. Synchronously.\n     */\n    Sender.prototype._getShallowDirectorySizeSync = function (directory) {\n        var files = fs.readdirSync(directory);\n        var totalSize = 0;\n        for (var i = 0; i < files.length; i++) {\n            totalSize += fs.statSync(path.join(directory, files[i])).size;\n        }\n        return totalSize;\n    };\n    /**\n     * Stores the payload as a json file on disk in the temp directory\n     */\n    Sender.prototype._storeToDisk = function (payload) {\n        var _this = this;\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        // This will create the dir if it does not exist\n        // Default permissions on *nix are directory listing from other users but no file creations\n        Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n        this._confirmDirExists(directory, function (error) {\n            if (error) {\n                Logging.warn(Sender.TAG, \"Error while checking/creating directory: \" + (error && error.message));\n                _this._onErrorHelper(error);\n                return;\n            }\n            _this._getShallowDirectorySize(directory, function (err, size) {\n                if (err || size < 0) {\n                    Logging.warn(Sender.TAG, \"Error while checking directory size: \" + (err && err.message));\n                    _this._onErrorHelper(err);\n                    return;\n                }\n                else if (size > _this._maxBytesOnDisk) {\n                    Logging.warn(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + size);\n                    return;\n                }\n                //create file - file name for now is the timestamp, a better approach would be a UUID but that\n                //would require an external dependency\n                var fileName = new Date().getTime() + \".ai.json\";\n                var fileFullPath = path.join(directory, fileName);\n                // Mode 600 is w/r for creator and no read access for others (only applies on *nix)\n                // For Windows, ACL rules are applied to the entire directory (see logic in _confirmDirExists and _applyACLRules)\n                Logging.info(Sender.TAG, \"saving data to disk at: \" + fileFullPath);\n                fs.writeFile(fileFullPath, payload, { mode: 384 }, function (error) { return _this._onErrorHelper(error); });\n            });\n        });\n    };\n    /**\n     * Stores the payload as a json file on disk using sync file operations\n     * this is used when storing data before crashes\n     */\n    Sender.prototype._storeToDiskSync = function (payload) {\n        // tmpdir is /tmp for *nix and USERDIR/AppData/Local/Temp for Windows\n        var directory = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        try {\n            Logging.info(Sender.TAG, \"Checking existance of data storage directory: \" + directory);\n            if (!fs.existsSync(directory)) {\n                fs.mkdirSync(directory);\n            }\n            // Make sure permissions are valid\n            this._applyACLRulesSync(directory);\n            var dirSize = this._getShallowDirectorySizeSync(directory);\n            if (dirSize > this._maxBytesOnDisk) {\n                Logging.info(Sender.TAG, \"Not saving data due to max size limit being met. Directory size in bytes is: \" + dirSize);\n                return;\n            }\n            //create file - file name for now is the timestamp, a better approach would be a UUID but that\n            //would require an external dependency\n            var fileName = new Date().getTime() + \".ai.json\";\n            var fileFullPath = path.join(directory, fileName);\n            // Mode 600 is w/r for creator and no access for anyone else (only applies on *nix)\n            Logging.info(Sender.TAG, \"saving data before crash to disk at: \" + fileFullPath);\n            fs.writeFileSync(fileFullPath, payload, { mode: 384 });\n        }\n        catch (error) {\n            Logging.warn(Sender.TAG, \"Error while saving data to disk: \" + (error && error.message));\n            this._onErrorHelper(error);\n        }\n    };\n    /**\n     * Check for temp telemetry files\n     * reads the first file if exist, deletes it and tries to send its load\n     */\n    Sender.prototype._sendFirstFileOnDisk = function () {\n        var _this = this;\n        var tempDir = path.join(os.tmpdir(), Sender.TEMPDIR_PREFIX + this._config.instrumentationKey);\n        fs.exists(tempDir, function (exists) {\n            if (exists) {\n                fs.readdir(tempDir, function (error, files) {\n                    if (!error) {\n                        files = files.filter(function (f) { return path.basename(f).indexOf(\".ai.json\") > -1; });\n                        if (files.length > 0) {\n                            var firstFile = files[0];\n                            var filePath = path.join(tempDir, firstFile);\n                            fs.readFile(filePath, function (error, payload) {\n                                if (!error) {\n                                    // delete the file first to prevent double sending\n                                    fs.unlink(filePath, function (error) {\n                                        if (!error) {\n                                            _this.send(payload);\n                                        }\n                                        else {\n                                            _this._onErrorHelper(error);\n                                        }\n                                    });\n                                }\n                                else {\n                                    _this._onErrorHelper(error);\n                                }\n                            });\n                        }\n                    }\n                    else {\n                        _this._onErrorHelper(error);\n                    }\n                });\n            }\n        });\n    };\n    Sender.prototype._onErrorHelper = function (error) {\n        if (typeof this._onError === \"function\") {\n            this._onError(error);\n        }\n    };\n    Sender.TAG = \"Sender\";\n    Sender.ICACLS_PATH = process.env.systemdrive + \"/windows/system32/icacls.exe\";\n    Sender.POWERSHELL_PATH = process.env.systemdrive + \"/windows/system32/windowspowershell/v1.0/powershell.exe\";\n    Sender.ACLED_DIRECTORIES = {};\n    Sender.ACL_IDENTITY = null;\n    // the amount of time the SDK will wait between resending cached data, this buffer is to avoid any throtelling from the service side\n    Sender.WAIT_BETWEEN_RESEND = 60 * 1000;\n    Sender.MAX_BYTES_ON_DISK = 50 * 1000 * 1000;\n    Sender.MAX_CONNECTION_FAILURES_BEFORE_WARN = 5;\n    Sender.TEMPDIR_PREFIX = \"appInsights-node\";\n    Sender.OS_PROVIDES_FILE_PROTECTION = false;\n    Sender.USE_ICACLS = os.type() === \"Windows_NT\";\n    return Sender;\n}());\nmodule.exports = Sender;\n//# sourceMappingURL=Sender.js.map","\"use strict\";\nvar url = require(\"url\");\nvar Config = require(\"./Config\");\nvar Context = require(\"./Context\");\nvar Contracts = require(\"../Declarations/Contracts\");\nvar Channel = require(\"./Channel\");\nvar TelemetryProcessors = require(\"../TelemetryProcessors\");\nvar CorrelationContextManager_1 = require(\"../AutoCollection/CorrelationContextManager\");\nvar Sender = require(\"./Sender\");\nvar Util = require(\"./Util\");\nvar Logging = require(\"./Logging\");\nvar EnvelopeFactory = require(\"./EnvelopeFactory\");\n/**\n * Application Insights telemetry client provides interface to track telemetry items, register telemetry initializers and\n * and manually trigger immediate sending (flushing)\n */\nvar TelemetryClient = (function () {\n    /**\n     * Constructs a new client of the client\n     * @param setupString the Connection String or Instrumentation Key to use (read from environment variable if not specified)\n     */\n    function TelemetryClient(setupString) {\n        this._telemetryProcessors = [];\n        var config = new Config(setupString);\n        this.config = config;\n        this.context = new Context();\n        this.commonProperties = {};\n        var sender = new Sender(this.config);\n        this.channel = new Channel(function () { return config.disableAppInsights; }, function () { return config.maxBatchSize; }, function () { return config.maxBatchIntervalMs; }, sender);\n    }\n    /**\n     * Log information about availability of an application\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackAvailability = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Availability);\n    };\n    /**\n     * Log a trace message\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackTrace = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Trace);\n    };\n    /**\n     * Log a numeric value that is not associated with a specific event. Typically used to send regular reports of performance indicators.\n     * To send a single measurement, use just the first two parameters. If you take measurements very frequently, you can reduce the\n     * telemetry bandwidth by aggregating multiple measurements and sending the resulting average at intervals.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackMetric = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Metric);\n    };\n    /**\n     * Log an exception\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackException = function (telemetry) {\n        if (telemetry && telemetry.exception && !Util.isError(telemetry.exception)) {\n            telemetry.exception = new Error(telemetry.exception.toString());\n        }\n        this.track(telemetry, Contracts.TelemetryType.Exception);\n    };\n    /**\n     * Log a user action or other occurrence.\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackEvent = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Event);\n    };\n    /**\n     * Log a request. Note that the default client will attempt to collect HTTP requests automatically so only use this for requests\n     * that aren't automatically captured or if you've disabled automatic request collection.\n     *\n     * @param telemetry      Object encapsulating tracking options\n     */\n    TelemetryClient.prototype.trackRequest = function (telemetry) {\n        this.track(telemetry, Contracts.TelemetryType.Request);\n    };\n    /**\n     * Log a dependency. Note that the default client will attempt to collect dependencies automatically so only use this for dependencies\n     * that aren't automatically captured or if you've disabled automatic dependency collection.\n     *\n     * @param telemetry      Object encapsulating tracking option\n     * */\n    TelemetryClient.prototype.trackDependency = function (telemetry) {\n        if (telemetry && !telemetry.target && telemetry.data) {\n            // url.parse().host returns null for non-urls,\n            // making this essentially a no-op in those cases\n            // If this logic is moved, update jsdoc in DependencyTelemetry.target\n            telemetry.target = url.parse(telemetry.data).host;\n        }\n        this.track(telemetry, Contracts.TelemetryType.Dependency);\n    };\n    /**\n     * Immediately send all queued telemetry.\n     * @param options Flush options, including indicator whether app is crashing and callback\n     */\n    TelemetryClient.prototype.flush = function (options) {\n        this.channel.triggerSend(options ? !!options.isAppCrashing : false, options ? options.callback : undefined);\n    };\n    /**\n     * Generic track method for all telemetry types\n     * @param data the telemetry to send\n     * @param telemetryType specify the type of telemetry you are tracking from the list of Contracts.DataTypes\n     */\n    TelemetryClient.prototype.track = function (telemetry, telemetryType) {\n        if (telemetry && Contracts.telemetryTypeToBaseType(telemetryType)) {\n            var envelope = EnvelopeFactory.createEnvelope(telemetry, telemetryType, this.commonProperties, this.context, this.config);\n            // Set time on the envelope if it was set on the telemetry item\n            if (telemetry.time) {\n                envelope.time = telemetry.time.toISOString();\n            }\n            var accepted = this.runTelemetryProcessors(envelope, telemetry.contextObjects);\n            // Ideally we would have a central place for \"internal\" telemetry processors and users can configure which ones are in use.\n            // This will do for now. Otherwise clearTelemetryProcessors() would be problematic.\n            accepted = accepted && TelemetryProcessors.samplingTelemetryProcessor(envelope, { correlationContext: CorrelationContextManager_1.CorrelationContextManager.getCurrentContext() });\n            TelemetryProcessors.performanceMetricsTelemetryProcessor(envelope, this.quickPulseClient);\n            if (accepted) {\n                this.channel.send(envelope);\n            }\n        }\n        else {\n            Logging.warn(\"track() requires telemetry object and telemetryType to be specified.\");\n        }\n    };\n    /**\n     * Adds telemetry processor to the collection. Telemetry processors will be called one by one\n     * before telemetry item is pushed for sending and in the order they were added.\n     *\n     * @param telemetryProcessor function, takes Envelope, and optional context object and returns boolean\n     */\n    TelemetryClient.prototype.addTelemetryProcessor = function (telemetryProcessor) {\n        this._telemetryProcessors.push(telemetryProcessor);\n    };\n    /*\n     * Removes all telemetry processors\n     */\n    TelemetryClient.prototype.clearTelemetryProcessors = function () {\n        this._telemetryProcessors = [];\n    };\n    TelemetryClient.prototype.runTelemetryProcessors = function (envelope, contextObjects) {\n        var accepted = true;\n        var telemetryProcessorsCount = this._telemetryProcessors.length;\n        if (telemetryProcessorsCount === 0) {\n            return accepted;\n        }\n        contextObjects = contextObjects || {};\n        contextObjects['correlationContext'] = CorrelationContextManager_1.CorrelationContextManager.getCurrentContext();\n        for (var i = 0; i < telemetryProcessorsCount; ++i) {\n            try {\n                var processor = this._telemetryProcessors[i];\n                if (processor) {\n                    if (processor.apply(null, [envelope, contextObjects]) === false) {\n                        accepted = false;\n                        break;\n                    }\n                }\n            }\n            catch (error) {\n                accepted = true;\n                Logging.warn(\"One of telemetry processors failed, telemetry item will be sent.\", error, envelope);\n            }\n        }\n        return accepted;\n    };\n    return TelemetryClient;\n}());\nmodule.exports = TelemetryClient;\n//# sourceMappingURL=TelemetryClient.js.map","\"use strict\";\nvar Util = require(\"./Util\");\nvar CorrelationIdManager = require(\"./CorrelationIdManager\");\n/**\n * Helper class to manage parsing and validation of traceparent header. Also handles hierarchical\n * back-compatibility headers generated from traceparent. W3C traceparent spec is documented at\n * https://www.w3.org/TR/trace-context/#traceparent-field\n */\nvar Traceparent = (function () {\n    function Traceparent(traceparent, parentId) {\n        this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n        this.version = Traceparent.DEFAULT_VERSION;\n        if (traceparent && typeof traceparent === \"string\") {\n            // If incoming request contains traceparent: parse it, set operation, parent and telemetry id accordingly. traceparent should be injected into outgoing requests. request-id should be injected in back-compat format |traceId.spanId. so that older SDKs could understand it.\n            if (traceparent.split(\",\").length > 1) {\n                this.traceId = Util.w3cTraceId();\n                this.spanId = Util.w3cTraceId().substr(0, 16);\n            }\n            else {\n                var traceparentArr = traceparent.trim().split(\"-\");\n                var len = traceparentArr.length;\n                if (len >= 4) {\n                    this.version = traceparentArr[0];\n                    this.traceId = traceparentArr[1];\n                    this.spanId = traceparentArr[2];\n                    this.traceFlag = traceparentArr[3];\n                }\n                else {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                // Version validation\n                if (!this.version.match(/^[0-9a-f]{2}$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                }\n                if (this.version === \"00\" && len !== 4) {\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (this.version === \"ff\") {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                    this.traceId = Util.w3cTraceId();\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                }\n                if (!this.version.match(/^0[0-9a-f]$/g)) {\n                    this.version = Traceparent.DEFAULT_VERSION;\n                }\n                // TraceFlag validation\n                if (!this.traceFlag.match(/^[0-9a-f]{2}$/g)) {\n                    this.traceFlag = Traceparent.DEFAULT_TRACE_FLAG;\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate TraceId, regenerate new traceid if invalid\n                if (!Traceparent.isValidTraceId(this.traceId)) {\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Validate Span Id, discard entire traceparent if invalid\n                if (!Traceparent.isValidSpanId(this.spanId)) {\n                    this.spanId = Util.w3cTraceId().substr(0, 16);\n                    this.traceId = Util.w3cTraceId();\n                }\n                // Save backCompat parentId\n                this.parentId = this.getBackCompatRequestId();\n            }\n        }\n        else if (parentId) {\n            // If incoming request contains only request-id, new traceid and spanid should be started, request-id value should be used as a parent. Root part of request-id should be stored in custom dimension on the request telemetry if root part is different from traceid. On the outgoing request side, request-id should be emitted in the |traceId.spanId. format.\n            this.parentId = parentId.slice(); // copy\n            var operationId = CorrelationIdManager.getRootId(parentId);\n            if (!Traceparent.isValidTraceId(operationId)) {\n                this.legacyRootId = operationId;\n                operationId = Util.w3cTraceId();\n            }\n            if (parentId.indexOf(\"|\") !== -1) {\n                parentId = parentId.substring(1 + parentId.substring(0, parentId.length - 1).lastIndexOf(\".\"), parentId.length - 1);\n            }\n            this.traceId = operationId;\n            this.spanId = parentId;\n        }\n        else {\n            // Fallback default constructor\n            // if request does not contain any correlation headers, see case p2\n            this.traceId = Util.w3cTraceId();\n            this.spanId = Util.w3cTraceId().substr(0, 16);\n        }\n    }\n    Traceparent.isValidTraceId = function (id) {\n        return id.match(/^[0-9a-f]{32}$/) && id !== \"00000000000000000000000000000000\";\n    };\n    Traceparent.isValidSpanId = function (id) {\n        return id.match(/^[0-9a-f]{16}$/) && id !== \"0000000000000000\";\n    };\n    Traceparent.prototype.getBackCompatRequestId = function () {\n        return \"|\" + this.traceId + \".\" + this.spanId + \".\";\n    };\n    Traceparent.prototype.toString = function () {\n        return this.version + \"-\" + this.traceId + \"-\" + this.spanId + \"-\" + this.traceFlag;\n    };\n    Traceparent.prototype.updateSpanId = function () {\n        this.spanId = Util.w3cTraceId().substr(0, 16);\n    };\n    Traceparent.DEFAULT_TRACE_FLAG = \"01\";\n    Traceparent.DEFAULT_VERSION = \"00\";\n    return Traceparent;\n}());\nmodule.exports = Traceparent;\n//# sourceMappingURL=Traceparent.js.map","\"use strict\";\n/**\n * Helper class to manage parsing and strict-validation of tracestate header. W3C tracestate spec\n * is documented at https://www.w3.org/TR/trace-context/#header-value\n * @class Tracestate\n */\nvar Tracestate = (function () {\n    // if true, performs strict tracestate header checking, else just passes it along\n    function Tracestate(id) {\n        this.fieldmap = [];\n        if (!id) {\n            return;\n        }\n        this.fieldmap = this.parseHeader(id);\n    }\n    Tracestate.prototype.toString = function () {\n        var fieldarr = this.fieldmap;\n        if (!fieldarr || fieldarr.length == 0) {\n            return null;\n        }\n        return fieldarr.join(\", \");\n    };\n    Tracestate.validateKeyChars = function (key) {\n        var keyParts = key.split(\"@\");\n        if (keyParts.length == 2) {\n            // Parse for tenant@vendor format\n            var tenant = keyParts[0].trim();\n            var vendor = keyParts[1].trim();\n            var tenantValid = Boolean(tenant.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,241}$/));\n            var vendorValid = Boolean(vendor.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,14}$/));\n            return tenantValid && vendorValid;\n        }\n        else if (keyParts.length == 1) {\n            // Parse for standard key format\n            return Boolean(key.match(/^[\\ ]?[a-z0-9\\*\\-\\_/]{1,256}$/));\n        }\n        return false;\n    };\n    Tracestate.prototype.parseHeader = function (id) {\n        var res = [];\n        var keydeduper = {};\n        var parts = id.split(\",\");\n        if (parts.length > 32)\n            return null;\n        for (var _i = 0, parts_1 = parts; _i < parts_1.length; _i++) {\n            var rawPart = parts_1[_i];\n            var part = rawPart.trim(); // trim out whitespace\n            if (part.length === 0) {\n                continue; // Discard empty pairs, but keep the rest of this tracestate\n            }\n            var pair = part.split(\"=\");\n            // pair should contain exactly one \"=\"\n            if (pair.length !== 2) {\n                return null; // invalid pair: discard entire tracestate\n            }\n            // Validate length and charset of this key\n            if (!Tracestate.validateKeyChars(pair[0])) {\n                return null;\n            }\n            // Assert uniqueness of this key\n            if (keydeduper[pair[0]]) {\n                return null; // duplicate key: discard entire tracestate\n            }\n            else {\n                keydeduper[pair[0]] = true;\n            }\n            // All checks passed -- add this part\n            res.push(part);\n        }\n        return res;\n    };\n    Tracestate.strict = true;\n    return Tracestate;\n}());\nmodule.exports = Tracestate;\n//# sourceMappingURL=Tracestate.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar url = require(\"url\");\nvar constants = require(\"constants\");\nvar Logging = require(\"./Logging\");\nvar RequestResponseHeaders = require(\"./RequestResponseHeaders\");\nvar Util = (function () {\n    function Util() {\n    }\n    /**\n     * helper method to access userId and sessionId cookie\n     */\n    Util.getCookie = function (name, cookie) {\n        var value = \"\";\n        if (name && name.length && typeof cookie === \"string\") {\n            var cookieName = name + \"=\";\n            var cookies = cookie.split(\";\");\n            for (var i = 0; i < cookies.length; i++) {\n                var cookie = cookies[i];\n                cookie = Util.trim(cookie);\n                if (cookie && cookie.indexOf(cookieName) === 0) {\n                    value = cookie.substring(cookieName.length, cookies[i].length);\n                    break;\n                }\n            }\n        }\n        return value;\n    };\n    /**\n     * helper method to trim strings (IE8 does not implement String.prototype.trim)\n     */\n    Util.trim = function (str) {\n        if (typeof str === \"string\") {\n            return str.replace(/^\\s+|\\s+$/g, \"\");\n        }\n        else {\n            return \"\";\n        }\n    };\n    /**\n     * Convert an array of int32 to Base64 (no '==' at the end).\n     * MSB first.\n     */\n    Util.int32ArrayToBase64 = function (array) {\n        var toChar = function (v, i) {\n            return String.fromCharCode((v >> i) & 0xFF);\n        };\n        var int32AsString = function (v) {\n            return toChar(v, 24) + toChar(v, 16) + toChar(v, 8) + toChar(v, 0);\n        };\n        var x = array.map(int32AsString).join(\"\");\n        var b = Buffer.from ? Buffer.from(x, \"binary\") : new Buffer(x, \"binary\");\n        var s = b.toString(\"base64\");\n        return s.substr(0, s.indexOf(\"=\"));\n    };\n    /**\n     * generate a random 32bit number (-0x80000000..0x7FFFFFFF).\n     */\n    Util.random32 = function () {\n        return (0x100000000 * Math.random()) | 0;\n    };\n    /**\n     * generate a random 32bit number (0x00000000..0xFFFFFFFF).\n     */\n    Util.randomu32 = function () {\n        return Util.random32() + 0x80000000;\n    };\n    /**\n     * generate W3C-compatible trace id\n     * https://github.com/w3c/distributed-tracing/blob/master/trace_context/HTTP_HEADER_FORMAT.md#trace-id\n     */\n    Util.w3cTraceId = function () {\n        var hexValues = [\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"a\", \"b\", \"c\", \"d\", \"e\", \"f\"];\n        // rfc4122 version 4 UUID without dashes and with lowercase letters\n        var oct = \"\", tmp;\n        for (var a = 0; a < 4; a++) {\n            tmp = Util.random32();\n            oct +=\n                hexValues[tmp & 0xF] +\n                    hexValues[tmp >> 4 & 0xF] +\n                    hexValues[tmp >> 8 & 0xF] +\n                    hexValues[tmp >> 12 & 0xF] +\n                    hexValues[tmp >> 16 & 0xF] +\n                    hexValues[tmp >> 20 & 0xF] +\n                    hexValues[tmp >> 24 & 0xF] +\n                    hexValues[tmp >> 28 & 0xF];\n        }\n        // \"Set the two most significant bits (bits 6 and 7) of the clock_seq_hi_and_reserved to zero and one, respectively\"\n        var clockSequenceHi = hexValues[8 + (Math.random() * 4) | 0];\n        return oct.substr(0, 8) + oct.substr(9, 4) + \"4\" + oct.substr(13, 3) + clockSequenceHi + oct.substr(16, 3) + oct.substr(19, 12);\n    };\n    Util.isValidW3CId = function (id) {\n        return id.length === 32 && id !== \"00000000000000000000000000000000\";\n    };\n    /**\n     * Check if an object is of type Array\n     */\n    Util.isArray = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Array]\";\n    };\n    /**\n     * Check if an object is of type Error\n     */\n    Util.isError = function (obj) {\n        return obj instanceof Error;\n    };\n    Util.isPrimitive = function (input) {\n        var propType = typeof input;\n        return propType === \"string\" || propType === \"number\" || propType === \"boolean\";\n    };\n    /**\n     * Check if an object is of type Date\n     */\n    Util.isDate = function (obj) {\n        return Object.prototype.toString.call(obj) === \"[object Date]\";\n    };\n    /**\n     * Convert ms to c# time span format\n     */\n    Util.msToTimeSpan = function (totalms) {\n        if (isNaN(totalms) || totalms < 0) {\n            totalms = 0;\n        }\n        var sec = ((totalms / 1000) % 60).toFixed(7).replace(/0{0,4}$/, \"\");\n        var min = \"\" + Math.floor(totalms / (1000 * 60)) % 60;\n        var hour = \"\" + Math.floor(totalms / (1000 * 60 * 60)) % 24;\n        var days = Math.floor(totalms / (1000 * 60 * 60 * 24));\n        sec = sec.indexOf(\".\") < 2 ? \"0\" + sec : sec;\n        min = min.length < 2 ? \"0\" + min : min;\n        hour = hour.length < 2 ? \"0\" + hour : hour;\n        var daysText = days > 0 ? days + \".\" : \"\";\n        return daysText + hour + \":\" + min + \":\" + sec;\n    };\n    /**\n     * Using JSON.stringify, by default Errors do not serialize to something useful:\n     * Simplify a generic Node Error into a simpler map for customDimensions\n     * Custom errors can still implement toJSON to override this functionality\n     */\n    Util.extractError = function (err) {\n        // Error is often subclassed so may have code OR id properties:\n        // https://nodejs.org/api/errors.html#errors_error_code\n        var looseError = err;\n        return {\n            message: err.message,\n            code: looseError.code || looseError.id || \"\",\n        };\n    };\n    /**\n     * Manually call toJSON if available to pre-convert the value.\n     * If a primitive is returned, then the consumer of this function can skip JSON.stringify.\n     * This avoids double escaping of quotes for Date objects, for example.\n     */\n    Util.extractObject = function (origProperty) {\n        if (origProperty instanceof Error) {\n            return Util.extractError(origProperty);\n        }\n        if (typeof origProperty.toJSON === \"function\") {\n            return origProperty.toJSON();\n        }\n        return origProperty;\n    };\n    /**\n     * Validate that an object is of type { [key: string]: string }\n     */\n    Util.validateStringMap = function (obj) {\n        if (typeof obj !== \"object\") {\n            Logging.info(\"Invalid properties dropped from payload\");\n            return;\n        }\n        var map = {};\n        for (var field in obj) {\n            var property = '';\n            var origProperty = obj[field];\n            var propType = typeof origProperty;\n            if (Util.isPrimitive(origProperty)) {\n                property = origProperty.toString();\n            }\n            else if (origProperty === null || propType === \"undefined\") {\n                property = \"\";\n            }\n            else if (propType === \"function\") {\n                Logging.info(\"key: \" + field + \" was function; will not serialize\");\n                continue;\n            }\n            else {\n                var stringTarget = Util.isArray(origProperty) ? origProperty : Util.extractObject(origProperty);\n                try {\n                    if (Util.isPrimitive(stringTarget)) {\n                        property = stringTarget;\n                    }\n                    else {\n                        property = JSON.stringify(stringTarget);\n                    }\n                }\n                catch (e) {\n                    property = origProperty.constructor.name.toString() + \" (Error: \" + e.message + \")\";\n                    Logging.info(\"key: \" + field + \", could not be serialized\");\n                }\n            }\n            map[field] = property.substring(0, Util.MAX_PROPERTY_LENGTH);\n        }\n        return map;\n    };\n    /**\n     * Checks if a request url is not on a excluded domain list\n     * and if it is safe to add correlation headers\n     */\n    Util.canIncludeCorrelationHeader = function (client, requestUrl) {\n        var excludedDomains = client && client.config && client.config.correlationHeaderExcludedDomains;\n        if (!excludedDomains || excludedDomains.length == 0 || !requestUrl) {\n            return true;\n        }\n        for (var i = 0; i < excludedDomains.length; i++) {\n            var regex = new RegExp(excludedDomains[i].replace(/\\./g, \"\\.\").replace(/\\*/g, \".*\"));\n            if (regex.test(url.parse(requestUrl).hostname)) {\n                return false;\n            }\n        }\n        return true;\n    };\n    Util.getCorrelationContextTarget = function (response, key) {\n        var contextHeaders = response.headers && response.headers[RequestResponseHeaders.requestContextHeader];\n        if (contextHeaders) {\n            var keyValues = contextHeaders.split(\",\");\n            for (var i = 0; i < keyValues.length; ++i) {\n                var keyValue = keyValues[i].split(\"=\");\n                if (keyValue.length == 2 && keyValue[0] == key) {\n                    return keyValue[1];\n                }\n            }\n        }\n    };\n    /**\n     * Generate request\n     *\n     * Proxify the request creation to handle proxy http\n     *\n     * @param {string} requestUrl url endpoint\n     * @param {Object} requestOptions Request option\n     * @param {Function} requestCallback callback on request\n     * @returns {http.ClientRequest} request object\n     */\n    Util.makeRequest = function (config, requestUrl, requestOptions, requestCallback) {\n        if (requestUrl && requestUrl.indexOf('//') === 0) {\n            requestUrl = 'https:' + requestUrl;\n        }\n        var requestUrlParsed = url.parse(requestUrl);\n        var options = __assign({}, requestOptions, { host: requestUrlParsed.hostname, port: requestUrlParsed.port, path: requestUrlParsed.pathname });\n        var proxyUrl = undefined;\n        if (requestUrlParsed.protocol === 'https:') {\n            proxyUrl = config.proxyHttpsUrl || undefined;\n        }\n        if (requestUrlParsed.protocol === 'http:') {\n            proxyUrl = config.proxyHttpUrl || undefined;\n        }\n        if (proxyUrl) {\n            if (proxyUrl.indexOf('//') === 0) {\n                proxyUrl = 'http:' + proxyUrl;\n            }\n            var proxyUrlParsed = url.parse(proxyUrl);\n            // https is not supported at the moment\n            if (proxyUrlParsed.protocol === 'https:') {\n                Logging.info(\"Proxies that use HTTPS are not supported\");\n                proxyUrl = undefined;\n            }\n            else {\n                options = __assign({}, options, { host: proxyUrlParsed.hostname, port: proxyUrlParsed.port || \"80\", path: requestUrl, headers: __assign({}, options.headers, { Host: requestUrlParsed.hostname }) });\n            }\n        }\n        var isHttps = requestUrlParsed.protocol === 'https:' && !proxyUrl;\n        if (isHttps && config.httpsAgent !== undefined) {\n            options.agent = config.httpsAgent;\n        }\n        else if (!isHttps && config.httpAgent !== undefined) {\n            options.agent = config.httpAgent;\n        }\n        else if (isHttps) {\n            // HTTPS without a passed in agent. Use one that enforces our TLS rules\n            options.agent = Util.tlsRestrictedAgent;\n        }\n        if (isHttps) {\n            return https.request(options, requestCallback);\n        }\n        else {\n            return http.request(options, requestCallback);\n        }\n    };\n    ;\n    /**\n     * Parse standard <string | string[] | number> request-context header\n     */\n    Util.safeIncludeCorrelationHeader = function (client, request, correlationHeader) {\n        var header; // attempt to cast correlationHeader to string\n        if (typeof correlationHeader === \"string\") {\n            header = correlationHeader;\n        }\n        else if (correlationHeader instanceof Array) {\n            header = correlationHeader.join(\",\");\n        }\n        else if (correlationHeader && typeof correlationHeader.toString === \"function\") {\n            // best effort attempt: requires well-defined toString\n            try {\n                header = correlationHeader.toString();\n            }\n            catch (err) {\n                Logging.warn(\"Outgoing request-context header could not be read. Correlation of requests may be lost.\", err, correlationHeader);\n            }\n        }\n        if (header) {\n            Util.addCorrelationIdHeaderFromString(client, request, header);\n        }\n        else {\n            request.setHeader(RequestResponseHeaders.requestContextHeader, RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.addCorrelationIdHeaderFromString = function (client, response, correlationHeader) {\n        var components = correlationHeader.split(\",\");\n        var key = RequestResponseHeaders.requestContextSourceKey + \"=\";\n        var found = components.some(function (value) { return value.substring(0, key.length) === key; });\n        if (!found) {\n            response.setHeader(RequestResponseHeaders.requestContextHeader, correlationHeader + \",\" + RequestResponseHeaders.requestContextSourceKey + \"=\" + client.config.correlationId);\n        }\n    };\n    Util.MAX_PROPERTY_LENGTH = 8192;\n    Util.tlsRestrictedAgent = new https.Agent({\n        secureOptions: constants.SSL_OP_NO_SSLv2 | constants.SSL_OP_NO_SSLv3 |\n            constants.SSL_OP_NO_TLSv1 | constants.SSL_OP_NO_TLSv1_1\n    });\n    return Util;\n}());\nmodule.exports = Util;\n//# sourceMappingURL=Util.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar AutoCollectPerformance = require(\"../AutoCollection/Performance\");\nvar TelemetryType = require(\"../Declarations/Contracts\");\nfunction performanceMetricsTelemetryProcessor(envelope, client) {\n    // If live metrics is enabled, forward all telemetry there\n    if (client) {\n        client.addDocument(envelope);\n    }\n    // Increment rate counters (for standard metrics and live metrics)\n    switch (envelope.data.baseType) {\n        case TelemetryType.TelemetryTypeString.Exception:\n            AutoCollectPerformance.countException();\n            break;\n        case TelemetryType.TelemetryTypeString.Request:\n            var requestData = envelope.data.baseData;\n            AutoCollectPerformance.countRequest(requestData.duration, requestData.success);\n            break;\n        case TelemetryType.TelemetryTypeString.Dependency:\n            var remoteDependencyData = envelope.data.baseData;\n            AutoCollectPerformance.countDependency(remoteDependencyData.duration, remoteDependencyData.success);\n            break;\n    }\n    return true;\n}\nexports.performanceMetricsTelemetryProcessor = performanceMetricsTelemetryProcessor;\n//# sourceMappingURL=PerformanceMetricsTelemetryProcessor.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Contracts = require(\"../Declarations/Contracts\");\n/**\n *  A telemetry processor that handles sampling.\n */\nfunction samplingTelemetryProcessor(envelope, contextObjects) {\n    var samplingPercentage = envelope.sampleRate; // Set for us in Client.getEnvelope\n    var isSampledIn = false;\n    if (samplingPercentage === null || samplingPercentage === undefined || samplingPercentage >= 100) {\n        return true;\n    }\n    else if (envelope.data && Contracts.TelemetryType.Metric === Contracts.baseTypeToTelemetryType(envelope.data.baseType)) {\n        // Exclude MetricData telemetry from sampling\n        return true;\n    }\n    else if (contextObjects.correlationContext && contextObjects.correlationContext.operation) {\n        // If we're using dependency correlation, sampling should retain all telemetry from a given request\n        isSampledIn = getSamplingHashCode(contextObjects.correlationContext.operation.id) < samplingPercentage;\n    }\n    else {\n        // If we're not using dependency correlation, sampling should use a random distribution on each item\n        isSampledIn = (Math.random() * 100) < samplingPercentage;\n    }\n    return isSampledIn;\n}\nexports.samplingTelemetryProcessor = samplingTelemetryProcessor;\n/** Ported from AI .NET SDK */\nfunction getSamplingHashCode(input) {\n    var csharpMin = -2147483648;\n    var csharpMax = 2147483647;\n    var hash = 5381;\n    if (!input) {\n        return 0;\n    }\n    while (input.length < 8) {\n        input = input + input;\n    }\n    for (var i = 0; i < input.length; i++) {\n        // JS doesn't respond to integer overflow by wrapping around. Simulate it with bitwise operators ( | 0)\n        hash = ((((hash << 5) + hash) | 0) + input.charCodeAt(i) | 0);\n    }\n    hash = hash <= csharpMin ? csharpMax : Math.abs(hash);\n    return (hash / csharpMax) * 100;\n}\nexports.getSamplingHashCode = getSamplingHashCode;\n//# sourceMappingURL=SamplingTelemetryProcessor.js.map","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./SamplingTelemetryProcessor\"));\n__export(require(\"./PerformanceMetricsTelemetryProcessor\"));\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar CorrelationContextManager = require(\"./AutoCollection/CorrelationContextManager\"); // Keep this first\nvar AutoCollectConsole = require(\"./AutoCollection/Console\");\nvar AutoCollectExceptions = require(\"./AutoCollection/Exceptions\");\nvar AutoCollectPerformance = require(\"./AutoCollection/Performance\");\nvar AutoCollectHttpDependencies = require(\"./AutoCollection/HttpDependencies\");\nvar AutoCollectHttpRequests = require(\"./AutoCollection/HttpRequests\");\nvar CorrelationIdManager = require(\"./Library/CorrelationIdManager\");\nvar Logging = require(\"./Library/Logging\");\nvar QuickPulseClient = require(\"./Library/QuickPulseStateManager\");\nvar NativePerformance_1 = require(\"./AutoCollection/NativePerformance\");\n// We export these imports so that SDK users may use these classes directly.\n// They're exposed using \"export import\" so that types are passed along as expected\nexports.TelemetryClient = require(\"./Library/NodeClient\");\nexports.Contracts = require(\"./Declarations/Contracts\");\nvar DistributedTracingModes;\n(function (DistributedTracingModes) {\n    /**\n     * (Default) Send Application Insights correlation headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI\"] = 0] = \"AI\";\n    /**\n     * Send both W3C Trace Context headers and back-compatibility Application Insights headers\n     */\n    DistributedTracingModes[DistributedTracingModes[\"AI_AND_W3C\"] = 1] = \"AI_AND_W3C\";\n})(DistributedTracingModes = exports.DistributedTracingModes || (exports.DistributedTracingModes = {}));\n// Default autocollection configuration\nvar _isConsole = true;\nvar _isConsoleLog = false;\nvar _isExceptions = true;\nvar _isPerformance = true;\nvar _isRequests = true;\nvar _isDependencies = true;\nvar _isDiskRetry = true;\nvar _isCorrelating = true;\nvar _forceClsHooked;\nvar _isSendingLiveMetrics = false; // Off by default\nvar _isNativePerformance = true;\nvar _disabledExtendedMetrics;\nvar _diskRetryInterval = undefined;\nvar _diskRetryMaxBytes = undefined;\nvar _console;\nvar _exceptions;\nvar _performance;\nvar _nativePerformance;\nvar _serverRequests;\nvar _clientRequests;\nvar _isStarted = false;\nvar _performanceLiveMetrics;\n/**\n * Initializes the default client. Should be called after setting\n * configuration options.\n *\n * @param setupString the Connection String or Instrumentation Key to use. Optional, if\n * this is not specified, the value will be read from the environment\n * variable APPLICATIONINSIGHTS_CONNECTION_STRING or APPINSIGHTS_INSTRUMENTATIONKEY.\n * @returns {Configuration} the configuration class to initialize\n * and start the SDK.\n */\nfunction setup(setupString) {\n    if (!exports.defaultClient) {\n        exports.defaultClient = new exports.TelemetryClient(setupString);\n        _console = new AutoCollectConsole(exports.defaultClient);\n        _exceptions = new AutoCollectExceptions(exports.defaultClient);\n        _performance = new AutoCollectPerformance(exports.defaultClient);\n        _serverRequests = new AutoCollectHttpRequests(exports.defaultClient);\n        _clientRequests = new AutoCollectHttpDependencies(exports.defaultClient);\n        if (!_nativePerformance) {\n            _nativePerformance = new NativePerformance_1.AutoCollectNativePerformance(exports.defaultClient);\n        }\n    }\n    else {\n        Logging.info(\"The default client is already setup\");\n    }\n    if (exports.defaultClient && exports.defaultClient.channel) {\n        exports.defaultClient.channel.setUseDiskRetryCaching(_isDiskRetry, _diskRetryInterval, _diskRetryMaxBytes);\n    }\n    return Configuration;\n}\nexports.setup = setup;\n/**\n * Starts automatic collection of telemetry. Prior to calling start no\n * telemetry will be *automatically* collected, though manual collection\n * is enabled.\n * @returns {ApplicationInsights} this class\n */\nfunction start() {\n    if (!!exports.defaultClient) {\n        _isStarted = true;\n        _console.enable(_isConsole, _isConsoleLog);\n        _exceptions.enable(_isExceptions);\n        _performance.enable(_isPerformance);\n        _nativePerformance.enable(_isNativePerformance, _disabledExtendedMetrics);\n        _serverRequests.useAutoCorrelation(_isCorrelating, _forceClsHooked);\n        _serverRequests.enable(_isRequests);\n        _clientRequests.enable(_isDependencies);\n        if (exports.liveMetricsClient && _isSendingLiveMetrics) {\n            exports.liveMetricsClient.enable(_isSendingLiveMetrics);\n        }\n    }\n    else {\n        Logging.warn(\"Start cannot be called before setup\");\n    }\n    return Configuration;\n}\nexports.start = start;\n/**\n * Returns an object that is shared across all code handling a given request.\n * This can be used similarly to thread-local storage in other languages.\n * Properties set on this object will be available to telemetry processors.\n *\n * Do not store sensitive information here.\n * Custom properties set on this object can be exposed in a future SDK\n * release via outgoing HTTP headers.\n * This is to allow for correlating data cross-component.\n *\n * This method will return null if automatic dependency correlation is disabled.\n * @returns A plain object for request storage or null if automatic dependency correlation is disabled.\n */\nfunction getCorrelationContext() {\n    if (_isCorrelating) {\n        return CorrelationContextManager.CorrelationContextManager.getCurrentContext();\n    }\n    return null;\n}\nexports.getCorrelationContext = getCorrelationContext;\n/**\n * Returns a function that will get the same correlation context within its\n * function body as the code executing this function.\n * Use this method if automatic dependency correlation is not propagating\n * correctly to an asynchronous callback.\n */\nfunction wrapWithCorrelationContext(fn) {\n    return CorrelationContextManager.CorrelationContextManager.wrapCallback(fn);\n}\nexports.wrapWithCorrelationContext = wrapWithCorrelationContext;\n/**\n * The active configuration for global SDK behaviors, such as autocollection.\n */\nvar Configuration = (function () {\n    function Configuration() {\n    }\n    /**\n     * Sets the distributed tracing modes. If W3C mode is enabled, W3C trace context\n     * headers (traceparent/tracestate) will be parsed in all incoming requests, and included in outgoing\n     * requests. In W3C mode, existing back-compatibility AI headers will also be parsed and included.\n     * Enabling W3C mode will not break existing correlation with other Application Insights instrumented\n     * services. Default=AI\n    */\n    Configuration.setDistributedTracingMode = function (value) {\n        CorrelationIdManager.w3cEnabled = value === DistributedTracingModes.AI_AND_W3C;\n        return Configuration;\n    };\n    /**\n     * Sets the state of console and logger tracking (enabled by default for third-party loggers only)\n     * @param value if true logger activity will be sent to Application Insights\n     * @param collectConsoleLog if true, logger autocollection will include console.log calls (default false)\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectConsole = function (value, collectConsoleLog) {\n        if (collectConsoleLog === void 0) { collectConsoleLog = false; }\n        _isConsole = value;\n        _isConsoleLog = collectConsoleLog;\n        if (_isStarted) {\n            _console.enable(value, collectConsoleLog);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of exception tracking (enabled by default)\n     * @param value if true uncaught exceptions will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectExceptions = function (value) {\n        _isExceptions = value;\n        if (_isStarted) {\n            _exceptions.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of performance tracking (enabled by default)\n     * @param value if true performance counters will be collected every second and sent to Application Insights\n     * @param collectExtendedMetrics if true, extended metrics counters will be collected every minute and sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectPerformance = function (value, collectExtendedMetrics) {\n        if (collectExtendedMetrics === void 0) { collectExtendedMetrics = true; }\n        _isPerformance = value;\n        var extendedMetricsConfig = NativePerformance_1.AutoCollectNativePerformance.parseEnabled(collectExtendedMetrics);\n        _isNativePerformance = extendedMetricsConfig.isEnabled;\n        _disabledExtendedMetrics = extendedMetricsConfig.disabledMetrics;\n        if (_isStarted) {\n            _performance.enable(value);\n            _nativePerformance.enable(extendedMetricsConfig.isEnabled, extendedMetricsConfig.disabledMetrics);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of request tracking (enabled by default)\n     * @param value if true requests will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectRequests = function (value) {\n        _isRequests = value;\n        if (_isStarted) {\n            _serverRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of dependency tracking (enabled by default)\n     * @param value if true dependencies will be sent to Application Insights\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoCollectDependencies = function (value) {\n        _isDependencies = value;\n        if (_isStarted) {\n            _clientRequests.enable(value);\n        }\n        return Configuration;\n    };\n    /**\n     * Sets the state of automatic dependency correlation (enabled by default)\n     * @param value if true dependencies will be correlated with requests\n     * @param useAsyncHooks if true, forces use of experimental async_hooks module to provide correlation. If false, instead uses only patching-based techniques. If left blank, the best option is chosen for you based on your version of Node.js.\n     * @returns {Configuration} this class\n     */\n    Configuration.setAutoDependencyCorrelation = function (value, useAsyncHooks) {\n        _isCorrelating = value;\n        _forceClsHooked = useAsyncHooks;\n        if (_isStarted) {\n            _serverRequests.useAutoCorrelation(value, useAsyncHooks);\n        }\n        return Configuration;\n    };\n    /**\n     * Enable or disable disk-backed retry caching to cache events when client is offline (enabled by default)\n     * Note that this method only applies to the default client. Disk-backed retry caching is disabled by default for additional clients.\n     * For enable for additional clients, use client.channel.setUseDiskRetryCaching(true).\n     * These cached events are stored in your system or user's temporary directory and access restricted to your user when possible.\n     * @param value if true events that occured while client is offline will be cached on disk\n     * @param resendInterval The wait interval for resending cached events.\n     * @param maxBytesOnDisk The maximum size (in bytes) that the created temporary directory for cache events can grow to, before caching is disabled.\n     * @returns {Configuration} this class\n     */\n    Configuration.setUseDiskRetryCaching = function (value, resendInterval, maxBytesOnDisk) {\n        _isDiskRetry = value;\n        _diskRetryInterval = resendInterval;\n        _diskRetryMaxBytes = maxBytesOnDisk;\n        if (exports.defaultClient && exports.defaultClient.channel) {\n            exports.defaultClient.channel.setUseDiskRetryCaching(value, resendInterval, maxBytesOnDisk);\n        }\n        return Configuration;\n    };\n    /**\n     * Enables debug and warning logging for AppInsights itself.\n     * @param enableDebugLogging if true, enables debug logging\n     * @param enableWarningLogging if true, enables warning logging\n     * @returns {Configuration} this class\n     */\n    Configuration.setInternalLogging = function (enableDebugLogging, enableWarningLogging) {\n        if (enableDebugLogging === void 0) { enableDebugLogging = false; }\n        if (enableWarningLogging === void 0) { enableWarningLogging = true; }\n        Logging.enableDebug = enableDebugLogging;\n        Logging.disableWarnings = !enableWarningLogging;\n        return Configuration;\n    };\n    /**\n     * Enables communication with Application Insights Live Metrics.\n     * @param enable if true, enables communication with the live metrics service\n     */\n    Configuration.setSendLiveMetrics = function (enable) {\n        if (enable === void 0) { enable = false; }\n        if (!exports.defaultClient) {\n            // Need a defaultClient so that we can add the QPS telemetry processor to it\n            Logging.warn(\"Live metrics client cannot be setup without the default client\");\n            return Configuration;\n        }\n        if (!exports.liveMetricsClient && enable) {\n            // No qps client exists. Create one and prepare it to be enabled at .start()\n            exports.liveMetricsClient = new QuickPulseClient(exports.defaultClient.config.instrumentationKey);\n            _performanceLiveMetrics = new AutoCollectPerformance(exports.liveMetricsClient, 1000, true);\n            exports.liveMetricsClient.addCollector(_performanceLiveMetrics);\n            exports.defaultClient.quickPulseClient = exports.liveMetricsClient; // Need this so we can forward all manual tracks to live metrics via PerformanceMetricsTelemetryProcessor\n        }\n        else if (exports.liveMetricsClient) {\n            // qps client already exists; enable/disable it\n            exports.liveMetricsClient.enable(enable);\n        }\n        _isSendingLiveMetrics = enable;\n        return Configuration;\n    };\n    // Convenience shortcut to ApplicationInsights.start\n    Configuration.start = start;\n    return Configuration;\n}());\nexports.Configuration = Configuration;\n/**\n * Disposes the default client and all the auto collectors so they can be reinitialized with different configuration\n*/\nfunction dispose() {\n    exports.defaultClient = null;\n    _isStarted = false;\n    if (_console) {\n        _console.dispose();\n    }\n    if (_exceptions) {\n        _exceptions.dispose();\n    }\n    if (_performance) {\n        _performance.dispose();\n    }\n    if (_nativePerformance) {\n        _nativePerformance.dispose();\n    }\n    if (_serverRequests) {\n        _serverRequests.dispose();\n    }\n    if (_clientRequests) {\n        _clientRequests.dispose();\n    }\n    if (exports.liveMetricsClient) {\n        exports.liveMetricsClient.enable(false);\n        _isSendingLiveMetrics = false;\n        exports.liveMetricsClient = undefined;\n    }\n}\nexports.dispose = dispose;\n//# sourceMappingURL=applicationinsights.js.map","'use strict';\n\nconst asyncWrap = process.binding('async_wrap');\nconst TIMERWRAP = asyncWrap.Providers.TIMERWRAP;\n\nconst patchs = {\n  'nextTick': require('./patches/next-tick.js'),\n  'promise': require('./patches/promise.js'),\n  'timers': require('./patches/timers.js')\n};\n\nconst ignoreUIDs = new Set();\n\nfunction State() {\n  this.enabled = false;\n  this.counter = 0;\n}\n\nfunction Hooks() {\n  const initFns = this.initFns = [];\n  const preFns = this.preFns = [];\n  const postFns = this.postFns = [];\n  const destroyFns = this.destroyFns = [];\n\n  this.init = function (uid, provider, parentUid, parentHandle) {\n    // Ignore TIMERWRAP, since setTimeout etc. is monkey patched\n    if (provider === TIMERWRAP) {\n      ignoreUIDs.add(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of initFns) {\n      hook(uid, this, provider, parentUid, parentHandle);\n    }\n  };\n\n  this.pre = function (uid) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of preFns) {\n      hook(uid, this);\n    }\n  };\n\n  this.post = function (uid, didThrow) {\n    if (ignoreUIDs.has(uid)) return;\n\n    // call hooks\n    for (const hook of postFns) {\n      hook(uid, this, didThrow);\n    }\n  };\n\n  this.destroy = function (uid) {\n    // Cleanup the ignore list if this uid should be ignored\n    if (ignoreUIDs.has(uid)) {\n      ignoreUIDs.delete(uid);\n      return;\n    }\n\n    // call hooks\n    for (const hook of destroyFns) {\n      hook(uid);\n    }\n  };\n}\n\nHooks.prototype.add = function (hooks) {\n  if (hooks.init) this.initFns.push(hooks.init);\n  if (hooks.pre) this.preFns.push(hooks.pre);\n  if (hooks.post) this.postFns.push(hooks.post);\n  if (hooks.destroy) this.destroyFns.push(hooks.destroy);\n};\n\nfunction removeElement(array, item) {\n  const index = array.indexOf(item);\n  if (index === -1) return;\n  array.splice(index, 1);\n}\n\nHooks.prototype.remove = function (hooks) {\n  if (hooks.init) removeElement(this.initFns, hooks.init);\n  if (hooks.pre) removeElement(this.preFns, hooks.pre);\n  if (hooks.post) removeElement(this.postFns, hooks.post);\n  if (hooks.destroy) removeElement(this.destroyFns, hooks.destroy);\n};\n\nfunction AsyncHook() {\n  this._state = new State();\n  this._hooks = new Hooks();\n\n  // expose version for conflict detection\n  this.version = require('./package.json').version;\n\n  // expose the Providers map\n  this.providers = asyncWrap.Providers;\n\n  // apply patches\n  for (const key of Object.keys(patchs)) {\n    patchs[key].call(this);\n  }\n\n  // setup async wrap\n  if (process.env.hasOwnProperty('NODE_ASYNC_HOOK_WARNING')) {\n    console.warn('warning: you are using async-hook-jl which is unstable.');\n  }\n  asyncWrap.setupHooks({\n    init: this._hooks.init,\n    pre: this._hooks.pre,\n    post: this._hooks.post,\n    destroy: this._hooks.destroy\n  });\n}\nmodule.exports = AsyncHook;\n\nAsyncHook.prototype.addHooks = function (hooks) {\n  this._hooks.add(hooks);\n};\n\nAsyncHook.prototype.removeHooks = function (hooks) {\n  this._hooks.remove(hooks);\n};\n\nAsyncHook.prototype.enable = function () {\n  this._state.enabled = true;\n  asyncWrap.enable();\n};\n\nAsyncHook.prototype.disable = function () {\n  this._state.enabled = false;\n  asyncWrap.disable();\n};","'use strict';\n\nconst AsyncHook = require('./async-hook.js');\n\n// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._asyncHook) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._asyncHook.version === require('./package.json').version) {\n    module.exports = global._asyncHook;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of async-hook-jl found');\n  }\n} else {\n  const stackChain = require('stack-chain');\n\n  // Remove callSites from this module. AsyncWrap doesn't have any callSites\n  // and the hooks are expected to be completely transparent.\n  stackChain.filter.attach(function (error, frames) {\n    return frames.filter(function (callSite) {\n      const filename = callSite.getFileName();\n      // filename is not always a string, for example in case of eval it is\n      // undefined. So check if the filename is defined.\n      return !(filename && filename.slice(0, __dirname.length) === __dirname);\n    });\n  });\n\n  module.exports = global._asyncHook = new AsyncHook();\n}","'use strict';\n\nfunction NextTickWrap() {}\n\nmodule.exports = function patch() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const oldNextTick = process.nextTick;\n  process.nextTick = function () {\n    if (!state.enabled) return oldNextTick.apply(process, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('callback is not a function');\n    }\n\n    const handle = new NextTickWrap();\n    const uid = --state.counter;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if(didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            hooks.post.call(handle, uid, true);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      hooks.destroy.call(null, uid);\n    };\n\n    return oldNextTick.apply(process, args);\n  };\n}\n","'use strict';\n\nfunction PromiseWrap() {}\n\nmodule.exports = function patchPromise() {\n  const hooks = this._hooks;\n  const state = this._state;\n\n  const Promise = global.Promise;\n\n  /* As per ECMAScript 2015, .catch must be implemented by calling .then, as\n   * such we need needn't patch .catch as well. see:\n   * http://www.ecma-international.org/ecma-262/6.0/#sec-promise.prototype.catch\n   */\n  const oldThen = Promise.prototype.then;\n  Promise.prototype.then = wrappedThen;\n\n  function makeWrappedHandler(fn, handle, uid, isOnFulfilled) {\n    if ('function' !== typeof fn) {\n      return isOnFulfilled\n        ? makeUnhandledResolutionHandler(uid)\n        : makeUnhandledRejectionHandler(uid);\n    }\n\n    return function wrappedHandler() {\n      hooks.pre.call(handle, uid);\n      try {\n        return fn.apply(this, arguments);\n      } finally {\n        hooks.post.call(handle, uid, false);\n        hooks.destroy.call(null, uid);\n      }\n    };\n  }\n\n  function makeUnhandledResolutionHandler(uid) {\n    return function unhandledResolutionHandler(val) {\n      hooks.destroy.call(null, uid);\n      return val;\n    };\n  }\n\n  function makeUnhandledRejectionHandler(uid) {\n    return function unhandledRejectedHandler(val) {\n      hooks.destroy.call(null, uid);\n      throw val;\n    };\n  }\n\n  function wrappedThen(onFulfilled, onRejected) {\n    if (!state.enabled) return oldThen.call(this, onFulfilled, onRejected);\n\n    const handle = new PromiseWrap();\n    const uid = --state.counter;\n\n    hooks.init.call(handle, uid, 0, null, null);\n\n    return oldThen.call(\n      this,\n      makeWrappedHandler(onFulfilled, handle, uid, true),\n      makeWrappedHandler(onRejected, handle, uid, false)\n    );\n  }\n};\n","'use strict';\n\nconst timers = require('timers');\n\nfunction TimeoutWrap() {}\nfunction IntervalWrap() {}\nfunction ImmediateWrap() {}\n\nconst timeoutMap = new Map();\nconst intervalMap = new Map();\nconst ImmediateMap = new Map();\n\nlet activeCallback = null;\nlet clearedInCallback = false;\n\nmodule.exports = function patch() {\n  patchTimer(this._hooks, this._state, 'setTimeout', 'clearTimeout', TimeoutWrap, timeoutMap, true);\n  patchTimer(this._hooks, this._state, 'setInterval', 'clearInterval', IntervalWrap, intervalMap, false);\n  patchTimer(this._hooks, this._state, 'setImmediate', 'clearImmediate', ImmediateWrap, ImmediateMap, true);\n\n  global.setTimeout = timers.setTimeout;\n  global.setInterval = timers.setInterval;\n  global.setImmediate = timers.setImmediate;\n\n  global.clearTimeout = timers.clearTimeout;\n  global.clearInterval = timers.clearInterval;\n  global.clearImmediate = timers.clearImmediate;\n};\n\nfunction patchTimer(hooks, state, setFn, clearFn, Handle, timerMap, singleCall) {\n  const oldSetFn = timers[setFn];\n  const oldClearFn = timers[clearFn];\n\n  // overwrite set[Timeout]\n  timers[setFn] = function () {\n    if (!state.enabled) return oldSetFn.apply(timers, arguments);\n\n    const args = new Array(arguments.length);\n    for (let i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n    const callback = args[0];\n\n    if (typeof callback !== 'function') {\n      throw new TypeError('\"callback\" argument must be a function');\n    }\n\n    const handle = new Handle();\n    const uid = --state.counter;\n    let timerId = undefined;\n\n    // call the init hook\n    hooks.init.call(handle, uid, 0, null, null);\n\n    // overwrite callback\n    args[0] = function () {\n      // call the pre hook\n      activeCallback = timerId;\n      hooks.pre.call(handle, uid);\n\n      let didThrow = true;\n      try {\n        callback.apply(this, arguments);\n        didThrow = false;\n      } finally {\n        // If `callback` threw and there is an uncaughtException handler\n        // then call the `post` and `destroy` hook after the uncaughtException\n        // user handlers have been invoked.\n        if (didThrow && process.listenerCount('uncaughtException') > 0) {\n          process.once('uncaughtException', function () {\n            // call the post hook\n            hooks.post.call(handle, uid, true);\n            // setInterval won't continue\n            timerMap.delete(timerId);\n            hooks.destroy.call(null, uid);\n          });\n        }\n      }\n\n      // callback done successfully\n      hooks.post.call(handle, uid, false);\n      activeCallback = null;\n\n      // call the destroy hook if the callback will only be called once\n      if (singleCall || clearedInCallback) {\n        clearedInCallback = false;\n        timerMap.delete(timerId);\n        hooks.destroy.call(null, uid);\n      }\n    };\n\n    timerId = oldSetFn.apply(timers, args);\n    // Bind the timerId and uid for later use, in case the clear* function is\n    // called.\n    timerMap.set(timerId, uid);\n\n    return timerId;\n  };\n\n  // overwrite clear[Timeout]\n  timers[clearFn] = function (timerId) {\n    // If clear* was called within the timer callback, then delay the destroy\n    // event to after the post event has been called.\n    if (activeCallback === timerId && timerId !== null) {\n      clearedInCallback = true;\n    }\n    // clear should call the destroy hook. Note if timerId doesn't exists\n    // it is because asyncWrap wasn't enabled at the time.\n    else if (timerMap.has(timerId)) {\n      const uid = timerMap.get(timerId);\n      timerMap.delete(timerId);\n      hooks.destroy.call(null, uid);\n    }\n\n    oldClearFn.apply(timers, arguments);\n  };\n}\n","'use strict';\n\nmodule.exports = (Promise, ensureAslWrapper) => {\n  // Updates to this class should also be applied to the the ES3 version\n  // in index.js.\n  return class WrappedPromise extends Promise {\n    constructor(executor) {\n      var context, args;\n      super(wrappedExecutor);\n      var promise = this;\n\n      try {\n        executor.apply(context, args);\n      } catch (err) {\n        args[1](err);\n      }\n\n      return promise;\n      function wrappedExecutor(resolve, reject) {\n        context = this;\n        args = [wrappedResolve, wrappedReject];\n\n        // These wrappers create a function that can be passed a function and an argument to\n        // call as a continuation from the resolve or reject.\n        function wrappedResolve(val) {\n          ensureAslWrapper(promise, false);\n          return resolve(val);\n        }\n\n        function wrappedReject(val) {\n          ensureAslWrapper(promise, false);\n          return reject(val);\n        }\n      }\n    }\n  }\n};\n","var wrap = require('shimmer').wrap;\n\n/*\n *\n * CONSTANTS\n *\n */\nvar HAS_CREATE_AL = 1 << 0;\nvar HAS_BEFORE_AL = 1 << 1;\nvar HAS_AFTER_AL = 1 << 2;\nvar HAS_ERROR_AL = 1 << 3;\n\n/**\n * There is one list of currently active listeners that is mutated in place by\n * addAsyncListener and removeAsyncListener. This complicates error-handling,\n * for reasons that are discussed below.\n */\nvar listeners = [];\n\n/**\n * There can be multiple listeners with the same properties, so disambiguate\n * them by assigning them an ID at creation time.\n */\nvar uid = 0;\n\n/**\n * Ensure that errors coming from within listeners are handed off to domains,\n * process._fatalException, or uncaughtException without being treated like\n * user errors.\n */\nvar inAsyncTick = false;\n\n/**\n * Because asynchronous contexts can be nested, and errors can come from anywhere\n * in the stack, a little extra work is required to keep track of where in the\n * nesting we are. Because JS arrays are frequently mutated in place\n */\nvar listenerStack = [];\n\n/**\n * The error handler on a listener can capture errors thrown during synchronous\n * execution immediately after the listener is added. To capture both\n * synchronous and asynchronous errors, the error handler just uses the\n * \"global\" list of active listeners, and the rest of the code ensures that the\n * listener list is correct by using a stack of listener lists during\n * asynchronous execution.\n */\nvar asyncCatcher;\n\n/**\n * The guts of the system -- called each time an asynchronous event happens\n * while one or more listeners are active.\n */\nvar asyncWrap;\n\n/**\n * Simple helper function that's probably faster than using Array\n * filter methods and can be inlined.\n */\nfunction union(dest, added) {\n  var destLength = dest.length;\n  var addedLength = added.length;\n  var returned = [];\n\n  if (destLength === 0 && addedLength === 0) return returned;\n\n  for (var j  = 0; j < destLength; j++) returned[j] = dest[j];\n\n  if (addedLength === 0) return returned;\n\n  for (var i = 0; i < addedLength; i++) {\n    var missing = true;\n    for (j = 0; j < destLength; j++) {\n      if (dest[j].uid === added[i].uid) {\n        missing = false;\n        break;\n      }\n    }\n    if (missing) returned.push(added[i]);\n  }\n\n  return returned;\n}\n\n/*\n * For performance, split error-handlers and asyncCatcher up into two separate\n * code paths.\n */\n\n// 0.9+\nif (process._fatalException) {\n  /**\n   * Error handlers on listeners can throw, the catcher needs to be able to\n   * discriminate between exceptions thrown by user code, and exceptions coming\n   * from within the catcher itself. Use a global to keep track of which state\n   * the catcher is currently in.\n   */\n  var inErrorTick = false;\n\n  /**\n   * Throwing always happens synchronously. If the current array of values for\n   * the current list of asyncListeners is put in a module-scoped variable right\n   * before a call that can throw, it will always be correct when the error\n   * handlers are run.\n   */\n  var errorValues;\n\n  asyncCatcher = function asyncCatcher(er) {\n    var length = listeners.length;\n    if (inErrorTick || length === 0) return false;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    inErrorTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n\n      var value = errorValues && errorValues[listener.uid];\n      handled = listener.error(value, er) || handled;\n    }\n    inErrorTick = false;\n\n    /* Test whether there are any listener arrays on the stack. In the case of\n     * synchronous throws when the listener is active, there may have been\n     * none pushed yet.\n     */\n    if (listenerStack.length > 0) listeners = listenerStack.pop();\n    errorValues = undefined;\n\n    return handled && !inAsyncTick;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      // put the current values where the catcher can see them\n      errorValues = values;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned = original.apply(this, arguments);\n\n      /*\n       * after handlers (not run if original throws)\n       */\n      inAsyncTick = true;\n      for (i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_AFTER_AL) > 0) {\n          list[i].after(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // back to the previous listener list on the stack\n      listeners = listenerStack.pop();\n      errorValues = undefined;\n\n      return returned;\n    };\n  };\n\n  wrap(process, '_fatalException', function (_fatalException) {\n    return function _asyncFatalException(er) {\n      return asyncCatcher(er) || _fatalException(er);\n    };\n  });\n}\n// 0.8 and below\nelse {\n  /**\n   * If an error handler in asyncWrap throws, the process must die. Under 0.8\n   * and earlier the only way to put a bullet through the head of the process\n   * is to rethrow from inside the exception handler, so rethrow and set\n   * errorThrew to tell the uncaughtHandler what to do.\n   */\n  var errorThrew = false;\n\n  /**\n   * Under Node 0.8, this handler *only* handles synchronously thrown errors.\n   * This simplifies it, which almost but not quite makes up for the hit taken\n   * by putting everything in a try-catch.\n   */\n  asyncCatcher = function uncaughtCatcher(er) {\n    // going down hard\n    if (errorThrew) throw er;\n\n    var handled = false;\n\n    /*\n     * error handlers\n     */\n    var length = listeners.length;\n    for (var i = 0; i < length; ++i) {\n      var listener = listeners[i];\n      if ((listener.flags & HAS_ERROR_AL) === 0) continue;\n      handled = listener.error(null, er) || handled;\n    }\n\n    /* Rethrow if one of the before / after handlers fire, which will bring the\n     * process down immediately.\n     */\n    if (!handled && inAsyncTick) throw er;\n  };\n\n  asyncWrap = function asyncWrap(original, list, length) {\n    var values = [];\n\n    /*\n     * listeners\n     */\n    inAsyncTick = true;\n    for (var i = 0; i < length; ++i) {\n      var listener = list[i];\n      values[listener.uid] = listener.data;\n\n      if ((listener.flags & HAS_CREATE_AL) === 0) continue;\n\n      var value = listener.create(listener.data);\n      if (value !== undefined) values[listener.uid] = value;\n    }\n    inAsyncTick = false;\n\n    /* One of the main differences between this polyfill and the core\n     * asyncListener support is that core avoids creating closures by putting a\n     * lot of the state managemnt on the C++ side of Node (and of course also it\n     * bakes support for async listeners into the Node C++ API through the\n     * AsyncWrap class, which means that it doesn't monkeypatch basically every\n     * async method like this does).\n     */\n    return function () {\n      /*jshint maxdepth:4*/\n\n      // after() handlers don't run if threw\n      var threw = false;\n\n      // ...unless the error is handled\n      var handled = false;\n\n      /* More than one listener can end up inside these closures, so save the\n       * current listeners on a stack.\n       */\n      listenerStack.push(listeners);\n\n      /* Activate both the listeners that were active when the closure was\n       * created and the listeners that were previously active.\n       */\n      listeners = union(list, listeners);\n\n      /*\n       * before handlers\n       */\n      inAsyncTick = true;\n      for (var i = 0; i < length; ++i) {\n        if ((list[i].flags & HAS_BEFORE_AL) > 0) {\n          list[i].before(this, values[list[i].uid]);\n        }\n      }\n      inAsyncTick = false;\n\n      // save the return value to pass to the after callbacks\n      var returned;\n      try {\n        returned = original.apply(this, arguments);\n      }\n      catch (er) {\n        threw = true;\n        for (var i = 0; i < length; ++i) {\n          if ((listeners[i].flags & HAS_ERROR_AL) == 0) continue;\n          try {\n            handled = listeners[i].error(values[list[i].uid], er) || handled;\n          }\n          catch (x) {\n            errorThrew = true;\n            throw x;\n          }\n        }\n\n        if (!handled) {\n          // having an uncaughtException handler here alters crash semantics\n          process.removeListener('uncaughtException', asyncCatcher);\n          process._originalNextTick(function () {\n            process.addListener('uncaughtException', asyncCatcher);\n          });\n\n          throw er;\n        }\n      }\n      finally {\n        /*\n         * after handlers (not run if original throws)\n         */\n        if (!threw || handled) {\n          inAsyncTick = true;\n          for (i = 0; i < length; ++i) {\n            if ((list[i].flags & HAS_AFTER_AL) > 0) {\n              list[i].after(this, values[list[i].uid]);\n            }\n          }\n          inAsyncTick = false;\n        }\n\n        // back to the previous listener list on the stack\n        listeners = listenerStack.pop();\n      }\n\n\n      return returned;\n    };\n  };\n\n  // will be the first to fire if async-listener is the first module loaded\n  process.addListener('uncaughtException', asyncCatcher);\n}\n\n// for performance in the case where there are no handlers, just the listener\nfunction simpleWrap(original, list, length) {\n  inAsyncTick = true;\n  for (var i = 0; i < length; ++i) {\n    var listener = list[i];\n    if (listener.create) listener.create(listener.data);\n  }\n  inAsyncTick = false;\n\n  // still need to make sure nested async calls are made in the context\n  // of the listeners active at their creation\n  return function () {\n    listenerStack.push(listeners);\n    listeners = union(list, listeners);\n\n    var returned = original.apply(this, arguments);\n\n    listeners = listenerStack.pop();\n\n    return returned;\n  };\n}\n\n/**\n * Called each time an asynchronous function that's been monkeypatched in\n * index.js is called. If there are no listeners, return the function\n * unwrapped.  If there are any asyncListeners and any of them have callbacks,\n * pass them off to asyncWrap for later use, otherwise just call the listener.\n */\nfunction wrapCallback(original) {\n  var length = listeners.length;\n\n  // no context to capture, so avoid closure creation\n  if (length === 0) return original;\n\n  // capture the active listeners as of when the wrapped function was called\n  var list = listeners.slice();\n\n  for (var i = 0; i < length; ++i) {\n    if (list[i].flags > 0) return asyncWrap(original, list, length);\n  }\n\n  return simpleWrap(original, list, length);\n}\n\nfunction AsyncListener(callbacks, data) {\n  if (typeof callbacks.create === 'function') {\n    this.create = callbacks.create;\n    this.flags |= HAS_CREATE_AL;\n  }\n\n  if (typeof callbacks.before === 'function') {\n    this.before = callbacks.before;\n    this.flags |= HAS_BEFORE_AL;\n  }\n\n  if (typeof callbacks.after === 'function') {\n    this.after = callbacks.after;\n    this.flags |= HAS_AFTER_AL;\n  }\n\n  if (typeof callbacks.error === 'function') {\n    this.error = callbacks.error;\n    this.flags |= HAS_ERROR_AL;\n  }\n\n  this.uid = ++uid;\n  this.data = data === undefined ? null : data;\n}\nAsyncListener.prototype.create = undefined;\nAsyncListener.prototype.before = undefined;\nAsyncListener.prototype.after  = undefined;\nAsyncListener.prototype.error  = undefined;\nAsyncListener.prototype.data   = undefined;\nAsyncListener.prototype.uid    = 0;\nAsyncListener.prototype.flags  = 0;\n\nfunction createAsyncListener(callbacks, data) {\n  if (typeof callbacks !== 'object' || !callbacks) {\n    throw new TypeError('callbacks argument must be an object');\n  }\n\n  if (callbacks instanceof AsyncListener) {\n    return callbacks;\n  }\n  else {\n    return new AsyncListener(callbacks, data);\n  }\n}\n\nfunction addAsyncListener(callbacks, data) {\n  var listener;\n  if (!(callbacks instanceof AsyncListener)) {\n    listener = createAsyncListener(callbacks, data);\n  }\n  else {\n    listener = callbacks;\n  }\n\n  // Make sure the listener isn't already in the list.\n  var registered = false;\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      registered = true;\n      break;\n    }\n  }\n\n  if (!registered) listeners.push(listener);\n\n  return listener;\n}\n\nfunction removeAsyncListener(listener) {\n  for (var i = 0; i < listeners.length; i++) {\n    if (listener === listeners[i]) {\n      listeners.splice(i, 1);\n      break;\n    }\n  }\n}\n\nprocess.createAsyncListener = createAsyncListener;\nprocess.addAsyncListener    = addAsyncListener;\nprocess.removeAsyncListener = removeAsyncListener;\n\nmodule.exports = wrapCallback;\n","'use strict';\n\nif (process.addAsyncListener) throw new Error(\"Don't require polyfill unless needed\");\n\nvar shimmer      = require('shimmer')\n  , semver       = require('semver')\n  , wrap         = shimmer.wrap\n  , massWrap     = shimmer.massWrap\n  , wrapCallback = require('./glue.js')\n  , util         = require('util')\n  ;\n\nvar v6plus = semver.gte(process.version, '6.0.0');\nvar v7plus = semver.gte(process.version, '7.0.0');\nvar v8plus = semver.gte(process.version, '8.0.0');\nvar v11plus = semver.gte(process.version, '11.0.0');\n\nvar net = require('net');\n\n// From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\nif (v7plus && !net._normalizeArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2017/03/09\n  net._normalizeArgs = function (args) {\n    if (args.length === 0) {\n      return [{}, null];\n    }\n\n    var arg0 = args[0];\n    var options = {};\n    if (typeof arg0 === 'object' && arg0 !== null) {\n      // (options[...][, cb])\n      options = arg0;\n    } else if (isPipeName(arg0)) {\n      // (path[...][, cb])\n      options.path = arg0;\n    } else {\n      // ([port][, host][...][, cb])\n      options.port = arg0;\n      if (args.length > 1 && typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    if (typeof cb !== 'function')\n      return [options, null];\n    else\n      return [options, cb];\n  }\n} else if (!v7plus && !net._normalizeConnectArgs) {\n  // a polyfill in our polyfill etc so forth -- taken from node master on 2013/10/30\n  net._normalizeConnectArgs = function (args) {\n    var options = {};\n\n    function toNumber(x) { return (x = Number(x)) >= 0 ? x : false; }\n\n    if (typeof args[0] === 'object' && args[0] !== null) {\n      // connect(options, [cb])\n      options = args[0];\n    }\n    else if (typeof args[0] === 'string' && toNumber(args[0]) === false) {\n      // connect(path, [cb]);\n      options.path = args[0];\n    }\n    else {\n      // connect(port, [host], [cb])\n      options.port = args[0];\n      if (typeof args[1] === 'string') {\n        options.host = args[1];\n      }\n    }\n\n    var cb = args[args.length - 1];\n    return typeof cb === 'function' ? [options, cb] : [options];\n  };\n}\n\n// In https://github.com/nodejs/node/pull/11796 `_listen2` was renamed\n// `_setUpListenHandle`. It's still aliased as `_listen2`, and currently the\n// Node internals still call the alias - but who knows for how long. So better\n// make sure we use the new name instead if available.\nif ('_setUpListenHandle' in net.Server.prototype) {\n  wrap(net.Server.prototype, '_setUpListenHandle', wrapSetUpListenHandle);\n} else {\n  wrap(net.Server.prototype, '_listen2', wrapSetUpListenHandle);\n}\n\nfunction wrapSetUpListenHandle(original) {\n  return function () {\n    this.on('connection', function (socket) {\n      if (socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n      }\n    });\n\n    try {\n      return original.apply(this, arguments);\n    }\n    finally {\n      // the handle will only not be set in cases where there has been an error\n      if (this._handle && this._handle.onconnection) {\n        this._handle.onconnection = wrapCallback(this._handle.onconnection);\n      }\n    }\n  };\n}\n\nfunction patchOnRead(ctx) {\n  if (ctx && ctx._handle) {\n    var handle = ctx._handle;\n    if (!handle._originalOnread) {\n      handle._originalOnread = handle.onread;\n    }\n    handle.onread = wrapCallback(handle._originalOnread);\n  }\n}\n\nwrap(net.Socket.prototype, 'connect', function (original) {\n  return function () {\n    var args;\n    // Node core uses an internal Symbol here to guard against the edge-case\n    // where the user accidentally passes in an array. As we don't have access\n    // to this Symbol we resort to this hack where we just detect if there is a\n    // symbol or not. Checking for the number of Symbols is by no means a fool\n    // proof solution, but it catches the most basic cases.\n    if (v8plus &&\n        Array.isArray(arguments[0]) &&\n        Object.getOwnPropertySymbols(arguments[0]).length > 0) {\n      // already normalized\n      args = arguments[0];\n    } else {\n      // From Node.js v7.0.0, net._normalizeConnectArgs have been renamed net._normalizeArgs\n      args = v7plus\n        ? net._normalizeArgs(arguments)\n        : net._normalizeConnectArgs(arguments);\n    }\n    if (args[1]) args[1] = wrapCallback(args[1]);\n    var result = original.apply(this, args);\n    patchOnRead(this);\n    return result;\n  };\n});\n\nvar http = require('http');\n\n// NOTE: A rewrite occurred in 0.11 that changed the addRequest signature\n// from (req, host, port, localAddress) to (req, options)\n// Here, I use the longer signature to maintain 0.10 support, even though\n// the rest of the arguments aren't actually used\nwrap(http.Agent.prototype, 'addRequest', function (original) {\n  return function (req) {\n    var onSocket = req.onSocket;\n    req.onSocket = wrapCallback(function (socket) {\n      patchOnRead(socket);\n      return onSocket.apply(this, arguments);\n    });\n    return original.apply(this, arguments);\n  };\n});\n\nvar childProcess = require('child_process');\n\nfunction wrapChildProcess(child) {\n  if (Array.isArray(child.stdio)) {\n    child.stdio.forEach(function (socket) {\n      if (socket && socket._handle) {\n        socket._handle.onread = wrapCallback(socket._handle.onread);\n        wrap(socket._handle, 'close', activatorFirst);\n      }\n    });\n  }\n\n  if (child._handle) {\n    child._handle.onexit = wrapCallback(child._handle.onexit);\n  }\n}\n\n// iojs v2.0.0+\nif (childProcess.ChildProcess) {\n  wrap(childProcess.ChildProcess.prototype, 'spawn', function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(this);\n      return result;\n    };\n  });\n} else {\n  massWrap(childProcess, [\n    'execFile', // exec is implemented in terms of execFile\n    'fork',\n    'spawn'\n  ], function (original) {\n    return function () {\n      var result = original.apply(this, arguments);\n      wrapChildProcess(result);\n      return result;\n    };\n  });\n}\n\n// need unwrapped nextTick for use within < 0.9 async error handling\nif (!process._fatalException) {\n  process._originalNextTick = process.nextTick;\n}\n\nvar processors = [];\nif (process._nextDomainTick) processors.push('_nextDomainTick');\nif (process._tickDomainCallback) processors.push('_tickDomainCallback');\n\nmassWrap(\n  process,\n  processors,\n  activator\n);\nwrap(process, 'nextTick', activatorFirst);\n\nvar asynchronizers = [\n  'setTimeout',\n  'setInterval'\n];\nif (global.setImmediate) asynchronizers.push('setImmediate');\n\nvar timers = require('timers');\nvar patchGlobalTimers = global.setTimeout === timers.setTimeout;\n\nmassWrap(\n  timers,\n  asynchronizers,\n  activatorFirst\n);\n\nif (patchGlobalTimers) {\n  massWrap(\n    global,\n    asynchronizers,\n    activatorFirst\n  );\n}\n\nvar dns = require('dns');\nmassWrap(\n  dns,\n  [\n    'lookup',\n    'resolve',\n    'resolve4',\n    'resolve6',\n    'resolveCname',\n    'resolveMx',\n    'resolveNs',\n    'resolveTxt',\n    'resolveSrv',\n    'reverse'\n  ],\n  activator\n);\n\nif (dns.resolveNaptr) wrap(dns, 'resolveNaptr', activator);\n\nvar fs = require('fs');\nmassWrap(\n  fs,\n  [\n    'watch',\n    'rename',\n    'truncate',\n    'chown',\n    'fchown',\n    'chmod',\n    'fchmod',\n    'stat',\n    'lstat',\n    'fstat',\n    'link',\n    'symlink',\n    'readlink',\n    'realpath',\n    'unlink',\n    'rmdir',\n    'mkdir',\n    'readdir',\n    'close',\n    'open',\n    'utimes',\n    'futimes',\n    'fsync',\n    'write',\n    'read',\n    'readFile',\n    'writeFile',\n    'appendFile',\n    'watchFile',\n    'unwatchFile',\n    \"exists\",\n  ],\n  activator\n);\n\n// only wrap lchown and lchmod on systems that have them.\nif (fs.lchown) wrap(fs, 'lchown', activator);\nif (fs.lchmod) wrap(fs, 'lchmod', activator);\n\n// only wrap ftruncate in versions of node that have it\nif (fs.ftruncate) wrap(fs, 'ftruncate', activator);\n\n// Wrap zlib streams\nvar zlib;\ntry { zlib = require('zlib'); } catch (err) { }\nif (zlib && zlib.Deflate && zlib.Deflate.prototype) {\n  var proto = Object.getPrototypeOf(zlib.Deflate.prototype);\n  if (proto._transform) {\n    // streams2\n    wrap(proto, \"_transform\", activator);\n  }\n  else if (proto.write && proto.flush && proto.end) {\n    // plain ol' streams\n    massWrap(\n      proto,\n      [\n        'write',\n        'flush',\n        'end'\n      ],\n      activator\n    );\n  }\n}\n\n// Wrap Crypto\nvar crypto;\ntry { crypto = require('crypto'); } catch (err) { }\nif (crypto) {\n\n  var toWrap = [\n      'pbkdf2',\n      'randomBytes',\n  ];\n  if (!v11plus) {\n    toWrap.push('pseudoRandomBytes');\n  }\n\n  massWrap(crypto, toWrap, activator);\n}\n\n// It is unlikely that any userspace promise implementations have a native\n// implementation of both Promise and Promise.toString.\nvar instrumentPromise = !!global.Promise &&\n    Promise.toString() === 'function Promise() { [native code] }' &&\n    Promise.toString.toString() === 'function toString() { [native code] }';\n\n// Check that global Promise is native\nif (instrumentPromise) {\n  // shoult not use any methods that have already been wrapped\n  var promiseListener = process.addAsyncListener({\n    create: function create() {\n      instrumentPromise = false;\n    }\n  });\n\n  // should not resolve synchronously\n  global.Promise.resolve(true).then(function notSync() {\n    instrumentPromise = false;\n  });\n\n  process.removeAsyncListener(promiseListener);\n}\n\n/*\n * Native promises use the microtask queue to make all callbacks run\n * asynchronously to avoid Zalgo issues. Since the microtask queue is not\n * exposed externally, promises need to be modified in a fairly invasive and\n * complex way.\n *\n * The async boundary in promises that must be patched is between the\n * fulfillment of the promise and the execution of any callback that is waiting\n * for that fulfillment to happen. This means that we need to trigger a create\n * when resolve or reject is called and trigger before, after and error handlers\n * around the callback execution. There may be multiple callbacks for each\n * fulfilled promise, so handlers will behave similar to setInterval where\n * there may be multiple before after and error calls for each create call.\n *\n * async-listener monkeypatching has one basic entry point: `wrapCallback`.\n * `wrapCallback` should be called when create should be triggered and be\n * passed a function to wrap, which will execute the body of the async work.\n * The resolve and reject calls can be modified fairly easily to call\n * `wrapCallback`, but at the time of resolve and reject all the work to be done\n * on fulfillment may not be defined, since a call to then, chain or fetch can\n * be made even after the promise has been fulfilled. To get around this, we\n * create a placeholder function which will call a function passed into it,\n * since the call to the main work is being made from within the wrapped\n * function, async-listener will work correctly.\n *\n * There is another complication with monkeypatching Promises. Calls to then,\n * chain and catch each create new Promises that are fulfilled internally in\n * different ways depending on the return value of the callback. When the\n * callback return a Promise, the new Promise is resolved asynchronously after\n * the returned Promise has been also been resolved. When something other than\n * a promise is resolved the resolve call for the new Promise is put in the\n * microtask queue and asynchronously resolved.\n *\n * Then must be wrapped so that its returned promise has a wrapper that can be\n * used to invoke further continuations. This wrapper cannot be created until\n * after the callback has run, since the callback may return either a promise\n * or another value. Fortunately we already have a wrapper function around the\n * callback we can use (the wrapper created by resolve or reject).\n *\n * By adding an additional argument to this wrapper, we can pass in the\n * returned promise so it can have its own wrapper appended. the wrapper\n * function can the call the callback, and take action based on the return\n * value. If a promise is returned, the new Promise can proxy the returned\n * Promise's wrapper (this wrapper may not exist yet, but will by the time the\n * wrapper needs to be invoked). Otherwise, a new wrapper can be create the\n * same way as in resolve and reject. Since this wrapper is created\n * synchronously within another wrapper, it will properly appear as a\n * continuation from within the callback.\n */\n\nif (instrumentPromise) {\n  wrapPromise();\n}\n\nfunction wrapPromise() {\n  var Promise = global.Promise;\n\n  // Updates to this class should also be applied to the the ES6 version\n  // in es6-wrapped-promise.js.\n  function wrappedPromise(executor) {\n    if (!(this instanceof wrappedPromise)) {\n      return Promise(executor);\n    }\n\n    if (typeof executor !== 'function') {\n      return new Promise(executor);\n    }\n\n    var context, args;\n    var promise = new Promise(wrappedExecutor);\n    promise.__proto__ = wrappedPromise.prototype;\n\n    try {\n      executor.apply(context, args);\n    } catch (err) {\n      args[1](err);\n    }\n\n    return promise;\n\n    function wrappedExecutor(resolve, reject) {\n      context = this;\n      args = [wrappedResolve, wrappedReject];\n\n      // These wrappers create a function that can be passed a function and an argument to\n      // call as a continuation from the resolve or reject.\n      function wrappedResolve(val) {\n        ensureAslWrapper(promise, false);\n        return resolve(val);\n      }\n\n      function wrappedReject(val) {\n        ensureAslWrapper(promise, false);\n        return reject(val);\n      }\n    }\n  }\n\n  util.inherits(wrappedPromise, Promise);\n\n  wrap(Promise.prototype, 'then', wrapThen);\n  // Node.js <v7 only, alias for .then\n  if (Promise.prototype.chain) {\n    wrap(Promise.prototype, 'chain', wrapThen);\n  }\n\n  if (v6plus) {\n    global.Promise = require('./es6-wrapped-promise.js')(Promise, ensureAslWrapper);\n  } else {\n    var PromiseFunctions = [\n      'all',\n      'race',\n      'reject',\n      'resolve',\n      'accept',  // Node.js <v7 only\n      'defer'    // Node.js <v7 only\n    ];\n\n    PromiseFunctions.forEach(function(key) {\n      // don't break `in` by creating a key for undefined entries\n      if (typeof Promise[key] === 'function') {\n        wrappedPromise[key] = Promise[key];\n      }\n    });\n    global.Promise = wrappedPromise\n  }\n\n  function ensureAslWrapper(promise, overwrite) {\n    if (!promise.__asl_wrapper || overwrite) {\n      promise.__asl_wrapper = wrapCallback(propagateAslWrapper);\n    }\n  }\n\n  function propagateAslWrapper(ctx, fn, result, next) {\n    var nextResult;\n    try {\n      nextResult = fn.call(ctx, result);\n      return {returnVal: nextResult, error: false}\n    } catch (err) {\n      return {errorVal: err, error: true}\n    } finally {\n      // Wrap any resulting futures as continuations.\n      if (nextResult instanceof Promise) {\n        next.__asl_wrapper = function proxyWrapper() {\n          var aslWrapper = nextResult.__asl_wrapper || propagateAslWrapper;\n          return aslWrapper.apply(this, arguments);\n        }\n      } else {\n        ensureAslWrapper(next, true);\n      }\n    }\n  }\n\n  function wrapThen(original) {\n    return function wrappedThen() {\n      var promise = this;\n      var next = original.apply(promise, Array.prototype.map.call(arguments, bind));\n\n      next.__asl_wrapper = function proxyWrapper(ctx, fn, val, last) {\n        if (promise.__asl_wrapper) {\n          promise.__asl_wrapper(ctx, function () {}, null, next);\n          return next.__asl_wrapper(ctx, fn, val, last);\n        }\n        return propagateAslWrapper(ctx, fn, val, last);\n      }\n\n      return next;\n\n      // wrap callbacks (success, error) so that the callbacks will be called as a\n      // continuations of the resolve or reject call using the __asl_wrapper created above.\n      function bind(fn) {\n        if (typeof fn !== 'function') return fn;\n        return wrapCallback(function (val) {\n          var result = (promise.__asl_wrapper || propagateAslWrapper)(this, fn, val, next);\n          if (result.error) {\n            throw result.errorVal\n          } else {\n            return result.returnVal\n          }\n        });\n      }\n    }\n  }\n}\n\n// Shim activator for functions that have callback last\nfunction activator(fn) {\n  var fallback = function () {\n    var args;\n    var cbIdx = arguments.length - 1;\n    if (typeof arguments[cbIdx] === \"function\") {\n      args = Array(arguments.length)\n      for (var i = 0; i < arguments.length - 1; i++) {\n        args[i] = arguments[i];\n      }\n      args[cbIdx] = wrapCallback(arguments[cbIdx]);\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (a, cb) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, cb);\n      };\n    case 3:\n      return function (a, b, cb) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, cb);\n      };\n    case 4:\n      return function (a, b, c, cb) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, cb);\n      };\n    case 5:\n      return function (a, b, c, d, cb) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, cb);\n      };\n    case 6:\n      return function (a, b, c, d, e, cb) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, a, b, c, d, e, cb);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// Shim activator for functions that have callback first\nfunction activatorFirst(fn) {\n  var fallback = function () {\n    var args;\n    if (typeof arguments[0] === \"function\") {\n      args = Array(arguments.length)\n      args[0] = wrapCallback(arguments[0]);\n      for (var i = 1; i < arguments.length; i++) {\n        args[i] = arguments[i];\n      }\n    }\n    return fn.apply(this, args || arguments);\n  };\n  // Preserve function length for small arg count functions.\n  switch (fn.length) {\n    case 1:\n      return function (cb) {\n        if (arguments.length !== 1) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb);\n      };\n    case 2:\n      return function (cb, a) {\n        if (arguments.length !== 2) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a);\n      };\n    case 3:\n      return function (cb, a, b) {\n        if (arguments.length !== 3) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b);\n      };\n    case 4:\n      return function (cb, a, b, c) {\n        if (arguments.length !== 4) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c);\n      };\n    case 5:\n      return function (cb, a, b, c, d) {\n        if (arguments.length !== 5) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d);\n      };\n    case 6:\n      return function (cb, a, b, c, d, e) {\n        if (arguments.length !== 6) return fallback.apply(this, arguments);\n        if (typeof cb === \"function\") cb = wrapCallback(cb);\n        return fn.call(this, cb, a, b, c, d, e);\n      };\n    default:\n      return fallback;\n  }\n}\n\n// taken from node master on 2017/03/09\nfunction toNumber(x) {\n  return (x = Number(x)) >= 0 ? x : false;\n}\n\n// taken from node master on 2017/03/09\nfunction isPipeName(s) {\n  return typeof s === 'string' && toNumber(s) === false;\n}\n","'use strict';\n\nconst stringify = require('./lib/stringify');\nconst compile = require('./lib/compile');\nconst expand = require('./lib/expand');\nconst parse = require('./lib/parse');\n\n/**\n * Expand the given pattern or create a regex-compatible string.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces('{a,b,c}', { compile: true })); //=> ['(a|b|c)']\n * console.log(braces('{a,b,c}')); //=> ['a', 'b', 'c']\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {String}\n * @api public\n */\n\nconst braces = (input, options = {}) => {\n  let output = [];\n\n  if (Array.isArray(input)) {\n    for (let pattern of input) {\n      let result = braces.create(pattern, options);\n      if (Array.isArray(result)) {\n        output.push(...result);\n      } else {\n        output.push(result);\n      }\n    }\n  } else {\n    output = [].concat(braces.create(input, options));\n  }\n\n  if (options && options.expand === true && options.nodupes === true) {\n    output = [...new Set(output)];\n  }\n  return output;\n};\n\n/**\n * Parse the given `str` with the given `options`.\n *\n * ```js\n * // braces.parse(pattern, [, options]);\n * const ast = braces.parse('a/{b,c}/d');\n * console.log(ast);\n * ```\n * @param {String} pattern Brace pattern to parse\n * @param {Object} options\n * @return {Object} Returns an AST\n * @api public\n */\n\nbraces.parse = (input, options = {}) => parse(input, options);\n\n/**\n * Creates a braces string from an AST, or an AST node.\n *\n * ```js\n * const braces = require('braces');\n * let ast = braces.parse('foo/{a,b}/bar');\n * console.log(stringify(ast.nodes[2])); //=> '{a,b}'\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.stringify = (input, options = {}) => {\n  if (typeof input === 'string') {\n    return stringify(braces.parse(input, options), options);\n  }\n  return stringify(input, options);\n};\n\n/**\n * Compiles a brace pattern into a regex-compatible, optimized string.\n * This method is called by the main [braces](#braces) function by default.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.compile('a/{b,c}/d'));\n * //=> ['a/(b|c)/d']\n * ```\n * @param {String} `input` Brace pattern or AST.\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.compile = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n  return compile(input, options);\n};\n\n/**\n * Expands a brace pattern into an array. This method is called by the\n * main [braces](#braces) function when `options.expand` is true. Before\n * using this method it's recommended that you read the [performance notes](#performance))\n * and advantages of using [.compile](#compile) instead.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.expand('a/{b,c}/d'));\n * //=> ['a/b/d', 'a/c/d'];\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.expand = (input, options = {}) => {\n  if (typeof input === 'string') {\n    input = braces.parse(input, options);\n  }\n\n  let result = expand(input, options);\n\n  // filter out empty strings if specified\n  if (options.noempty === true) {\n    result = result.filter(Boolean);\n  }\n\n  // filter out duplicates if specified\n  if (options.nodupes === true) {\n    result = [...new Set(result)];\n  }\n\n  return result;\n};\n\n/**\n * Processes a brace pattern and returns either an expanded array\n * (if `options.expand` is true), a highly optimized regex-compatible string.\n * This method is called by the main [braces](#braces) function.\n *\n * ```js\n * const braces = require('braces');\n * console.log(braces.create('user-{200..300}/project-{a,b,c}-{1..10}'))\n * //=> 'user-(20[0-9]|2[1-9][0-9]|300)/project-(a|b|c)-([1-9]|10)'\n * ```\n * @param {String} `pattern` Brace pattern\n * @param {Object} `options`\n * @return {Array} Returns an array of expanded values.\n * @api public\n */\n\nbraces.create = (input, options = {}) => {\n  if (input === '' || input.length < 3) {\n    return [input];\n  }\n\n return options.expand !== true\n    ? braces.compile(input, options)\n    : braces.expand(input, options);\n};\n\n/**\n * Expose \"braces\"\n */\n\nmodule.exports = braces;\n","'use strict';\n\nconst fill = require('fill-range');\nconst utils = require('./utils');\n\nconst compile = (ast, options = {}) => {\n  let walk = (node, parent = {}) => {\n    let invalidBlock = utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let invalid = invalidBlock === true || invalidNode === true;\n    let prefix = options.escapeInvalid === true ? '\\\\' : '';\n    let output = '';\n\n    if (node.isOpen === true) {\n      return prefix + node.value;\n    }\n    if (node.isClose === true) {\n      return prefix + node.value;\n    }\n\n    if (node.type === 'open') {\n      return invalid ? (prefix + node.value) : '(';\n    }\n\n    if (node.type === 'close') {\n      return invalid ? (prefix + node.value) : ')';\n    }\n\n    if (node.type === 'comma') {\n      return node.prev.type === 'comma' ? '' : (invalid ? node.value : '|');\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n      let range = fill(...args, { ...options, wrap: false, toRegex: true });\n\n      if (range.length !== 0) {\n        return args.length > 1 && range.length > 1 ? `(${range})` : range;\n      }\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += walk(child, node);\n      }\n    }\n    return output;\n  };\n\n  return walk(ast);\n};\n\nmodule.exports = compile;\n","'use strict';\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n\n  // Digits\n  CHAR_0: '0', /* 0 */\n  CHAR_9: '9', /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 'A', /* A */\n  CHAR_LOWERCASE_A: 'a', /* a */\n  CHAR_UPPERCASE_Z: 'Z', /* Z */\n  CHAR_LOWERCASE_Z: 'z', /* z */\n\n  CHAR_LEFT_PARENTHESES: '(', /* ( */\n  CHAR_RIGHT_PARENTHESES: ')', /* ) */\n\n  CHAR_ASTERISK: '*', /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: '&', /* & */\n  CHAR_AT: '@', /* @ */\n  CHAR_BACKSLASH: '\\\\', /* \\ */\n  CHAR_BACKTICK: '`', /* ` */\n  CHAR_CARRIAGE_RETURN: '\\r', /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: '^', /* ^ */\n  CHAR_COLON: ':', /* : */\n  CHAR_COMMA: ',', /* , */\n  CHAR_DOLLAR: '$', /* . */\n  CHAR_DOT: '.', /* . */\n  CHAR_DOUBLE_QUOTE: '\"', /* \" */\n  CHAR_EQUAL: '=', /* = */\n  CHAR_EXCLAMATION_MARK: '!', /* ! */\n  CHAR_FORM_FEED: '\\f', /* \\f */\n  CHAR_FORWARD_SLASH: '/', /* / */\n  CHAR_HASH: '#', /* # */\n  CHAR_HYPHEN_MINUS: '-', /* - */\n  CHAR_LEFT_ANGLE_BRACKET: '<', /* < */\n  CHAR_LEFT_CURLY_BRACE: '{', /* { */\n  CHAR_LEFT_SQUARE_BRACKET: '[', /* [ */\n  CHAR_LINE_FEED: '\\n', /* \\n */\n  CHAR_NO_BREAK_SPACE: '\\u00A0', /* \\u00A0 */\n  CHAR_PERCENT: '%', /* % */\n  CHAR_PLUS: '+', /* + */\n  CHAR_QUESTION_MARK: '?', /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: '>', /* > */\n  CHAR_RIGHT_CURLY_BRACE: '}', /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: ']', /* ] */\n  CHAR_SEMICOLON: ';', /* ; */\n  CHAR_SINGLE_QUOTE: '\\'', /* ' */\n  CHAR_SPACE: ' ', /*   */\n  CHAR_TAB: '\\t', /* \\t */\n  CHAR_UNDERSCORE: '_', /* _ */\n  CHAR_VERTICAL_LINE: '|', /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: '\\uFEFF' /* \\uFEFF */\n};\n","'use strict';\n\nconst fill = require('fill-range');\nconst stringify = require('./stringify');\nconst utils = require('./utils');\n\nconst append = (queue = '', stash = '', enclose = false) => {\n  let result = [];\n\n  queue = [].concat(queue);\n  stash = [].concat(stash);\n\n  if (!stash.length) return queue;\n  if (!queue.length) {\n    return enclose ? utils.flatten(stash).map(ele => `{${ele}}`) : stash;\n  }\n\n  for (let item of queue) {\n    if (Array.isArray(item)) {\n      for (let value of item) {\n        result.push(append(value, stash, enclose));\n      }\n    } else {\n      for (let ele of stash) {\n        if (enclose === true && typeof ele === 'string') ele = `{${ele}}`;\n        result.push(Array.isArray(ele) ? append(item, ele, enclose) : (item + ele));\n      }\n    }\n  }\n  return utils.flatten(result);\n};\n\nconst expand = (ast, options = {}) => {\n  let rangeLimit = options.rangeLimit === void 0 ? 1000 : options.rangeLimit;\n\n  let walk = (node, parent = {}) => {\n    node.queue = [];\n\n    let p = parent;\n    let q = parent.queue;\n\n    while (p.type !== 'brace' && p.type !== 'root' && p.parent) {\n      p = p.parent;\n      q = p.queue;\n    }\n\n    if (node.invalid || node.dollar) {\n      q.push(append(q.pop(), stringify(node, options)));\n      return;\n    }\n\n    if (node.type === 'brace' && node.invalid !== true && node.nodes.length === 2) {\n      q.push(append(q.pop(), ['{}']));\n      return;\n    }\n\n    if (node.nodes && node.ranges > 0) {\n      let args = utils.reduce(node.nodes);\n\n      if (utils.exceedsLimit(...args, options.step, rangeLimit)) {\n        throw new RangeError('expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.');\n      }\n\n      let range = fill(...args, options);\n      if (range.length === 0) {\n        range = stringify(node, options);\n      }\n\n      q.push(append(q.pop(), range));\n      node.nodes = [];\n      return;\n    }\n\n    let enclose = utils.encloseBrace(node);\n    let queue = node.queue;\n    let block = node;\n\n    while (block.type !== 'brace' && block.type !== 'root' && block.parent) {\n      block = block.parent;\n      queue = block.queue;\n    }\n\n    for (let i = 0; i < node.nodes.length; i++) {\n      let child = node.nodes[i];\n\n      if (child.type === 'comma' && node.type === 'brace') {\n        if (i === 1) queue.push('');\n        queue.push('');\n        continue;\n      }\n\n      if (child.type === 'close') {\n        q.push(append(q.pop(), queue, enclose));\n        continue;\n      }\n\n      if (child.value && child.type !== 'open') {\n        queue.push(append(queue.pop(), child.value));\n        continue;\n      }\n\n      if (child.nodes) {\n        walk(child, node);\n      }\n    }\n\n    return queue;\n  };\n\n  return utils.flatten(walk(ast));\n};\n\nmodule.exports = expand;\n","'use strict';\n\nconst stringify = require('./stringify');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  CHAR_BACKSLASH, /* \\ */\n  CHAR_BACKTICK, /* ` */\n  CHAR_COMMA, /* , */\n  CHAR_DOT, /* . */\n  CHAR_LEFT_PARENTHESES, /* ( */\n  CHAR_RIGHT_PARENTHESES, /* ) */\n  CHAR_LEFT_CURLY_BRACE, /* { */\n  CHAR_RIGHT_CURLY_BRACE, /* } */\n  CHAR_LEFT_SQUARE_BRACKET, /* [ */\n  CHAR_RIGHT_SQUARE_BRACKET, /* ] */\n  CHAR_DOUBLE_QUOTE, /* \" */\n  CHAR_SINGLE_QUOTE, /* ' */\n  CHAR_NO_BREAK_SPACE,\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE\n} = require('./constants');\n\n/**\n * parse\n */\n\nconst parse = (input, options = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  let opts = options || {};\n  let max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  if (input.length > max) {\n    throw new SyntaxError(`Input length (${input.length}), exceeds max characters (${max})`);\n  }\n\n  let ast = { type: 'root', input, nodes: [] };\n  let stack = [ast];\n  let block = ast;\n  let prev = ast;\n  let brackets = 0;\n  let length = input.length;\n  let index = 0;\n  let depth = 0;\n  let value;\n  let memo = {};\n\n  /**\n   * Helpers\n   */\n\n  const advance = () => input[index++];\n  const push = node => {\n    if (node.type === 'text' && prev.type === 'dot') {\n      prev.type = 'text';\n    }\n\n    if (prev && prev.type === 'text' && node.type === 'text') {\n      prev.value += node.value;\n      return;\n    }\n\n    block.nodes.push(node);\n    node.parent = block;\n    node.prev = prev;\n    prev = node;\n    return node;\n  };\n\n  push({ type: 'bos' });\n\n  while (index < length) {\n    block = stack[stack.length - 1];\n    value = advance();\n\n    /**\n     * Invalid chars\n     */\n\n    if (value === CHAR_ZERO_WIDTH_NOBREAK_SPACE || value === CHAR_NO_BREAK_SPACE) {\n      continue;\n    }\n\n    /**\n     * Escaped chars\n     */\n\n    if (value === CHAR_BACKSLASH) {\n      push({ type: 'text', value: (options.keepEscaping ? value : '') + advance() });\n      continue;\n    }\n\n    /**\n     * Right square bracket (literal): ']'\n     */\n\n    if (value === CHAR_RIGHT_SQUARE_BRACKET) {\n      push({ type: 'text', value: '\\\\' + value });\n      continue;\n    }\n\n    /**\n     * Left square bracket: '['\n     */\n\n    if (value === CHAR_LEFT_SQUARE_BRACKET) {\n      brackets++;\n\n      let closed = true;\n      let next;\n\n      while (index < length && (next = advance())) {\n        value += next;\n\n        if (next === CHAR_LEFT_SQUARE_BRACKET) {\n          brackets++;\n          continue;\n        }\n\n        if (next === CHAR_BACKSLASH) {\n          value += advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          brackets--;\n\n          if (brackets === 0) {\n            break;\n          }\n        }\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === CHAR_LEFT_PARENTHESES) {\n      block = push({ type: 'paren', nodes: [] });\n      stack.push(block);\n      push({ type: 'text', value });\n      continue;\n    }\n\n    if (value === CHAR_RIGHT_PARENTHESES) {\n      if (block.type !== 'paren') {\n        push({ type: 'text', value });\n        continue;\n      }\n      block = stack.pop();\n      push({ type: 'text', value });\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Quotes: '|\"|`\n     */\n\n    if (value === CHAR_DOUBLE_QUOTE || value === CHAR_SINGLE_QUOTE || value === CHAR_BACKTICK) {\n      let open = value;\n      let next;\n\n      if (options.keepQuotes !== true) {\n        value = '';\n      }\n\n      while (index < length && (next = advance())) {\n        if (next === CHAR_BACKSLASH) {\n          value += next + advance();\n          continue;\n        }\n\n        if (next === open) {\n          if (options.keepQuotes === true) value += next;\n          break;\n        }\n\n        value += next;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Left curly brace: '{'\n     */\n\n    if (value === CHAR_LEFT_CURLY_BRACE) {\n      depth++;\n\n      let dollar = prev.value && prev.value.slice(-1) === '$' || block.dollar === true;\n      let brace = {\n        type: 'brace',\n        open: true,\n        close: false,\n        dollar,\n        depth,\n        commas: 0,\n        ranges: 0,\n        nodes: []\n      };\n\n      block = push(brace);\n      stack.push(block);\n      push({ type: 'open', value });\n      continue;\n    }\n\n    /**\n     * Right curly brace: '}'\n     */\n\n    if (value === CHAR_RIGHT_CURLY_BRACE) {\n      if (block.type !== 'brace') {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      let type = 'close';\n      block = stack.pop();\n      block.close = true;\n\n      push({ type, value });\n      depth--;\n\n      block = stack[stack.length - 1];\n      continue;\n    }\n\n    /**\n     * Comma: ','\n     */\n\n    if (value === CHAR_COMMA && depth > 0) {\n      if (block.ranges > 0) {\n        block.ranges = 0;\n        let open = block.nodes.shift();\n        block.nodes = [open, { type: 'text', value: stringify(block) }];\n      }\n\n      push({ type: 'comma', value });\n      block.commas++;\n      continue;\n    }\n\n    /**\n     * Dot: '.'\n     */\n\n    if (value === CHAR_DOT && depth > 0 && block.commas === 0) {\n      let siblings = block.nodes;\n\n      if (depth === 0 || siblings.length === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n\n      if (prev.type === 'dot') {\n        block.range = [];\n        prev.value += value;\n        prev.type = 'range';\n\n        if (block.nodes.length !== 3 && block.nodes.length !== 5) {\n          block.invalid = true;\n          block.ranges = 0;\n          prev.type = 'text';\n          continue;\n        }\n\n        block.ranges++;\n        block.args = [];\n        continue;\n      }\n\n      if (prev.type === 'range') {\n        siblings.pop();\n\n        let before = siblings[siblings.length - 1];\n        before.value += prev.value + value;\n        prev = before;\n        block.ranges--;\n        continue;\n      }\n\n      push({ type: 'dot', value });\n      continue;\n    }\n\n    /**\n     * Text\n     */\n\n    push({ type: 'text', value });\n  }\n\n  // Mark imbalanced braces and brackets as invalid\n  do {\n    block = stack.pop();\n\n    if (block.type !== 'root') {\n      block.nodes.forEach(node => {\n        if (!node.nodes) {\n          if (node.type === 'open') node.isOpen = true;\n          if (node.type === 'close') node.isClose = true;\n          if (!node.nodes) node.type = 'text';\n          node.invalid = true;\n        }\n      });\n\n      // get the location of the block on parent.nodes (block's siblings)\n      let parent = stack[stack.length - 1];\n      let index = parent.nodes.indexOf(block);\n      // replace the (invalid) block with it's nodes\n      parent.nodes.splice(index, 1, ...block.nodes);\n    }\n  } while (stack.length > 0);\n\n  push({ type: 'eos' });\n  return ast;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst utils = require('./utils');\n\nmodule.exports = (ast, options = {}) => {\n  let stringify = (node, parent = {}) => {\n    let invalidBlock = options.escapeInvalid && utils.isInvalidBrace(parent);\n    let invalidNode = node.invalid === true && options.escapeInvalid === true;\n    let output = '';\n\n    if (node.value) {\n      if ((invalidBlock || invalidNode) && utils.isOpenOrClose(node)) {\n        return '\\\\' + node.value;\n      }\n      return node.value;\n    }\n\n    if (node.value) {\n      return node.value;\n    }\n\n    if (node.nodes) {\n      for (let child of node.nodes) {\n        output += stringify(child);\n      }\n    }\n    return output;\n  };\n\n  return stringify(ast);\n};\n\n","'use strict';\n\nexports.isInteger = num => {\n  if (typeof num === 'number') {\n    return Number.isInteger(num);\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isInteger(Number(num));\n  }\n  return false;\n};\n\n/**\n * Find a node of the given type\n */\n\nexports.find = (node, type) => node.nodes.find(node => node.type === type);\n\n/**\n * Find a node of the given type\n */\n\nexports.exceedsLimit = (min, max, step = 1, limit) => {\n  if (limit === false) return false;\n  if (!exports.isInteger(min) || !exports.isInteger(max)) return false;\n  return ((Number(max) - Number(min)) / Number(step)) >= limit;\n};\n\n/**\n * Escape the given node with '\\\\' before node.value\n */\n\nexports.escapeNode = (block, n = 0, type) => {\n  let node = block.nodes[n];\n  if (!node) return;\n\n  if ((type && node.type === type) || node.type === 'open' || node.type === 'close') {\n    if (node.escaped !== true) {\n      node.value = '\\\\' + node.value;\n      node.escaped = true;\n    }\n  }\n};\n\n/**\n * Returns true if the given brace node should be enclosed in literal braces\n */\n\nexports.encloseBrace = node => {\n  if (node.type !== 'brace') return false;\n  if ((node.commas >> 0 + node.ranges >> 0) === 0) {\n    node.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a brace node is invalid.\n */\n\nexports.isInvalidBrace = block => {\n  if (block.type !== 'brace') return false;\n  if (block.invalid === true || block.dollar) return true;\n  if ((block.commas >> 0 + block.ranges >> 0) === 0) {\n    block.invalid = true;\n    return true;\n  }\n  if (block.open !== true || block.close !== true) {\n    block.invalid = true;\n    return true;\n  }\n  return false;\n};\n\n/**\n * Returns true if a node is an open or close node\n */\n\nexports.isOpenOrClose = node => {\n  if (node.type === 'open' || node.type === 'close') {\n    return true;\n  }\n  return node.open === true || node.close === true;\n};\n\n/**\n * Reduce an array of text nodes.\n */\n\nexports.reduce = nodes => nodes.reduce((acc, node) => {\n  if (node.type === 'text') acc.push(node.value);\n  if (node.type === 'range') node.type = 'text';\n  return acc;\n}, []);\n\n/**\n * Flatten an array\n */\n\nexports.flatten = (...args) => {\n  const result = [];\n  const flat = arr => {\n    for (let i = 0; i < arr.length; i++) {\n      let ele = arr[i];\n      Array.isArray(ele) ? flat(ele, result) : ele !== void 0 && result.push(ele);\n    }\n    return result;\n  };\n  flat(args);\n  return result;\n};\n","'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst asyncHook = require('async-hook-jl');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\n//const trace = [];\n\nconst invertedProviders = [];\nfor (let key in asyncHook.providers) {\n  invertedProviders[asyncHook.providers[key]] = key;\n}\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  //trace: trace,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    SETTING KEY:' + key + '=' + value + ' in ns:' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('    GETTING KEY:' + key + '=undefined' + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n        util.inspect(this.active, true));\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    debug2('    GETTING KEY:' + key + '=' + this.active[key] + ' ' + this.name + ' uid:' + currentUid + ' active:' +\n      util.inspect(this.active, true));\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATING Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' active:' +\n      util.inspect(this.active, true, 2, true));\n  }\n\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('   CREATED Context: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' + ' context:' +\n      util.inspect(context, true, 2, true));\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' BEFORE RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    if (DEBUG_CLS_HOOKED) {\n      debug2(' AFTER RUN: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n        util.inspect(context));\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(' BEFORE runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n      util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2(' AFTER runPromise: ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' ' +\n          util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  ENTER ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    debug2('  EXIT ' + this.name + ' uid:' + currentUid + ' len:' + this._set.length + ' context: ' +\n      util.inspect(context));\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' +\n      util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CREATING NAMESPACE ' + name);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  asyncHook.addHooks({\n    init(uid, handle, provider, parentUid, parentHandle) {\n      //parentUid = parentUid || currentUid;  // Suggested usage but appears to work better for tracing modules.\n      currentUid = uid;\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      if (parentUid) {\n        namespace._contexts.set(uid, namespace._contexts.get(parentUid));\n        if (DEBUG_CLS_HOOKED) {\n          debug2('PARENTID: ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + provider);\n        }\n      } else {\n        namespace._contexts.set(currentUid, namespace.active);\n      }\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('INIT ' + name + ' uid:' + uid + ' parent:' + parentUid + ' provider:' + invertedProviders[provider]\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n    },\n    pre(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.enter(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' PRE MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    post(uid, handle) {\n      currentUid = uid;\n      let context = namespace._contexts.get(uid);\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle) + ' context:' +\n            util.inspect(context));\n        }\n\n        namespace.exit(context);\n      } else {\n        if (DEBUG_CLS_HOOKED) {\n          debug2(' POST MISSING CONTEXT ' + name + ' uid:' + uid + ' handle:' + getFunctionName(handle));\n        }\n      }\n    },\n    destroy(uid) {\n      currentUid = uid;\n\n      if (DEBUG_CLS_HOOKED) {\n        debug2('DESTROY ' + name + ' uid:' + uid + ' context:' + util.inspect(namespace._contexts.get(currentUid))\n          + ' active:' + util.inspect(namespace.active, true));\n      }\n\n      namespace._contexts.delete(uid);\n    }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\nif (asyncHook._state && !asyncHook._state.enabled) {\n  asyncHook.enable();\n}\n\nfunction debug2(msg) {\n  if (process.env.DEBUG) {\n    process._rawDebug(msg);\n  }\n}\n\n\n/*function debug(from, ns) {\n process._rawDebug('DEBUG: ' + util.inspect({\n from: from,\n currentUid: currentUid,\n context: ns ? ns._contexts.get(currentUid) : 'no ns'\n }, true, 2, true));\n }*/\n\n\nfunction getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}\n\n\n// Add back to callstack\nif (DEBUG_CLS_HOOKED) {\n  var stackChain = require('stack-chain');\n  for (var modifier in stackChain.filter._modifiers) {\n    stackChain.filter.deattach(modifier);\n  }\n}\n","/* eslint-disable max-len */\n'use strict';\n\nconst util = require('util');\nconst assert = require('assert');\nconst wrapEmitter = require('emitter-listener');\nconst async_hooks = require('async_hooks');\n\nconst CONTEXTS_SYMBOL = 'cls@contexts';\nconst ERROR_SYMBOL = 'error@context';\n\nconst DEBUG_CLS_HOOKED = process.env.DEBUG_CLS_HOOKED;\n\nlet currentUid = -1;\n\nmodule.exports = {\n  getNamespace: getNamespace,\n  createNamespace: createNamespace,\n  destroyNamespace: destroyNamespace,\n  reset: reset,\n  ERROR_SYMBOL: ERROR_SYMBOL\n};\n\nfunction Namespace(name) {\n  this.name = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set = [];\n  this.id = null;\n  this._contexts = new Map();\n  this._indent = 0;\n}\n\nNamespace.prototype.set = function set(key, value) {\n  if (!this.active) {\n    throw new Error('No context available. ns.run() or ns.bind() must be called first.');\n  }\n\n  this.active[key] = value;\n\n  if (DEBUG_CLS_HOOKED) {\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-SET KEY:' + key + '=' + value + ' in ns:' + this.name + ' currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n  }\n\n  return value;\n};\n\nNamespace.prototype.get = function get(key) {\n  if (!this.active) {\n    if (DEBUG_CLS_HOOKED) {\n      const asyncHooksCurrentId = async_hooks.currentId();\n      const triggerId = async_hooks.triggerAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      //debug2(indentStr + 'CONTEXT-GETTING KEY NO ACTIVE NS:' + key + '=undefined' + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n      debug2(`${indentStr}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${key}=undefined currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length}`);\n    }\n    return undefined;\n  }\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(indentStr + 'CONTEXT-GETTING KEY:' + key + '=' + this.active[key] + ' (' + this.name + ') currentUid:' + currentUid + ' active:' + util.inspect(this.active, {showHidden:true, depth:2, colors:true}));\n    debug2(`${indentStr}CONTEXT-GETTING KEY: (${this.name}) ${key}=${this.active[key]} currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} active:${util.inspect(this.active)}`);\n  }\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function createContext() {\n  // Prototype inherit existing context if created a new child context within existing context.\n  let context = Object.create(this.active ? this.active : Object.prototype);\n  context._ns_name = this.name;\n  context.id = currentUid;\n\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-CREATED Context: (${this.name}) currentUid:${currentUid} asyncHooksCurrentId:${asyncHooksCurrentId} triggerId:${triggerId} len:${this._set.length} context:${util.inspect(context, {showHidden:true, depth:2, colors:true})}`);\n  }\n\n  return context;\n};\n\nNamespace.prototype.run = function run(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  try {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} context:${util.inspect(context)}`);\n    }\n    fn(context);\n    return context;\n  } catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  } finally {\n    if (DEBUG_CLS_HOOKED) {\n      const triggerId = async_hooks.triggerAsyncId();\n      const asyncHooksCurrentId = async_hooks.executionAsyncId();\n      const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n      debug2(`${indentStr}CONTEXT-RUN END: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n    }\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function runAndReturn(fn) {\n  let value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\n/**\n * Uses global Promise and assumes Promise is cls friendly or wrapped already.\n * @param {function} fn\n * @returns {*}\n */\nNamespace.prototype.runPromise = function runPromise(fn) {\n  let context = this.createContext();\n  this.enter(context);\n\n  let promise = fn(context);\n  if (!promise || !promise.then || !promise.catch) {\n    throw new Error('fn must return a promise.');\n  }\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2('CONTEXT-runPromise BEFORE: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n  }\n\n  return promise\n    .then(result => {\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER then: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      return result;\n    })\n    .catch(err => {\n      err[ERROR_SYMBOL] = context;\n      if (DEBUG_CLS_HOOKED) {\n        debug2('CONTEXT-runPromise AFTER catch: (' + this.name + ') currentUid:' + currentUid + ' len:' + this._set.length + ' ' + util.inspect(context));\n      }\n      this.exit(context);\n      throw err;\n    });\n};\n\nNamespace.prototype.bind = function bindFactory(fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    } else {\n      context = this.active;\n    }\n  }\n\n  let self = this;\n  return function clsBind() {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    } catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    } finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function enter(context) {\n  assert.ok(context, 'context must be provided for entering');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-ENTER: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function exit(context) {\n  assert.ok(context, 'context must be provided for exiting');\n  if (DEBUG_CLS_HOOKED) {\n    const asyncHooksCurrentId = async_hooks.executionAsyncId();\n    const triggerId = async_hooks.triggerAsyncId();\n    const indentStr = ' '.repeat(this._indent < 0 ? 0 : this._indent);\n    debug2(`${indentStr}CONTEXT-EXIT: (${this.name}) currentUid:${currentUid} triggerId:${triggerId} asyncHooksCurrentId:${asyncHooksCurrentId} len:${this._set.length} ${util.inspect(context)}`);\n  }\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, 'can\\'t remove top context');\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  let index = this._set.lastIndexOf(context);\n\n  if (index < 0) {\n    if (DEBUG_CLS_HOOKED) {\n      debug2('??ERROR?? context exiting but not entered - ignoring: ' + util.inspect(context));\n    }\n    assert.ok(index >= 0, 'context not currently entered; can\\'t exit. \\n' + util.inspect(this) + '\\n' + util.inspect(context));\n  } else {\n    assert.ok(index, 'can\\'t remove top context');\n    this._set.splice(index, 1);\n  }\n};\n\nNamespace.prototype.bindEmitter = function bindEmitter(emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, 'can only bind real EEs');\n\n  let namespace = this;\n  let thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) {\n      return;\n    }\n    if (!listener[CONTEXTS_SYMBOL]) {\n      listener[CONTEXTS_SYMBOL] = Object.create(null);\n    }\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace: namespace,\n      context: namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) {\n      return unwrapped;\n    }\n\n    let wrapped = unwrapped;\n    let unwrappedContexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(unwrappedContexts).forEach(function (name) {\n      let thunk = unwrappedContexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function fromException(exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction getNamespace(name) {\n  return process.namespaces[name];\n}\n\nfunction createNamespace(name) {\n  assert.ok(name, 'namespace must be given a name.');\n\n  if (DEBUG_CLS_HOOKED) {\n    debug2(`NS-CREATING NAMESPACE (${name})`);\n  }\n  let namespace = new Namespace(name);\n  namespace.id = currentUid;\n\n  const hook = async_hooks.createHook({\n    init(asyncId, type, triggerId, resource) {\n      currentUid = async_hooks.executionAsyncId();\n\n      //CHAIN Parent's Context onto child if none exists. This is needed to pass net-events.spec\n      // let initContext = namespace.active;\n      // if(!initContext && triggerId) {\n      //   let parentContext = namespace._contexts.get(triggerId);\n      //   if (parentContext) {\n      //     namespace.active = parentContext;\n      //     namespace._contexts.set(currentUid, parentContext);\n      //     if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) WITH PARENT CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      //   } else if (DEBUG_CLS_HOOKED) {\n      //       const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //       debug2(`${indentStr}INIT [${type}] (${name}) MISSING CONTEXT asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //     }\n      // }else {\n      //   namespace._contexts.set(currentUid, namespace.active);\n      //   if (DEBUG_CLS_HOOKED) {\n      //     const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n      //     debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, true)} resource:${resource}`);\n      //   }\n      // }\n      if(namespace.active) {\n        namespace._contexts.set(asyncId, namespace.active);\n\n        if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n        }\n      }else if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        const triggerId = async_hooks.triggerAsyncId();\n        const triggerIdContext = namespace._contexts.get(triggerId);\n        if (triggerIdContext) {\n          namespace._contexts.set(asyncId, triggerIdContext);\n          if (DEBUG_CLS_HOOKED) {\n            const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n            debug2(`${indentStr}INIT USING CONTEXT FROM TRIGGERID [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n          }\n        } else if (DEBUG_CLS_HOOKED) {\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}INIT MISSING CONTEXT [${type}] (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, { showHidden: true, depth: 2, colors: true })} resource:${resource}`);\n        }\n      }\n\n\n      if(DEBUG_CLS_HOOKED && type === 'PROMISE'){\n        debug2(util.inspect(resource, {showHidden: true}));\n        const parentId = resource.parentId;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}INIT RESOURCE-PROMISE [${type}] (${name}) parentId:${parentId} asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} resource:${resource}`);\n      }\n\n    },\n    before(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context;\n\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}BEFORE (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n          namespace._indent += 2;\n        }\n\n        namespace.enter(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}BEFORE MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} namespace._contexts:${util.inspect(namespace._contexts, {showHidden:true, depth:2, colors:true})}`);\n        namespace._indent += 2;\n      }\n    },\n    after(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      let context; // = namespace._contexts.get(currentUid);\n      /*\n      if(currentUid === 0){\n        // CurrentId will be 0 when triggered from C++. Promise events\n        // https://github.com/nodejs/node/blob/master/doc/api/async_hooks.md#triggerid\n        //const triggerId = async_hooks.triggerAsyncId();\n        context = namespace._contexts.get(asyncId); // || namespace._contexts.get(triggerId);\n      }else{\n        context = namespace._contexts.get(currentUid);\n      }\n      */\n      //HACK to work with promises until they are fixed in node > 8.1.1\n      context = namespace._contexts.get(asyncId) || namespace._contexts.get(currentUid);\n\n      if (context) {\n        if (DEBUG_CLS_HOOKED) {\n          const triggerId = async_hooks.triggerAsyncId();\n          namespace._indent -= 2;\n          const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n          debug2(`${indentStr}AFTER (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n        }\n\n        namespace.exit(context);\n\n      } else if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        namespace._indent -= 2;\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}AFTER MISSING CONTEXT (${name}) asyncId:${asyncId} currentUid:${currentUid} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(context)}`);\n      }\n    },\n    destroy(asyncId) {\n      currentUid = async_hooks.executionAsyncId();\n      if (DEBUG_CLS_HOOKED) {\n        const triggerId = async_hooks.triggerAsyncId();\n        const indentStr = ' '.repeat(namespace._indent < 0 ? 0 : namespace._indent);\n        debug2(`${indentStr}DESTROY (${name}) currentUid:${currentUid} asyncId:${asyncId} triggerId:${triggerId} active:${util.inspect(namespace.active, {showHidden:true, depth:2, colors:true})} context:${util.inspect(namespace._contexts.get(currentUid))}`);\n      }\n\n      namespace._contexts.delete(asyncId);\n    }\n  });\n\n  hook.enable();\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroyNamespace(name) {\n  let namespace = getNamespace(name);\n\n  assert.ok(namespace, 'can\\'t delete nonexistent namespace! \"' + name + '\"');\n  assert.ok(namespace.id, 'don\\'t assign to process.namespaces directly! ' + util.inspect(namespace));\n\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroyNamespace(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\n\nprocess.namespaces = {};\n\n//const fs = require('fs');\nfunction debug2(...args) {\n  if (DEBUG_CLS_HOOKED) {\n    //fs.writeSync(1, `${util.format(...args)}\\n`);\n    process._rawDebug(`${util.format(...args)}`);\n  }\n}\n\n/*function getFunctionName(fn) {\n  if (!fn) {\n    return fn;\n  }\n  if (typeof fn === 'function') {\n    if (fn.name) {\n      return fn.name;\n    }\n    return (fn.toString().trim().match(/^function\\s*([^\\s(]+)/) || [])[1];\n  } else if (fn.constructor && fn.constructor.name) {\n    return fn.constructor.name;\n  }\n}*/\n\n\n","'use strict';\n\nconst semver = require('semver');\n\n/**\n * In order to increase node version support, this loads the version of context\n * that is appropriate for the version of on nodejs that is running.\n * Node < v8 - uses AsyncWrap and async-hooks-jl\n * Node >= v8 - uses native async-hooks\n */\nif(process && semver.gte(process.versions.node, '8.0.0')){\n  module.exports = require('./context');\n}else{\n  module.exports = require('./context-legacy');\n}\n","'use strict';\n\nvar assert      = require('assert');\nvar wrapEmitter = require('emitter-listener');\n\n/*\n *\n * CONSTANTS\n *\n */\nvar CONTEXTS_SYMBOL = 'cls@contexts';\nvar ERROR_SYMBOL = 'error@context';\n\n// load polyfill if native support is unavailable\nif (!process.addAsyncListener) require('async-listener');\n\nfunction Namespace(name) {\n  this.name   = name;\n  // changed in 2.7: no default context\n  this.active = null;\n  this._set   = [];\n  this.id     = null;\n}\n\nNamespace.prototype.set = function (key, value) {\n  if (!this.active) {\n    throw new Error(\"No context available. ns.run() or ns.bind() must be called first.\");\n  }\n\n  this.active[key] = value;\n  return value;\n};\n\nNamespace.prototype.get = function (key) {\n  if (!this.active) return undefined;\n\n  return this.active[key];\n};\n\nNamespace.prototype.createContext = function () {\n  return Object.create(this.active);\n};\n\nNamespace.prototype.run = function (fn) {\n  var context = this.createContext();\n  this.enter(context);\n  try {\n    fn(context);\n    return context;\n  }\n  catch (exception) {\n    if (exception) {\n      exception[ERROR_SYMBOL] = context;\n    }\n    throw exception;\n  }\n  finally {\n    this.exit(context);\n  }\n};\n\nNamespace.prototype.runAndReturn = function (fn) {\n  var value;\n  this.run(function (context) {\n    value = fn(context);\n  });\n  return value;\n};\n\nNamespace.prototype.bind = function (fn, context) {\n  if (!context) {\n    if (!this.active) {\n      context = this.createContext();\n    }\n    else {\n      context = this.active;\n    }\n  }\n\n  var self = this;\n  return function () {\n    self.enter(context);\n    try {\n      return fn.apply(this, arguments);\n    }\n    catch (exception) {\n      if (exception) {\n        exception[ERROR_SYMBOL] = context;\n      }\n      throw exception;\n    }\n    finally {\n      self.exit(context);\n    }\n  };\n};\n\nNamespace.prototype.enter = function (context) {\n  assert.ok(context, \"context must be provided for entering\");\n\n  this._set.push(this.active);\n  this.active = context;\n};\n\nNamespace.prototype.exit = function (context) {\n  assert.ok(context, \"context must be provided for exiting\");\n\n  // Fast path for most exits that are at the top of the stack\n  if (this.active === context) {\n    assert.ok(this._set.length, \"can't remove top context\");\n    this.active = this._set.pop();\n    return;\n  }\n\n  // Fast search in the stack using lastIndexOf\n  var index = this._set.lastIndexOf(context);\n\n  assert.ok(index >= 0, \"context not currently entered; can't exit\");\n  assert.ok(index,      \"can't remove top context\");\n\n  this._set.splice(index, 1);\n};\n\nNamespace.prototype.bindEmitter = function (emitter) {\n  assert.ok(emitter.on && emitter.addListener && emitter.emit, \"can only bind real EEs\");\n\n  var namespace  = this;\n  var thisSymbol = 'context@' + this.name;\n\n  // Capture the context active at the time the emitter is bound.\n  function attach(listener) {\n    if (!listener) return;\n    if (!listener[CONTEXTS_SYMBOL]) listener[CONTEXTS_SYMBOL] = Object.create(null);\n\n    listener[CONTEXTS_SYMBOL][thisSymbol] = {\n      namespace : namespace,\n      context   : namespace.active\n    };\n  }\n\n  // At emit time, bind the listener within the correct context.\n  function bind(unwrapped) {\n    if (!(unwrapped && unwrapped[CONTEXTS_SYMBOL])) return unwrapped;\n\n    var wrapped  = unwrapped;\n    var contexts = unwrapped[CONTEXTS_SYMBOL];\n    Object.keys(contexts).forEach(function (name) {\n      var thunk = contexts[name];\n      wrapped = thunk.namespace.bind(wrapped, thunk.context);\n    });\n    return wrapped;\n  }\n\n  wrapEmitter(emitter, attach, bind);\n};\n\n/**\n * If an error comes out of a namespace, it will have a context attached to it.\n * This function knows how to find it.\n *\n * @param {Error} exception Possibly annotated error.\n */\nNamespace.prototype.fromException = function (exception) {\n  return exception[ERROR_SYMBOL];\n};\n\nfunction get(name) {\n  return process.namespaces[name];\n}\n\nfunction create(name) {\n  assert.ok(name, \"namespace must be given a name!\");\n\n  var namespace = new Namespace(name);\n  namespace.id = process.addAsyncListener({\n    create : function () { return namespace.active; },\n    before : function (context, storage) { if (storage) namespace.enter(storage); },\n    after  : function (context, storage) { if (storage) namespace.exit(storage); },\n    error  : function (storage) { if (storage) namespace.exit(storage); }\n  });\n\n  process.namespaces[name] = namespace;\n  return namespace;\n}\n\nfunction destroy(name) {\n  var namespace = get(name);\n\n  assert.ok(namespace,    \"can't delete nonexistent namespace!\");\n  assert.ok(namespace.id, \"don't assign to process.namespaces directly!\");\n\n  process.removeAsyncListener(namespace.id);\n  process.namespaces[name] = null;\n}\n\nfunction reset() {\n  // must unregister async listeners\n  if (process.namespaces) {\n    Object.keys(process.namespaces).forEach(function (name) {\n      destroy(name);\n    });\n  }\n  process.namespaces = Object.create(null);\n}\nif (!process.namespaces) reset(); // call immediately to set up\n\nmodule.exports = {\n  getNamespace     : get,\n  createNamespace  : create,\n  destroyNamespace : destroy,\n  reset            : reset\n};\n","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nexports.AzureMonitorSymbol = \"Azure_Monitor_Tracer\";\n/**\n * By default, @azure/core-tracing default tracer is a NoopTracer.\n * This patching changes the default tracer to a patched BasicTracer\n * which emits ended spans as diag-channel events.\n *\n * The @opentelemetry/tracing package must be installed to use these patches\n * https://www.npmjs.com/package/@opentelemetry/tracing\n * @param coreTracing\n */\nvar azureCoreTracingPatchFunction = function (coreTracing) {\n    try {\n        var BasicTracer = require(\"@opentelemetry/tracing\").BasicTracer;\n        var tracerConfig = diagnostic_channel_1.channel.spanContextPropagator\n            ? { scopeManager: diagnostic_channel_1.channel.spanContextPropagator }\n            : undefined;\n        var tracer_1 = new BasicTracer(tracerConfig);\n        // Patch startSpan instead of using spanProcessor.onStart because parentSpan must be\n        // set while the span is constructed\n        var startSpanOriginal_1 = tracer_1.startSpan;\n        tracer_1.startSpan = function (name, options) {\n            // if no parent span was provided, apply the current context\n            if (!options || !options.parent) {\n                var parentOperation = tracer_1.getCurrentSpan();\n                if (parentOperation && parentOperation.operation && parentOperation.operation.traceparent) {\n                    options = __assign({}, options, { parent: {\n                            traceId: parentOperation.operation.traceparent.traceId,\n                            spanId: parentOperation.operation.traceparent.spanId,\n                        } });\n                }\n            }\n            var span = startSpanOriginal_1.call(this, name, options);\n            span.addEvent(\"Application Insights Integration enabled\");\n            return span;\n        };\n        tracer_1.addSpanProcessor(new AzureMonitorSpanProcessor());\n        tracer_1[exports.AzureMonitorSymbol] = true;\n        coreTracing.setTracer(tracer_1); // recordSpanData is not present on BasicTracer - cast to any\n    }\n    catch (e) { /* squash errors */ }\n    return coreTracing;\n};\nvar AzureMonitorSpanProcessor = /** @class */ (function () {\n    function AzureMonitorSpanProcessor() {\n    }\n    AzureMonitorSpanProcessor.prototype.onStart = function (span) {\n        // noop since startSpan is already patched\n    };\n    AzureMonitorSpanProcessor.prototype.onEnd = function (span) {\n        diagnostic_channel_1.channel.publish(\"azure-coretracing\", span);\n    };\n    AzureMonitorSpanProcessor.prototype.shutdown = function () {\n        // noop\n    };\n    return AzureMonitorSpanProcessor;\n}());\nexports.azureCoreTracing = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: azureCoreTracingPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"@azure/core-tracing\", exports.azureCoreTracing);\n}\nexports.enable = enable;\n//# sourceMappingURL=azure-coretracing.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar bunyanPatchFunction = function (originalBunyan) {\n    var originalEmit = originalBunyan.prototype._emit;\n    originalBunyan.prototype._emit = function (rec, noemit) {\n        var ret = originalEmit.apply(this, arguments);\n        if (!noemit) {\n            var str = ret;\n            if (!str) {\n                str = originalEmit.call(this, rec, true);\n            }\n            diagnostic_channel_1.channel.publish(\"bunyan\", { level: rec.level, result: str });\n        }\n        return ret;\n    };\n    return originalBunyan;\n};\nexports.bunyan = {\n    versionSpecifier: \">= 1.0.0 < 2.0.0\",\n    patch: bunyanPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"bunyan\", exports.bunyan);\n}\nexports.enable = enable;\n//# sourceMappingURL=bunyan.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar stream_1 = require(\"stream\");\nvar consolePatchFunction = function (originalConsole) {\n    var aiLoggingOutStream = new stream_1.Writable();\n    var aiLoggingErrStream = new stream_1.Writable();\n    // Default console is roughly equivalent to `new Console(process.stdout, process.stderr)`\n    // We create a version which publishes to the channel and also to stdout/stderr\n    aiLoggingOutStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message });\n        return true;\n    };\n    aiLoggingErrStream.write = function (chunk) {\n        if (!chunk) {\n            return true;\n        }\n        var message = chunk.toString();\n        diagnostic_channel_1.channel.publish(\"console\", { message: message, stderr: true });\n        return true;\n    };\n    var aiLoggingConsole = new originalConsole.Console(aiLoggingOutStream, aiLoggingErrStream);\n    var consoleMethods = [\"log\", \"info\", \"warn\", \"error\", \"dir\", \"time\", \"timeEnd\", \"trace\", \"assert\"];\n    var _loop_1 = function (method) {\n        var originalMethod = originalConsole[method];\n        if (originalMethod) {\n            originalConsole[method] = function () {\n                if (aiLoggingConsole[method]) {\n                    try {\n                        aiLoggingConsole[method].apply(aiLoggingConsole, arguments);\n                    }\n                    catch (e) {\n                        // Ignore errors; allow the original method to throw if necessary\n                    }\n                }\n                return originalMethod.apply(originalConsole, arguments);\n            };\n        }\n    };\n    for (var _i = 0, consoleMethods_1 = consoleMethods; _i < consoleMethods_1.length; _i++) {\n        var method = consoleMethods_1[_i];\n        _loop_1(method);\n    }\n    return originalConsole;\n};\nexports.console = {\n    versionSpecifier: \">= 4.0.0\",\n    patch: consolePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"console\", exports.console);\n    // Force patching of console\n    /* tslint:disable-next-line:no-var-requires */\n    require(\"console\");\n}\nexports.enable = enable;\n//# sourceMappingURL=console.pub.js.map","\"use strict\";\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar azuresdk = require(\"./azure-coretracing.pub\");\nexports.azuresdk = azuresdk;\nvar bunyan = require(\"./bunyan.pub\");\nexports.bunyan = bunyan;\nvar consolePub = require(\"./console.pub\");\nexports.console = consolePub;\nvar mongodbCore = require(\"./mongodb-core.pub\");\nexports.mongodbCore = mongodbCore;\nvar mongodb = require(\"./mongodb.pub\");\nexports.mongodb = mongodb;\nvar mysql = require(\"./mysql.pub\");\nexports.mysql = mysql;\nvar pgPool = require(\"./pg-pool.pub\");\nexports.pgPool = pgPool;\nvar pg = require(\"./pg.pub\");\nexports.pg = pg;\nvar redis = require(\"./redis.pub\");\nexports.redis = redis;\nvar tedious = require(\"./tedious.pub\");\nexports.tedious = tedious;\nvar winston = require(\"./winston.pub\");\nexports.winston = winston;\nfunction enable() {\n    bunyan.enable();\n    consolePub.enable();\n    mongodbCore.enable();\n    mongodb.enable();\n    mysql.enable();\n    pg.enable();\n    pgPool.enable();\n    redis.enable();\n    winston.enable();\n    azuresdk.enable();\n    tedious.enable();\n}\nexports.enable = enable;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbcorePatchFunction = function (originalMongoCore) {\n    var originalConnect = originalMongoCore.Server.prototype.connect;\n    originalMongoCore.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.pool.write;\n        this.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.pool.logout;\n        this.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongoCore;\n};\nexports.mongoCore = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: mongodbcorePatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb-core\", exports.mongoCore);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb-core.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar mongodbPatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument({\n        operationIdGenerator: {\n            next: function () {\n                return diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n            },\n        },\n    });\n    var eventMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true });\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event.operationId === \"function\") {\n            event.operationId(function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n        }\n        else {\n            // fallback -- correlation will not work here\n            diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false });\n        }\n    });\n    return originalMongo;\n};\nvar mongodb3PatchFunction = function (originalMongo) {\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = __assign({}, event, { time: new Date() });\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\n// In mongodb 3.3.0, mongodb-core was merged into mongodb, so the same patching\n// can be used here. this.s.pool was changed to this.s.coreTopology.s.pool\nvar mongodbcorePatchFunction = function (originalMongo) {\n    var originalConnect = originalMongo.Server.prototype.connect;\n    originalMongo.Server.prototype.connect = function contextPreservingConnect() {\n        var ret = originalConnect.apply(this, arguments);\n        // Messages sent to mongo progress through a pool\n        // This can result in context getting mixed between different responses\n        // so we wrap the callbacks to restore appropriate state\n        var originalWrite = this.s.coreTopology.s.pool.write;\n        this.s.coreTopology.s.pool.write = function contextPreservingWrite() {\n            var cbidx = typeof arguments[1] === \"function\" ? 1 : 2;\n            if (typeof arguments[cbidx] === \"function\") {\n                arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(arguments[cbidx]);\n            }\n            return originalWrite.apply(this, arguments);\n        };\n        // Logout is a special case, it doesn't call the write function but instead\n        // directly calls into connection.write\n        var originalLogout = this.s.coreTopology.s.pool.logout;\n        this.s.coreTopology.s.pool.logout = function contextPreservingLogout() {\n            if (typeof arguments[1] === \"function\") {\n                arguments[1] = diagnostic_channel_1.channel.bindToContext(arguments[1]);\n            }\n            return originalLogout.apply(this, arguments);\n        };\n        return ret;\n    };\n    return originalMongo;\n};\nvar mongodb330PatchFunction = function (originalMongo) {\n    mongodbcorePatchFunction(originalMongo); // apply mongodb-core patches\n    var listener = originalMongo.instrument();\n    var eventMap = {};\n    var contextMap = {};\n    listener.on(\"started\", function (event) {\n        if (eventMap[event.requestId]) {\n            // Note: Mongo can generate 2 completely separate requests\n            // which share the same requestId, if a certain race condition is triggered.\n            // For now, we accept that this can happen and potentially miss or mislabel some events.\n            return;\n        }\n        contextMap[event.requestId] = diagnostic_channel_1.channel.bindToContext(function (cb) { return cb(); });\n        eventMap[event.requestId] = event;\n    });\n    listener.on(\"succeeded\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: true }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    listener.on(\"failed\", function (event) {\n        var startedData = eventMap[event.requestId];\n        if (startedData) {\n            delete eventMap[event.requestId];\n        }\n        if (typeof event === \"object\" && typeof contextMap[event.requestId] === \"function\") {\n            contextMap[event.requestId](function () { return diagnostic_channel_1.channel.publish(\"mongodb\", { startedData: startedData, event: event, succeeded: false }); });\n            delete contextMap[event.requestId];\n        }\n    });\n    return originalMongo;\n};\nexports.mongo2 = {\n    versionSpecifier: \">= 2.0.0 <= 3.0.5\",\n    patch: mongodbPatchFunction,\n};\nexports.mongo3 = {\n    versionSpecifier: \"> 3.0.5 < 3.3.0\",\n    patch: mongodb3PatchFunction,\n};\nexports.mongo330 = {\n    versionSpecifier: \">= 3.3.0 < 4.0.0\",\n    patch: mongodb330PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo3);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mongodb\", exports.mongo330);\n}\nexports.enable = enable;\n//# sourceMappingURL=mongodb.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar path = require(\"path\");\nvar mysqlPatchFunction = function (originalMysql, originalMysqlPath) {\n    // The `name` passed in here is for debugging purposes,\n    // to help distinguish which object is being patched.\n    var patchObjectFunction = function (obj, name) {\n        return function (func, cbWrapper) {\n            var originalFunc = obj[func];\n            if (originalFunc) {\n                obj[func] = function mysqlContextPreserver() {\n                    // Find the callback, if there is one\n                    var cbidx = arguments.length - 1;\n                    for (var i = arguments.length - 1; i >= 0; --i) {\n                        if (typeof arguments[i] === \"function\") {\n                            cbidx = i;\n                            break;\n                        }\n                        else if (typeof arguments[i] !== \"undefined\") {\n                            break;\n                        }\n                    }\n                    var cb = arguments[cbidx];\n                    var resultContainer = { result: null, startTime: null, startDate: null };\n                    if (typeof cb === \"function\") {\n                        // Preserve context on the callback.\n                        // If this is one of the functions that we want to track,\n                        // then wrap the callback with the tracking wrapper\n                        if (cbWrapper) {\n                            resultContainer.startTime = process.hrtime();\n                            resultContainer.startDate = new Date();\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cbWrapper(resultContainer, cb));\n                        }\n                        else {\n                            arguments[cbidx] = diagnostic_channel_1.channel.bindToContext(cb);\n                        }\n                    }\n                    var result = originalFunc.apply(this, arguments);\n                    resultContainer.result = result;\n                    return result;\n                };\n            }\n        };\n    };\n    var patchClassMemberFunction = function (classObject, name) {\n        return patchObjectFunction(classObject.prototype, name + \".prototype\");\n    };\n    var connectionCallbackFunctions = [\n        \"connect\", \"changeUser\",\n        \"ping\", \"statistics\", \"end\",\n    ];\n    var connectionClass = require(path.dirname(originalMysqlPath) + \"/lib/Connection\");\n    connectionCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(connectionClass, \"Connection\")(value); });\n    // Connection.createQuery is a static method\n    patchObjectFunction(connectionClass, \"Connection\")(\"createQuery\", function (resultContainer, cb) {\n        return function (err) {\n            var hrDuration = process.hrtime(resultContainer.startTime);\n            /* tslint:disable-next-line:no-bitwise */\n            var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n            diagnostic_channel_1.channel.publish(\"mysql\", { query: resultContainer.result, callbackArgs: arguments, err: err, duration: duration, time: resultContainer.startDate });\n            cb.apply(this, arguments);\n        };\n    });\n    var poolCallbackFunctions = [\n        \"_enqueueCallback\",\n    ];\n    var poolClass = require(path.dirname(originalMysqlPath) + \"/lib/Pool\");\n    poolCallbackFunctions.forEach(function (value) { return patchClassMemberFunction(poolClass, \"Pool\")(value); });\n    return originalMysql;\n};\nexports.mysql = {\n    versionSpecifier: \">= 2.0.0 < 3.0.0\",\n    patch: mysqlPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"mysql\", exports.mysql);\n}\nexports.enable = enable;\n//# sourceMappingURL=mysql.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nfunction postgresPool1PatchFunction(originalPgPool) {\n    var originalConnect = originalPgPool.prototype.connect;\n    originalPgPool.prototype.connect = function connect(callback) {\n        if (callback) {\n            arguments[0] = diagnostic_channel_1.channel.bindToContext(callback);\n        }\n        return originalConnect.apply(this, arguments);\n    };\n    return originalPgPool;\n}\nexports.postgresPool1 = {\n    versionSpecifier: \">= 1.0.0 < 3.0.0\",\n    patch: postgresPool1PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg-pool\", exports.postgresPool1);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg-pool.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar events_1 = require(\"events\");\nfunction postgres6PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                // emulate weird internal behavior in pg@6\n                // on success, the callback is called *before* query events are emitted\n                // on failure, the callback is called *instead of* the query emitting events\n                // with no events, that means no promises (since the promise is resolved/rejected in an event handler)\n                // since we are always inserting ourselves as a callback, we have to restore the original\n                // behavior if the user didn't provide one themselves\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // this function takes too many variations of arguments.\n        // this patches any provided callback or creates a new callback if one wasn't provided.\n        // since the callback is always called (if provided) in addition to always having a Promisified\n        // EventEmitter returned (well, sometimes -- see above), its safe to insert a callback if none was given\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callback = patchCallback(callback);\n                }\n                else {\n                    data.query.text = config;\n                    // pg v6 will, for some reason, accept both\n                    // client.query(\"...\", undefined, () => {...})\n                    // **and**\n                    // client.query(\"...\", () => {...});\n                    // Internally, precedence is given to the callback argument\n                    if (callback) {\n                        callback = patchCallback(callback);\n                    }\n                    else {\n                        values = patchCallback(values);\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    values = patchCallback(values);\n                }\n                else {\n                    config.callback = patchCallback(config.callback);\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        return queryResult;\n    };\n    return originalPg;\n}\nfunction postgres7PatchFunction(originalPg, originalPgPath) {\n    var originalClientQuery = originalPg.Client.prototype.query;\n    var diagnosticOriginalFunc = \"__diagnosticOriginalFunc\";\n    // wherever the callback is passed, find it, save it, and remove it from the call\n    // to the the original .query() function\n    originalPg.Client.prototype.query = function query(config, values, callback) {\n        var _this = this;\n        var callbackProvided = !!callback; // Starting in pg@7.x+, Promise is returned only if !callbackProvided\n        var data = {\n            query: {},\n            database: {\n                host: this.connectionParameters.host,\n                port: this.connectionParameters.port,\n            },\n            result: null,\n            error: null,\n            duration: 0,\n            time: new Date(),\n        };\n        var start = process.hrtime();\n        var queryResult;\n        function patchCallback(cb) {\n            if (cb && cb[diagnosticOriginalFunc]) {\n                cb = cb[diagnosticOriginalFunc];\n            }\n            var trackingCallback = diagnostic_channel_1.channel.bindToContext(function (err, res) {\n                var end = process.hrtime(start);\n                data.result = res && { rowCount: res.rowCount, command: res.command };\n                data.error = err;\n                data.duration = Math.ceil((end[0] * 1e3) + (end[1] / 1e6));\n                diagnostic_channel_1.channel.publish(\"postgres\", data);\n                if (err) {\n                    if (cb) {\n                        return cb.apply(this, arguments);\n                    }\n                    else if (queryResult && queryResult instanceof events_1.EventEmitter) {\n                        queryResult.emit(\"error\", err);\n                    }\n                }\n                else if (cb) {\n                    cb.apply(this, arguments);\n                }\n            });\n            try {\n                Object.defineProperty(trackingCallback, diagnosticOriginalFunc, { value: cb });\n                return trackingCallback;\n            }\n            catch (e) {\n                // this should never happen, but bailout in case it does\n                return cb;\n            }\n        }\n        // Only try to wrap the callback if it is a function. We want to keep the same\n        // behavior of returning a promise only if no callback is provided. Wrapping\n        // a nonfunction makes it a function and pg will interpret it as a callback\n        try {\n            if (typeof config === \"string\") {\n                if (values instanceof Array) {\n                    data.query.preparable = {\n                        text: config,\n                        args: values,\n                    };\n                    callbackProvided = typeof callback === \"function\";\n                    callback = callbackProvided ? patchCallback(callback) : callback;\n                }\n                else {\n                    data.query.text = config;\n                    if (callback) {\n                        callbackProvided = typeof callback === \"function\";\n                        callback = callbackProvided ? patchCallback(callback) : callback;\n                    }\n                    else {\n                        callbackProvided = typeof values === \"function\";\n                        values = callbackProvided ? patchCallback(values) : values;\n                    }\n                }\n            }\n            else {\n                if (typeof config.name === \"string\") {\n                    data.query.plan = config.name;\n                }\n                else if (config.values instanceof Array) {\n                    data.query.preparable = {\n                        text: config.text,\n                        args: config.values,\n                    };\n                }\n                else {\n                    data.query.text = config.text;\n                }\n                if (callback) {\n                    callbackProvided = typeof callback === \"function\";\n                    callback = patchCallback(callback);\n                }\n                else if (values) {\n                    callbackProvided = typeof values === \"function\";\n                    values = callbackProvided ? patchCallback(values) : values;\n                }\n                else {\n                    callbackProvided = typeof config.callback === \"function\";\n                    config.callback = callbackProvided ? patchCallback(config.callback) : config.callback;\n                }\n            }\n        }\n        catch (e) {\n            // if our logic here throws, bail out and just let pg do its thing\n            return originalClientQuery.apply(this, arguments);\n        }\n        arguments[0] = config;\n        arguments[1] = values;\n        arguments[2] = callback;\n        arguments.length = (arguments.length > 3) ? arguments.length : 3;\n        queryResult = originalClientQuery.apply(this, arguments);\n        if (!callbackProvided) {\n            // no callback, so create a pass along promise\n            return queryResult\n                // pass resolved promise after publishing the event\n                .then(function (result) {\n                patchCallback()(undefined, result);\n                return new _this._Promise(function (resolve, reject) {\n                    resolve(result);\n                });\n            })\n                // pass along rejected promise after publishing the error\n                .catch(function (error) {\n                patchCallback()(error, undefined);\n                return new _this._Promise(function (resolve, reject) {\n                    reject(error);\n                });\n            });\n        }\n        return queryResult;\n    };\n    return originalPg;\n}\nexports.postgres6 = {\n    versionSpecifier: \"6.*\",\n    patch: postgres6PatchFunction,\n};\nexports.postgres7 = {\n    versionSpecifier: \">=7.* <=8.*\",\n    patch: postgres7PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres6);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"pg\", exports.postgres7);\n}\nexports.enable = enable;\n//# sourceMappingURL=pg.pub.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar redisPatchFunction = function (originalRedis) {\n    var originalSend = originalRedis.RedisClient.prototype.internal_send_command;\n    // Note: This is mixing together both context tracking and dependency tracking\n    originalRedis.RedisClient.prototype.internal_send_command = function (commandObj) {\n        if (commandObj) {\n            var cb_1 = commandObj.callback;\n            if (!cb_1 || !cb_1.pubsubBound) {\n                var address_1 = this.address;\n                var startTime_1 = process.hrtime();\n                var startDate_1 = new Date();\n                // Note: augmenting the callback on internal_send_command is correct for context\n                // tracking, but may be too low-level for dependency tracking. There are some 'errors'\n                // which higher levels expect in some cases\n                // However, the only other option is to intercept every individual command.\n                commandObj.callback = diagnostic_channel_1.channel.bindToContext(function (err, result) {\n                    var hrDuration = process.hrtime(startTime_1);\n                    /* tslint:disable-next-line:no-bitwise */\n                    var duration = (hrDuration[0] * 1e3 + hrDuration[1] / 1e6) | 0;\n                    diagnostic_channel_1.channel.publish(\"redis\", { duration: duration, address: address_1, commandObj: commandObj, err: err, result: result, time: startDate_1 });\n                    if (typeof cb_1 === \"function\") {\n                        cb_1.apply(this, arguments);\n                    }\n                });\n                commandObj.callback.pubsubBound = true;\n            }\n        }\n        return originalSend.call(this, commandObj);\n    };\n    return originalRedis;\n};\nexports.redis = {\n    versionSpecifier: \">= 2.0.0 < 4.0.0\",\n    patch: redisPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"redis\", exports.redis);\n}\nexports.enable = enable;\n//# sourceMappingURL=redis.pub.js.map","\"use strict\";\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\nvar tediousPatchFunction = function (originalTedious) {\n    var originalMakeRequest = originalTedious.Connection.prototype.makeRequest;\n    originalTedious.Connection.prototype.makeRequest = function makeRequest() {\n        function getPatchedCallback(origCallback) {\n            var start = process.hrtime();\n            var data = {\n                query: {},\n                database: {\n                    host: null,\n                    port: null,\n                },\n                result: null,\n                error: null,\n                duration: 0,\n            };\n            return diagnostic_channel_1.channel.bindToContext(function (err, rowCount, rows) {\n                var end = process.hrtime(start);\n                data = __assign({}, data, { database: {\n                        host: this.connection.config.server,\n                        port: this.connection.config.options.port,\n                    }, result: !err && { rowCount: rowCount, rows: rows }, query: {\n                        text: this.parametersByName.statement.value,\n                    }, error: err, duration: Math.ceil((end[0] * 1e3) + (end[1] / 1e6)) });\n                diagnostic_channel_1.channel.publish(\"tedious\", data);\n                origCallback.call(this, err, rowCount, rows);\n            });\n        }\n        var request = arguments[0];\n        arguments[0].callback = getPatchedCallback(request.callback);\n        originalMakeRequest.apply(this, arguments);\n    };\n    return originalTedious;\n};\nexports.tedious = {\n    versionSpecifier: \">= 6.0.0 < 9.0.0\",\n    patch: tediousPatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"tedious\", exports.tedious);\n}\nexports.enable = enable;\n//# sourceMappingURL=tedious.pub.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\n            t[p[i]] = s[p[i]];\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// Copyright (c) Microsoft Corporation. All rights reserved.\n// Licensed under the MIT license. See LICENSE file in the project root for details.\nvar diagnostic_channel_1 = require(\"diagnostic-channel\");\n// register a \"filter\" with each logger that publishes the data about to be logged\nvar winston2PatchFunction = function (originalWinston) {\n    var originalLog = originalWinston.Logger.prototype.log;\n    var curLevels;\n    var loggingFilter = function (level, message, meta) {\n        var levelKind;\n        if (curLevels === originalWinston.config.npm.levels) {\n            levelKind = \"npm\";\n        }\n        else if (curLevels === originalWinston.config.syslog.levels) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        diagnostic_channel_1.channel.publish(\"winston\", { level: level, message: message, meta: meta, levelKind: levelKind });\n        return message;\n    };\n    // whenever someone logs, ensure our filter comes last\n    originalWinston.Logger.prototype.log = function log() {\n        curLevels = this.levels;\n        if (!this.filters || this.filters.length === 0) {\n            this.filters = [loggingFilter];\n        }\n        else if (this.filters[this.filters.length - 1] !== loggingFilter) {\n            this.filters = this.filters.filter(function (f) { return f !== loggingFilter; });\n            this.filters.push(loggingFilter);\n        }\n        return originalLog.apply(this, arguments);\n    };\n    return originalWinston;\n};\nvar winston3PatchFunction = function (originalWinston) {\n    var mapLevelToKind = function (winston, level) {\n        var levelKind;\n        if (winston.config.npm.levels[level] != null) {\n            levelKind = \"npm\";\n        }\n        else if (winston.config.syslog.levels[level] != null) {\n            levelKind = \"syslog\";\n        }\n        else {\n            levelKind = \"unknown\";\n        }\n        return levelKind;\n    };\n    var AppInsightsTransport = /** @class */ (function (_super) {\n        __extends(AppInsightsTransport, _super);\n        function AppInsightsTransport(winston, opts) {\n            var _this = _super.call(this, opts) || this;\n            _this.winston = winston;\n            return _this;\n        }\n        AppInsightsTransport.prototype.log = function (info, callback) {\n            // tslint:disable-next-line:prefer-const - try to obtain level from Symbol(level) afterwards\n            var message = info.message, level = info.level, meta = info.meta, splat = __rest(info, [\"message\", \"level\", \"meta\"]);\n            level = typeof Symbol[\"for\"] === \"function\" ? info[Symbol[\"for\"](\"level\")] : level; // Symbol(level) is uncolorized, so prefer getting it from here\n            message = info instanceof Error ? info : message; // Winston places Errors at info, strings at info.message\n            var levelKind = mapLevelToKind(this.winston, level);\n            meta = meta || {}; // Winston _somtimes_ puts metadata inside meta, so start from here\n            for (var key in splat) {\n                if (splat.hasOwnProperty(key)) {\n                    meta[key] = splat[key];\n                }\n            }\n            diagnostic_channel_1.channel.publish(\"winston\", { message: message, level: level, levelKind: levelKind, meta: meta });\n            callback();\n        };\n        return AppInsightsTransport;\n    }(originalWinston.Transport));\n    // Patch this function\n    function patchedConfigure() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        this.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n    }\n    var origCreate = originalWinston.createLogger;\n    originalWinston.createLogger = function patchedCreate() {\n        // Grab highest sev logging level in case of custom logging levels\n        var levels = arguments[0].levels || originalWinston.config.npm.levels;\n        var lastLevel;\n        for (var level in levels) {\n            if (levels.hasOwnProperty(level)) {\n                lastLevel = lastLevel === undefined || levels[level] > levels[lastLevel] ? level : lastLevel;\n            }\n        }\n        // Add custom app insights transport to the end\n        // Remark: Configure is not available until after createLogger()\n        // and the Logger prototype is not exported in winston 3.x, so\n        // patch both createLogger and configure. Could also call configure\n        // again after createLogger, but that would cause configure to be called\n        // twice per create.\n        var result = origCreate.apply(this, arguments);\n        result.add(new AppInsightsTransport(originalWinston, { level: lastLevel }));\n        var origConfigure = result.configure;\n        result.configure = function () {\n            origConfigure.apply(this, arguments);\n            patchedConfigure.apply(this, arguments);\n        };\n        return result;\n    };\n    var origRootConfigure = originalWinston.createLogger;\n    originalWinston.configure = function () {\n        origRootConfigure.apply(this, arguments);\n        patchedConfigure.apply(this, arguments);\n    };\n    originalWinston.add(new AppInsightsTransport(originalWinston));\n    return originalWinston;\n};\nexports.winston3 = {\n    versionSpecifier: \"3.x\",\n    patch: winston3PatchFunction,\n};\nexports.winston2 = {\n    versionSpecifier: \"2.x\",\n    patch: winston2PatchFunction,\n};\nfunction enable() {\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston2);\n    diagnostic_channel_1.channel.registerMonkeyPatch(\"winston\", exports.winston3);\n}\nexports.enable = enable;\n//# sourceMappingURL=winston.pub.js.map","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 4694;\nmodule.exports = webpackEmptyContext;","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 420;\nmodule.exports = webpackEmptyContext;","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar patchRequire_1 = require(\"./patchRequire\");\r\nvar patchRequire_2 = require(\"./patchRequire\");\r\nexports.makePatchingRequire = patchRequire_2.makePatchingRequire;\r\nvar trueFilter = function (publishing) { return true; };\r\nvar ContextPreservingEventEmitter = (function () {\r\n    function ContextPreservingEventEmitter() {\r\n        this.version = require(\"./../../package.json\").version; // Allow for future versions to replace things?\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        this.knownPatches = {};\r\n        this.currentlyPublishing = false;\r\n    }\r\n    ContextPreservingEventEmitter.prototype.shouldPublish = function (name) {\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            return listeners.some(function (_a) {\r\n                var filter = _a.filter;\r\n                return !filter || filter(false);\r\n            });\r\n        }\r\n        return false;\r\n    };\r\n    ContextPreservingEventEmitter.prototype.publish = function (name, event) {\r\n        if (this.currentlyPublishing) {\r\n            return; // Avoid reentrancy\r\n        }\r\n        var listeners = this.subscribers[name];\r\n        // Note: Listeners called synchronously to preserve context\r\n        if (listeners) {\r\n            var standardEvent_1 = {\r\n                timestamp: Date.now(),\r\n                data: event,\r\n            };\r\n            this.currentlyPublishing = true;\r\n            listeners.forEach(function (_a) {\r\n                var listener = _a.listener, filter = _a.filter;\r\n                try {\r\n                    if (filter && filter(true)) {\r\n                        listener(standardEvent_1);\r\n                    }\r\n                }\r\n                catch (e) {\r\n                    // Subscriber threw an error\r\n                }\r\n            });\r\n            this.currentlyPublishing = false;\r\n        }\r\n    };\r\n    ContextPreservingEventEmitter.prototype.subscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        if (!this.subscribers[name]) {\r\n            this.subscribers[name] = [];\r\n        }\r\n        this.subscribers[name].push({ listener: listener, filter: filter });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.unsubscribe = function (name, listener, filter) {\r\n        if (filter === void 0) { filter = trueFilter; }\r\n        var listeners = this.subscribers[name];\r\n        if (listeners) {\r\n            for (var index = 0; index < listeners.length; ++index) {\r\n                if (listeners[index].listener === listener && listeners[index].filter === filter) {\r\n                    listeners.splice(index, 1);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    // Used for tests\r\n    ContextPreservingEventEmitter.prototype.reset = function () {\r\n        var _this = this;\r\n        this.subscribers = {};\r\n        this.contextPreservationFunction = function (cb) { return cb; };\r\n        // Modify the knownPatches object rather than replace, since a reference will be used in the require patcher\r\n        Object.getOwnPropertyNames(this.knownPatches).forEach(function (prop) { return delete _this.knownPatches[prop]; });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.bindToContext = function (cb) {\r\n        return this.contextPreservationFunction(cb);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.addContextPreservation = function (preserver) {\r\n        var previousPreservationStack = this.contextPreservationFunction;\r\n        this.contextPreservationFunction = (function (cb) { return preserver(previousPreservationStack(cb)); });\r\n    };\r\n    ContextPreservingEventEmitter.prototype.registerMonkeyPatch = function (packageName, patcher) {\r\n        if (!this.knownPatches[packageName]) {\r\n            this.knownPatches[packageName] = [];\r\n        }\r\n        this.knownPatches[packageName].push(patcher);\r\n    };\r\n    ContextPreservingEventEmitter.prototype.getPatchesObject = function () {\r\n        return this.knownPatches;\r\n    };\r\n    return ContextPreservingEventEmitter;\r\n}());\r\nif (!global.diagnosticsSource) {\r\n    global.diagnosticsSource = new ContextPreservingEventEmitter();\r\n    // TODO: should this only patch require after at least one monkey patch is registered?\r\n    /* tslint:disable-next-line:no-var-requires */\r\n    var moduleModule = require(\"module\");\r\n    // Note: We pass in the object now before any patches are registered, but the object is passed by reference\r\n    // so any updates made to the object will be visible in the patcher.\r\n    moduleModule.prototype.require = patchRequire_1.makePatchingRequire(global.diagnosticsSource.getPatchesObject());\r\n}\r\nexports.channel = global.diagnosticsSource;\r\n//# sourceMappingURL=channel.js.map","\"use strict\";\r\n// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT license. See LICENSE file in the project root for details.\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar semver = require(\"semver\");\r\n/* tslint:disable-next-line:no-var-requires */\r\nvar moduleModule = require(\"module\");\r\nvar nativeModules = Object.keys(process.binding(\"natives\"));\r\nvar originalRequire = moduleModule.prototype.require;\r\nfunction makePatchingRequire(knownPatches) {\r\n    var patchedModules = {};\r\n    return function patchedRequire(moduleId) {\r\n        var originalModule = originalRequire.apply(this, arguments);\r\n        if (knownPatches[moduleId]) {\r\n            // Fetch the specific path of the module\r\n            var modulePath = moduleModule._resolveFilename(moduleId, this);\r\n            if (patchedModules.hasOwnProperty(modulePath)) {\r\n                // This module has already been patched, no need to reapply\r\n                return patchedModules[modulePath];\r\n            }\r\n            var moduleVersion = void 0;\r\n            if (nativeModules.indexOf(moduleId) < 0) {\r\n                try {\r\n                    moduleVersion = originalRequire.call(this, path.join(moduleId, \"package.json\")).version;\r\n                }\r\n                catch (e) {\r\n                    // This should only happen if moduleId is actually a path rather than a module\r\n                    // This is not a supported scenario\r\n                    return originalModule;\r\n                }\r\n            }\r\n            else {\r\n                // This module is implemented natively so we cannot find a package.json\r\n                // Instead, take the version of node itself\r\n                moduleVersion = process.version.substring(1);\r\n            }\r\n            var prereleaseTagIndex = moduleVersion.indexOf(\"-\");\r\n            if (prereleaseTagIndex >= 0) {\r\n                // We ignore prerelease tags to avoid impossible to fix gaps in support\r\n                // e.g. supporting console in >= 4.0.0 would otherwise not include\r\n                // 8.0.0-pre\r\n                moduleVersion = moduleVersion.substring(0, prereleaseTagIndex);\r\n            }\r\n            var modifiedModule = originalModule;\r\n            for (var _i = 0, _a = knownPatches[moduleId]; _i < _a.length; _i++) {\r\n                var modulePatcher = _a[_i];\r\n                if (semver.satisfies(moduleVersion, modulePatcher.versionSpecifier)) {\r\n                    modifiedModule = modulePatcher.patch(modifiedModule, modulePath);\r\n                }\r\n            }\r\n            return patchedModules[modulePath] = modifiedModule;\r\n        }\r\n        return originalModule;\r\n    };\r\n}\r\nexports.makePatchingRequire = makePatchingRequire;\r\n//# sourceMappingURL=patchRequire.js.map","'use strict';\n\nvar shimmer = require('shimmer');\nvar wrap    = shimmer.wrap;\nvar unwrap  = shimmer.unwrap;\n\n// Default to complaining loudly when things don't go according to plan.\n// dunderscores are boring\nvar SYMBOL = 'wrap@before';\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty(obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name);\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  });\n}\n\nfunction _process(self, listeners) {\n  var l = listeners.length;\n  for (var p = 0; p < l; p++) {\n    var listener = listeners[p];\n    // set up the listener so that onEmit can do whatever it needs\n    var before = self[SYMBOL];\n    if (typeof before === 'function') {\n      before(listener);\n    }\n    else if (Array.isArray(before)) {\n      var length = before.length;\n      for (var i = 0; i < length; i++) before[i](listener);\n    }\n  }\n}\n\nfunction _listeners(self, event) {\n  var listeners;\n  listeners = self._events && self._events[event];\n  if (!Array.isArray(listeners)) {\n    if (listeners) {\n      listeners = [listeners];\n    }\n    else {\n      listeners = [];\n    }\n  }\n\n  return listeners;\n}\n\nfunction _findAndProcess(self, event, before) {\n  var after = _listeners(self, event);\n  var unprocessed = after.filter(function(fn) { return before.indexOf(fn) === -1; });\n  if (unprocessed.length > 0) _process(self, unprocessed);\n}\n\nfunction _wrap(unwrapped, visit) {\n  if (!unwrapped) return;\n\n  var wrapped = unwrapped;\n  if (typeof unwrapped === 'function') {\n    wrapped = visit(unwrapped);\n  }\n  else if (Array.isArray(unwrapped)) {\n    wrapped = [];\n    for (var i = 0; i < unwrapped.length; i++) {\n      wrapped[i] = visit(unwrapped[i]);\n    }\n  }\n  return wrapped;\n}\n\nmodule.exports = function wrapEmitter(emitter, onAddListener, onEmit) {\n  if (!emitter || !emitter.on || !emitter.addListener ||\n      !emitter.removeListener || !emitter.emit) {\n    throw new Error(\"can only wrap real EEs\");\n  }\n\n  if (!onAddListener) throw new Error(\"must have function to run on listener addition\");\n  if (!onEmit) throw new Error(\"must have function to wrap listeners when emitting\");\n\n  /* Attach a context to a listener, and make sure that this hook stays\n   * attached to the emitter forevermore.\n   */\n  function adding(on) {\n    return function added(event, listener) {\n      var existing = _listeners(this, event).slice();\n\n      try {\n        var returned = on.call(this, event, listener);\n        _findAndProcess(this, event, existing);\n        return returned;\n      }\n      finally {\n        // old-style streaming overwrites .on and .addListener, so rewrap\n        if (!this.on.__wrapped) wrap(this, 'on', adding);\n        if (!this.addListener.__wrapped) wrap(this, 'addListener', adding);\n      }\n    };\n  }\n\n  function emitting(emit) {\n    return function emitted(event) {\n      if (!this._events || !this._events[event]) return emit.apply(this, arguments);\n\n      var unwrapped = this._events[event];\n\n      /* Ensure that if removeListener gets called, it's working with the\n       * unwrapped listeners.\n       */\n      function remover(removeListener) {\n        return function removed() {\n          this._events[event] = unwrapped;\n          try {\n            return removeListener.apply(this, arguments);\n          }\n          finally {\n            unwrapped = this._events[event];\n            this._events[event] = _wrap(unwrapped, onEmit);\n          }\n        };\n      }\n      wrap(this, 'removeListener', remover);\n\n      try {\n        /* At emit time, ensure that whatever else is going on, removeListener will\n         * still work while at the same time running whatever hooks are necessary to\n         * make sure the listener is run in the correct context.\n         */\n        this._events[event] = _wrap(unwrapped, onEmit);\n        return emit.apply(this, arguments);\n      }\n      finally {\n        /* Ensure that regardless of what happens when preparing and running the\n         * listeners, the status quo ante is restored before continuing.\n         */\n        unwrap(this, 'removeListener');\n        this._events[event] = unwrapped;\n      }\n    };\n  }\n\n  // support multiple onAddListeners\n  if (!emitter[SYMBOL]) {\n    defineProperty(emitter, SYMBOL, onAddListener);\n  }\n  else if (typeof emitter[SYMBOL] === 'function') {\n    defineProperty(emitter, SYMBOL, [emitter[SYMBOL], onAddListener]);\n  }\n  else if (Array.isArray(emitter[SYMBOL])) {\n    emitter[SYMBOL].push(onAddListener);\n  }\n\n  // only wrap the core functions once\n  if (!emitter.__wrapped) {\n    wrap(emitter, 'addListener', adding);\n    wrap(emitter, 'on',          adding);\n    wrap(emitter, 'emit',        emitting);\n\n    defineProperty(emitter, '__unwrap', function () {\n      unwrap(emitter, 'addListener');\n      unwrap(emitter, 'on');\n      unwrap(emitter, 'emit');\n      delete emitter[SYMBOL];\n      delete emitter.__wrapped;\n    });\n    defineProperty(emitter, '__wrapped', true);\n  }\n};\n","\"use strict\";\nconst taskManager = require(\"./managers/tasks\");\nconst async_1 = require(\"./providers/async\");\nconst stream_1 = require(\"./providers/stream\");\nconst sync_1 = require(\"./providers/sync\");\nconst settings_1 = require(\"./settings\");\nconst utils = require(\"./utils\");\nasync function FastGlob(source, options) {\n    assertPatternsInput(source);\n    const works = getWorks(source, async_1.default, options);\n    const result = await Promise.all(works);\n    return utils.array.flatten(result);\n}\n// https://github.com/typescript-eslint/typescript-eslint/issues/60\n// eslint-disable-next-line no-redeclare\n(function (FastGlob) {\n    function sync(source, options) {\n        assertPatternsInput(source);\n        const works = getWorks(source, sync_1.default, options);\n        return utils.array.flatten(works);\n    }\n    FastGlob.sync = sync;\n    function stream(source, options) {\n        assertPatternsInput(source);\n        const works = getWorks(source, stream_1.default, options);\n        /**\n         * The stream returned by the provider cannot work with an asynchronous iterator.\n         * To support asynchronous iterators, regardless of the number of tasks, we always multiplex streams.\n         * This affects performance (+25%). I don't see best solution right now.\n         */\n        return utils.stream.merge(works);\n    }\n    FastGlob.stream = stream;\n    function generateTasks(source, options) {\n        assertPatternsInput(source);\n        const patterns = [].concat(source);\n        const settings = new settings_1.default(options);\n        return taskManager.generate(patterns, settings);\n    }\n    FastGlob.generateTasks = generateTasks;\n    function isDynamicPattern(source, options) {\n        assertPatternsInput(source);\n        const settings = new settings_1.default(options);\n        return utils.pattern.isDynamicPattern(source, settings);\n    }\n    FastGlob.isDynamicPattern = isDynamicPattern;\n    function escapePath(source) {\n        assertPatternsInput(source);\n        return utils.path.escape(source);\n    }\n    FastGlob.escapePath = escapePath;\n})(FastGlob || (FastGlob = {}));\nfunction getWorks(source, _Provider, options) {\n    const patterns = [].concat(source);\n    const settings = new settings_1.default(options);\n    const tasks = taskManager.generate(patterns, settings);\n    const provider = new _Provider(settings);\n    return tasks.map(provider.read, provider);\n}\nfunction assertPatternsInput(input) {\n    const source = [].concat(input);\n    const isValidSource = source.every((item) => utils.string.isString(item) && !utils.string.isEmpty(item));\n    if (!isValidSource) {\n        throw new TypeError('Patterns must be a string (non empty) or an array of strings');\n    }\n}\nmodule.exports = FastGlob;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.convertPatternGroupToTask = exports.convertPatternGroupsToTasks = exports.groupPatternsByBaseDirectory = exports.getNegativePatternsAsPositive = exports.getPositivePatterns = exports.convertPatternsToTasks = exports.generate = void 0;\nconst utils = require(\"../utils\");\nfunction generate(patterns, settings) {\n    const positivePatterns = getPositivePatterns(patterns);\n    const negativePatterns = getNegativePatternsAsPositive(patterns, settings.ignore);\n    const staticPatterns = positivePatterns.filter((pattern) => utils.pattern.isStaticPattern(pattern, settings));\n    const dynamicPatterns = positivePatterns.filter((pattern) => utils.pattern.isDynamicPattern(pattern, settings));\n    const staticTasks = convertPatternsToTasks(staticPatterns, negativePatterns, /* dynamic */ false);\n    const dynamicTasks = convertPatternsToTasks(dynamicPatterns, negativePatterns, /* dynamic */ true);\n    return staticTasks.concat(dynamicTasks);\n}\nexports.generate = generate;\n/**\n * Returns tasks grouped by basic pattern directories.\n *\n * Patterns that can be found inside (`./`) and outside (`../`) the current directory are handled separately.\n * This is necessary because directory traversal starts at the base directory and goes deeper.\n */\nfunction convertPatternsToTasks(positive, negative, dynamic) {\n    const tasks = [];\n    const patternsOutsideCurrentDirectory = utils.pattern.getPatternsOutsideCurrentDirectory(positive);\n    const patternsInsideCurrentDirectory = utils.pattern.getPatternsInsideCurrentDirectory(positive);\n    const outsideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsOutsideCurrentDirectory);\n    const insideCurrentDirectoryGroup = groupPatternsByBaseDirectory(patternsInsideCurrentDirectory);\n    tasks.push(...convertPatternGroupsToTasks(outsideCurrentDirectoryGroup, negative, dynamic));\n    /*\n     * For the sake of reducing future accesses to the file system, we merge all tasks within the current directory\n     * into a global task, if at least one pattern refers to the root (`.`). In this case, the global task covers the rest.\n     */\n    if ('.' in insideCurrentDirectoryGroup) {\n        tasks.push(convertPatternGroupToTask('.', patternsInsideCurrentDirectory, negative, dynamic));\n    }\n    else {\n        tasks.push(...convertPatternGroupsToTasks(insideCurrentDirectoryGroup, negative, dynamic));\n    }\n    return tasks;\n}\nexports.convertPatternsToTasks = convertPatternsToTasks;\nfunction getPositivePatterns(patterns) {\n    return utils.pattern.getPositivePatterns(patterns);\n}\nexports.getPositivePatterns = getPositivePatterns;\nfunction getNegativePatternsAsPositive(patterns, ignore) {\n    const negative = utils.pattern.getNegativePatterns(patterns).concat(ignore);\n    const positive = negative.map(utils.pattern.convertToPositivePattern);\n    return positive;\n}\nexports.getNegativePatternsAsPositive = getNegativePatternsAsPositive;\nfunction groupPatternsByBaseDirectory(patterns) {\n    const group = {};\n    return patterns.reduce((collection, pattern) => {\n        const base = utils.pattern.getBaseDirectory(pattern);\n        if (base in collection) {\n            collection[base].push(pattern);\n        }\n        else {\n            collection[base] = [pattern];\n        }\n        return collection;\n    }, group);\n}\nexports.groupPatternsByBaseDirectory = groupPatternsByBaseDirectory;\nfunction convertPatternGroupsToTasks(positive, negative, dynamic) {\n    return Object.keys(positive).map((base) => {\n        return convertPatternGroupToTask(base, positive[base], negative, dynamic);\n    });\n}\nexports.convertPatternGroupsToTasks = convertPatternGroupsToTasks;\nfunction convertPatternGroupToTask(base, positive, negative, dynamic) {\n    return {\n        dynamic,\n        positive,\n        negative,\n        base,\n        patterns: [].concat(positive, negative.map(utils.pattern.convertToNegativePattern))\n    };\n}\nexports.convertPatternGroupToTask = convertPatternGroupToTask;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"../readers/stream\");\nconst provider_1 = require(\"./provider\");\nclass ProviderAsync extends provider_1.default {\n    constructor() {\n        super(...arguments);\n        this._reader = new stream_1.default(this._settings);\n    }\n    read(task) {\n        const root = this._getRootDirectory(task);\n        const options = this._getReaderOptions(task);\n        const entries = [];\n        return new Promise((resolve, reject) => {\n            const stream = this.api(root, task, options);\n            stream.once('error', reject);\n            stream.on('data', (entry) => entries.push(options.transform(entry)));\n            stream.once('end', () => resolve(entries));\n        });\n    }\n    api(root, task, options) {\n        if (task.dynamic) {\n            return this._reader.dynamic(root, options);\n        }\n        return this._reader.static(task.patterns, options);\n    }\n}\nexports.default = ProviderAsync;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nconst partial_1 = require(\"../matchers/partial\");\nclass DeepFilter {\n    constructor(_settings, _micromatchOptions) {\n        this._settings = _settings;\n        this._micromatchOptions = _micromatchOptions;\n    }\n    getFilter(basePath, positive, negative) {\n        const matcher = this._getMatcher(positive);\n        const negativeRe = this._getNegativePatternsRe(negative);\n        return (entry) => this._filter(basePath, entry, matcher, negativeRe);\n    }\n    _getMatcher(patterns) {\n        return new partial_1.default(patterns, this._settings, this._micromatchOptions);\n    }\n    _getNegativePatternsRe(patterns) {\n        const affectDepthOfReadingPatterns = patterns.filter(utils.pattern.isAffectDepthOfReadingPattern);\n        return utils.pattern.convertPatternsToRe(affectDepthOfReadingPatterns, this._micromatchOptions);\n    }\n    _filter(basePath, entry, matcher, negativeRe) {\n        if (this._isSkippedByDeep(basePath, entry.path)) {\n            return false;\n        }\n        if (this._isSkippedSymbolicLink(entry)) {\n            return false;\n        }\n        const filepath = utils.path.removeLeadingDotSegment(entry.path);\n        if (this._isSkippedByPositivePatterns(filepath, matcher)) {\n            return false;\n        }\n        return this._isSkippedByNegativePatterns(filepath, negativeRe);\n    }\n    _isSkippedByDeep(basePath, entryPath) {\n        /**\n         * Avoid unnecessary depth calculations when it doesn't matter.\n         */\n        if (this._settings.deep === Infinity) {\n            return false;\n        }\n        return this._getEntryLevel(basePath, entryPath) >= this._settings.deep;\n    }\n    _getEntryLevel(basePath, entryPath) {\n        const entryPathDepth = entryPath.split('/').length;\n        if (basePath === '') {\n            return entryPathDepth;\n        }\n        const basePathDepth = basePath.split('/').length;\n        return entryPathDepth - basePathDepth;\n    }\n    _isSkippedSymbolicLink(entry) {\n        return !this._settings.followSymbolicLinks && entry.dirent.isSymbolicLink();\n    }\n    _isSkippedByPositivePatterns(entryPath, matcher) {\n        return !this._settings.baseNameMatch && !matcher.match(entryPath);\n    }\n    _isSkippedByNegativePatterns(entryPath, patternsRe) {\n        return !utils.pattern.matchAny(entryPath, patternsRe);\n    }\n}\nexports.default = DeepFilter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nclass EntryFilter {\n    constructor(_settings, _micromatchOptions) {\n        this._settings = _settings;\n        this._micromatchOptions = _micromatchOptions;\n        this.index = new Map();\n    }\n    getFilter(positive, negative) {\n        const positiveRe = utils.pattern.convertPatternsToRe(positive, this._micromatchOptions);\n        const negativeRe = utils.pattern.convertPatternsToRe(negative, this._micromatchOptions);\n        return (entry) => this._filter(entry, positiveRe, negativeRe);\n    }\n    _filter(entry, positiveRe, negativeRe) {\n        if (this._settings.unique && this._isDuplicateEntry(entry)) {\n            return false;\n        }\n        if (this._onlyFileFilter(entry) || this._onlyDirectoryFilter(entry)) {\n            return false;\n        }\n        if (this._isSkippedByAbsoluteNegativePatterns(entry.path, negativeRe)) {\n            return false;\n        }\n        const filepath = this._settings.baseNameMatch ? entry.name : entry.path;\n        const isMatched = this._isMatchToPatterns(filepath, positiveRe) && !this._isMatchToPatterns(entry.path, negativeRe);\n        if (this._settings.unique && isMatched) {\n            this._createIndexRecord(entry);\n        }\n        return isMatched;\n    }\n    _isDuplicateEntry(entry) {\n        return this.index.has(entry.path);\n    }\n    _createIndexRecord(entry) {\n        this.index.set(entry.path, undefined);\n    }\n    _onlyFileFilter(entry) {\n        return this._settings.onlyFiles && !entry.dirent.isFile();\n    }\n    _onlyDirectoryFilter(entry) {\n        return this._settings.onlyDirectories && !entry.dirent.isDirectory();\n    }\n    _isSkippedByAbsoluteNegativePatterns(entryPath, patternsRe) {\n        if (!this._settings.absolute) {\n            return false;\n        }\n        const fullpath = utils.path.makeAbsolute(this._settings.cwd, entryPath);\n        return utils.pattern.matchAny(fullpath, patternsRe);\n    }\n    _isMatchToPatterns(entryPath, patternsRe) {\n        const filepath = utils.path.removeLeadingDotSegment(entryPath);\n        return utils.pattern.matchAny(filepath, patternsRe);\n    }\n}\nexports.default = EntryFilter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nclass ErrorFilter {\n    constructor(_settings) {\n        this._settings = _settings;\n    }\n    getFilter() {\n        return (error) => this._isNonFatalError(error);\n    }\n    _isNonFatalError(error) {\n        return utils.errno.isEnoentCodeError(error) || this._settings.suppressErrors;\n    }\n}\nexports.default = ErrorFilter;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nclass Matcher {\n    constructor(_patterns, _settings, _micromatchOptions) {\n        this._patterns = _patterns;\n        this._settings = _settings;\n        this._micromatchOptions = _micromatchOptions;\n        this._storage = [];\n        this._fillStorage();\n    }\n    _fillStorage() {\n        /**\n         * The original pattern may include `{,*,**,a/*}`, which will lead to problems with matching (unresolved level).\n         * So, before expand patterns with brace expansion into separated patterns.\n         */\n        const patterns = utils.pattern.expandPatternsWithBraceExpansion(this._patterns);\n        for (const pattern of patterns) {\n            const segments = this._getPatternSegments(pattern);\n            const sections = this._splitSegmentsIntoSections(segments);\n            this._storage.push({\n                complete: sections.length <= 1,\n                pattern,\n                segments,\n                sections\n            });\n        }\n    }\n    _getPatternSegments(pattern) {\n        const parts = utils.pattern.getPatternParts(pattern, this._micromatchOptions);\n        return parts.map((part) => {\n            const dynamic = utils.pattern.isDynamicPattern(part, this._settings);\n            if (!dynamic) {\n                return {\n                    dynamic: false,\n                    pattern: part\n                };\n            }\n            return {\n                dynamic: true,\n                pattern: part,\n                patternRe: utils.pattern.makeRe(part, this._micromatchOptions)\n            };\n        });\n    }\n    _splitSegmentsIntoSections(segments) {\n        return utils.array.splitWhen(segments, (segment) => segment.dynamic && utils.pattern.hasGlobStar(segment.pattern));\n    }\n}\nexports.default = Matcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst matcher_1 = require(\"./matcher\");\nclass PartialMatcher extends matcher_1.default {\n    match(filepath) {\n        const parts = filepath.split('/');\n        const levels = parts.length;\n        const patterns = this._storage.filter((info) => !info.complete || info.segments.length > levels);\n        for (const pattern of patterns) {\n            const section = pattern.sections[0];\n            /**\n             * In this case, the pattern has a globstar and we must read all directories unconditionally,\n             * but only if the level has reached the end of the first group.\n             *\n             * fixtures/{a,b}/**\n             *  ^ true/false  ^ always true\n            */\n            if (!pattern.complete && levels > section.length) {\n                return true;\n            }\n            const match = parts.every((part, index) => {\n                const segment = pattern.segments[index];\n                if (segment.dynamic && segment.patternRe.test(part)) {\n                    return true;\n                }\n                if (!segment.dynamic && segment.pattern === part) {\n                    return true;\n                }\n                return false;\n            });\n            if (match) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\nexports.default = PartialMatcher;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst deep_1 = require(\"./filters/deep\");\nconst entry_1 = require(\"./filters/entry\");\nconst error_1 = require(\"./filters/error\");\nconst entry_2 = require(\"./transformers/entry\");\nclass Provider {\n    constructor(_settings) {\n        this._settings = _settings;\n        this.errorFilter = new error_1.default(this._settings);\n        this.entryFilter = new entry_1.default(this._settings, this._getMicromatchOptions());\n        this.deepFilter = new deep_1.default(this._settings, this._getMicromatchOptions());\n        this.entryTransformer = new entry_2.default(this._settings);\n    }\n    _getRootDirectory(task) {\n        return path.resolve(this._settings.cwd, task.base);\n    }\n    _getReaderOptions(task) {\n        const basePath = task.base === '.' ? '' : task.base;\n        return {\n            basePath,\n            pathSegmentSeparator: '/',\n            concurrency: this._settings.concurrency,\n            deepFilter: this.deepFilter.getFilter(basePath, task.positive, task.negative),\n            entryFilter: this.entryFilter.getFilter(task.positive, task.negative),\n            errorFilter: this.errorFilter.getFilter(),\n            followSymbolicLinks: this._settings.followSymbolicLinks,\n            fs: this._settings.fs,\n            stats: this._settings.stats,\n            throwErrorOnBrokenSymbolicLink: this._settings.throwErrorOnBrokenSymbolicLink,\n            transform: this.entryTransformer.getTransformer()\n        };\n    }\n    _getMicromatchOptions() {\n        return {\n            dot: this._settings.dot,\n            matchBase: this._settings.baseNameMatch,\n            nobrace: !this._settings.braceExpansion,\n            nocase: !this._settings.caseSensitiveMatch,\n            noext: !this._settings.extglob,\n            noglobstar: !this._settings.globstar,\n            posix: true,\n            strictSlashes: false\n        };\n    }\n}\nexports.default = Provider;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst stream_2 = require(\"../readers/stream\");\nconst provider_1 = require(\"./provider\");\nclass ProviderStream extends provider_1.default {\n    constructor() {\n        super(...arguments);\n        this._reader = new stream_2.default(this._settings);\n    }\n    read(task) {\n        const root = this._getRootDirectory(task);\n        const options = this._getReaderOptions(task);\n        const source = this.api(root, task, options);\n        const destination = new stream_1.Readable({ objectMode: true, read: () => { } });\n        source\n            .once('error', (error) => destination.emit('error', error))\n            .on('data', (entry) => destination.emit('data', options.transform(entry)))\n            .once('end', () => destination.emit('end'));\n        destination\n            .once('close', () => source.destroy());\n        return destination;\n    }\n    api(root, task, options) {\n        if (task.dynamic) {\n            return this._reader.dynamic(root, options);\n        }\n        return this._reader.static(task.patterns, options);\n    }\n}\nexports.default = ProviderStream;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst sync_1 = require(\"../readers/sync\");\nconst provider_1 = require(\"./provider\");\nclass ProviderSync extends provider_1.default {\n    constructor() {\n        super(...arguments);\n        this._reader = new sync_1.default(this._settings);\n    }\n    read(task) {\n        const root = this._getRootDirectory(task);\n        const options = this._getReaderOptions(task);\n        const entries = this.api(root, task, options);\n        return entries.map(options.transform);\n    }\n    api(root, task, options) {\n        if (task.dynamic) {\n            return this._reader.dynamic(root, options);\n        }\n        return this._reader.static(task.patterns, options);\n    }\n}\nexports.default = ProviderSync;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst utils = require(\"../../utils\");\nclass EntryTransformer {\n    constructor(_settings) {\n        this._settings = _settings;\n    }\n    getTransformer() {\n        return (entry) => this._transform(entry);\n    }\n    _transform(entry) {\n        let filepath = entry.path;\n        if (this._settings.absolute) {\n            filepath = utils.path.makeAbsolute(this._settings.cwd, filepath);\n            filepath = utils.path.unixify(filepath);\n        }\n        if (this._settings.markDirectories && entry.dirent.isDirectory()) {\n            filepath += '/';\n        }\n        if (!this._settings.objectMode) {\n            return filepath;\n        }\n        return Object.assign(Object.assign({}, entry), { path: filepath });\n    }\n}\nexports.default = EntryTransformer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst path = require(\"path\");\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst utils = require(\"../utils\");\nclass Reader {\n    constructor(_settings) {\n        this._settings = _settings;\n        this._fsStatSettings = new fsStat.Settings({\n            followSymbolicLink: this._settings.followSymbolicLinks,\n            fs: this._settings.fs,\n            throwErrorOnBrokenSymbolicLink: this._settings.followSymbolicLinks\n        });\n    }\n    _getFullEntryPath(filepath) {\n        return path.resolve(this._settings.cwd, filepath);\n    }\n    _makeEntry(stats, pattern) {\n        const entry = {\n            name: pattern,\n            path: pattern,\n            dirent: utils.fs.createDirentFromStats(pattern, stats)\n        };\n        if (this._settings.stats) {\n            entry.stats = stats;\n        }\n        return entry;\n    }\n    _isFatalError(error) {\n        return !utils.errno.isEnoentCodeError(error) && !this._settings.suppressErrors;\n    }\n}\nexports.default = Reader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst stream_1 = require(\"stream\");\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst fsWalk = require(\"@nodelib/fs.walk\");\nconst reader_1 = require(\"./reader\");\nclass ReaderStream extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._walkStream = fsWalk.walkStream;\n        this._stat = fsStat.stat;\n    }\n    dynamic(root, options) {\n        return this._walkStream(root, options);\n    }\n    static(patterns, options) {\n        const filepaths = patterns.map(this._getFullEntryPath, this);\n        const stream = new stream_1.PassThrough({ objectMode: true });\n        stream._write = (index, _enc, done) => {\n            return this._getEntry(filepaths[index], patterns[index], options)\n                .then((entry) => {\n                if (entry !== null && options.entryFilter(entry)) {\n                    stream.push(entry);\n                }\n                if (index === filepaths.length - 1) {\n                    stream.end();\n                }\n                done();\n            })\n                .catch(done);\n        };\n        for (let i = 0; i < filepaths.length; i++) {\n            stream.write(i);\n        }\n        return stream;\n    }\n    _getEntry(filepath, pattern, options) {\n        return this._getStat(filepath)\n            .then((stats) => this._makeEntry(stats, pattern))\n            .catch((error) => {\n            if (options.errorFilter(error)) {\n                return null;\n            }\n            throw error;\n        });\n    }\n    _getStat(filepath) {\n        return new Promise((resolve, reject) => {\n            this._stat(filepath, this._fsStatSettings, (error, stats) => {\n                return error === null ? resolve(stats) : reject(error);\n            });\n        });\n    }\n}\nexports.default = ReaderStream;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst fsStat = require(\"@nodelib/fs.stat\");\nconst fsWalk = require(\"@nodelib/fs.walk\");\nconst reader_1 = require(\"./reader\");\nclass ReaderSync extends reader_1.default {\n    constructor() {\n        super(...arguments);\n        this._walkSync = fsWalk.walkSync;\n        this._statSync = fsStat.statSync;\n    }\n    dynamic(root, options) {\n        return this._walkSync(root, options);\n    }\n    static(patterns, options) {\n        const entries = [];\n        for (const pattern of patterns) {\n            const filepath = this._getFullEntryPath(pattern);\n            const entry = this._getEntry(filepath, pattern, options);\n            if (entry === null || !options.entryFilter(entry)) {\n                continue;\n            }\n            entries.push(entry);\n        }\n        return entries;\n    }\n    _getEntry(filepath, pattern, options) {\n        try {\n            const stats = this._getStat(filepath);\n            return this._makeEntry(stats, pattern);\n        }\n        catch (error) {\n            if (options.errorFilter(error)) {\n                return null;\n            }\n            throw error;\n        }\n    }\n    _getStat(filepath) {\n        return this._statSync(filepath, this._fsStatSettings);\n    }\n}\nexports.default = ReaderSync;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DEFAULT_FILE_SYSTEM_ADAPTER = void 0;\nconst fs = require(\"fs\");\nconst os = require(\"os\");\n/**\n * The `os.cpus` method can return zero. We expect the number of cores to be greater than zero.\n * https://github.com/nodejs/node/blob/7faeddf23a98c53896f8b574a6e66589e8fb1eb8/lib/os.js#L106-L107\n */\nconst CPU_COUNT = Math.max(os.cpus().length, 1);\nexports.DEFAULT_FILE_SYSTEM_ADAPTER = {\n    lstat: fs.lstat,\n    lstatSync: fs.lstatSync,\n    stat: fs.stat,\n    statSync: fs.statSync,\n    readdir: fs.readdir,\n    readdirSync: fs.readdirSync\n};\nclass Settings {\n    constructor(_options = {}) {\n        this._options = _options;\n        this.absolute = this._getValue(this._options.absolute, false);\n        this.baseNameMatch = this._getValue(this._options.baseNameMatch, false);\n        this.braceExpansion = this._getValue(this._options.braceExpansion, true);\n        this.caseSensitiveMatch = this._getValue(this._options.caseSensitiveMatch, true);\n        this.concurrency = this._getValue(this._options.concurrency, CPU_COUNT);\n        this.cwd = this._getValue(this._options.cwd, process.cwd());\n        this.deep = this._getValue(this._options.deep, Infinity);\n        this.dot = this._getValue(this._options.dot, false);\n        this.extglob = this._getValue(this._options.extglob, true);\n        this.followSymbolicLinks = this._getValue(this._options.followSymbolicLinks, true);\n        this.fs = this._getFileSystemMethods(this._options.fs);\n        this.globstar = this._getValue(this._options.globstar, true);\n        this.ignore = this._getValue(this._options.ignore, []);\n        this.markDirectories = this._getValue(this._options.markDirectories, false);\n        this.objectMode = this._getValue(this._options.objectMode, false);\n        this.onlyDirectories = this._getValue(this._options.onlyDirectories, false);\n        this.onlyFiles = this._getValue(this._options.onlyFiles, true);\n        this.stats = this._getValue(this._options.stats, false);\n        this.suppressErrors = this._getValue(this._options.suppressErrors, false);\n        this.throwErrorOnBrokenSymbolicLink = this._getValue(this._options.throwErrorOnBrokenSymbolicLink, false);\n        this.unique = this._getValue(this._options.unique, true);\n        if (this.onlyDirectories) {\n            this.onlyFiles = false;\n        }\n        if (this.stats) {\n            this.objectMode = true;\n        }\n    }\n    _getValue(option, value) {\n        return option === undefined ? value : option;\n    }\n    _getFileSystemMethods(methods = {}) {\n        return Object.assign(Object.assign({}, exports.DEFAULT_FILE_SYSTEM_ADAPTER), methods);\n    }\n}\nexports.default = Settings;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.splitWhen = exports.flatten = void 0;\nfunction flatten(items) {\n    return items.reduce((collection, item) => [].concat(collection, item), []);\n}\nexports.flatten = flatten;\nfunction splitWhen(items, predicate) {\n    const result = [[]];\n    let groupIndex = 0;\n    for (const item of items) {\n        if (predicate(item)) {\n            groupIndex++;\n            result[groupIndex] = [];\n        }\n        else {\n            result[groupIndex].push(item);\n        }\n    }\n    return result;\n}\nexports.splitWhen = splitWhen;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEnoentCodeError = void 0;\nfunction isEnoentCodeError(error) {\n    return error.code === 'ENOENT';\n}\nexports.isEnoentCodeError = isEnoentCodeError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createDirentFromStats = void 0;\nclass DirentFromStats {\n    constructor(name, stats) {\n        this.name = name;\n        this.isBlockDevice = stats.isBlockDevice.bind(stats);\n        this.isCharacterDevice = stats.isCharacterDevice.bind(stats);\n        this.isDirectory = stats.isDirectory.bind(stats);\n        this.isFIFO = stats.isFIFO.bind(stats);\n        this.isFile = stats.isFile.bind(stats);\n        this.isSocket = stats.isSocket.bind(stats);\n        this.isSymbolicLink = stats.isSymbolicLink.bind(stats);\n    }\n}\nfunction createDirentFromStats(name, stats) {\n    return new DirentFromStats(name, stats);\n}\nexports.createDirentFromStats = createDirentFromStats;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.string = exports.stream = exports.pattern = exports.path = exports.fs = exports.errno = exports.array = void 0;\nconst array = require(\"./array\");\nexports.array = array;\nconst errno = require(\"./errno\");\nexports.errno = errno;\nconst fs = require(\"./fs\");\nexports.fs = fs;\nconst path = require(\"./path\");\nexports.path = path;\nconst pattern = require(\"./pattern\");\nexports.pattern = pattern;\nconst stream = require(\"./stream\");\nexports.stream = stream;\nconst string = require(\"./string\");\nexports.string = string;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.removeLeadingDotSegment = exports.escape = exports.makeAbsolute = exports.unixify = void 0;\nconst path = require(\"path\");\nconst LEADING_DOT_SEGMENT_CHARACTERS_COUNT = 2; // ./ or .\\\\\nconst UNESCAPED_GLOB_SYMBOLS_RE = /(\\\\?)([()*?[\\]{|}]|^!|[!+@](?=\\())/g;\n/**\n * Designed to work only with simple paths: `dir\\\\file`.\n */\nfunction unixify(filepath) {\n    return filepath.replace(/\\\\/g, '/');\n}\nexports.unixify = unixify;\nfunction makeAbsolute(cwd, filepath) {\n    return path.resolve(cwd, filepath);\n}\nexports.makeAbsolute = makeAbsolute;\nfunction escape(pattern) {\n    return pattern.replace(UNESCAPED_GLOB_SYMBOLS_RE, '\\\\$2');\n}\nexports.escape = escape;\nfunction removeLeadingDotSegment(entry) {\n    // We do not use `startsWith` because this is 10x slower than current implementation for some cases.\n    // eslint-disable-next-line @typescript-eslint/prefer-string-starts-ends-with\n    if (entry.charAt(0) === '.') {\n        const secondCharactery = entry.charAt(1);\n        if (secondCharactery === '/' || secondCharactery === '\\\\') {\n            return entry.slice(LEADING_DOT_SEGMENT_CHARACTERS_COUNT);\n        }\n    }\n    return entry;\n}\nexports.removeLeadingDotSegment = removeLeadingDotSegment;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.matchAny = exports.convertPatternsToRe = exports.makeRe = exports.getPatternParts = exports.expandBraceExpansion = exports.expandPatternsWithBraceExpansion = exports.isAffectDepthOfReadingPattern = exports.endsWithSlashGlobStar = exports.hasGlobStar = exports.getBaseDirectory = exports.isPatternRelatedToParentDirectory = exports.getPatternsOutsideCurrentDirectory = exports.getPatternsInsideCurrentDirectory = exports.getPositivePatterns = exports.getNegativePatterns = exports.isPositivePattern = exports.isNegativePattern = exports.convertToNegativePattern = exports.convertToPositivePattern = exports.isDynamicPattern = exports.isStaticPattern = void 0;\nconst path = require(\"path\");\nconst globParent = require(\"glob-parent\");\nconst micromatch = require(\"micromatch\");\nconst GLOBSTAR = '**';\nconst ESCAPE_SYMBOL = '\\\\';\nconst COMMON_GLOB_SYMBOLS_RE = /[*?]|^!/;\nconst REGEX_CHARACTER_CLASS_SYMBOLS_RE = /\\[.*]/;\nconst REGEX_GROUP_SYMBOLS_RE = /(?:^|[^!*+?@])\\(.*\\|.*\\)/;\nconst GLOB_EXTENSION_SYMBOLS_RE = /[!*+?@]\\(.*\\)/;\nconst BRACE_EXPANSIONS_SYMBOLS_RE = /{.*(?:,|\\.\\.).*}/;\nfunction isStaticPattern(pattern, options = {}) {\n    return !isDynamicPattern(pattern, options);\n}\nexports.isStaticPattern = isStaticPattern;\nfunction isDynamicPattern(pattern, options = {}) {\n    /**\n     * A special case with an empty string is necessary for matching patterns that start with a forward slash.\n     * An empty string cannot be a dynamic pattern.\n     * For example, the pattern `/lib/*` will be spread into parts: '', 'lib', '*'.\n     */\n    if (pattern === '') {\n        return false;\n    }\n    /**\n     * When the `caseSensitiveMatch` option is disabled, all patterns must be marked as dynamic, because we cannot check\n     * filepath directly (without read directory).\n     */\n    if (options.caseSensitiveMatch === false || pattern.includes(ESCAPE_SYMBOL)) {\n        return true;\n    }\n    if (COMMON_GLOB_SYMBOLS_RE.test(pattern) || REGEX_CHARACTER_CLASS_SYMBOLS_RE.test(pattern) || REGEX_GROUP_SYMBOLS_RE.test(pattern)) {\n        return true;\n    }\n    if (options.extglob !== false && GLOB_EXTENSION_SYMBOLS_RE.test(pattern)) {\n        return true;\n    }\n    if (options.braceExpansion !== false && BRACE_EXPANSIONS_SYMBOLS_RE.test(pattern)) {\n        return true;\n    }\n    return false;\n}\nexports.isDynamicPattern = isDynamicPattern;\nfunction convertToPositivePattern(pattern) {\n    return isNegativePattern(pattern) ? pattern.slice(1) : pattern;\n}\nexports.convertToPositivePattern = convertToPositivePattern;\nfunction convertToNegativePattern(pattern) {\n    return '!' + pattern;\n}\nexports.convertToNegativePattern = convertToNegativePattern;\nfunction isNegativePattern(pattern) {\n    return pattern.startsWith('!') && pattern[1] !== '(';\n}\nexports.isNegativePattern = isNegativePattern;\nfunction isPositivePattern(pattern) {\n    return !isNegativePattern(pattern);\n}\nexports.isPositivePattern = isPositivePattern;\nfunction getNegativePatterns(patterns) {\n    return patterns.filter(isNegativePattern);\n}\nexports.getNegativePatterns = getNegativePatterns;\nfunction getPositivePatterns(patterns) {\n    return patterns.filter(isPositivePattern);\n}\nexports.getPositivePatterns = getPositivePatterns;\n/**\n * Returns patterns that can be applied inside the current directory.\n *\n * @example\n * // ['./*', '*', 'a/*']\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\n */\nfunction getPatternsInsideCurrentDirectory(patterns) {\n    return patterns.filter((pattern) => !isPatternRelatedToParentDirectory(pattern));\n}\nexports.getPatternsInsideCurrentDirectory = getPatternsInsideCurrentDirectory;\n/**\n * Returns patterns to be expanded relative to (outside) the current directory.\n *\n * @example\n * // ['../*', './../*']\n * getPatternsInsideCurrentDirectory(['./*', '*', 'a/*', '../*', './../*'])\n */\nfunction getPatternsOutsideCurrentDirectory(patterns) {\n    return patterns.filter(isPatternRelatedToParentDirectory);\n}\nexports.getPatternsOutsideCurrentDirectory = getPatternsOutsideCurrentDirectory;\nfunction isPatternRelatedToParentDirectory(pattern) {\n    return pattern.startsWith('..') || pattern.startsWith('./..');\n}\nexports.isPatternRelatedToParentDirectory = isPatternRelatedToParentDirectory;\nfunction getBaseDirectory(pattern) {\n    return globParent(pattern, { flipBackslashes: false });\n}\nexports.getBaseDirectory = getBaseDirectory;\nfunction hasGlobStar(pattern) {\n    return pattern.includes(GLOBSTAR);\n}\nexports.hasGlobStar = hasGlobStar;\nfunction endsWithSlashGlobStar(pattern) {\n    return pattern.endsWith('/' + GLOBSTAR);\n}\nexports.endsWithSlashGlobStar = endsWithSlashGlobStar;\nfunction isAffectDepthOfReadingPattern(pattern) {\n    const basename = path.basename(pattern);\n    return endsWithSlashGlobStar(pattern) || isStaticPattern(basename);\n}\nexports.isAffectDepthOfReadingPattern = isAffectDepthOfReadingPattern;\nfunction expandPatternsWithBraceExpansion(patterns) {\n    return patterns.reduce((collection, pattern) => {\n        return collection.concat(expandBraceExpansion(pattern));\n    }, []);\n}\nexports.expandPatternsWithBraceExpansion = expandPatternsWithBraceExpansion;\nfunction expandBraceExpansion(pattern) {\n    return micromatch.braces(pattern, {\n        expand: true,\n        nodupes: true\n    });\n}\nexports.expandBraceExpansion = expandBraceExpansion;\nfunction getPatternParts(pattern, options) {\n    let { parts } = micromatch.scan(pattern, Object.assign(Object.assign({}, options), { parts: true }));\n    /**\n     * The scan method returns an empty array in some cases.\n     * See micromatch/picomatch#58 for more details.\n     */\n    if (parts.length === 0) {\n        parts = [pattern];\n    }\n    /**\n     * The scan method does not return an empty part for the pattern with a forward slash.\n     * This is another part of micromatch/picomatch#58.\n     */\n    if (parts[0].startsWith('/')) {\n        parts[0] = parts[0].slice(1);\n        parts.unshift('');\n    }\n    return parts;\n}\nexports.getPatternParts = getPatternParts;\nfunction makeRe(pattern, options) {\n    return micromatch.makeRe(pattern, options);\n}\nexports.makeRe = makeRe;\nfunction convertPatternsToRe(patterns, options) {\n    return patterns.map((pattern) => makeRe(pattern, options));\n}\nexports.convertPatternsToRe = convertPatternsToRe;\nfunction matchAny(entry, patternsRe) {\n    return patternsRe.some((patternRe) => patternRe.test(entry));\n}\nexports.matchAny = matchAny;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.merge = void 0;\nconst merge2 = require(\"merge2\");\nfunction merge(streams) {\n    const mergedStream = merge2(streams);\n    streams.forEach((stream) => {\n        stream.once('error', (error) => mergedStream.emit('error', error));\n    });\n    mergedStream.once('close', () => propagateCloseEventToSources(streams));\n    mergedStream.once('end', () => propagateCloseEventToSources(streams));\n    return mergedStream;\n}\nexports.merge = merge;\nfunction propagateCloseEventToSources(streams) {\n    streams.forEach((stream) => stream.emit('close'));\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEmpty = exports.isString = void 0;\nfunction isString(input) {\n    return typeof input === 'string';\n}\nexports.isString = isString;\nfunction isEmpty(input) {\n    return input === '';\n}\nexports.isEmpty = isEmpty;\n","'use strict'\n\nvar reusify = require('reusify')\n\nfunction fastqueue (context, worker, concurrency) {\n  if (typeof context === 'function') {\n    concurrency = worker\n    worker = context\n    context = null\n  }\n\n  if (concurrency < 1) {\n    throw new Error('fastqueue concurrency must be greater than 1')\n  }\n\n  var cache = reusify(Task)\n  var queueHead = null\n  var queueTail = null\n  var _running = 0\n  var errorHandler = null\n\n  var self = {\n    push: push,\n    drain: noop,\n    saturated: noop,\n    pause: pause,\n    paused: false,\n    concurrency: concurrency,\n    running: running,\n    resume: resume,\n    idle: idle,\n    length: length,\n    getQueue: getQueue,\n    unshift: unshift,\n    empty: noop,\n    kill: kill,\n    killAndDrain: killAndDrain,\n    error: error\n  }\n\n  return self\n\n  function running () {\n    return _running\n  }\n\n  function pause () {\n    self.paused = true\n  }\n\n  function length () {\n    var current = queueHead\n    var counter = 0\n\n    while (current) {\n      current = current.next\n      counter++\n    }\n\n    return counter\n  }\n\n  function getQueue () {\n    var current = queueHead\n    var tasks = []\n\n    while (current) {\n      tasks.push(current.value)\n      current = current.next\n    }\n\n    return tasks\n  }\n\n  function resume () {\n    if (!self.paused) return\n    self.paused = false\n    for (var i = 0; i < self.concurrency; i++) {\n      _running++\n      release()\n    }\n  }\n\n  function idle () {\n    return _running === 0 && self.length() === 0\n  }\n\n  function push (value, done) {\n    var current = cache.get()\n\n    current.context = context\n    current.release = release\n    current.value = value\n    current.callback = done || noop\n    current.errorHandler = errorHandler\n\n    if (_running === self.concurrency || self.paused) {\n      if (queueTail) {\n        queueTail.next = current\n        queueTail = current\n      } else {\n        queueHead = current\n        queueTail = current\n        self.saturated()\n      }\n    } else {\n      _running++\n      worker.call(context, current.value, current.worked)\n    }\n  }\n\n  function unshift (value, done) {\n    var current = cache.get()\n\n    current.context = context\n    current.release = release\n    current.value = value\n    current.callback = done || noop\n\n    if (_running === self.concurrency || self.paused) {\n      if (queueHead) {\n        current.next = queueHead\n        queueHead = current\n      } else {\n        queueHead = current\n        queueTail = current\n        self.saturated()\n      }\n    } else {\n      _running++\n      worker.call(context, current.value, current.worked)\n    }\n  }\n\n  function release (holder) {\n    if (holder) {\n      cache.release(holder)\n    }\n    var next = queueHead\n    if (next) {\n      if (!self.paused) {\n        if (queueTail === queueHead) {\n          queueTail = null\n        }\n        queueHead = next.next\n        next.next = null\n        worker.call(context, next.value, next.worked)\n        if (queueTail === null) {\n          self.empty()\n        }\n      } else {\n        _running--\n      }\n    } else if (--_running === 0) {\n      self.drain()\n    }\n  }\n\n  function kill () {\n    queueHead = null\n    queueTail = null\n    self.drain = noop\n  }\n\n  function killAndDrain () {\n    queueHead = null\n    queueTail = null\n    self.drain()\n    self.drain = noop\n  }\n\n  function error (handler) {\n    errorHandler = handler\n  }\n}\n\nfunction noop () {}\n\nfunction Task () {\n  this.value = null\n  this.callback = noop\n  this.next = null\n  this.release = noop\n  this.context = null\n  this.errorHandler = null\n\n  var self = this\n\n  this.worked = function worked (err, result) {\n    var callback = self.callback\n    var errorHandler = self.errorHandler\n    var val = self.value\n    self.value = null\n    self.callback = noop\n    if (self.errorHandler) {\n      errorHandler(err, val)\n    }\n    callback.call(self.context, err, result)\n    self.release(self)\n  }\n}\n\nmodule.exports = fastqueue\n","/*!\n * fill-range <https://github.com/jonschlinkert/fill-range>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\n'use strict';\n\nconst util = require('util');\nconst toRegexRange = require('to-regex-range');\n\nconst isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\n\nconst transform = toNumber => {\n  return value => toNumber === true ? Number(value) : String(value);\n};\n\nconst isValidValue = value => {\n  return typeof value === 'number' || (typeof value === 'string' && value !== '');\n};\n\nconst isNumber = num => Number.isInteger(+num);\n\nconst zeros = input => {\n  let value = `${input}`;\n  let index = -1;\n  if (value[0] === '-') value = value.slice(1);\n  if (value === '0') return false;\n  while (value[++index] === '0');\n  return index > 0;\n};\n\nconst stringify = (start, end, options) => {\n  if (typeof start === 'string' || typeof end === 'string') {\n    return true;\n  }\n  return options.stringify === true;\n};\n\nconst pad = (input, maxLength, toNumber) => {\n  if (maxLength > 0) {\n    let dash = input[0] === '-' ? '-' : '';\n    if (dash) input = input.slice(1);\n    input = (dash + input.padStart(dash ? maxLength - 1 : maxLength, '0'));\n  }\n  if (toNumber === false) {\n    return String(input);\n  }\n  return input;\n};\n\nconst toMaxLen = (input, maxLength) => {\n  let negative = input[0] === '-' ? '-' : '';\n  if (negative) {\n    input = input.slice(1);\n    maxLength--;\n  }\n  while (input.length < maxLength) input = '0' + input;\n  return negative ? ('-' + input) : input;\n};\n\nconst toSequence = (parts, options) => {\n  parts.negatives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n  parts.positives.sort((a, b) => a < b ? -1 : a > b ? 1 : 0);\n\n  let prefix = options.capture ? '' : '?:';\n  let positives = '';\n  let negatives = '';\n  let result;\n\n  if (parts.positives.length) {\n    positives = parts.positives.join('|');\n  }\n\n  if (parts.negatives.length) {\n    negatives = `-(${prefix}${parts.negatives.join('|')})`;\n  }\n\n  if (positives && negatives) {\n    result = `${positives}|${negatives}`;\n  } else {\n    result = positives || negatives;\n  }\n\n  if (options.wrap) {\n    return `(${prefix}${result})`;\n  }\n\n  return result;\n};\n\nconst toRange = (a, b, isNumbers, options) => {\n  if (isNumbers) {\n    return toRegexRange(a, b, { wrap: false, ...options });\n  }\n\n  let start = String.fromCharCode(a);\n  if (a === b) return start;\n\n  let stop = String.fromCharCode(b);\n  return `[${start}-${stop}]`;\n};\n\nconst toRegex = (start, end, options) => {\n  if (Array.isArray(start)) {\n    let wrap = options.wrap === true;\n    let prefix = options.capture ? '' : '?:';\n    return wrap ? `(${prefix}${start.join('|')})` : start.join('|');\n  }\n  return toRegexRange(start, end, options);\n};\n\nconst rangeError = (...args) => {\n  return new RangeError('Invalid range arguments: ' + util.inspect(...args));\n};\n\nconst invalidRange = (start, end, options) => {\n  if (options.strictRanges === true) throw rangeError([start, end]);\n  return [];\n};\n\nconst invalidStep = (step, options) => {\n  if (options.strictRanges === true) {\n    throw new TypeError(`Expected step \"${step}\" to be a number`);\n  }\n  return [];\n};\n\nconst fillNumbers = (start, end, step = 1, options = {}) => {\n  let a = Number(start);\n  let b = Number(end);\n\n  if (!Number.isInteger(a) || !Number.isInteger(b)) {\n    if (options.strictRanges === true) throw rangeError([start, end]);\n    return [];\n  }\n\n  // fix negative zero\n  if (a === 0) a = 0;\n  if (b === 0) b = 0;\n\n  let descending = a > b;\n  let startString = String(start);\n  let endString = String(end);\n  let stepString = String(step);\n  step = Math.max(Math.abs(step), 1);\n\n  let padded = zeros(startString) || zeros(endString) || zeros(stepString);\n  let maxLen = padded ? Math.max(startString.length, endString.length, stepString.length) : 0;\n  let toNumber = padded === false && stringify(start, end, options) === false;\n  let format = options.transform || transform(toNumber);\n\n  if (options.toRegex && step === 1) {\n    return toRange(toMaxLen(start, maxLen), toMaxLen(end, maxLen), true, options);\n  }\n\n  let parts = { negatives: [], positives: [] };\n  let push = num => parts[num < 0 ? 'negatives' : 'positives'].push(Math.abs(num));\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    if (options.toRegex === true && step > 1) {\n      push(a);\n    } else {\n      range.push(pad(format(a, index), maxLen, toNumber));\n    }\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return step > 1\n      ? toSequence(parts, options)\n      : toRegex(range, null, { wrap: false, ...options });\n  }\n\n  return range;\n};\n\nconst fillLetters = (start, end, step = 1, options = {}) => {\n  if ((!isNumber(start) && start.length > 1) || (!isNumber(end) && end.length > 1)) {\n    return invalidRange(start, end, options);\n  }\n\n\n  let format = options.transform || (val => String.fromCharCode(val));\n  let a = `${start}`.charCodeAt(0);\n  let b = `${end}`.charCodeAt(0);\n\n  let descending = a > b;\n  let min = Math.min(a, b);\n  let max = Math.max(a, b);\n\n  if (options.toRegex && step === 1) {\n    return toRange(min, max, false, options);\n  }\n\n  let range = [];\n  let index = 0;\n\n  while (descending ? a >= b : a <= b) {\n    range.push(format(a, index));\n    a = descending ? a - step : a + step;\n    index++;\n  }\n\n  if (options.toRegex === true) {\n    return toRegex(range, null, { wrap: false, options });\n  }\n\n  return range;\n};\n\nconst fill = (start, end, step, options = {}) => {\n  if (end == null && isValidValue(start)) {\n    return [start];\n  }\n\n  if (!isValidValue(start) || !isValidValue(end)) {\n    return invalidRange(start, end, options);\n  }\n\n  if (typeof step === 'function') {\n    return fill(start, end, 1, { transform: step });\n  }\n\n  if (isObject(step)) {\n    return fill(start, end, 0, step);\n  }\n\n  let opts = { ...options };\n  if (opts.capture === true) opts.wrap = true;\n  step = step || opts.step || 1;\n\n  if (!isNumber(step)) {\n    if (step != null && !isObject(step)) return invalidStep(step, opts);\n    return fill(start, end, 1, step);\n  }\n\n  if (isNumber(start) && isNumber(end)) {\n    return fillNumbers(start, end, step, opts);\n  }\n\n  return fillLetters(start, end, Math.max(Math.abs(step), 1), opts);\n};\n\nmodule.exports = fill;\n","'use strict';\n\nvar isGlob = require('is-glob');\nvar pathPosixDirname = require('path').posix.dirname;\nvar isWin32 = require('os').platform() === 'win32';\n\nvar slash = '/';\nvar backslash = /\\\\/g;\nvar enclosure = /[\\{\\[].*[\\}\\]]$/;\nvar globby = /(^|[^\\\\])([\\{\\[]|\\([^\\)]+$)/;\nvar escaped = /\\\\([\\!\\*\\?\\|\\[\\]\\(\\)\\{\\}])/g;\n\n/**\n * @param {string} str\n * @param {Object} opts\n * @param {boolean} [opts.flipBackslashes=true]\n * @returns {string}\n */\nmodule.exports = function globParent(str, opts) {\n  var options = Object.assign({ flipBackslashes: true }, opts);\n\n  // flip windows path separators\n  if (options.flipBackslashes && isWin32 && str.indexOf(slash) < 0) {\n    str = str.replace(backslash, slash);\n  }\n\n  // special case for strings ending in enclosure containing path separator\n  if (enclosure.test(str)) {\n    str += slash;\n  }\n\n  // preserves full path in case of trailing path separator\n  str += 'a';\n\n  // remove path parts that are globby\n  do {\n    str = pathPosixDirname(str);\n  } while (isGlob(str) || globby.test(str));\n\n  // remove escape chars and return result\n  return str.replace(escaped, '$1');\n};\n","/*!\n * is-extglob <https://github.com/jonschlinkert/is-extglob>\n *\n * Copyright (c) 2014-2016, Jon Schlinkert.\n * Licensed under the MIT License.\n */\n\nmodule.exports = function isExtglob(str) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  var match;\n  while ((match = /(\\\\).|([@?!+*]\\(.*\\))/g.exec(str))) {\n    if (match[2]) return true;\n    str = str.slice(match.index + match[0].length);\n  }\n\n  return false;\n};\n","/*!\n * is-glob <https://github.com/jonschlinkert/is-glob>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nvar isExtglob = require('is-extglob');\nvar chars = { '{': '}', '(': ')', '[': ']'};\nvar strictRegex = /\\\\(.)|(^!|\\*|[\\].+)]\\?|\\[[^\\\\\\]]+\\]|\\{[^\\\\}]+\\}|\\(\\?[:!=][^\\\\)]+\\)|\\([^|]+\\|[^\\\\)]+\\))/;\nvar relaxedRegex = /\\\\(.)|(^!|[*?{}()[\\]]|\\(\\?)/;\n\nmodule.exports = function isGlob(str, options) {\n  if (typeof str !== 'string' || str === '') {\n    return false;\n  }\n\n  if (isExtglob(str)) {\n    return true;\n  }\n\n  var regex = strictRegex;\n  var match;\n\n  // optionally relax regex\n  if (options && options.strict === false) {\n    regex = relaxedRegex;\n  }\n\n  while ((match = regex.exec(str))) {\n    if (match[2]) return true;\n    var idx = match.index + match[0].length;\n\n    // if an open bracket/brace/paren is escaped,\n    // set the index to the next closing character\n    var open = match[1];\n    var close = open ? chars[open] : null;\n    if (open && close) {\n      var n = str.indexOf(close, idx);\n      if (n !== -1) {\n        idx = n + 1;\n      }\n    }\n\n    str = str.slice(idx);\n  }\n  return false;\n};\n","/*!\n * is-number <https://github.com/jonschlinkert/is-number>\n *\n * Copyright (c) 2014-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nmodule.exports = function(num) {\n  if (typeof num === 'number') {\n    return num - num === 0;\n  }\n  if (typeof num === 'string' && num.trim() !== '') {\n    return Number.isFinite ? Number.isFinite(+num) : isFinite(+num);\n  }\n  return false;\n};\n","'use strict'\n/*\n * merge2\n * https://github.com/teambition/merge2\n *\n * Copyright (c) 2014-2020 Teambition\n * Licensed under the MIT license.\n */\nconst Stream = require('stream')\nconst PassThrough = Stream.PassThrough\nconst slice = Array.prototype.slice\n\nmodule.exports = merge2\n\nfunction merge2 () {\n  const streamsQueue = []\n  const args = slice.call(arguments)\n  let merging = false\n  let options = args[args.length - 1]\n\n  if (options && !Array.isArray(options) && options.pipe == null) {\n    args.pop()\n  } else {\n    options = {}\n  }\n\n  const doEnd = options.end !== false\n  const doPipeError = options.pipeError === true\n  if (options.objectMode == null) {\n    options.objectMode = true\n  }\n  if (options.highWaterMark == null) {\n    options.highWaterMark = 64 * 1024\n  }\n  const mergedStream = PassThrough(options)\n\n  function addStream () {\n    for (let i = 0, len = arguments.length; i < len; i++) {\n      streamsQueue.push(pauseStreams(arguments[i], options))\n    }\n    mergeStream()\n    return this\n  }\n\n  function mergeStream () {\n    if (merging) {\n      return\n    }\n    merging = true\n\n    let streams = streamsQueue.shift()\n    if (!streams) {\n      process.nextTick(endStream)\n      return\n    }\n    if (!Array.isArray(streams)) {\n      streams = [streams]\n    }\n\n    let pipesCount = streams.length + 1\n\n    function next () {\n      if (--pipesCount > 0) {\n        return\n      }\n      merging = false\n      mergeStream()\n    }\n\n    function pipe (stream) {\n      function onend () {\n        stream.removeListener('merge2UnpipeEnd', onend)\n        stream.removeListener('end', onend)\n        if (doPipeError) {\n          stream.removeListener('error', onerror)\n        }\n        next()\n      }\n      function onerror (err) {\n        mergedStream.emit('error', err)\n      }\n      // skip ended stream\n      if (stream._readableState.endEmitted) {\n        return next()\n      }\n\n      stream.on('merge2UnpipeEnd', onend)\n      stream.on('end', onend)\n\n      if (doPipeError) {\n        stream.on('error', onerror)\n      }\n\n      stream.pipe(mergedStream, { end: false })\n      // compatible for old stream\n      stream.resume()\n    }\n\n    for (let i = 0; i < streams.length; i++) {\n      pipe(streams[i])\n    }\n\n    next()\n  }\n\n  function endStream () {\n    merging = false\n    // emit 'queueDrain' when all streams merged.\n    mergedStream.emit('queueDrain')\n    if (doEnd) {\n      mergedStream.end()\n    }\n  }\n\n  mergedStream.setMaxListeners(0)\n  mergedStream.add = addStream\n  mergedStream.on('unpipe', function (stream) {\n    stream.emit('merge2UnpipeEnd')\n  })\n\n  if (args.length) {\n    addStream.apply(null, args)\n  }\n  return mergedStream\n}\n\n// check and pause streams for pipe.\nfunction pauseStreams (streams, options) {\n  if (!Array.isArray(streams)) {\n    // Backwards-compat with old-style streams\n    if (!streams._readableState && streams.pipe) {\n      streams = streams.pipe(PassThrough(options))\n    }\n    if (!streams._readableState || !streams.pause || !streams.pipe) {\n      throw new Error('Only readable stream can be merged.')\n    }\n    streams.pause()\n  } else {\n    for (let i = 0, len = streams.length; i < len; i++) {\n      streams[i] = pauseStreams(streams[i], options)\n    }\n  }\n  return streams\n}\n","'use strict';\n\nconst util = require('util');\nconst braces = require('braces');\nconst picomatch = require('picomatch');\nconst utils = require('picomatch/lib/utils');\nconst isEmptyString = val => val === '' || val === './';\n\n/**\n * Returns an array of strings that match one or more glob patterns.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm(list, patterns[, options]);\n *\n * console.log(mm(['a.js', 'a.txt'], ['*.js']));\n * //=> [ 'a.js' ]\n * ```\n * @param {String|Array<string>} `list` List of strings to match.\n * @param {String|Array<string>} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options)\n * @return {Array} Returns an array of matches\n * @summary false\n * @api public\n */\n\nconst micromatch = (list, patterns, options) => {\n  patterns = [].concat(patterns);\n  list = [].concat(list);\n\n  let omit = new Set();\n  let keep = new Set();\n  let items = new Set();\n  let negatives = 0;\n\n  let onResult = state => {\n    items.add(state.output);\n    if (options && options.onResult) {\n      options.onResult(state);\n    }\n  };\n\n  for (let i = 0; i < patterns.length; i++) {\n    let isMatch = picomatch(String(patterns[i]), { ...options, onResult }, true);\n    let negated = isMatch.state.negated || isMatch.state.negatedExtglob;\n    if (negated) negatives++;\n\n    for (let item of list) {\n      let matched = isMatch(item, true);\n\n      let match = negated ? !matched.isMatch : matched.isMatch;\n      if (!match) continue;\n\n      if (negated) {\n        omit.add(matched.output);\n      } else {\n        omit.delete(matched.output);\n        keep.add(matched.output);\n      }\n    }\n  }\n\n  let result = negatives === patterns.length ? [...items] : [...keep];\n  let matches = result.filter(item => !omit.has(item));\n\n  if (options && matches.length === 0) {\n    if (options.failglob === true) {\n      throw new Error(`No matches found for \"${patterns.join(', ')}\"`);\n    }\n\n    if (options.nonull === true || options.nullglob === true) {\n      return options.unescape ? patterns.map(p => p.replace(/\\\\/g, '')) : patterns;\n    }\n  }\n\n  return matches;\n};\n\n/**\n * Backwards compatibility\n */\n\nmicromatch.match = micromatch;\n\n/**\n * Returns a matcher function from the given glob `pattern` and `options`.\n * The returned function takes a string to match as its only argument and returns\n * true if the string is a match.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.matcher(pattern[, options]);\n *\n * const isMatch = mm.matcher('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @param {String} `pattern` Glob pattern\n * @param {Object} `options`\n * @return {Function} Returns a matcher function.\n * @api public\n */\n\nmicromatch.matcher = (pattern, options) => picomatch(pattern, options);\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.isMatch(string, patterns[, options]);\n *\n * console.log(mm.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(mm.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String} `str` The string to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `[options]` See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\nmicromatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Backwards compatibility\n */\n\nmicromatch.any = micromatch.isMatch;\n\n/**\n * Returns a list of strings that _**do not match any**_ of the given `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.not(list, patterns[, options]);\n *\n * console.log(mm.not(['a.a', 'b.b', 'c.c'], '*.a'));\n * //=> ['b.b', 'c.c']\n * ```\n * @param {Array} `list` Array of strings to match.\n * @param {String|Array} `patterns` One or more glob pattern to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Array} Returns an array of strings that **do not match** the given patterns.\n * @api public\n */\n\nmicromatch.not = (list, patterns, options = {}) => {\n  patterns = [].concat(patterns).map(String);\n  let result = new Set();\n  let items = [];\n\n  let onResult = state => {\n    if (options.onResult) options.onResult(state);\n    items.push(state.output);\n  };\n\n  let matches = micromatch(list, patterns, { ...options, onResult });\n\n  for (let item of items) {\n    if (!matches.includes(item)) {\n      result.add(item);\n    }\n  }\n  return [...result];\n};\n\n/**\n * Returns true if the given `string` contains the given pattern. Similar\n * to [.isMatch](#isMatch) but the pattern can match any part of the string.\n *\n * ```js\n * var mm = require('micromatch');\n * // mm.contains(string, pattern[, options]);\n *\n * console.log(mm.contains('aa/bb/cc', '*b'));\n * //=> true\n * console.log(mm.contains('aa/bb/cc', '*d'));\n * //=> false\n * ```\n * @param {String} `str` The string to match.\n * @param {String|Array} `patterns` Glob pattern to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any of the patterns matches any part of `str`.\n * @api public\n */\n\nmicromatch.contains = (str, pattern, options) => {\n  if (typeof str !== 'string') {\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\n  }\n\n  if (Array.isArray(pattern)) {\n    return pattern.some(p => micromatch.contains(str, p, options));\n  }\n\n  if (typeof pattern === 'string') {\n    if (isEmptyString(str) || isEmptyString(pattern)) {\n      return false;\n    }\n\n    if (str.includes(pattern) || (str.startsWith('./') && str.slice(2).includes(pattern))) {\n      return true;\n    }\n  }\n\n  return micromatch.isMatch(str, pattern, { ...options, contains: true });\n};\n\n/**\n * Filter the keys of the given object with the given `glob` pattern\n * and `options`. Does not attempt to match nested keys. If you need this feature,\n * use [glob-object][] instead.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.matchKeys(object, patterns[, options]);\n *\n * const obj = { aa: 'a', ab: 'b', ac: 'c' };\n * console.log(mm.matchKeys(obj, '*b'));\n * //=> { ab: 'b' }\n * ```\n * @param {Object} `object` The object with keys to filter.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Object} Returns an object with only keys that match the given patterns.\n * @api public\n */\n\nmicromatch.matchKeys = (obj, patterns, options) => {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('Expected the first argument to be an object');\n  }\n  let keys = micromatch(Object.keys(obj), patterns, options);\n  let res = {};\n  for (let key of keys) res[key] = obj[key];\n  return res;\n};\n\n/**\n * Returns true if some of the strings in the given `list` match any of the given glob `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.some(list, patterns[, options]);\n *\n * console.log(mm.some(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\n * // true\n * console.log(mm.some(['foo.js'], ['*.js', '!foo.js']));\n * // false\n * ```\n * @param {String|Array} `list` The string or array of strings to test. Returns as soon as the first match is found.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any `patterns` matches any of the strings in `list`\n * @api public\n */\n\nmicromatch.some = (list, patterns, options) => {\n  let items = [].concat(list);\n\n  for (let pattern of [].concat(patterns)) {\n    let isMatch = picomatch(String(pattern), options);\n    if (items.some(item => isMatch(item))) {\n      return true;\n    }\n  }\n  return false;\n};\n\n/**\n * Returns true if every string in the given `list` matches\n * any of the given glob `patterns`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.every(list, patterns[, options]);\n *\n * console.log(mm.every('foo.js', ['foo.js']));\n * // true\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js']));\n * // true\n * console.log(mm.every(['foo.js', 'bar.js'], ['*.js', '!foo.js']));\n * // false\n * console.log(mm.every(['foo.js'], ['*.js', '!foo.js']));\n * // false\n * ```\n * @param {String|Array} `list` The string or array of strings to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if all `patterns` matches all of the strings in `list`\n * @api public\n */\n\nmicromatch.every = (list, patterns, options) => {\n  let items = [].concat(list);\n\n  for (let pattern of [].concat(patterns)) {\n    let isMatch = picomatch(String(pattern), options);\n    if (!items.every(item => isMatch(item))) {\n      return false;\n    }\n  }\n  return true;\n};\n\n/**\n * Returns true if **all** of the given `patterns` match\n * the specified string.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.all(string, patterns[, options]);\n *\n * console.log(mm.all('foo.js', ['foo.js']));\n * // true\n *\n * console.log(mm.all('foo.js', ['*.js', '!foo.js']));\n * // false\n *\n * console.log(mm.all('foo.js', ['*.js', 'foo.js']));\n * // true\n *\n * console.log(mm.all('foo.js', ['*.js', 'f*', '*o*', '*o.js']));\n * // true\n * ```\n * @param {String|Array} `str` The string to test.\n * @param {String|Array} `patterns` One or more glob patterns to use for matching.\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\nmicromatch.all = (str, patterns, options) => {\n  if (typeof str !== 'string') {\n    throw new TypeError(`Expected a string: \"${util.inspect(str)}\"`);\n  }\n\n  return [].concat(patterns).every(p => picomatch(p, options)(str));\n};\n\n/**\n * Returns an array of matches captured by `pattern` in `string, or `null` if the pattern did not match.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.capture(pattern, string[, options]);\n *\n * console.log(mm.capture('test/*.js', 'test/foo.js'));\n * //=> ['foo']\n * console.log(mm.capture('test/*.js', 'foo/bar.css'));\n * //=> null\n * ```\n * @param {String} `glob` Glob pattern to use for matching.\n * @param {String} `input` String to match\n * @param {Object} `options` See available [options](#options) for changing how matches are performed\n * @return {Array|null} Returns an array of captures if the input matches the glob pattern, otherwise `null`.\n * @api public\n */\n\nmicromatch.capture = (glob, input, options) => {\n  let posix = utils.isWindows(options);\n  let regex = picomatch.makeRe(String(glob), { ...options, capture: true });\n  let match = regex.exec(posix ? utils.toPosixSlashes(input) : input);\n\n  if (match) {\n    return match.slice(1).map(v => v === void 0 ? '' : v);\n  }\n};\n\n/**\n * Create a regular expression from the given glob `pattern`.\n *\n * ```js\n * const mm = require('micromatch');\n * // mm.makeRe(pattern[, options]);\n *\n * console.log(mm.makeRe('*.js'));\n * //=> /^(?:(\\.[\\\\\\/])?(?!\\.)(?=.)[^\\/]*?\\.js)$/\n * ```\n * @param {String} `pattern` A glob pattern to convert to regex.\n * @param {Object} `options`\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\nmicromatch.makeRe = (...args) => picomatch.makeRe(...args);\n\n/**\n * Scan a glob pattern to separate the pattern into segments. Used\n * by the [split](#split) method.\n *\n * ```js\n * const mm = require('micromatch');\n * const state = mm.scan(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\nmicromatch.scan = (...args) => picomatch.scan(...args);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const mm = require('micromatch');\n * const state = mm(pattern[, options]);\n * ```\n * @param {String} `glob`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as regex source string.\n * @api public\n */\n\nmicromatch.parse = (patterns, options) => {\n  let res = [];\n  for (let pattern of [].concat(patterns || [])) {\n    for (let str of braces(String(pattern), options)) {\n      res.push(picomatch.parse(str, options));\n    }\n  }\n  return res;\n};\n\n/**\n * Process the given brace `pattern`.\n *\n * ```js\n * const { braces } = require('micromatch');\n * console.log(braces('foo/{a,b,c}/bar'));\n * //=> [ 'foo/(a|b|c)/bar' ]\n *\n * console.log(braces('foo/{a,b,c}/bar', { expand: true }));\n * //=> [ 'foo/a/bar', 'foo/b/bar', 'foo/c/bar' ]\n * ```\n * @param {String} `pattern` String with brace pattern to process.\n * @param {Object} `options` Any [options](#options) to change how expansion is performed. See the [braces][] library for all available options.\n * @return {Array}\n * @api public\n */\n\nmicromatch.braces = (pattern, options) => {\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\n  if ((options && options.nobrace === true) || !/\\{.*\\}/.test(pattern)) {\n    return [pattern];\n  }\n  return braces(pattern, options);\n};\n\n/**\n * Expand braces\n */\n\nmicromatch.braceExpand = (pattern, options) => {\n  if (typeof pattern !== 'string') throw new TypeError('Expected a string');\n  return micromatch.braces(pattern, { ...options, expand: true });\n};\n\n/**\n * Expose micromatch\n */\n\nmodule.exports = micromatch;\n","'use strict';\n\nmodule.exports = require('./lib/picomatch');\n","'use strict';\n\nconst path = require('path');\nconst WIN_SLASH = '\\\\\\\\/';\nconst WIN_NO_SLASH = `[^${WIN_SLASH}]`;\n\n/**\n * Posix glob regex\n */\n\nconst DOT_LITERAL = '\\\\.';\nconst PLUS_LITERAL = '\\\\+';\nconst QMARK_LITERAL = '\\\\?';\nconst SLASH_LITERAL = '\\\\/';\nconst ONE_CHAR = '(?=.)';\nconst QMARK = '[^/]';\nconst END_ANCHOR = `(?:${SLASH_LITERAL}|$)`;\nconst START_ANCHOR = `(?:^|${SLASH_LITERAL})`;\nconst DOTS_SLASH = `${DOT_LITERAL}{1,2}${END_ANCHOR}`;\nconst NO_DOT = `(?!${DOT_LITERAL})`;\nconst NO_DOTS = `(?!${START_ANCHOR}${DOTS_SLASH})`;\nconst NO_DOT_SLASH = `(?!${DOT_LITERAL}{0,1}${END_ANCHOR})`;\nconst NO_DOTS_SLASH = `(?!${DOTS_SLASH})`;\nconst QMARK_NO_DOT = `[^.${SLASH_LITERAL}]`;\nconst STAR = `${QMARK}*?`;\n\nconst POSIX_CHARS = {\n  DOT_LITERAL,\n  PLUS_LITERAL,\n  QMARK_LITERAL,\n  SLASH_LITERAL,\n  ONE_CHAR,\n  QMARK,\n  END_ANCHOR,\n  DOTS_SLASH,\n  NO_DOT,\n  NO_DOTS,\n  NO_DOT_SLASH,\n  NO_DOTS_SLASH,\n  QMARK_NO_DOT,\n  STAR,\n  START_ANCHOR\n};\n\n/**\n * Windows glob regex\n */\n\nconst WINDOWS_CHARS = {\n  ...POSIX_CHARS,\n\n  SLASH_LITERAL: `[${WIN_SLASH}]`,\n  QMARK: WIN_NO_SLASH,\n  STAR: `${WIN_NO_SLASH}*?`,\n  DOTS_SLASH: `${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$)`,\n  NO_DOT: `(?!${DOT_LITERAL})`,\n  NO_DOTS: `(?!(?:^|[${WIN_SLASH}])${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  NO_DOT_SLASH: `(?!${DOT_LITERAL}{0,1}(?:[${WIN_SLASH}]|$))`,\n  NO_DOTS_SLASH: `(?!${DOT_LITERAL}{1,2}(?:[${WIN_SLASH}]|$))`,\n  QMARK_NO_DOT: `[^.${WIN_SLASH}]`,\n  START_ANCHOR: `(?:^|[${WIN_SLASH}])`,\n  END_ANCHOR: `(?:[${WIN_SLASH}]|$)`\n};\n\n/**\n * POSIX Bracket Regex\n */\n\nconst POSIX_REGEX_SOURCE = {\n  alnum: 'a-zA-Z0-9',\n  alpha: 'a-zA-Z',\n  ascii: '\\\\x00-\\\\x7F',\n  blank: ' \\\\t',\n  cntrl: '\\\\x00-\\\\x1F\\\\x7F',\n  digit: '0-9',\n  graph: '\\\\x21-\\\\x7E',\n  lower: 'a-z',\n  print: '\\\\x20-\\\\x7E ',\n  punct: '\\\\-!\"#$%&\\'()\\\\*+,./:;<=>?@[\\\\]^_`{|}~',\n  space: ' \\\\t\\\\r\\\\n\\\\v\\\\f',\n  upper: 'A-Z',\n  word: 'A-Za-z0-9_',\n  xdigit: 'A-Fa-f0-9'\n};\n\nmodule.exports = {\n  MAX_LENGTH: 1024 * 64,\n  POSIX_REGEX_SOURCE,\n\n  // regular expressions\n  REGEX_BACKSLASH: /\\\\(?![*+?^${}(|)[\\]])/g,\n  REGEX_NON_SPECIAL_CHARS: /^[^@![\\].,$*+?^{}()|\\\\/]+/,\n  REGEX_SPECIAL_CHARS: /[-*+?.^${}(|)[\\]]/,\n  REGEX_SPECIAL_CHARS_BACKREF: /(\\\\?)((\\W)(\\3*))/g,\n  REGEX_SPECIAL_CHARS_GLOBAL: /([-*+?.^${}(|)[\\]])/g,\n  REGEX_REMOVE_BACKSLASH: /(?:\\[.*?[^\\\\]\\]|\\\\(?=.))/g,\n\n  // Replace globs with equivalent patterns to reduce parsing time.\n  REPLACEMENTS: {\n    '***': '*',\n    '**/**': '**',\n    '**/**/**': '**'\n  },\n\n  // Digits\n  CHAR_0: 48, /* 0 */\n  CHAR_9: 57, /* 9 */\n\n  // Alphabet chars.\n  CHAR_UPPERCASE_A: 65, /* A */\n  CHAR_LOWERCASE_A: 97, /* a */\n  CHAR_UPPERCASE_Z: 90, /* Z */\n  CHAR_LOWERCASE_Z: 122, /* z */\n\n  CHAR_LEFT_PARENTHESES: 40, /* ( */\n  CHAR_RIGHT_PARENTHESES: 41, /* ) */\n\n  CHAR_ASTERISK: 42, /* * */\n\n  // Non-alphabetic chars.\n  CHAR_AMPERSAND: 38, /* & */\n  CHAR_AT: 64, /* @ */\n  CHAR_BACKWARD_SLASH: 92, /* \\ */\n  CHAR_CARRIAGE_RETURN: 13, /* \\r */\n  CHAR_CIRCUMFLEX_ACCENT: 94, /* ^ */\n  CHAR_COLON: 58, /* : */\n  CHAR_COMMA: 44, /* , */\n  CHAR_DOT: 46, /* . */\n  CHAR_DOUBLE_QUOTE: 34, /* \" */\n  CHAR_EQUAL: 61, /* = */\n  CHAR_EXCLAMATION_MARK: 33, /* ! */\n  CHAR_FORM_FEED: 12, /* \\f */\n  CHAR_FORWARD_SLASH: 47, /* / */\n  CHAR_GRAVE_ACCENT: 96, /* ` */\n  CHAR_HASH: 35, /* # */\n  CHAR_HYPHEN_MINUS: 45, /* - */\n  CHAR_LEFT_ANGLE_BRACKET: 60, /* < */\n  CHAR_LEFT_CURLY_BRACE: 123, /* { */\n  CHAR_LEFT_SQUARE_BRACKET: 91, /* [ */\n  CHAR_LINE_FEED: 10, /* \\n */\n  CHAR_NO_BREAK_SPACE: 160, /* \\u00A0 */\n  CHAR_PERCENT: 37, /* % */\n  CHAR_PLUS: 43, /* + */\n  CHAR_QUESTION_MARK: 63, /* ? */\n  CHAR_RIGHT_ANGLE_BRACKET: 62, /* > */\n  CHAR_RIGHT_CURLY_BRACE: 125, /* } */\n  CHAR_RIGHT_SQUARE_BRACKET: 93, /* ] */\n  CHAR_SEMICOLON: 59, /* ; */\n  CHAR_SINGLE_QUOTE: 39, /* ' */\n  CHAR_SPACE: 32, /*   */\n  CHAR_TAB: 9, /* \\t */\n  CHAR_UNDERSCORE: 95, /* _ */\n  CHAR_VERTICAL_LINE: 124, /* | */\n  CHAR_ZERO_WIDTH_NOBREAK_SPACE: 65279, /* \\uFEFF */\n\n  SEP: path.sep,\n\n  /**\n   * Create EXTGLOB_CHARS\n   */\n\n  extglobChars(chars) {\n    return {\n      '!': { type: 'negate', open: '(?:(?!(?:', close: `))${chars.STAR})` },\n      '?': { type: 'qmark', open: '(?:', close: ')?' },\n      '+': { type: 'plus', open: '(?:', close: ')+' },\n      '*': { type: 'star', open: '(?:', close: ')*' },\n      '@': { type: 'at', open: '(?:', close: ')' }\n    };\n  },\n\n  /**\n   * Create GLOB_CHARS\n   */\n\n  globChars(win32) {\n    return win32 === true ? WINDOWS_CHARS : POSIX_CHARS;\n  }\n};\n","'use strict';\n\nconst constants = require('./constants');\nconst utils = require('./utils');\n\n/**\n * Constants\n */\n\nconst {\n  MAX_LENGTH,\n  POSIX_REGEX_SOURCE,\n  REGEX_NON_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_BACKREF,\n  REPLACEMENTS\n} = constants;\n\n/**\n * Helpers\n */\n\nconst expandRange = (args, options) => {\n  if (typeof options.expandRange === 'function') {\n    return options.expandRange(...args, options);\n  }\n\n  args.sort();\n  const value = `[${args.join('-')}]`;\n\n  try {\n    /* eslint-disable-next-line no-new */\n    new RegExp(value);\n  } catch (ex) {\n    return args.map(v => utils.escapeRegex(v)).join('..');\n  }\n\n  return value;\n};\n\n/**\n * Create the message for a syntax error\n */\n\nconst syntaxError = (type, char) => {\n  return `Missing ${type}: \"${char}\" - use \"\\\\\\\\${char}\" to match literal characters`;\n};\n\n/**\n * Parse the given input string.\n * @param {String} input\n * @param {Object} options\n * @return {Object}\n */\n\nconst parse = (input, options) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected a string');\n  }\n\n  input = REPLACEMENTS[input] || input;\n\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n\n  let len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  const bos = { type: 'bos', value: '', output: opts.prepend || '' };\n  const tokens = [bos];\n\n  const capture = opts.capture ? '' : '?:';\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const PLATFORM_CHARS = constants.globChars(win32);\n  const EXTGLOB_CHARS = constants.extglobChars(PLATFORM_CHARS);\n\n  const {\n    DOT_LITERAL,\n    PLUS_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOT_SLASH,\n    NO_DOTS_SLASH,\n    QMARK,\n    QMARK_NO_DOT,\n    STAR,\n    START_ANCHOR\n  } = PLATFORM_CHARS;\n\n  const globstar = opts => {\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const nodot = opts.dot ? '' : NO_DOT;\n  const qmarkNoDot = opts.dot ? QMARK : QMARK_NO_DOT;\n  let star = opts.bash === true ? globstar(opts) : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  // minimatch options support\n  if (typeof opts.noext === 'boolean') {\n    opts.noextglob = opts.noext;\n  }\n\n  const state = {\n    input,\n    index: -1,\n    start: 0,\n    dot: opts.dot === true,\n    consumed: '',\n    output: '',\n    prefix: '',\n    backtrack: false,\n    negated: false,\n    brackets: 0,\n    braces: 0,\n    parens: 0,\n    quotes: 0,\n    globstar: false,\n    tokens\n  };\n\n  input = utils.removePrefix(input, state);\n  len = input.length;\n\n  const extglobs = [];\n  const braces = [];\n  const stack = [];\n  let prev = bos;\n  let value;\n\n  /**\n   * Tokenizing helpers\n   */\n\n  const eos = () => state.index === len - 1;\n  const peek = state.peek = (n = 1) => input[state.index + n];\n  const advance = state.advance = () => input[++state.index] || '';\n  const remaining = () => input.slice(state.index + 1);\n  const consume = (value = '', num = 0) => {\n    state.consumed += value;\n    state.index += num;\n  };\n\n  const append = token => {\n    state.output += token.output != null ? token.output : token.value;\n    consume(token.value);\n  };\n\n  const negate = () => {\n    let count = 1;\n\n    while (peek() === '!' && (peek(2) !== '(' || peek(3) === '?')) {\n      advance();\n      state.start++;\n      count++;\n    }\n\n    if (count % 2 === 0) {\n      return false;\n    }\n\n    state.negated = true;\n    state.start++;\n    return true;\n  };\n\n  const increment = type => {\n    state[type]++;\n    stack.push(type);\n  };\n\n  const decrement = type => {\n    state[type]--;\n    stack.pop();\n  };\n\n  /**\n   * Push tokens onto the tokens array. This helper speeds up\n   * tokenizing by 1) helping us avoid backtracking as much as possible,\n   * and 2) helping us avoid creating extra tokens when consecutive\n   * characters are plain text. This improves performance and simplifies\n   * lookbehinds.\n   */\n\n  const push = tok => {\n    if (prev.type === 'globstar') {\n      const isBrace = state.braces > 0 && (tok.type === 'comma' || tok.type === 'brace');\n      const isExtglob = tok.extglob === true || (extglobs.length && (tok.type === 'pipe' || tok.type === 'paren'));\n\n      if (tok.type !== 'slash' && tok.type !== 'paren' && !isBrace && !isExtglob) {\n        state.output = state.output.slice(0, -prev.output.length);\n        prev.type = 'star';\n        prev.value = '*';\n        prev.output = star;\n        state.output += prev.output;\n      }\n    }\n\n    if (extglobs.length && tok.type !== 'paren') {\n      extglobs[extglobs.length - 1].inner += tok.value;\n    }\n\n    if (tok.value || tok.output) append(tok);\n    if (prev && prev.type === 'text' && tok.type === 'text') {\n      prev.value += tok.value;\n      prev.output = (prev.output || '') + tok.value;\n      return;\n    }\n\n    tok.prev = prev;\n    tokens.push(tok);\n    prev = tok;\n  };\n\n  const extglobOpen = (type, value) => {\n    const token = { ...EXTGLOB_CHARS[value], conditions: 1, inner: '' };\n\n    token.prev = prev;\n    token.parens = state.parens;\n    token.output = state.output;\n    const output = (opts.capture ? '(' : '') + token.open;\n\n    increment('parens');\n    push({ type, value, output: state.output ? '' : ONE_CHAR });\n    push({ type: 'paren', extglob: true, value: advance(), output });\n    extglobs.push(token);\n  };\n\n  const extglobClose = token => {\n    let output = token.close + (opts.capture ? ')' : '');\n    let rest;\n\n    if (token.type === 'negate') {\n      let extglobStar = star;\n\n      if (token.inner && token.inner.length > 1 && token.inner.includes('/')) {\n        extglobStar = globstar(opts);\n      }\n\n      if (extglobStar !== star || eos() || /^\\)+$/.test(remaining())) {\n        output = token.close = `)$))${extglobStar}`;\n      }\n\n      if (token.inner.includes('*') && (rest = remaining()) && /^\\.[^\\\\/.]+$/.test(rest)) {\n        output = token.close = `)${rest})${extglobStar})`;\n      }\n\n      if (token.prev.type === 'bos') {\n        state.negatedExtglob = true;\n      }\n    }\n\n    push({ type: 'paren', extglob: true, value, output });\n    decrement('parens');\n  };\n\n  /**\n   * Fast paths\n   */\n\n  if (opts.fastpaths !== false && !/(^[*!]|[/()[\\]{}\"])/.test(input)) {\n    let backslashes = false;\n\n    let output = input.replace(REGEX_SPECIAL_CHARS_BACKREF, (m, esc, chars, first, rest, index) => {\n      if (first === '\\\\') {\n        backslashes = true;\n        return m;\n      }\n\n      if (first === '?') {\n        if (esc) {\n          return esc + first + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        if (index === 0) {\n          return qmarkNoDot + (rest ? QMARK.repeat(rest.length) : '');\n        }\n        return QMARK.repeat(chars.length);\n      }\n\n      if (first === '.') {\n        return DOT_LITERAL.repeat(chars.length);\n      }\n\n      if (first === '*') {\n        if (esc) {\n          return esc + first + (rest ? star : '');\n        }\n        return star;\n      }\n      return esc ? m : `\\\\${m}`;\n    });\n\n    if (backslashes === true) {\n      if (opts.unescape === true) {\n        output = output.replace(/\\\\/g, '');\n      } else {\n        output = output.replace(/\\\\+/g, m => {\n          return m.length % 2 === 0 ? '\\\\\\\\' : (m ? '\\\\' : '');\n        });\n      }\n    }\n\n    if (output === input && opts.contains === true) {\n      state.output = input;\n      return state;\n    }\n\n    state.output = utils.wrapOutput(output, state, options);\n    return state;\n  }\n\n  /**\n   * Tokenize input until we reach end-of-string\n   */\n\n  while (!eos()) {\n    value = advance();\n\n    if (value === '\\u0000') {\n      continue;\n    }\n\n    /**\n     * Escaped characters\n     */\n\n    if (value === '\\\\') {\n      const next = peek();\n\n      if (next === '/' && opts.bash !== true) {\n        continue;\n      }\n\n      if (next === '.' || next === ';') {\n        continue;\n      }\n\n      if (!next) {\n        value += '\\\\';\n        push({ type: 'text', value });\n        continue;\n      }\n\n      // collapse slashes to reduce potential for exploits\n      const match = /^\\\\+/.exec(remaining());\n      let slashes = 0;\n\n      if (match && match[0].length > 2) {\n        slashes = match[0].length;\n        state.index += slashes;\n        if (slashes % 2 !== 0) {\n          value += '\\\\';\n        }\n      }\n\n      if (opts.unescape === true) {\n        value = advance();\n      } else {\n        value += advance();\n      }\n\n      if (state.brackets === 0) {\n        push({ type: 'text', value });\n        continue;\n      }\n    }\n\n    /**\n     * If we're inside a regex character class, continue\n     * until we reach the closing bracket.\n     */\n\n    if (state.brackets > 0 && (value !== ']' || prev.value === '[' || prev.value === '[^')) {\n      if (opts.posix !== false && value === ':') {\n        const inner = prev.value.slice(1);\n        if (inner.includes('[')) {\n          prev.posix = true;\n\n          if (inner.includes(':')) {\n            const idx = prev.value.lastIndexOf('[');\n            const pre = prev.value.slice(0, idx);\n            const rest = prev.value.slice(idx + 2);\n            const posix = POSIX_REGEX_SOURCE[rest];\n            if (posix) {\n              prev.value = pre + posix;\n              state.backtrack = true;\n              advance();\n\n              if (!bos.output && tokens.indexOf(prev) === 1) {\n                bos.output = ONE_CHAR;\n              }\n              continue;\n            }\n          }\n        }\n      }\n\n      if ((value === '[' && peek() !== ':') || (value === '-' && peek() === ']')) {\n        value = `\\\\${value}`;\n      }\n\n      if (value === ']' && (prev.value === '[' || prev.value === '[^')) {\n        value = `\\\\${value}`;\n      }\n\n      if (opts.posix === true && value === '!' && prev.value === '[') {\n        value = '^';\n      }\n\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * If we're inside a quoted string, continue\n     * until we reach the closing double quote.\n     */\n\n    if (state.quotes === 1 && value !== '\"') {\n      value = utils.escapeRegex(value);\n      prev.value += value;\n      append({ value });\n      continue;\n    }\n\n    /**\n     * Double quotes\n     */\n\n    if (value === '\"') {\n      state.quotes = state.quotes === 1 ? 0 : 1;\n      if (opts.keepQuotes === true) {\n        push({ type: 'text', value });\n      }\n      continue;\n    }\n\n    /**\n     * Parentheses\n     */\n\n    if (value === '(') {\n      increment('parens');\n      push({ type: 'paren', value });\n      continue;\n    }\n\n    if (value === ')') {\n      if (state.parens === 0 && opts.strictBrackets === true) {\n        throw new SyntaxError(syntaxError('opening', '('));\n      }\n\n      const extglob = extglobs[extglobs.length - 1];\n      if (extglob && state.parens === extglob.parens + 1) {\n        extglobClose(extglobs.pop());\n        continue;\n      }\n\n      push({ type: 'paren', value, output: state.parens ? ')' : '\\\\)' });\n      decrement('parens');\n      continue;\n    }\n\n    /**\n     * Square brackets\n     */\n\n    if (value === '[') {\n      if (opts.nobracket === true || !remaining().includes(']')) {\n        if (opts.nobracket !== true && opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('closing', ']'));\n        }\n\n        value = `\\\\${value}`;\n      } else {\n        increment('brackets');\n      }\n\n      push({ type: 'bracket', value });\n      continue;\n    }\n\n    if (value === ']') {\n      if (opts.nobracket === true || (prev && prev.type === 'bracket' && prev.value.length === 1)) {\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      if (state.brackets === 0) {\n        if (opts.strictBrackets === true) {\n          throw new SyntaxError(syntaxError('opening', '['));\n        }\n\n        push({ type: 'text', value, output: `\\\\${value}` });\n        continue;\n      }\n\n      decrement('brackets');\n\n      const prevValue = prev.value.slice(1);\n      if (prev.posix !== true && prevValue[0] === '^' && !prevValue.includes('/')) {\n        value = `/${value}`;\n      }\n\n      prev.value += value;\n      append({ value });\n\n      // when literal brackets are explicitly disabled\n      // assume we should match with a regex character class\n      if (opts.literalBrackets === false || utils.hasRegexChars(prevValue)) {\n        continue;\n      }\n\n      const escaped = utils.escapeRegex(prev.value);\n      state.output = state.output.slice(0, -prev.value.length);\n\n      // when literal brackets are explicitly enabled\n      // assume we should escape the brackets to match literal characters\n      if (opts.literalBrackets === true) {\n        state.output += escaped;\n        prev.value = escaped;\n        continue;\n      }\n\n      // when the user specifies nothing, try to match both\n      prev.value = `(${capture}${escaped}|${prev.value})`;\n      state.output += prev.value;\n      continue;\n    }\n\n    /**\n     * Braces\n     */\n\n    if (value === '{' && opts.nobrace !== true) {\n      increment('braces');\n\n      const open = {\n        type: 'brace',\n        value,\n        output: '(',\n        outputIndex: state.output.length,\n        tokensIndex: state.tokens.length\n      };\n\n      braces.push(open);\n      push(open);\n      continue;\n    }\n\n    if (value === '}') {\n      const brace = braces[braces.length - 1];\n\n      if (opts.nobrace === true || !brace) {\n        push({ type: 'text', value, output: value });\n        continue;\n      }\n\n      let output = ')';\n\n      if (brace.dots === true) {\n        const arr = tokens.slice();\n        const range = [];\n\n        for (let i = arr.length - 1; i >= 0; i--) {\n          tokens.pop();\n          if (arr[i].type === 'brace') {\n            break;\n          }\n          if (arr[i].type !== 'dots') {\n            range.unshift(arr[i].value);\n          }\n        }\n\n        output = expandRange(range, opts);\n        state.backtrack = true;\n      }\n\n      if (brace.comma !== true && brace.dots !== true) {\n        const out = state.output.slice(0, brace.outputIndex);\n        const toks = state.tokens.slice(brace.tokensIndex);\n        brace.value = brace.output = '\\\\{';\n        value = output = '\\\\}';\n        state.output = out;\n        for (const t of toks) {\n          state.output += (t.output || t.value);\n        }\n      }\n\n      push({ type: 'brace', value, output });\n      decrement('braces');\n      braces.pop();\n      continue;\n    }\n\n    /**\n     * Pipes\n     */\n\n    if (value === '|') {\n      if (extglobs.length > 0) {\n        extglobs[extglobs.length - 1].conditions++;\n      }\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Commas\n     */\n\n    if (value === ',') {\n      let output = value;\n\n      const brace = braces[braces.length - 1];\n      if (brace && stack[stack.length - 1] === 'braces') {\n        brace.comma = true;\n        output = '|';\n      }\n\n      push({ type: 'comma', value, output });\n      continue;\n    }\n\n    /**\n     * Slashes\n     */\n\n    if (value === '/') {\n      // if the beginning of the glob is \"./\", advance the start\n      // to the current index, and don't add the \"./\" characters\n      // to the state. This greatly simplifies lookbehinds when\n      // checking for BOS characters like \"!\" and \".\" (not \"./\")\n      if (prev.type === 'dot' && state.index === state.start + 1) {\n        state.start = state.index + 1;\n        state.consumed = '';\n        state.output = '';\n        tokens.pop();\n        prev = bos; // reset \"prev\" to the first token\n        continue;\n      }\n\n      push({ type: 'slash', value, output: SLASH_LITERAL });\n      continue;\n    }\n\n    /**\n     * Dots\n     */\n\n    if (value === '.') {\n      if (state.braces > 0 && prev.type === 'dot') {\n        if (prev.value === '.') prev.output = DOT_LITERAL;\n        const brace = braces[braces.length - 1];\n        prev.type = 'dots';\n        prev.output += value;\n        prev.value += value;\n        brace.dots = true;\n        continue;\n      }\n\n      if ((state.braces + state.parens) === 0 && prev.type !== 'bos' && prev.type !== 'slash') {\n        push({ type: 'text', value, output: DOT_LITERAL });\n        continue;\n      }\n\n      push({ type: 'dot', value, output: DOT_LITERAL });\n      continue;\n    }\n\n    /**\n     * Question marks\n     */\n\n    if (value === '?') {\n      const isGroup = prev && prev.value === '(';\n      if (!isGroup && opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('qmark', value);\n        continue;\n      }\n\n      if (prev && prev.type === 'paren') {\n        const next = peek();\n        let output = value;\n\n        if (next === '<' && !utils.supportsLookbehinds()) {\n          throw new Error('Node.js v10 or higher is required for regex lookbehinds');\n        }\n\n        if ((prev.value === '(' && !/[!=<:]/.test(next)) || (next === '<' && !/<([!=]|\\w+>)/.test(remaining()))) {\n          output = `\\\\${value}`;\n        }\n\n        push({ type: 'text', value, output });\n        continue;\n      }\n\n      if (opts.dot !== true && (prev.type === 'slash' || prev.type === 'bos')) {\n        push({ type: 'qmark', value, output: QMARK_NO_DOT });\n        continue;\n      }\n\n      push({ type: 'qmark', value, output: QMARK });\n      continue;\n    }\n\n    /**\n     * Exclamation\n     */\n\n    if (value === '!') {\n      if (opts.noextglob !== true && peek() === '(') {\n        if (peek(2) !== '?' || !/[!=<:]/.test(peek(3))) {\n          extglobOpen('negate', value);\n          continue;\n        }\n      }\n\n      if (opts.nonegate !== true && state.index === 0) {\n        negate();\n        continue;\n      }\n    }\n\n    /**\n     * Plus\n     */\n\n    if (value === '+') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        extglobOpen('plus', value);\n        continue;\n      }\n\n      if ((prev && prev.value === '(') || opts.regex === false) {\n        push({ type: 'plus', value, output: PLUS_LITERAL });\n        continue;\n      }\n\n      if ((prev && (prev.type === 'bracket' || prev.type === 'paren' || prev.type === 'brace')) || state.parens > 0) {\n        push({ type: 'plus', value });\n        continue;\n      }\n\n      push({ type: 'plus', value: PLUS_LITERAL });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value === '@') {\n      if (opts.noextglob !== true && peek() === '(' && peek(2) !== '?') {\n        push({ type: 'at', extglob: true, value, output: '' });\n        continue;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Plain text\n     */\n\n    if (value !== '*') {\n      if (value === '$' || value === '^') {\n        value = `\\\\${value}`;\n      }\n\n      const match = REGEX_NON_SPECIAL_CHARS.exec(remaining());\n      if (match) {\n        value += match[0];\n        state.index += match[0].length;\n      }\n\n      push({ type: 'text', value });\n      continue;\n    }\n\n    /**\n     * Stars\n     */\n\n    if (prev && (prev.type === 'globstar' || prev.star === true)) {\n      prev.type = 'star';\n      prev.star = true;\n      prev.value += value;\n      prev.output = star;\n      state.backtrack = true;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    let rest = remaining();\n    if (opts.noextglob !== true && /^\\([^?]/.test(rest)) {\n      extglobOpen('star', value);\n      continue;\n    }\n\n    if (prev.type === 'star') {\n      if (opts.noglobstar === true) {\n        consume(value);\n        continue;\n      }\n\n      const prior = prev.prev;\n      const before = prior.prev;\n      const isStart = prior.type === 'slash' || prior.type === 'bos';\n      const afterStar = before && (before.type === 'star' || before.type === 'globstar');\n\n      if (opts.bash === true && (!isStart || (rest[0] && rest[0] !== '/'))) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      const isBrace = state.braces > 0 && (prior.type === 'comma' || prior.type === 'brace');\n      const isExtglob = extglobs.length && (prior.type === 'pipe' || prior.type === 'paren');\n      if (!isStart && prior.type !== 'paren' && !isBrace && !isExtglob) {\n        push({ type: 'star', value, output: '' });\n        continue;\n      }\n\n      // strip consecutive `/**/`\n      while (rest.slice(0, 3) === '/**') {\n        const after = input[state.index + 4];\n        if (after && after !== '/') {\n          break;\n        }\n        rest = rest.slice(3);\n        consume('/**', 3);\n      }\n\n      if (prior.type === 'bos' && eos()) {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = globstar(opts);\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && !afterStar && eos()) {\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = globstar(opts) + (opts.strictSlashes ? ')' : '|$)');\n        prev.value += value;\n        state.globstar = true;\n        state.output += prior.output + prev.output;\n        consume(value);\n        continue;\n      }\n\n      if (prior.type === 'slash' && prior.prev.type !== 'bos' && rest[0] === '/') {\n        const end = rest[1] !== void 0 ? '|$' : '';\n\n        state.output = state.output.slice(0, -(prior.output + prev.output).length);\n        prior.output = `(?:${prior.output}`;\n\n        prev.type = 'globstar';\n        prev.output = `${globstar(opts)}${SLASH_LITERAL}|${SLASH_LITERAL}${end})`;\n        prev.value += value;\n\n        state.output += prior.output + prev.output;\n        state.globstar = true;\n\n        consume(value + advance());\n\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      if (prior.type === 'bos' && rest[0] === '/') {\n        prev.type = 'globstar';\n        prev.value += value;\n        prev.output = `(?:^|${SLASH_LITERAL}|${globstar(opts)}${SLASH_LITERAL})`;\n        state.output = prev.output;\n        state.globstar = true;\n        consume(value + advance());\n        push({ type: 'slash', value: '/', output: '' });\n        continue;\n      }\n\n      // remove single star from output\n      state.output = state.output.slice(0, -prev.output.length);\n\n      // reset previous token to globstar\n      prev.type = 'globstar';\n      prev.output = globstar(opts);\n      prev.value += value;\n\n      // reset output with globstar\n      state.output += prev.output;\n      state.globstar = true;\n      consume(value);\n      continue;\n    }\n\n    const token = { type: 'star', value, output: star };\n\n    if (opts.bash === true) {\n      token.output = '.*?';\n      if (prev.type === 'bos' || prev.type === 'slash') {\n        token.output = nodot + token.output;\n      }\n      push(token);\n      continue;\n    }\n\n    if (prev && (prev.type === 'bracket' || prev.type === 'paren') && opts.regex === true) {\n      token.output = value;\n      push(token);\n      continue;\n    }\n\n    if (state.index === state.start || prev.type === 'slash' || prev.type === 'dot') {\n      if (prev.type === 'dot') {\n        state.output += NO_DOT_SLASH;\n        prev.output += NO_DOT_SLASH;\n\n      } else if (opts.dot === true) {\n        state.output += NO_DOTS_SLASH;\n        prev.output += NO_DOTS_SLASH;\n\n      } else {\n        state.output += nodot;\n        prev.output += nodot;\n      }\n\n      if (peek() !== '*') {\n        state.output += ONE_CHAR;\n        prev.output += ONE_CHAR;\n      }\n    }\n\n    push(token);\n  }\n\n  while (state.brackets > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ']'));\n    state.output = utils.escapeLast(state.output, '[');\n    decrement('brackets');\n  }\n\n  while (state.parens > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', ')'));\n    state.output = utils.escapeLast(state.output, '(');\n    decrement('parens');\n  }\n\n  while (state.braces > 0) {\n    if (opts.strictBrackets === true) throw new SyntaxError(syntaxError('closing', '}'));\n    state.output = utils.escapeLast(state.output, '{');\n    decrement('braces');\n  }\n\n  if (opts.strictSlashes !== true && (prev.type === 'star' || prev.type === 'bracket')) {\n    push({ type: 'maybe_slash', value: '', output: `${SLASH_LITERAL}?` });\n  }\n\n  // rebuild the output if we had to backtrack at any point\n  if (state.backtrack === true) {\n    state.output = '';\n\n    for (const token of state.tokens) {\n      state.output += token.output != null ? token.output : token.value;\n\n      if (token.suffix) {\n        state.output += token.suffix;\n      }\n    }\n  }\n\n  return state;\n};\n\n/**\n * Fast paths for creating regular expressions for common glob patterns.\n * This can significantly speed up processing and has very little downside\n * impact when none of the fast paths match.\n */\n\nparse.fastpaths = (input, options) => {\n  const opts = { ...options };\n  const max = typeof opts.maxLength === 'number' ? Math.min(MAX_LENGTH, opts.maxLength) : MAX_LENGTH;\n  const len = input.length;\n  if (len > max) {\n    throw new SyntaxError(`Input length: ${len}, exceeds maximum allowed length: ${max}`);\n  }\n\n  input = REPLACEMENTS[input] || input;\n  const win32 = utils.isWindows(options);\n\n  // create constants based on platform, for windows or posix\n  const {\n    DOT_LITERAL,\n    SLASH_LITERAL,\n    ONE_CHAR,\n    DOTS_SLASH,\n    NO_DOT,\n    NO_DOTS,\n    NO_DOTS_SLASH,\n    STAR,\n    START_ANCHOR\n  } = constants.globChars(win32);\n\n  const nodot = opts.dot ? NO_DOTS : NO_DOT;\n  const slashDot = opts.dot ? NO_DOTS_SLASH : NO_DOT;\n  const capture = opts.capture ? '' : '?:';\n  const state = { negated: false, prefix: '' };\n  let star = opts.bash === true ? '.*?' : STAR;\n\n  if (opts.capture) {\n    star = `(${star})`;\n  }\n\n  const globstar = opts => {\n    if (opts.noglobstar === true) return star;\n    return `(${capture}(?:(?!${START_ANCHOR}${opts.dot ? DOTS_SLASH : DOT_LITERAL}).)*?)`;\n  };\n\n  const create = str => {\n    switch (str) {\n      case '*':\n        return `${nodot}${ONE_CHAR}${star}`;\n\n      case '.*':\n        return `${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*.*':\n        return `${nodot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '*/*':\n        return `${nodot}${star}${SLASH_LITERAL}${ONE_CHAR}${slashDot}${star}`;\n\n      case '**':\n        return nodot + globstar(opts);\n\n      case '**/*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${ONE_CHAR}${star}`;\n\n      case '**/*.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${slashDot}${star}${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      case '**/.*':\n        return `(?:${nodot}${globstar(opts)}${SLASH_LITERAL})?${DOT_LITERAL}${ONE_CHAR}${star}`;\n\n      default: {\n        const match = /^(.*?)\\.(\\w+)$/.exec(str);\n        if (!match) return;\n\n        const source = create(match[1]);\n        if (!source) return;\n\n        return source + DOT_LITERAL + match[2];\n      }\n    }\n  };\n\n  const output = utils.removePrefix(input, state);\n  let source = create(output);\n\n  if (source && opts.strictSlashes !== true) {\n    source += `${SLASH_LITERAL}?`;\n  }\n\n  return source;\n};\n\nmodule.exports = parse;\n","'use strict';\n\nconst path = require('path');\nconst scan = require('./scan');\nconst parse = require('./parse');\nconst utils = require('./utils');\nconst constants = require('./constants');\nconst isObject = val => val && typeof val === 'object' && !Array.isArray(val);\n\n/**\n * Creates a matcher function from one or more glob patterns. The\n * returned function takes a string to match as its first argument,\n * and returns true if the string is a match. The returned matcher\n * function also takes a boolean as the second argument that, when true,\n * returns an object with additional information.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch(glob[, options]);\n *\n * const isMatch = picomatch('*.!(*a)');\n * console.log(isMatch('a.a')); //=> false\n * console.log(isMatch('a.b')); //=> true\n * ```\n * @name picomatch\n * @param {String|Array} `globs` One or more glob patterns.\n * @param {Object=} `options`\n * @return {Function=} Returns a matcher function.\n * @api public\n */\n\nconst picomatch = (glob, options, returnState = false) => {\n  if (Array.isArray(glob)) {\n    const fns = glob.map(input => picomatch(input, options, returnState));\n    const arrayMatcher = str => {\n      for (const isMatch of fns) {\n        const state = isMatch(str);\n        if (state) return state;\n      }\n      return false;\n    };\n    return arrayMatcher;\n  }\n\n  const isState = isObject(glob) && glob.tokens && glob.input;\n\n  if (glob === '' || (typeof glob !== 'string' && !isState)) {\n    throw new TypeError('Expected pattern to be a non-empty string');\n  }\n\n  const opts = options || {};\n  const posix = utils.isWindows(options);\n  const regex = isState\n    ? picomatch.compileRe(glob, options)\n    : picomatch.makeRe(glob, options, false, true);\n\n  const state = regex.state;\n  delete regex.state;\n\n  let isIgnored = () => false;\n  if (opts.ignore) {\n    const ignoreOpts = { ...options, ignore: null, onMatch: null, onResult: null };\n    isIgnored = picomatch(opts.ignore, ignoreOpts, returnState);\n  }\n\n  const matcher = (input, returnObject = false) => {\n    const { isMatch, match, output } = picomatch.test(input, regex, options, { glob, posix });\n    const result = { glob, state, regex, posix, input, output, match, isMatch };\n\n    if (typeof opts.onResult === 'function') {\n      opts.onResult(result);\n    }\n\n    if (isMatch === false) {\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (isIgnored(input)) {\n      if (typeof opts.onIgnore === 'function') {\n        opts.onIgnore(result);\n      }\n      result.isMatch = false;\n      return returnObject ? result : false;\n    }\n\n    if (typeof opts.onMatch === 'function') {\n      opts.onMatch(result);\n    }\n    return returnObject ? result : true;\n  };\n\n  if (returnState) {\n    matcher.state = state;\n  }\n\n  return matcher;\n};\n\n/**\n * Test `input` with the given `regex`. This is used by the main\n * `picomatch()` function to test the input string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.test(input, regex[, options]);\n *\n * console.log(picomatch.test('foo/bar', /^(?:([^/]*?)\\/([^/]*?))$/));\n * // { isMatch: true, match: [ 'foo/', 'foo', 'bar' ], output: 'foo/bar' }\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp} `regex`\n * @return {Object} Returns an object with matching info.\n * @api public\n */\n\npicomatch.test = (input, regex, options, { glob, posix } = {}) => {\n  if (typeof input !== 'string') {\n    throw new TypeError('Expected input to be a string');\n  }\n\n  if (input === '') {\n    return { isMatch: false, output: '' };\n  }\n\n  const opts = options || {};\n  const format = opts.format || (posix ? utils.toPosixSlashes : null);\n  let match = input === glob;\n  let output = (match && format) ? format(input) : input;\n\n  if (match === false) {\n    output = format ? format(input) : input;\n    match = output === glob;\n  }\n\n  if (match === false || opts.capture === true) {\n    if (opts.matchBase === true || opts.basename === true) {\n      match = picomatch.matchBase(input, regex, options, posix);\n    } else {\n      match = regex.exec(output);\n    }\n  }\n\n  return { isMatch: Boolean(match), match, output };\n};\n\n/**\n * Match the basename of a filepath.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.matchBase(input, glob[, options]);\n * console.log(picomatch.matchBase('foo/bar.js', '*.js'); // true\n * ```\n * @param {String} `input` String to test.\n * @param {RegExp|String} `glob` Glob pattern or regex created by [.makeRe](#makeRe).\n * @return {Boolean}\n * @api public\n */\n\npicomatch.matchBase = (input, glob, options, posix = utils.isWindows(options)) => {\n  const regex = glob instanceof RegExp ? glob : picomatch.makeRe(glob, options);\n  return regex.test(path.basename(input));\n};\n\n/**\n * Returns true if **any** of the given glob `patterns` match the specified `string`.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.isMatch(string, patterns[, options]);\n *\n * console.log(picomatch.isMatch('a.a', ['b.*', '*.a'])); //=> true\n * console.log(picomatch.isMatch('a.a', 'b.*')); //=> false\n * ```\n * @param {String|Array} str The string to test.\n * @param {String|Array} patterns One or more glob patterns to use for matching.\n * @param {Object} [options] See available [options](#options).\n * @return {Boolean} Returns true if any patterns match `str`\n * @api public\n */\n\npicomatch.isMatch = (str, patterns, options) => picomatch(patterns, options)(str);\n\n/**\n * Parse a glob pattern to create the source string for a regular\n * expression.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const result = picomatch.parse(pattern[, options]);\n * ```\n * @param {String} `pattern`\n * @param {Object} `options`\n * @return {Object} Returns an object with useful properties and output to be used as a regex source string.\n * @api public\n */\n\npicomatch.parse = (pattern, options) => {\n  if (Array.isArray(pattern)) return pattern.map(p => picomatch.parse(p, options));\n  return parse(pattern, { ...options, fastpaths: false });\n};\n\n/**\n * Scan a glob pattern to separate the pattern into segments.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.scan(input[, options]);\n *\n * const result = picomatch.scan('!./foo/*.js');\n * console.log(result);\n * { prefix: '!./',\n *   input: '!./foo/*.js',\n *   start: 3,\n *   base: 'foo',\n *   glob: '*.js',\n *   isBrace: false,\n *   isBracket: false,\n *   isGlob: true,\n *   isExtglob: false,\n *   isGlobstar: false,\n *   negated: true }\n * ```\n * @param {String} `input` Glob pattern to scan.\n * @param {Object} `options`\n * @return {Object} Returns an object with\n * @api public\n */\n\npicomatch.scan = (input, options) => scan(input, options);\n\n/**\n * Compile a regular expression from the `state` object returned by the\n * [parse()](#parse) method.\n *\n * @param {Object} `state`\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Intended for implementors, this argument allows you to return the raw output from the parser.\n * @param {Boolean} `returnState` Adds the state to a `state` property on the returned regex. Useful for implementors and debugging.\n * @return {RegExp}\n * @api public\n */\n\npicomatch.compileRe = (state, options, returnOutput = false, returnState = false) => {\n  if (returnOutput === true) {\n    return state.output;\n  }\n\n  const opts = options || {};\n  const prepend = opts.contains ? '' : '^';\n  const append = opts.contains ? '' : '$';\n\n  let source = `${prepend}(?:${state.output})${append}`;\n  if (state && state.negated === true) {\n    source = `^(?!${source}).*$`;\n  }\n\n  const regex = picomatch.toRegex(source, options);\n  if (returnState === true) {\n    regex.state = state;\n  }\n\n  return regex;\n};\n\n/**\n * Create a regular expression from a parsed glob pattern.\n *\n * ```js\n * const picomatch = require('picomatch');\n * const state = picomatch.parse('*.js');\n * // picomatch.compileRe(state[, options]);\n *\n * console.log(picomatch.compileRe(state));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `state` The object returned from the `.parse` method.\n * @param {Object} `options`\n * @param {Boolean} `returnOutput` Implementors may use this argument to return the compiled output, instead of a regular expression. This is not exposed on the options to prevent end-users from mutating the result.\n * @param {Boolean} `returnState` Implementors may use this argument to return the state from the parsed glob with the returned regular expression.\n * @return {RegExp} Returns a regex created from the given pattern.\n * @api public\n */\n\npicomatch.makeRe = (input, options = {}, returnOutput = false, returnState = false) => {\n  if (!input || typeof input !== 'string') {\n    throw new TypeError('Expected a non-empty string');\n  }\n\n  let parsed = { negated: false, fastpaths: true };\n\n  if (options.fastpaths !== false && (input[0] === '.' || input[0] === '*')) {\n    parsed.output = parse.fastpaths(input, options);\n  }\n\n  if (!parsed.output) {\n    parsed = parse(input, options);\n  }\n\n  return picomatch.compileRe(parsed, options, returnOutput, returnState);\n};\n\n/**\n * Create a regular expression from the given regex source string.\n *\n * ```js\n * const picomatch = require('picomatch');\n * // picomatch.toRegex(source[, options]);\n *\n * const { output } = picomatch.parse('*.js');\n * console.log(picomatch.toRegex(output));\n * //=> /^(?:(?!\\.)(?=.)[^/]*?\\.js)$/\n * ```\n * @param {String} `source` Regular expression source string.\n * @param {Object} `options`\n * @return {RegExp}\n * @api public\n */\n\npicomatch.toRegex = (source, options) => {\n  try {\n    const opts = options || {};\n    return new RegExp(source, opts.flags || (opts.nocase ? 'i' : ''));\n  } catch (err) {\n    if (options && options.debug === true) throw err;\n    return /$^/;\n  }\n};\n\n/**\n * Picomatch constants.\n * @return {Object}\n */\n\npicomatch.constants = constants;\n\n/**\n * Expose \"picomatch\"\n */\n\nmodule.exports = picomatch;\n","'use strict';\n\nconst utils = require('./utils');\nconst {\n  CHAR_ASTERISK,             /* * */\n  CHAR_AT,                   /* @ */\n  CHAR_BACKWARD_SLASH,       /* \\ */\n  CHAR_COMMA,                /* , */\n  CHAR_DOT,                  /* . */\n  CHAR_EXCLAMATION_MARK,     /* ! */\n  CHAR_FORWARD_SLASH,        /* / */\n  CHAR_LEFT_CURLY_BRACE,     /* { */\n  CHAR_LEFT_PARENTHESES,     /* ( */\n  CHAR_LEFT_SQUARE_BRACKET,  /* [ */\n  CHAR_PLUS,                 /* + */\n  CHAR_QUESTION_MARK,        /* ? */\n  CHAR_RIGHT_CURLY_BRACE,    /* } */\n  CHAR_RIGHT_PARENTHESES,    /* ) */\n  CHAR_RIGHT_SQUARE_BRACKET  /* ] */\n} = require('./constants');\n\nconst isPathSeparator = code => {\n  return code === CHAR_FORWARD_SLASH || code === CHAR_BACKWARD_SLASH;\n};\n\nconst depth = token => {\n  if (token.isPrefix !== true) {\n    token.depth = token.isGlobstar ? Infinity : 1;\n  }\n};\n\n/**\n * Quickly scans a glob pattern and returns an object with a handful of\n * useful properties, like `isGlob`, `path` (the leading non-glob, if it exists),\n * `glob` (the actual pattern), `negated` (true if the path starts with `!` but not\n * with `!(`) and `negatedExtglob` (true if the path starts with `!(`).\n *\n * ```js\n * const pm = require('picomatch');\n * console.log(pm.scan('foo/bar/*.js'));\n * { isGlob: true, input: 'foo/bar/*.js', base: 'foo/bar', glob: '*.js' }\n * ```\n * @param {String} `str`\n * @param {Object} `options`\n * @return {Object} Returns an object with tokens and regex source string.\n * @api public\n */\n\nconst scan = (input, options) => {\n  const opts = options || {};\n\n  const length = input.length - 1;\n  const scanToEnd = opts.parts === true || opts.scanToEnd === true;\n  const slashes = [];\n  const tokens = [];\n  const parts = [];\n\n  let str = input;\n  let index = -1;\n  let start = 0;\n  let lastIndex = 0;\n  let isBrace = false;\n  let isBracket = false;\n  let isGlob = false;\n  let isExtglob = false;\n  let isGlobstar = false;\n  let braceEscaped = false;\n  let backslashes = false;\n  let negated = false;\n  let negatedExtglob = false;\n  let finished = false;\n  let braces = 0;\n  let prev;\n  let code;\n  let token = { value: '', depth: 0, isGlob: false };\n\n  const eos = () => index >= length;\n  const peek = () => str.charCodeAt(index + 1);\n  const advance = () => {\n    prev = code;\n    return str.charCodeAt(++index);\n  };\n\n  while (index < length) {\n    code = advance();\n    let next;\n\n    if (code === CHAR_BACKWARD_SLASH) {\n      backslashes = token.backslashes = true;\n      code = advance();\n\n      if (code === CHAR_LEFT_CURLY_BRACE) {\n        braceEscaped = true;\n      }\n      continue;\n    }\n\n    if (braceEscaped === true || code === CHAR_LEFT_CURLY_BRACE) {\n      braces++;\n\n      while (eos() !== true && (code = advance())) {\n        if (code === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (code === CHAR_LEFT_CURLY_BRACE) {\n          braces++;\n          continue;\n        }\n\n        if (braceEscaped !== true && code === CHAR_DOT && (code = advance()) === CHAR_DOT) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (braceEscaped !== true && code === CHAR_COMMA) {\n          isBrace = token.isBrace = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n\n          if (scanToEnd === true) {\n            continue;\n          }\n\n          break;\n        }\n\n        if (code === CHAR_RIGHT_CURLY_BRACE) {\n          braces--;\n\n          if (braces === 0) {\n            braceEscaped = false;\n            isBrace = token.isBrace = true;\n            finished = true;\n            break;\n          }\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (code === CHAR_FORWARD_SLASH) {\n      slashes.push(index);\n      tokens.push(token);\n      token = { value: '', depth: 0, isGlob: false };\n\n      if (finished === true) continue;\n      if (prev === CHAR_DOT && index === (start + 1)) {\n        start += 2;\n        continue;\n      }\n\n      lastIndex = index + 1;\n      continue;\n    }\n\n    if (opts.noext !== true) {\n      const isExtglobChar = code === CHAR_PLUS\n        || code === CHAR_AT\n        || code === CHAR_ASTERISK\n        || code === CHAR_QUESTION_MARK\n        || code === CHAR_EXCLAMATION_MARK;\n\n      if (isExtglobChar === true && peek() === CHAR_LEFT_PARENTHESES) {\n        isGlob = token.isGlob = true;\n        isExtglob = token.isExtglob = true;\n        finished = true;\n        if (code === CHAR_EXCLAMATION_MARK && index === start) {\n          negatedExtglob = true;\n        }\n\n        if (scanToEnd === true) {\n          while (eos() !== true && (code = advance())) {\n            if (code === CHAR_BACKWARD_SLASH) {\n              backslashes = token.backslashes = true;\n              code = advance();\n              continue;\n            }\n\n            if (code === CHAR_RIGHT_PARENTHESES) {\n              isGlob = token.isGlob = true;\n              finished = true;\n              break;\n            }\n          }\n          continue;\n        }\n        break;\n      }\n    }\n\n    if (code === CHAR_ASTERISK) {\n      if (prev === CHAR_ASTERISK) isGlobstar = token.isGlobstar = true;\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_QUESTION_MARK) {\n      isGlob = token.isGlob = true;\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n      break;\n    }\n\n    if (code === CHAR_LEFT_SQUARE_BRACKET) {\n      while (eos() !== true && (next = advance())) {\n        if (next === CHAR_BACKWARD_SLASH) {\n          backslashes = token.backslashes = true;\n          advance();\n          continue;\n        }\n\n        if (next === CHAR_RIGHT_SQUARE_BRACKET) {\n          isBracket = token.isBracket = true;\n          isGlob = token.isGlob = true;\n          finished = true;\n          break;\n        }\n      }\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n\n    if (opts.nonegate !== true && code === CHAR_EXCLAMATION_MARK && index === start) {\n      negated = token.negated = true;\n      start++;\n      continue;\n    }\n\n    if (opts.noparen !== true && code === CHAR_LEFT_PARENTHESES) {\n      isGlob = token.isGlob = true;\n\n      if (scanToEnd === true) {\n        while (eos() !== true && (code = advance())) {\n          if (code === CHAR_LEFT_PARENTHESES) {\n            backslashes = token.backslashes = true;\n            code = advance();\n            continue;\n          }\n\n          if (code === CHAR_RIGHT_PARENTHESES) {\n            finished = true;\n            break;\n          }\n        }\n        continue;\n      }\n      break;\n    }\n\n    if (isGlob === true) {\n      finished = true;\n\n      if (scanToEnd === true) {\n        continue;\n      }\n\n      break;\n    }\n  }\n\n  if (opts.noext === true) {\n    isExtglob = false;\n    isGlob = false;\n  }\n\n  let base = str;\n  let prefix = '';\n  let glob = '';\n\n  if (start > 0) {\n    prefix = str.slice(0, start);\n    str = str.slice(start);\n    lastIndex -= start;\n  }\n\n  if (base && isGlob === true && lastIndex > 0) {\n    base = str.slice(0, lastIndex);\n    glob = str.slice(lastIndex);\n  } else if (isGlob === true) {\n    base = '';\n    glob = str;\n  } else {\n    base = str;\n  }\n\n  if (base && base !== '' && base !== '/' && base !== str) {\n    if (isPathSeparator(base.charCodeAt(base.length - 1))) {\n      base = base.slice(0, -1);\n    }\n  }\n\n  if (opts.unescape === true) {\n    if (glob) glob = utils.removeBackslashes(glob);\n\n    if (base && backslashes === true) {\n      base = utils.removeBackslashes(base);\n    }\n  }\n\n  const state = {\n    prefix,\n    input,\n    start,\n    base,\n    glob,\n    isBrace,\n    isBracket,\n    isGlob,\n    isExtglob,\n    isGlobstar,\n    negated,\n    negatedExtglob\n  };\n\n  if (opts.tokens === true) {\n    state.maxDepth = 0;\n    if (!isPathSeparator(code)) {\n      tokens.push(token);\n    }\n    state.tokens = tokens;\n  }\n\n  if (opts.parts === true || opts.tokens === true) {\n    let prevIndex;\n\n    for (let idx = 0; idx < slashes.length; idx++) {\n      const n = prevIndex ? prevIndex + 1 : start;\n      const i = slashes[idx];\n      const value = input.slice(n, i);\n      if (opts.tokens) {\n        if (idx === 0 && start !== 0) {\n          tokens[idx].isPrefix = true;\n          tokens[idx].value = prefix;\n        } else {\n          tokens[idx].value = value;\n        }\n        depth(tokens[idx]);\n        state.maxDepth += tokens[idx].depth;\n      }\n      if (idx !== 0 || value !== '') {\n        parts.push(value);\n      }\n      prevIndex = i;\n    }\n\n    if (prevIndex && prevIndex + 1 < input.length) {\n      const value = input.slice(prevIndex + 1);\n      parts.push(value);\n\n      if (opts.tokens) {\n        tokens[tokens.length - 1].value = value;\n        depth(tokens[tokens.length - 1]);\n        state.maxDepth += tokens[tokens.length - 1].depth;\n      }\n    }\n\n    state.slashes = slashes;\n    state.parts = parts;\n  }\n\n  return state;\n};\n\nmodule.exports = scan;\n","'use strict';\n\nconst path = require('path');\nconst win32 = process.platform === 'win32';\nconst {\n  REGEX_BACKSLASH,\n  REGEX_REMOVE_BACKSLASH,\n  REGEX_SPECIAL_CHARS,\n  REGEX_SPECIAL_CHARS_GLOBAL\n} = require('./constants');\n\nexports.isObject = val => val !== null && typeof val === 'object' && !Array.isArray(val);\nexports.hasRegexChars = str => REGEX_SPECIAL_CHARS.test(str);\nexports.isRegexChar = str => str.length === 1 && exports.hasRegexChars(str);\nexports.escapeRegex = str => str.replace(REGEX_SPECIAL_CHARS_GLOBAL, '\\\\$1');\nexports.toPosixSlashes = str => str.replace(REGEX_BACKSLASH, '/');\n\nexports.removeBackslashes = str => {\n  return str.replace(REGEX_REMOVE_BACKSLASH, match => {\n    return match === '\\\\' ? '' : match;\n  });\n};\n\nexports.supportsLookbehinds = () => {\n  const segs = process.version.slice(1).split('.').map(Number);\n  if (segs.length === 3 && segs[0] >= 9 || (segs[0] === 8 && segs[1] >= 10)) {\n    return true;\n  }\n  return false;\n};\n\nexports.isWindows = options => {\n  if (options && typeof options.windows === 'boolean') {\n    return options.windows;\n  }\n  return win32 === true || path.sep === '\\\\';\n};\n\nexports.escapeLast = (input, char, lastIdx) => {\n  const idx = input.lastIndexOf(char, lastIdx);\n  if (idx === -1) return input;\n  if (input[idx - 1] === '\\\\') return exports.escapeLast(input, char, idx - 1);\n  return `${input.slice(0, idx)}\\\\${input.slice(idx)}`;\n};\n\nexports.removePrefix = (input, state = {}) => {\n  let output = input;\n  if (output.startsWith('./')) {\n    output = output.slice(2);\n    state.prefix = './';\n  }\n  return output;\n};\n\nexports.wrapOutput = (input, state = {}, options = {}) => {\n  const prepend = options.contains ? '' : '^';\n  const append = options.contains ? '' : '$';\n\n  let output = `${prepend}(?:${input})${append}`;\n  if (state.negated === true) {\n    output = `(?:^(?!${output}).*$)`;\n  }\n  return output;\n};\n","'use strict'\n\nfunction reusify (Constructor) {\n  var head = new Constructor()\n  var tail = head\n\n  function get () {\n    var current = head\n\n    if (current.next) {\n      head = current.next\n    } else {\n      head = new Constructor()\n      tail = head\n    }\n\n    current.next = null\n\n    return current\n  }\n\n  function release (obj) {\n    tail.next = obj\n    tail = obj\n  }\n\n  return {\n    get: get,\n    release: release\n  }\n}\n\nmodule.exports = reusify\n","/*! run-parallel. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */\nmodule.exports = runParallel\n\nfunction runParallel (tasks, cb) {\n  var results, pending, keys\n  var isSync = true\n\n  if (Array.isArray(tasks)) {\n    results = []\n    pending = tasks.length\n  } else {\n    keys = Object.keys(tasks)\n    results = {}\n    pending = keys.length\n  }\n\n  function done (err) {\n    function end () {\n      if (cb) cb(err, results)\n      cb = null\n    }\n    if (isSync) process.nextTick(end)\n    else end()\n  }\n\n  function each (i, err, result) {\n    results[i] = result\n    if (--pending === 0 || err) {\n      done(err)\n    }\n  }\n\n  if (!pending) {\n    // empty\n    done(null)\n  } else if (keys) {\n    // object\n    keys.forEach(function (key) {\n      tasks[key](function (err, result) { each(key, err, result) })\n    })\n  } else {\n    // array\n    tasks.forEach(function (task, i) {\n      task(function (err, result) { each(i, err, result) })\n    })\n  }\n\n  isSync = false\n}\n","exports = module.exports = SemVer\n\nvar debug\n/* istanbul ignore next */\nif (typeof process === 'object' &&\n    process.env &&\n    process.env.NODE_DEBUG &&\n    /\\bsemver\\b/i.test(process.env.NODE_DEBUG)) {\n  debug = function () {\n    var args = Array.prototype.slice.call(arguments, 0)\n    args.unshift('SEMVER')\n    console.log.apply(console, args)\n  }\n} else {\n  debug = function () {}\n}\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nexports.SEMVER_SPEC_VERSION = '2.0.0'\n\nvar MAX_LENGTH = 256\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nvar MAX_SAFE_COMPONENT_LENGTH = 16\n\n// The actual regexps go on exports.re\nvar re = exports.re = []\nvar src = exports.src = []\nvar R = 0\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\nvar NUMERICIDENTIFIER = R++\nsrc[NUMERICIDENTIFIER] = '0|[1-9]\\\\d*'\nvar NUMERICIDENTIFIERLOOSE = R++\nsrc[NUMERICIDENTIFIERLOOSE] = '[0-9]+'\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\nvar NONNUMERICIDENTIFIER = R++\nsrc[NONNUMERICIDENTIFIER] = '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*'\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\nvar MAINVERSION = R++\nsrc[MAINVERSION] = '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')\\\\.' +\n                   '(' + src[NUMERICIDENTIFIER] + ')'\n\nvar MAINVERSIONLOOSE = R++\nsrc[MAINVERSIONLOOSE] = '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')\\\\.' +\n                        '(' + src[NUMERICIDENTIFIERLOOSE] + ')'\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\nvar PRERELEASEIDENTIFIER = R++\nsrc[PRERELEASEIDENTIFIER] = '(?:' + src[NUMERICIDENTIFIER] +\n                            '|' + src[NONNUMERICIDENTIFIER] + ')'\n\nvar PRERELEASEIDENTIFIERLOOSE = R++\nsrc[PRERELEASEIDENTIFIERLOOSE] = '(?:' + src[NUMERICIDENTIFIERLOOSE] +\n                                 '|' + src[NONNUMERICIDENTIFIER] + ')'\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\nvar PRERELEASE = R++\nsrc[PRERELEASE] = '(?:-(' + src[PRERELEASEIDENTIFIER] +\n                  '(?:\\\\.' + src[PRERELEASEIDENTIFIER] + ')*))'\n\nvar PRERELEASELOOSE = R++\nsrc[PRERELEASELOOSE] = '(?:-?(' + src[PRERELEASEIDENTIFIERLOOSE] +\n                       '(?:\\\\.' + src[PRERELEASEIDENTIFIERLOOSE] + ')*))'\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\nvar BUILDIDENTIFIER = R++\nsrc[BUILDIDENTIFIER] = '[0-9A-Za-z-]+'\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\nvar BUILD = R++\nsrc[BUILD] = '(?:\\\\+(' + src[BUILDIDENTIFIER] +\n             '(?:\\\\.' + src[BUILDIDENTIFIER] + ')*))'\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\nvar FULL = R++\nvar FULLPLAIN = 'v?' + src[MAINVERSION] +\n                src[PRERELEASE] + '?' +\n                src[BUILD] + '?'\n\nsrc[FULL] = '^' + FULLPLAIN + '$'\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\nvar LOOSEPLAIN = '[v=\\\\s]*' + src[MAINVERSIONLOOSE] +\n                 src[PRERELEASELOOSE] + '?' +\n                 src[BUILD] + '?'\n\nvar LOOSE = R++\nsrc[LOOSE] = '^' + LOOSEPLAIN + '$'\n\nvar GTLT = R++\nsrc[GTLT] = '((?:<|>)?=?)'\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\nvar XRANGEIDENTIFIERLOOSE = R++\nsrc[XRANGEIDENTIFIERLOOSE] = src[NUMERICIDENTIFIERLOOSE] + '|x|X|\\\\*'\nvar XRANGEIDENTIFIER = R++\nsrc[XRANGEIDENTIFIER] = src[NUMERICIDENTIFIER] + '|x|X|\\\\*'\n\nvar XRANGEPLAIN = R++\nsrc[XRANGEPLAIN] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:\\\\.(' + src[XRANGEIDENTIFIER] + ')' +\n                   '(?:' + src[PRERELEASE] + ')?' +\n                   src[BUILD] + '?' +\n                   ')?)?'\n\nvar XRANGEPLAINLOOSE = R++\nsrc[XRANGEPLAINLOOSE] = '[v=\\\\s]*(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:\\\\.(' + src[XRANGEIDENTIFIERLOOSE] + ')' +\n                        '(?:' + src[PRERELEASELOOSE] + ')?' +\n                        src[BUILD] + '?' +\n                        ')?)?'\n\nvar XRANGE = R++\nsrc[XRANGE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAIN] + '$'\nvar XRANGELOOSE = R++\nsrc[XRANGELOOSE] = '^' + src[GTLT] + '\\\\s*' + src[XRANGEPLAINLOOSE] + '$'\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\nvar COERCE = R++\nsrc[COERCE] = '(?:^|[^\\\\d])' +\n              '(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '})' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:\\\\.(\\\\d{1,' + MAX_SAFE_COMPONENT_LENGTH + '}))?' +\n              '(?:$|[^\\\\d])'\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\nvar LONETILDE = R++\nsrc[LONETILDE] = '(?:~>?)'\n\nvar TILDETRIM = R++\nsrc[TILDETRIM] = '(\\\\s*)' + src[LONETILDE] + '\\\\s+'\nre[TILDETRIM] = new RegExp(src[TILDETRIM], 'g')\nvar tildeTrimReplace = '$1~'\n\nvar TILDE = R++\nsrc[TILDE] = '^' + src[LONETILDE] + src[XRANGEPLAIN] + '$'\nvar TILDELOOSE = R++\nsrc[TILDELOOSE] = '^' + src[LONETILDE] + src[XRANGEPLAINLOOSE] + '$'\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\nvar LONECARET = R++\nsrc[LONECARET] = '(?:\\\\^)'\n\nvar CARETTRIM = R++\nsrc[CARETTRIM] = '(\\\\s*)' + src[LONECARET] + '\\\\s+'\nre[CARETTRIM] = new RegExp(src[CARETTRIM], 'g')\nvar caretTrimReplace = '$1^'\n\nvar CARET = R++\nsrc[CARET] = '^' + src[LONECARET] + src[XRANGEPLAIN] + '$'\nvar CARETLOOSE = R++\nsrc[CARETLOOSE] = '^' + src[LONECARET] + src[XRANGEPLAINLOOSE] + '$'\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\nvar COMPARATORLOOSE = R++\nsrc[COMPARATORLOOSE] = '^' + src[GTLT] + '\\\\s*(' + LOOSEPLAIN + ')$|^$'\nvar COMPARATOR = R++\nsrc[COMPARATOR] = '^' + src[GTLT] + '\\\\s*(' + FULLPLAIN + ')$|^$'\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\nvar COMPARATORTRIM = R++\nsrc[COMPARATORTRIM] = '(\\\\s*)' + src[GTLT] +\n                      '\\\\s*(' + LOOSEPLAIN + '|' + src[XRANGEPLAIN] + ')'\n\n// this one has to use the /g flag\nre[COMPARATORTRIM] = new RegExp(src[COMPARATORTRIM], 'g')\nvar comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\nvar HYPHENRANGE = R++\nsrc[HYPHENRANGE] = '^\\\\s*(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s+-\\\\s+' +\n                   '(' + src[XRANGEPLAIN] + ')' +\n                   '\\\\s*$'\n\nvar HYPHENRANGELOOSE = R++\nsrc[HYPHENRANGELOOSE] = '^\\\\s*(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s+-\\\\s+' +\n                        '(' + src[XRANGEPLAINLOOSE] + ')' +\n                        '\\\\s*$'\n\n// Star ranges basically just allow anything at all.\nvar STAR = R++\nsrc[STAR] = '(<|>)?=?\\\\s*\\\\*'\n\n// Compile to actual regexp objects.\n// All are flag-free, unless they were created above with a flag.\nfor (var i = 0; i < R; i++) {\n  debug(i, src[i])\n  if (!re[i]) {\n    re[i] = new RegExp(src[i])\n  }\n}\n\nexports.parse = parse\nfunction parse (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  var r = options.loose ? re[LOOSE] : re[FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nexports.valid = valid\nfunction valid (version, options) {\n  var v = parse(version, options)\n  return v ? v.version : null\n}\n\nexports.clean = clean\nfunction clean (version, options) {\n  var s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\n\nexports.SemVer = SemVer\n\nfunction SemVer (version, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n  if (version instanceof SemVer) {\n    if (version.loose === options.loose) {\n      return version\n    } else {\n      version = version.version\n    }\n  } else if (typeof version !== 'string') {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  if (version.length > MAX_LENGTH) {\n    throw new TypeError('version is longer than ' + MAX_LENGTH + ' characters')\n  }\n\n  if (!(this instanceof SemVer)) {\n    return new SemVer(version, options)\n  }\n\n  debug('SemVer', version, options)\n  this.options = options\n  this.loose = !!options.loose\n\n  var m = version.trim().match(options.loose ? re[LOOSE] : re[FULL])\n\n  if (!m) {\n    throw new TypeError('Invalid Version: ' + version)\n  }\n\n  this.raw = version\n\n  // these are actually numbers\n  this.major = +m[1]\n  this.minor = +m[2]\n  this.patch = +m[3]\n\n  if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n    throw new TypeError('Invalid major version')\n  }\n\n  if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n    throw new TypeError('Invalid minor version')\n  }\n\n  if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n    throw new TypeError('Invalid patch version')\n  }\n\n  // numberify any prerelease numeric ids\n  if (!m[4]) {\n    this.prerelease = []\n  } else {\n    this.prerelease = m[4].split('.').map(function (id) {\n      if (/^[0-9]+$/.test(id)) {\n        var num = +id\n        if (num >= 0 && num < MAX_SAFE_INTEGER) {\n          return num\n        }\n      }\n      return id\n    })\n  }\n\n  this.build = m[5] ? m[5].split('.') : []\n  this.format()\n}\n\nSemVer.prototype.format = function () {\n  this.version = this.major + '.' + this.minor + '.' + this.patch\n  if (this.prerelease.length) {\n    this.version += '-' + this.prerelease.join('.')\n  }\n  return this.version\n}\n\nSemVer.prototype.toString = function () {\n  return this.version\n}\n\nSemVer.prototype.compare = function (other) {\n  debug('SemVer.compare', this.version, this.options, other)\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return this.compareMain(other) || this.comparePre(other)\n}\n\nSemVer.prototype.compareMain = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  return compareIdentifiers(this.major, other.major) ||\n         compareIdentifiers(this.minor, other.minor) ||\n         compareIdentifiers(this.patch, other.patch)\n}\n\nSemVer.prototype.comparePre = function (other) {\n  if (!(other instanceof SemVer)) {\n    other = new SemVer(other, this.options)\n  }\n\n  // NOT having a prerelease is > having one\n  if (this.prerelease.length && !other.prerelease.length) {\n    return -1\n  } else if (!this.prerelease.length && other.prerelease.length) {\n    return 1\n  } else if (!this.prerelease.length && !other.prerelease.length) {\n    return 0\n  }\n\n  var i = 0\n  do {\n    var a = this.prerelease[i]\n    var b = other.prerelease[i]\n    debug('prerelease compare', i, a, b)\n    if (a === undefined && b === undefined) {\n      return 0\n    } else if (b === undefined) {\n      return 1\n    } else if (a === undefined) {\n      return -1\n    } else if (a === b) {\n      continue\n    } else {\n      return compareIdentifiers(a, b)\n    }\n  } while (++i)\n}\n\n// preminor will bump the version up to the next minor release, and immediately\n// down to pre-release. premajor and prepatch work the same way.\nSemVer.prototype.inc = function (release, identifier) {\n  switch (release) {\n    case 'premajor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor = 0\n      this.major++\n      this.inc('pre', identifier)\n      break\n    case 'preminor':\n      this.prerelease.length = 0\n      this.patch = 0\n      this.minor++\n      this.inc('pre', identifier)\n      break\n    case 'prepatch':\n      // If this is already a prerelease, it will bump to the next version\n      // drop any prereleases that might already exist, since they are not\n      // relevant at this point.\n      this.prerelease.length = 0\n      this.inc('patch', identifier)\n      this.inc('pre', identifier)\n      break\n    // If the input is a non-prerelease version, this acts the same as\n    // prepatch.\n    case 'prerelease':\n      if (this.prerelease.length === 0) {\n        this.inc('patch', identifier)\n      }\n      this.inc('pre', identifier)\n      break\n\n    case 'major':\n      // If this is a pre-major version, bump up to the same major version.\n      // Otherwise increment major.\n      // 1.0.0-5 bumps to 1.0.0\n      // 1.1.0 bumps to 2.0.0\n      if (this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0) {\n        this.major++\n      }\n      this.minor = 0\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'minor':\n      // If this is a pre-minor version, bump up to the same minor version.\n      // Otherwise increment minor.\n      // 1.2.0-5 bumps to 1.2.0\n      // 1.2.1 bumps to 1.3.0\n      if (this.patch !== 0 || this.prerelease.length === 0) {\n        this.minor++\n      }\n      this.patch = 0\n      this.prerelease = []\n      break\n    case 'patch':\n      // If this is not a pre-release version, it will increment the patch.\n      // If it is a pre-release it will bump up to the same patch version.\n      // 1.2.0-5 patches to 1.2.0\n      // 1.2.0 patches to 1.2.1\n      if (this.prerelease.length === 0) {\n        this.patch++\n      }\n      this.prerelease = []\n      break\n    // This probably shouldn't be used publicly.\n    // 1.0.0 \"pre\" would become 1.0.0-0 which is the wrong direction.\n    case 'pre':\n      if (this.prerelease.length === 0) {\n        this.prerelease = [0]\n      } else {\n        var i = this.prerelease.length\n        while (--i >= 0) {\n          if (typeof this.prerelease[i] === 'number') {\n            this.prerelease[i]++\n            i = -2\n          }\n        }\n        if (i === -1) {\n          // didn't increment anything\n          this.prerelease.push(0)\n        }\n      }\n      if (identifier) {\n        // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n        // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n        if (this.prerelease[0] === identifier) {\n          if (isNaN(this.prerelease[1])) {\n            this.prerelease = [identifier, 0]\n          }\n        } else {\n          this.prerelease = [identifier, 0]\n        }\n      }\n      break\n\n    default:\n      throw new Error('invalid increment argument: ' + release)\n  }\n  this.format()\n  this.raw = this.version\n  return this\n}\n\nexports.inc = inc\nfunction inc (version, release, loose, identifier) {\n  if (typeof (loose) === 'string') {\n    identifier = loose\n    loose = undefined\n  }\n\n  try {\n    return new SemVer(version, loose).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\n\nexports.diff = diff\nfunction diff (version1, version2) {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    var v1 = parse(version1)\n    var v2 = parse(version2)\n    var prefix = ''\n    if (v1.prerelease.length || v2.prerelease.length) {\n      prefix = 'pre'\n      var defaultResult = 'prerelease'\n    }\n    for (var key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\n\nexports.compareIdentifiers = compareIdentifiers\n\nvar numeric = /^[0-9]+$/\nfunction compareIdentifiers (a, b) {\n  var anum = numeric.test(a)\n  var bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nexports.rcompareIdentifiers = rcompareIdentifiers\nfunction rcompareIdentifiers (a, b) {\n  return compareIdentifiers(b, a)\n}\n\nexports.major = major\nfunction major (a, loose) {\n  return new SemVer(a, loose).major\n}\n\nexports.minor = minor\nfunction minor (a, loose) {\n  return new SemVer(a, loose).minor\n}\n\nexports.patch = patch\nfunction patch (a, loose) {\n  return new SemVer(a, loose).patch\n}\n\nexports.compare = compare\nfunction compare (a, b, loose) {\n  return new SemVer(a, loose).compare(new SemVer(b, loose))\n}\n\nexports.compareLoose = compareLoose\nfunction compareLoose (a, b) {\n  return compare(a, b, true)\n}\n\nexports.rcompare = rcompare\nfunction rcompare (a, b, loose) {\n  return compare(b, a, loose)\n}\n\nexports.sort = sort\nfunction sort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.compare(a, b, loose)\n  })\n}\n\nexports.rsort = rsort\nfunction rsort (list, loose) {\n  return list.sort(function (a, b) {\n    return exports.rcompare(a, b, loose)\n  })\n}\n\nexports.gt = gt\nfunction gt (a, b, loose) {\n  return compare(a, b, loose) > 0\n}\n\nexports.lt = lt\nfunction lt (a, b, loose) {\n  return compare(a, b, loose) < 0\n}\n\nexports.eq = eq\nfunction eq (a, b, loose) {\n  return compare(a, b, loose) === 0\n}\n\nexports.neq = neq\nfunction neq (a, b, loose) {\n  return compare(a, b, loose) !== 0\n}\n\nexports.gte = gte\nfunction gte (a, b, loose) {\n  return compare(a, b, loose) >= 0\n}\n\nexports.lte = lte\nfunction lte (a, b, loose) {\n  return compare(a, b, loose) <= 0\n}\n\nexports.cmp = cmp\nfunction cmp (a, op, b, loose) {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError('Invalid operator: ' + op)\n  }\n}\n\nexports.Comparator = Comparator\nfunction Comparator (comp, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (comp instanceof Comparator) {\n    if (comp.loose === !!options.loose) {\n      return comp\n    } else {\n      comp = comp.value\n    }\n  }\n\n  if (!(this instanceof Comparator)) {\n    return new Comparator(comp, options)\n  }\n\n  debug('comparator', comp, options)\n  this.options = options\n  this.loose = !!options.loose\n  this.parse(comp)\n\n  if (this.semver === ANY) {\n    this.value = ''\n  } else {\n    this.value = this.operator + this.semver.version\n  }\n\n  debug('comp', this)\n}\n\nvar ANY = {}\nComparator.prototype.parse = function (comp) {\n  var r = this.options.loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var m = comp.match(r)\n\n  if (!m) {\n    throw new TypeError('Invalid comparator: ' + comp)\n  }\n\n  this.operator = m[1]\n  if (this.operator === '=') {\n    this.operator = ''\n  }\n\n  // if it literally is just '>' or '' then allow anything.\n  if (!m[2]) {\n    this.semver = ANY\n  } else {\n    this.semver = new SemVer(m[2], this.options.loose)\n  }\n}\n\nComparator.prototype.toString = function () {\n  return this.value\n}\n\nComparator.prototype.test = function (version) {\n  debug('Comparator.test', version, this.options.loose)\n\n  if (this.semver === ANY) {\n    return true\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  return cmp(version, this.operator, this.semver, this.options)\n}\n\nComparator.prototype.intersects = function (comp, options) {\n  if (!(comp instanceof Comparator)) {\n    throw new TypeError('a Comparator is required')\n  }\n\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  var rangeTmp\n\n  if (this.operator === '') {\n    rangeTmp = new Range(comp.value, options)\n    return satisfies(this.value, rangeTmp, options)\n  } else if (comp.operator === '') {\n    rangeTmp = new Range(this.value, options)\n    return satisfies(comp.semver, rangeTmp, options)\n  }\n\n  var sameDirectionIncreasing =\n    (this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '>=' || comp.operator === '>')\n  var sameDirectionDecreasing =\n    (this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '<=' || comp.operator === '<')\n  var sameSemVer = this.semver.version === comp.semver.version\n  var differentDirectionsInclusive =\n    (this.operator === '>=' || this.operator === '<=') &&\n    (comp.operator === '>=' || comp.operator === '<=')\n  var oppositeDirectionsLessThan =\n    cmp(this.semver, '<', comp.semver, options) &&\n    ((this.operator === '>=' || this.operator === '>') &&\n    (comp.operator === '<=' || comp.operator === '<'))\n  var oppositeDirectionsGreaterThan =\n    cmp(this.semver, '>', comp.semver, options) &&\n    ((this.operator === '<=' || this.operator === '<') &&\n    (comp.operator === '>=' || comp.operator === '>'))\n\n  return sameDirectionIncreasing || sameDirectionDecreasing ||\n    (sameSemVer && differentDirectionsInclusive) ||\n    oppositeDirectionsLessThan || oppositeDirectionsGreaterThan\n}\n\nexports.Range = Range\nfunction Range (range, options) {\n  if (!options || typeof options !== 'object') {\n    options = {\n      loose: !!options,\n      includePrerelease: false\n    }\n  }\n\n  if (range instanceof Range) {\n    if (range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease) {\n      return range\n    } else {\n      return new Range(range.raw, options)\n    }\n  }\n\n  if (range instanceof Comparator) {\n    return new Range(range.value, options)\n  }\n\n  if (!(this instanceof Range)) {\n    return new Range(range, options)\n  }\n\n  this.options = options\n  this.loose = !!options.loose\n  this.includePrerelease = !!options.includePrerelease\n\n  // First, split based on boolean or ||\n  this.raw = range\n  this.set = range.split(/\\s*\\|\\|\\s*/).map(function (range) {\n    return this.parseRange(range.trim())\n  }, this).filter(function (c) {\n    // throw out any that are not relevant for whatever reason\n    return c.length\n  })\n\n  if (!this.set.length) {\n    throw new TypeError('Invalid SemVer Range: ' + range)\n  }\n\n  this.format()\n}\n\nRange.prototype.format = function () {\n  this.range = this.set.map(function (comps) {\n    return comps.join(' ').trim()\n  }).join('||').trim()\n  return this.range\n}\n\nRange.prototype.toString = function () {\n  return this.range\n}\n\nRange.prototype.parseRange = function (range) {\n  var loose = this.options.loose\n  range = range.trim()\n  // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n  var hr = loose ? re[HYPHENRANGELOOSE] : re[HYPHENRANGE]\n  range = range.replace(hr, hyphenReplace)\n  debug('hyphen replace', range)\n  // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n  range = range.replace(re[COMPARATORTRIM], comparatorTrimReplace)\n  debug('comparator trim', range, re[COMPARATORTRIM])\n\n  // `~ 1.2.3` => `~1.2.3`\n  range = range.replace(re[TILDETRIM], tildeTrimReplace)\n\n  // `^ 1.2.3` => `^1.2.3`\n  range = range.replace(re[CARETTRIM], caretTrimReplace)\n\n  // normalize spaces\n  range = range.split(/\\s+/).join(' ')\n\n  // At this point, the range is completely trimmed and\n  // ready to be split into comparators.\n\n  var compRe = loose ? re[COMPARATORLOOSE] : re[COMPARATOR]\n  var set = range.split(' ').map(function (comp) {\n    return parseComparator(comp, this.options)\n  }, this).join(' ').split(/\\s+/)\n  if (this.options.loose) {\n    // in loose mode, throw out any that are not valid comparators\n    set = set.filter(function (comp) {\n      return !!comp.match(compRe)\n    })\n  }\n  set = set.map(function (comp) {\n    return new Comparator(comp, this.options)\n  }, this)\n\n  return set\n}\n\nRange.prototype.intersects = function (range, options) {\n  if (!(range instanceof Range)) {\n    throw new TypeError('a Range is required')\n  }\n\n  return this.set.some(function (thisComparators) {\n    return thisComparators.every(function (thisComparator) {\n      return range.set.some(function (rangeComparators) {\n        return rangeComparators.every(function (rangeComparator) {\n          return thisComparator.intersects(rangeComparator, options)\n        })\n      })\n    })\n  })\n}\n\n// Mostly just for testing and legacy API reasons\nexports.toComparators = toComparators\nfunction toComparators (range, options) {\n  return new Range(range, options).set.map(function (comp) {\n    return comp.map(function (c) {\n      return c.value\n    }).join(' ').trim().split(' ')\n  })\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nfunction parseComparator (comp, options) {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nfunction isX (id) {\n  return !id || id.toLowerCase() === 'x' || id === '*'\n}\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0\nfunction replaceTildes (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceTilde(comp, options)\n  }).join(' ')\n}\n\nfunction replaceTilde (comp, options) {\n  var r = options.loose ? re[TILDELOOSE] : re[TILDE]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('tilde', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0\n      ret = '>=' + M + '.' + m + '.' + p +\n            ' <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0\n// ^1.2.3 --> >=1.2.3 <2.0.0\n// ^1.2.0 --> >=1.2.0 <2.0.0\nfunction replaceCarets (comp, options) {\n  return comp.trim().split(/\\s+/).map(function (comp) {\n    return replaceCaret(comp, options)\n  }).join(' ')\n}\n\nfunction replaceCaret (comp, options) {\n  debug('caret', comp, options)\n  var r = options.loose ? re[CARETLOOSE] : re[CARET]\n  return comp.replace(r, function (_, M, m, p, pr) {\n    debug('caret', comp, _, M, m, p, pr)\n    var ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n      } else {\n        ret = '>=' + M + '.' + m + '.0 <' + (+M + 1) + '.0.0'\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p + '-' + pr +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + m + '.' + (+p + 1)\n        } else {\n          ret = '>=' + M + '.' + m + '.' + p +\n                ' <' + M + '.' + (+m + 1) + '.0'\n        }\n      } else {\n        ret = '>=' + M + '.' + m + '.' + p +\n              ' <' + (+M + 1) + '.0.0'\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nfunction replaceXRanges (comp, options) {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map(function (comp) {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nfunction replaceXRange (comp, options) {\n  comp = comp.trim()\n  var r = options.loose ? re[XRANGELOOSE] : re[XRANGE]\n  return comp.replace(r, function (ret, gtlt, M, m, p, pr) {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    var xM = isX(M)\n    var xm = xM || isX(m)\n    var xp = xm || isX(p)\n    var anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        // >1.2.3 => >= 1.2.4\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      ret = gtlt + M + '.' + m + '.' + p\n    } else if (xm) {\n      ret = '>=' + M + '.0.0 <' + (+M + 1) + '.0.0'\n    } else if (xp) {\n      ret = '>=' + M + '.' + m + '.0 <' + M + '.' + (+m + 1) + '.0'\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nfunction replaceStars (comp, options) {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[STAR], '')\n}\n\n// This function is passed to string.replace(re[HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0\nfunction hyphenReplace ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = '>=' + fM + '.0.0'\n  } else if (isX(fp)) {\n    from = '>=' + fM + '.' + fm + '.0'\n  } else {\n    from = '>=' + from\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = '<' + (+tM + 1) + '.0.0'\n  } else if (isX(tp)) {\n    to = '<' + tM + '.' + (+tm + 1) + '.0'\n  } else if (tpr) {\n    to = '<=' + tM + '.' + tm + '.' + tp + '-' + tpr\n  } else {\n    to = '<=' + to\n  }\n\n  return (from + ' ' + to).trim()\n}\n\n// if ANY of the sets match ALL of its comparators, then pass\nRange.prototype.test = function (version) {\n  if (!version) {\n    return false\n  }\n\n  if (typeof version === 'string') {\n    version = new SemVer(version, this.options)\n  }\n\n  for (var i = 0; i < this.set.length; i++) {\n    if (testSet(this.set[i], version, this.options)) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction testSet (set, version, options) {\n  for (var i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        var allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n\nexports.satisfies = satisfies\nfunction satisfies (version, range, options) {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\n\nexports.maxSatisfying = maxSatisfying\nfunction maxSatisfying (versions, range, options) {\n  var max = null\n  var maxSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\n\nexports.minSatisfying = minSatisfying\nfunction minSatisfying (versions, range, options) {\n  var min = null\n  var minSV = null\n  try {\n    var rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach(function (v) {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\n\nexports.minVersion = minVersion\nfunction minVersion (range, loose) {\n  range = new Range(range, loose)\n\n  var minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    comparators.forEach(function (comparator) {\n      // Clone to avoid manipulating the comparator's semver object.\n      var compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!minver || gt(minver, compver)) {\n            minver = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error('Unexpected operation: ' + comparator.operator)\n      }\n    })\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\n\nexports.validRange = validRange\nfunction validRange (range, options) {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\n\n// Determine if version is less than all the versions possible in the range\nexports.ltr = ltr\nfunction ltr (version, range, options) {\n  return outside(version, range, '<', options)\n}\n\n// Determine if version is greater than all the versions possible in the range.\nexports.gtr = gtr\nfunction gtr (version, range, options) {\n  return outside(version, range, '>', options)\n}\n\nexports.outside = outside\nfunction outside (version, range, hilo, options) {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  var gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisifes the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (var i = 0; i < range.set.length; ++i) {\n    var comparators = range.set[i]\n\n    var high = null\n    var low = null\n\n    comparators.forEach(function (comparator) {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nexports.prerelease = prerelease\nfunction prerelease (version, options) {\n  var parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\n\nexports.intersects = intersects\nfunction intersects (r1, r2, options) {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\n\nexports.coerce = coerce\nfunction coerce (version) {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  var match = version.match(re[COERCE])\n\n  if (match == null) {\n    return null\n  }\n\n  return parse(match[1] +\n    '.' + (match[2] || '0') +\n    '.' + (match[3] || '0'))\n}\n","'use strict'\n\nfunction isFunction (funktion) {\n  return typeof funktion === 'function'\n}\n\n// Default to complaining loudly when things don't go according to plan.\nvar logger = console.error.bind(console)\n\n// Sets a property on an object, preserving its enumerability.\n// This function assumes that the property is already writable.\nfunction defineProperty (obj, name, value) {\n  var enumerable = !!obj[name] && obj.propertyIsEnumerable(name)\n  Object.defineProperty(obj, name, {\n    configurable: true,\n    enumerable: enumerable,\n    writable: true,\n    value: value\n  })\n}\n\n// Keep initialization idempotent.\nfunction shimmer (options) {\n  if (options && options.logger) {\n    if (!isFunction(options.logger)) logger(\"new logger isn't a function, not replacing\")\n    else logger = options.logger\n  }\n}\n\nfunction wrap (nodule, name, wrapper) {\n  if (!nodule || !nodule[name]) {\n    logger('no original function ' + name + ' to wrap')\n    return\n  }\n\n  if (!wrapper) {\n    logger('no wrapper function')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!isFunction(nodule[name]) || !isFunction(wrapper)) {\n    logger('original object and wrapper must be functions')\n    return\n  }\n\n  var original = nodule[name]\n  var wrapped = wrapper(original, name)\n\n  defineProperty(wrapped, '__original', original)\n  defineProperty(wrapped, '__unwrap', function () {\n    if (nodule[name] === wrapped) defineProperty(nodule, name, original)\n  })\n  defineProperty(wrapped, '__wrapped', true)\n\n  defineProperty(nodule, name, wrapped)\n  return wrapped\n}\n\nfunction massWrap (nodules, names, wrapper) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to wrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      wrap(nodule, name, wrapper)\n    })\n  })\n}\n\nfunction unwrap (nodule, name) {\n  if (!nodule || !nodule[name]) {\n    logger('no function to unwrap.')\n    logger((new Error()).stack)\n    return\n  }\n\n  if (!nodule[name].__unwrap) {\n    logger('no original to unwrap to -- has ' + name + ' already been unwrapped?')\n  } else {\n    return nodule[name].__unwrap()\n  }\n}\n\nfunction massUnwrap (nodules, names) {\n  if (!nodules) {\n    logger('must provide one or more modules to patch')\n    logger((new Error()).stack)\n    return\n  } else if (!Array.isArray(nodules)) {\n    nodules = [nodules]\n  }\n\n  if (!(names && Array.isArray(names))) {\n    logger('must provide one or more functions to unwrap on modules')\n    return\n  }\n\n  nodules.forEach(function (nodule) {\n    names.forEach(function (name) {\n      unwrap(nodule, name)\n    })\n  })\n}\n\nshimmer.wrap = wrap\nshimmer.massWrap = massWrap\nshimmer.unwrap = unwrap\nshimmer.massUnwrap = massUnwrap\n\nmodule.exports = shimmer\n","// Copyright 2012 the V8 project authors. All rights reserved.\n// Redistribution and use in source and binary forms, with or without\n// modification, are permitted provided that the following conditions are\n// met:\n//\n//     * Redistributions of source code must retain the above copyright\n//       notice, this list of conditions and the following disclaimer.\n//     * Redistributions in binary form must reproduce the above\n//       copyright notice, this list of conditions and the following\n//       disclaimer in the documentation and/or other materials provided\n//       with the distribution.\n//     * Neither the name of Google Inc. nor the names of its\n//       contributors may be used to endorse or promote products derived\n//       from this software without specific prior written permission.\n//\n// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n// \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\nfunction FormatErrorString(error) {\n  try {\n    return Error.prototype.toString.call(error);\n  } catch (e) {\n    try {\n      return \"<error: \" + e + \">\";\n    } catch (ee) {\n      return \"<error>\";\n    }\n  }\n}\n\nmodule.exports = function FormatStackTrace(error, frames) {\n  var lines = [];\n  lines.push(FormatErrorString(error));\n  for (var i = 0; i < frames.length; i++) {\n    var frame = frames[i];\n    var line;\n    try {\n      line = frame.toString();\n    } catch (e) {\n      try {\n        line = \"<error: \" + e + \">\";\n      } catch (ee) {\n        // Any code that reaches this point is seriously nasty!\n        line = \"<error>\";\n      }\n    }\n    lines.push(\"    at \" + line);\n  }\n  return lines.join(\"\\n\");\n};\n","// If a another copy (same version or not) of stack-chain exists it will result\n// in wrong stack traces (most likely dublicate callSites).\nif (global._stackChain) {\n  // In case the version match, we can simply return the first initialized copy\n  if (global._stackChain.version === require('./package.json').version) {\n    module.exports = global._stackChain;\n  }\n  // The version don't match, this is really bad. Lets just throw\n  else {\n    throw new Error('Conflicting version of stack-chain found');\n  }\n}\n// Yay, no other stack-chain copy exists, yet :/\nelse {\n  module.exports = global._stackChain = require('./stack-chain');\n}\n","\n// use a already existing formater or fallback to the default v8 formater\nvar defaultFormater = require('./format.js');\n\n// public define API\nfunction stackChain() {\n  this.extend = new TraceModifier();\n  this.filter = new TraceModifier();\n  this.format = new StackFormater();\n  this.version = require('./package.json').version;\n}\n\n\nvar SHORTCIRCUIT_CALLSITE = false;\nstackChain.prototype.callSite = function collectCallSites(options) {\n  if (!options) options = {};\n\n  // Get CallSites\n  SHORTCIRCUIT_CALLSITE = true;\n  var obj = {};\n  Error.captureStackTrace(obj, collectCallSites);\n  var callSites = obj.stack;\n  SHORTCIRCUIT_CALLSITE = false;\n\n  // Slice\n  callSites = callSites.slice(options.slice || 0);\n\n  // Modify CallSites\n  if (options.extend) callSites = this.extend._modify(obj, callSites);\n  if (options.filter) callSites = this.filter._modify(obj, callSites);\n\n  // Done\n  return callSites;\n};\n\nvar chain = new stackChain();\n\nfunction TraceModifier() {\n  this._modifiers = [];\n}\n\nTraceModifier.prototype._modify = function (error, frames) {\n  for (var i = 0, l = this._modifiers.length; i < l; i++) {\n    frames = this._modifiers[i](error, frames);\n  }\n\n  return frames;\n};\n\nTraceModifier.prototype.attach = function (modifier) {\n  this._modifiers.push(modifier);\n};\n\nTraceModifier.prototype.deattach = function (modifier) {\n  var index = this._modifiers.indexOf(modifier);\n\n  if (index === -1) return false;\n\n  this._modifiers.splice(index, 1);\n  return true;\n};\n\nfunction StackFormater() {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n}\n\nStackFormater.prototype.replace = function (formater) {\n  if (formater) {\n    this._formater = formater;\n  } else {\n    this.restore();\n  }\n};\n\nStackFormater.prototype.restore  = function () {\n  this._formater = defaultFormater;\n  this._previous = undefined;\n};\n\nStackFormater.prototype._backup = function () {\n  this._previous = this._formater;\n};\n\nStackFormater.prototype._roolback = function () {\n  if (this._previous === defaultFormater) {\n    this.replace(undefined);\n  } else {\n    this.replace(this._previous);\n  }\n\n  this._previous = undefined;\n};\n\n\n//\n// Set Error.prepareStackTrace thus allowing stack-chain\n// to take control of the Error().stack formating.\n//\n\n// If there already is a custom stack formater, then set\n// that as the stack-chain formater.\nif (Error.prepareStackTrace) {\n    chain.format.replace(Error.prepareStackTrace);\n}\n\nvar SHORTCIRCUIT_FORMATER = false;\nfunction prepareStackTrace(error, originalFrames) {\n  if (SHORTCIRCUIT_CALLSITE) return originalFrames;\n  if (SHORTCIRCUIT_FORMATER) return defaultFormater(error, originalFrames);\n\n  // Make a loss copy of originalFrames\n  var frames = originalFrames.concat();\n\n  // extend frames\n  frames = chain.extend._modify(error, frames);\n\n  // filter frames\n  frames = chain.filter._modify(error, frames);\n\n  // reduce frames to match Error.stackTraceLimit\n  frames = frames.slice(0, Error.stackTraceLimit);\n\n  // Set the callSite property\n  // But only if it hasn't been explicitly set, otherwise\n  // error.stack would have unintended side effects. Check also for\n  // non-extensible/sealed objects, such as those from Google's Closure Library\n  if (Object.isExtensible(error) &&\n      (Object.getOwnPropertyDescriptor(error, \"callSite\") === undefined)) {\n    error.callSite = {\n      original: originalFrames,\n      mutated: frames\n    };\n  }\n\n  // format frames\n  SHORTCIRCUIT_FORMATER = true;\n  var format = chain.format._formater(error, frames);\n  SHORTCIRCUIT_FORMATER = false;\n\n  return format;\n}\n\n// Replace the v8 stack trace creator\nObject.defineProperty(Error, 'prepareStackTrace', {\n  'get': function () {\n    return prepareStackTrace;\n  },\n\n  'set': function (formater) {\n    // If formater is prepareStackTrace it means that someone ran\n    // var old = Error.prepareStackTrace;\n    // Error.prepareStackTrace = custom\n    // new Error().stack\n    // Error.prepareStackTrace = old;\n    // The effect of this, should be that the old behaviour is restored.\n    if (formater === prepareStackTrace) {\n      chain.format._roolback();\n    }\n    // Error.prepareStackTrace was set, this means that someone is\n    // trying to take control of the Error().stack format. Make\n    // them belive they succeeded by setting them up as the stack-chain\n    // formater.\n    else {\n      chain.format._backup();\n      chain.format.replace(formater);\n    }\n  }\n});\n\n//\n// Manage call site storeage\n//\nfunction callSiteGetter() {\n  // calculate call site object\n  this.stack;\n\n  // return call site object\n  return this.callSite;\n}\n\nObject.defineProperty(Error.prototype, 'callSite', {\n  'get': callSiteGetter,\n\n  'set': function (frames) {\n    // In case callSite was set before [[getter]], just set\n    // the value\n    Object.defineProperty(this, 'callSite', {\n        value: frames,\n        writable: true,\n        configurable: true\n    });\n  },\n\n  configurable: true\n});\n\nmodule.exports = chain;\n","/*!\n * to-regex-range <https://github.com/micromatch/to-regex-range>\n *\n * Copyright (c) 2015-present, Jon Schlinkert.\n * Released under the MIT License.\n */\n\n'use strict';\n\nconst isNumber = require('is-number');\n\nconst toRegexRange = (min, max, options) => {\n  if (isNumber(min) === false) {\n    throw new TypeError('toRegexRange: expected the first argument to be a number');\n  }\n\n  if (max === void 0 || min === max) {\n    return String(min);\n  }\n\n  if (isNumber(max) === false) {\n    throw new TypeError('toRegexRange: expected the second argument to be a number.');\n  }\n\n  let opts = { relaxZeros: true, ...options };\n  if (typeof opts.strictZeros === 'boolean') {\n    opts.relaxZeros = opts.strictZeros === false;\n  }\n\n  let relax = String(opts.relaxZeros);\n  let shorthand = String(opts.shorthand);\n  let capture = String(opts.capture);\n  let wrap = String(opts.wrap);\n  let cacheKey = min + ':' + max + '=' + relax + shorthand + capture + wrap;\n\n  if (toRegexRange.cache.hasOwnProperty(cacheKey)) {\n    return toRegexRange.cache[cacheKey].result;\n  }\n\n  let a = Math.min(min, max);\n  let b = Math.max(min, max);\n\n  if (Math.abs(a - b) === 1) {\n    let result = min + '|' + max;\n    if (opts.capture) {\n      return `(${result})`;\n    }\n    if (opts.wrap === false) {\n      return result;\n    }\n    return `(?:${result})`;\n  }\n\n  let isPadded = hasPadding(min) || hasPadding(max);\n  let state = { min, max, a, b };\n  let positives = [];\n  let negatives = [];\n\n  if (isPadded) {\n    state.isPadded = isPadded;\n    state.maxLen = String(state.max).length;\n  }\n\n  if (a < 0) {\n    let newMin = b < 0 ? Math.abs(b) : 1;\n    negatives = splitToPatterns(newMin, Math.abs(a), state, opts);\n    a = state.a = 0;\n  }\n\n  if (b >= 0) {\n    positives = splitToPatterns(a, b, state, opts);\n  }\n\n  state.negatives = negatives;\n  state.positives = positives;\n  state.result = collatePatterns(negatives, positives, opts);\n\n  if (opts.capture === true) {\n    state.result = `(${state.result})`;\n  } else if (opts.wrap !== false && (positives.length + negatives.length) > 1) {\n    state.result = `(?:${state.result})`;\n  }\n\n  toRegexRange.cache[cacheKey] = state;\n  return state.result;\n};\n\nfunction collatePatterns(neg, pos, options) {\n  let onlyNegative = filterPatterns(neg, pos, '-', false, options) || [];\n  let onlyPositive = filterPatterns(pos, neg, '', false, options) || [];\n  let intersected = filterPatterns(neg, pos, '-?', true, options) || [];\n  let subpatterns = onlyNegative.concat(intersected).concat(onlyPositive);\n  return subpatterns.join('|');\n}\n\nfunction splitToRanges(min, max) {\n  let nines = 1;\n  let zeros = 1;\n\n  let stop = countNines(min, nines);\n  let stops = new Set([max]);\n\n  while (min <= stop && stop <= max) {\n    stops.add(stop);\n    nines += 1;\n    stop = countNines(min, nines);\n  }\n\n  stop = countZeros(max + 1, zeros) - 1;\n\n  while (min < stop && stop <= max) {\n    stops.add(stop);\n    zeros += 1;\n    stop = countZeros(max + 1, zeros) - 1;\n  }\n\n  stops = [...stops];\n  stops.sort(compare);\n  return stops;\n}\n\n/**\n * Convert a range to a regex pattern\n * @param {Number} `start`\n * @param {Number} `stop`\n * @return {String}\n */\n\nfunction rangeToPattern(start, stop, options) {\n  if (start === stop) {\n    return { pattern: start, count: [], digits: 0 };\n  }\n\n  let zipped = zip(start, stop);\n  let digits = zipped.length;\n  let pattern = '';\n  let count = 0;\n\n  for (let i = 0; i < digits; i++) {\n    let [startDigit, stopDigit] = zipped[i];\n\n    if (startDigit === stopDigit) {\n      pattern += startDigit;\n\n    } else if (startDigit !== '0' || stopDigit !== '9') {\n      pattern += toCharacterClass(startDigit, stopDigit, options);\n\n    } else {\n      count++;\n    }\n  }\n\n  if (count) {\n    pattern += options.shorthand === true ? '\\\\d' : '[0-9]';\n  }\n\n  return { pattern, count: [count], digits };\n}\n\nfunction splitToPatterns(min, max, tok, options) {\n  let ranges = splitToRanges(min, max);\n  let tokens = [];\n  let start = min;\n  let prev;\n\n  for (let i = 0; i < ranges.length; i++) {\n    let max = ranges[i];\n    let obj = rangeToPattern(String(start), String(max), options);\n    let zeros = '';\n\n    if (!tok.isPadded && prev && prev.pattern === obj.pattern) {\n      if (prev.count.length > 1) {\n        prev.count.pop();\n      }\n\n      prev.count.push(obj.count[0]);\n      prev.string = prev.pattern + toQuantifier(prev.count);\n      start = max + 1;\n      continue;\n    }\n\n    if (tok.isPadded) {\n      zeros = padZeros(max, tok, options);\n    }\n\n    obj.string = zeros + obj.pattern + toQuantifier(obj.count);\n    tokens.push(obj);\n    start = max + 1;\n    prev = obj;\n  }\n\n  return tokens;\n}\n\nfunction filterPatterns(arr, comparison, prefix, intersection, options) {\n  let result = [];\n\n  for (let ele of arr) {\n    let { string } = ele;\n\n    // only push if _both_ are negative...\n    if (!intersection && !contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n\n    // or _both_ are positive\n    if (intersection && contains(comparison, 'string', string)) {\n      result.push(prefix + string);\n    }\n  }\n  return result;\n}\n\n/**\n * Zip strings\n */\n\nfunction zip(a, b) {\n  let arr = [];\n  for (let i = 0; i < a.length; i++) arr.push([a[i], b[i]]);\n  return arr;\n}\n\nfunction compare(a, b) {\n  return a > b ? 1 : b > a ? -1 : 0;\n}\n\nfunction contains(arr, key, val) {\n  return arr.some(ele => ele[key] === val);\n}\n\nfunction countNines(min, len) {\n  return Number(String(min).slice(0, -len) + '9'.repeat(len));\n}\n\nfunction countZeros(integer, zeros) {\n  return integer - (integer % Math.pow(10, zeros));\n}\n\nfunction toQuantifier(digits) {\n  let [start = 0, stop = ''] = digits;\n  if (stop || start > 1) {\n    return `{${start + (stop ? ',' + stop : '')}}`;\n  }\n  return '';\n}\n\nfunction toCharacterClass(a, b, options) {\n  return `[${a}${(b - a === 1) ? '' : '-'}${b}]`;\n}\n\nfunction hasPadding(str) {\n  return /^-?(0+)\\d/.test(str);\n}\n\nfunction padZeros(value, tok, options) {\n  if (!tok.isPadded) {\n    return value;\n  }\n\n  let diff = Math.abs(tok.maxLen - String(value).length);\n  let relax = options.relaxZeros !== false;\n\n  switch (diff) {\n    case 0:\n      return '';\n    case 1:\n      return relax ? '0?' : '0';\n    case 2:\n      return relax ? '0{0,2}' : '00';\n    default: {\n      return relax ? `0{0,${diff}}` : `0{${diff}}`;\n    }\n  }\n}\n\n/**\n * Cache\n */\n\ntoRegexRange.cache = {};\ntoRegexRange.clearCache = () => (toRegexRange.cache = {});\n\n/**\n * Expose `toRegexRange`\n */\n\nmodule.exports = toRegexRange;\n","/*---------------------------------------------------------\r\n * Copyright (C) Microsoft Corporation. All rights reserved.\r\n *--------------------------------------------------------*/\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nprocess.env['APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL'] = true;\r\nvar fs = require(\"fs\");\r\nvar os = require(\"os\");\r\nvar path = require(\"path\");\r\nvar vscode = require(\"vscode\");\r\nvar appInsights = require(\"applicationinsights\");\r\nvar TelemetryReporter = /** @class */ (function () {\r\n    // tslint:disable-next-line\r\n    function TelemetryReporter(extensionId, extensionVersion, key, firstParty) {\r\n        var _this = this;\r\n        this.extensionId = extensionId;\r\n        this.extensionVersion = extensionVersion;\r\n        this.firstParty = false;\r\n        this.userOptIn = false;\r\n        this.firstParty = !!firstParty;\r\n        var logFilePath = process.env['VSCODE_LOGS'] || '';\r\n        if (logFilePath && extensionId && process.env['VSCODE_LOG_LEVEL'] === 'trace') {\r\n            logFilePath = path.join(logFilePath, extensionId + \".txt\");\r\n            this.logStream = fs.createWriteStream(logFilePath, { flags: 'a', encoding: 'utf8', autoClose: true });\r\n        }\r\n        this.updateUserOptIn(key);\r\n        this.configListener = vscode.workspace.onDidChangeConfiguration(function () { return _this.updateUserOptIn(key); });\r\n    }\r\n    TelemetryReporter.prototype.updateUserOptIn = function (key) {\r\n        var config = vscode.workspace.getConfiguration(TelemetryReporter.TELEMETRY_CONFIG_ID);\r\n        if (this.userOptIn !== config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true)) {\r\n            this.userOptIn = config.get(TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID, true);\r\n            if (this.userOptIn) {\r\n                this.createAppInsightsClient(key);\r\n            }\r\n            else {\r\n                this.dispose();\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.createAppInsightsClient = function (key) {\r\n        //check if another instance is already initialized\r\n        if (appInsights.defaultClient) {\r\n            this.appInsightsClient = new appInsights.TelemetryClient(key);\r\n            // no other way to enable offline mode\r\n            this.appInsightsClient.channel.setUseDiskRetryCaching(true);\r\n        }\r\n        else {\r\n            appInsights.setup(key)\r\n                .setAutoCollectRequests(false)\r\n                .setAutoCollectPerformance(false)\r\n                .setAutoCollectExceptions(false)\r\n                .setAutoCollectDependencies(false)\r\n                .setAutoDependencyCorrelation(false)\r\n                .setAutoCollectConsole(false)\r\n                .setUseDiskRetryCaching(true)\r\n                .start();\r\n            this.appInsightsClient = appInsights.defaultClient;\r\n        }\r\n        this.appInsightsClient.commonProperties = this.getCommonProperties();\r\n        if (vscode && vscode.env) {\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId] = vscode.env.machineId;\r\n            this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId] = vscode.env.sessionId;\r\n        }\r\n        //check if it's an Asimov key to change the endpoint\r\n        if (key && key.indexOf('AIF-') === 0) {\r\n            this.appInsightsClient.config.endpointUrl = \"https://vortex.data.microsoft.com/collect/v1\";\r\n            this.firstParty = true;\r\n        }\r\n    };\r\n    // __GDPR__COMMON__ \"common.os\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.platformversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extname\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.extversion\" : { \"classification\": \"PublicNonPersonalData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodemachineid\" : { \"endPoint\": \"MacAddressHash\", \"classification\": \"EndUserPseudonymizedInformation\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodesessionid\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.vscodeversion\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.uikind\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    // __GDPR__COMMON__ \"common.remotename\" : { \"classification\": \"SystemMetaData\", \"purpose\": \"FeatureInsight\" }\r\n    TelemetryReporter.prototype.getCommonProperties = function () {\r\n        var commonProperties = Object.create(null);\r\n        commonProperties['common.os'] = os.platform();\r\n        commonProperties['common.platformversion'] = (os.release() || '').replace(/^(\\d+)(\\.\\d+)?(\\.\\d+)?(.*)/, '$1$2$3');\r\n        commonProperties['common.extname'] = this.extensionId;\r\n        commonProperties['common.extversion'] = this.extensionVersion;\r\n        if (vscode && vscode.env) {\r\n            commonProperties['common.vscodemachineid'] = vscode.env.machineId;\r\n            commonProperties['common.vscodesessionid'] = vscode.env.sessionId;\r\n            commonProperties['common.vscodeversion'] = vscode.version;\r\n            switch (vscode.env.uiKind) {\r\n                case vscode.UIKind.Web:\r\n                    commonProperties['common.uikind'] = 'web';\r\n                    break;\r\n                case vscode.UIKind.Desktop:\r\n                    commonProperties['common.uikind'] = 'desktop';\r\n                    break;\r\n                default:\r\n                    commonProperties['common.uikind'] = 'unknown';\r\n            }\r\n            commonProperties['common.remotename'] = this.cleanRemoteName(vscode.env.remoteName);\r\n        }\r\n        return commonProperties;\r\n    };\r\n    TelemetryReporter.prototype.cleanRemoteName = function (remoteName) {\r\n        if (!remoteName) {\r\n            return 'none';\r\n        }\r\n        var ret = 'other';\r\n        // Allowed remote authorities\r\n        ['ssh-remote', 'dev-container', 'attached-container', 'wsl'].forEach(function (res) {\r\n            if (remoteName.indexOf(res + \"+\") === 0) {\r\n                ret = res;\r\n            }\r\n        });\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.shouldSendErrorTelemetry = function () {\r\n        if (this.firstParty) {\r\n            if (this.cleanRemoteName(vscode.env.remoteName) !== 'other') {\r\n                return true;\r\n            }\r\n            if (this.extension === undefined || this.extension.extensionKind === vscode.ExtensionKind.Workspace) {\r\n                return false;\r\n            }\r\n            if (vscode.env.uiKind === vscode.UIKind.Web) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n        return true;\r\n    };\r\n    Object.defineProperty(TelemetryReporter.prototype, \"extension\", {\r\n        get: function () {\r\n            if (this._extension === undefined) {\r\n                this._extension = vscode.extensions.getExtension(this.extensionId);\r\n            }\r\n            return this._extension;\r\n        },\r\n        enumerable: true,\r\n        configurable: true\r\n    });\r\n    TelemetryReporter.prototype.cloneAndChange = function (obj, change) {\r\n        if (obj === null || typeof obj !== 'object')\r\n            return obj;\r\n        if (typeof change !== 'function')\r\n            return obj;\r\n        var ret = {};\r\n        for (var key in obj) {\r\n            ret[key] = change(key, obj[key]);\r\n        }\r\n        return ret;\r\n    };\r\n    TelemetryReporter.prototype.anonymizeFilePaths = function (stack, anonymizeFilePaths) {\r\n        if (stack === undefined || stack === null) {\r\n            return '';\r\n        }\r\n        var cleanupPatterns = [new RegExp(vscode.env.appRoot.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi')];\r\n        if (this.extension) {\r\n            cleanupPatterns.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'), 'gi'));\r\n        }\r\n        var updatedStack = stack;\r\n        if (anonymizeFilePaths) {\r\n            var cleanUpIndexes = [];\r\n            for (var _i = 0, cleanupPatterns_1 = cleanupPatterns; _i < cleanupPatterns_1.length; _i++) {\r\n                var regexp = cleanupPatterns_1[_i];\r\n                while (true) {\r\n                    var result = regexp.exec(stack);\r\n                    if (!result) {\r\n                        break;\r\n                    }\r\n                    cleanUpIndexes.push([result.index, regexp.lastIndex]);\r\n                }\r\n            }\r\n            var nodeModulesRegex = /^[\\\\\\/]?(node_modules|node_modules\\.asar)[\\\\\\/]/;\r\n            var fileRegex = /(file:\\/\\/)?([a-zA-Z]:(\\\\\\\\|\\\\|\\/)|(\\\\\\\\|\\\\|\\/))?([\\w-\\._]+(\\\\\\\\|\\\\|\\/))+[\\w-\\._]*/g;\r\n            var lastIndex = 0;\r\n            updatedStack = '';\r\n            var _loop_1 = function () {\r\n                var result = fileRegex.exec(stack);\r\n                if (!result) {\r\n                    return \"break\";\r\n                }\r\n                // Anoynimize user file paths that do not need to be retained or cleaned up.\r\n                if (!nodeModulesRegex.test(result[0]) && cleanUpIndexes.every(function (_a) {\r\n                    var x = _a[0], y = _a[1];\r\n                    return result.index < x || result.index >= y;\r\n                })) {\r\n                    updatedStack += stack.substring(lastIndex, result.index) + '<REDACTED: user-file-path>';\r\n                    lastIndex = fileRegex.lastIndex;\r\n                }\r\n            };\r\n            while (true) {\r\n                var state_1 = _loop_1();\r\n                if (state_1 === \"break\")\r\n                    break;\r\n            }\r\n            if (lastIndex < stack.length) {\r\n                updatedStack += stack.substr(lastIndex);\r\n            }\r\n        }\r\n        // sanitize with configured cleanup patterns\r\n        for (var _a = 0, cleanupPatterns_2 = cleanupPatterns; _a < cleanupPatterns_2.length; _a++) {\r\n            var regexp = cleanupPatterns_2[_a];\r\n            updatedStack = updatedStack.replace(regexp, '');\r\n        }\r\n        return updatedStack;\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryEvent = function (eventName, properties, measurements) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryErrorEvent = function (eventName, properties, measurements, errorProps) {\r\n        var _this = this;\r\n        if (this.userOptIn && eventName && this.appInsightsClient) {\r\n            // always clean the properties if first party\r\n            // do not send any error properties if we shouldn't send error telemetry\r\n            // if we have no errorProps, assume all are error props\r\n            var cleanProperties = this.cloneAndChange(properties, function (key, prop) {\r\n                if (_this.shouldSendErrorTelemetry()) {\r\n                    return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n                }\r\n                if (errorProps === undefined || errorProps.indexOf(key) !== -1) {\r\n                    return 'REDACTED';\r\n                }\r\n                return _this.anonymizeFilePaths(prop, _this.firstParty);\r\n            });\r\n            this.appInsightsClient.trackEvent({\r\n                name: this.extensionId + \"/\" + eventName,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + eventName + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.sendTelemetryException = function (error, properties, measurements) {\r\n        var _this = this;\r\n        if (this.shouldSendErrorTelemetry() && this.userOptIn && error && this.appInsightsClient) {\r\n            var cleanProperties = this.cloneAndChange(properties, function (_key, prop) { return _this.anonymizeFilePaths(prop, _this.firstParty); });\r\n            this.appInsightsClient.trackException({\r\n                exception: error,\r\n                properties: cleanProperties,\r\n                measurements: measurements\r\n            });\r\n            if (this.logStream) {\r\n                this.logStream.write(\"telemetry/\" + error.name + \" \" + error.message + \" \" + JSON.stringify({ properties: properties, measurements: measurements }) + \"\\n\");\r\n            }\r\n        }\r\n    };\r\n    TelemetryReporter.prototype.dispose = function () {\r\n        var _this = this;\r\n        this.configListener.dispose();\r\n        var flushEventsToLogger = new Promise(function (resolve) {\r\n            if (!_this.logStream) {\r\n                return resolve(void 0);\r\n            }\r\n            _this.logStream.on('finish', resolve);\r\n            _this.logStream.end();\r\n        });\r\n        var flushEventsToAI = new Promise(function (resolve) {\r\n            if (_this.appInsightsClient) {\r\n                _this.appInsightsClient.flush({\r\n                    callback: function () {\r\n                        // all data flushed\r\n                        _this.appInsightsClient = undefined;\r\n                        resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                resolve(void 0);\r\n            }\r\n        });\r\n        return Promise.all([flushEventsToAI, flushEventsToLogger]);\r\n    };\r\n    TelemetryReporter.TELEMETRY_CONFIG_ID = 'telemetry';\r\n    TelemetryReporter.TELEMETRY_CONFIG_ENABLED_ID = 'enableTelemetry';\r\n    return TelemetryReporter;\r\n}());\r\nexports.default = TelemetryReporter;\r\n//# sourceMappingURL=telemetryReporter.js.map","/* --------------------------------------------------------------------------------------------\r\n * Copyright (c) Microsoft Corporation. All rights reserved.\r\n * Licensed under the MIT License. See License.txt in the project root for license information.\r\n * ------------------------------------------------------------------------------------------ */\r\n'use strict';\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar path = require(\"path\");\r\nvar fs = require(\"fs\");\r\nvar toString = Object.prototype.toString;\r\nfunction isDefined(value) {\r\n    return typeof value !== 'undefined';\r\n}\r\nfunction isNumber(value) {\r\n    return toString.call(value) === '[object Number]';\r\n}\r\nfunction isString(value) {\r\n    return toString.call(value) === '[object String]';\r\n}\r\nfunction isBoolean(value) {\r\n    return value === true || value === false;\r\n}\r\nfunction readJsonFileSync(filename) {\r\n    return JSON.parse(fs.readFileSync(filename, 'utf8'));\r\n}\r\nvar MessageFormat;\r\n(function (MessageFormat) {\r\n    MessageFormat[\"file\"] = \"file\";\r\n    MessageFormat[\"bundle\"] = \"bundle\";\r\n    MessageFormat[\"both\"] = \"both\";\r\n})(MessageFormat = exports.MessageFormat || (exports.MessageFormat = {}));\r\nvar BundleFormat;\r\n(function (BundleFormat) {\r\n    // the nls.bundle format\r\n    BundleFormat[\"standalone\"] = \"standalone\";\r\n    BundleFormat[\"languagePack\"] = \"languagePack\";\r\n})(BundleFormat = exports.BundleFormat || (exports.BundleFormat = {}));\r\nvar LocalizeInfo;\r\n(function (LocalizeInfo) {\r\n    function is(value) {\r\n        var candidate = value;\r\n        return candidate && isDefined(candidate.key) && isDefined(candidate.comment);\r\n    }\r\n    LocalizeInfo.is = is;\r\n})(LocalizeInfo || (LocalizeInfo = {}));\r\nvar resolvedLanguage;\r\nvar resolvedBundles;\r\nvar options;\r\nvar isPseudo;\r\nfunction initializeSettings() {\r\n    options = { locale: undefined, language: undefined, languagePackSupport: false, cacheLanguageResolution: true, messageFormat: MessageFormat.bundle };\r\n    if (isString(process.env.VSCODE_NLS_CONFIG)) {\r\n        try {\r\n            var vscodeOptions = JSON.parse(process.env.VSCODE_NLS_CONFIG);\r\n            var language = void 0;\r\n            var locale = void 0;\r\n            if (vscodeOptions.availableLanguages) {\r\n                var value = vscodeOptions.availableLanguages['*'];\r\n                if (isString(value)) {\r\n                    language = value;\r\n                }\r\n            }\r\n            if (isString(vscodeOptions.locale)) {\r\n                options.locale = vscodeOptions.locale.toLowerCase();\r\n            }\r\n            if (language === undefined) {\r\n                options.language = options.locale;\r\n            }\r\n            else if (language !== 'en') {\r\n                options.language = language;\r\n            }\r\n            if (isBoolean(vscodeOptions._languagePackSupport)) {\r\n                options.languagePackSupport = vscodeOptions._languagePackSupport;\r\n            }\r\n            if (isString(vscodeOptions._cacheRoot)) {\r\n                options.cacheRoot = vscodeOptions._cacheRoot;\r\n            }\r\n            if (isString(vscodeOptions._languagePackId)) {\r\n                options.languagePackId = vscodeOptions._languagePackId;\r\n            }\r\n            if (isString(vscodeOptions._translationsConfigFile)) {\r\n                options.translationsConfigFile = vscodeOptions._translationsConfigFile;\r\n                try {\r\n                    options.translationsConfig = readJsonFileSync(options.translationsConfigFile);\r\n                }\r\n                catch (error) {\r\n                    // We can't read the translation config file. Mark the cache as corrupted.\r\n                    if (vscodeOptions._corruptedFile) {\r\n                        fs.writeFile(vscodeOptions._corruptedFile, 'corrupted', 'utf8', function (err) {\r\n                            console.error(err);\r\n                        });\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        catch (_a) {\r\n            // Do nothing.\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    resolvedLanguage = undefined;\r\n    resolvedBundles = Object.create(null);\r\n}\r\ninitializeSettings();\r\nfunction supportsLanguagePack() {\r\n    return options.languagePackSupport === true && options.cacheRoot !== undefined && options.languagePackId !== undefined && options.translationsConfigFile !== undefined\r\n        && options.translationsConfig !== undefined;\r\n}\r\nfunction format(message, args) {\r\n    var result;\r\n    if (isPseudo) {\r\n        // FF3B and FF3D is the Unicode zenkaku representation for [ and ]\r\n        message = '\\uFF3B' + message.replace(/[aouei]/g, '$&$&') + '\\uFF3D';\r\n    }\r\n    if (args.length === 0) {\r\n        result = message;\r\n    }\r\n    else {\r\n        result = message.replace(/\\{(\\d+)\\}/g, function (match, rest) {\r\n            var index = rest[0];\r\n            var arg = args[index];\r\n            var replacement = match;\r\n            if (typeof arg === 'string') {\r\n                replacement = arg;\r\n            }\r\n            else if (typeof arg === 'number' || typeof arg === 'boolean' || arg === void 0 || arg === null) {\r\n                replacement = String(arg);\r\n            }\r\n            return replacement;\r\n        });\r\n    }\r\n    return result;\r\n}\r\nfunction createScopedLocalizeFunction(messages) {\r\n    return function (key, message) {\r\n        var args = [];\r\n        for (var _i = 2; _i < arguments.length; _i++) {\r\n            args[_i - 2] = arguments[_i];\r\n        }\r\n        if (isNumber(key)) {\r\n            if (key >= messages.length) {\r\n                console.error(\"Broken localize call found. Index out of bounds. Stacktrace is\\n: \" + new Error('').stack);\r\n                return;\r\n            }\r\n            return format(messages[key], args);\r\n        }\r\n        else {\r\n            if (isString(message)) {\r\n                console.warn(\"Message \" + message + \" didn't get externalized correctly.\");\r\n                return format(message, args);\r\n            }\r\n            else {\r\n                console.error(\"Broken localize call found. Stacktrace is\\n: \" + new Error('').stack);\r\n            }\r\n        }\r\n    };\r\n}\r\nfunction localize(key, message) {\r\n    var args = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        args[_i - 2] = arguments[_i];\r\n    }\r\n    return format(message, args);\r\n}\r\nfunction resolveLanguage(file) {\r\n    var resolvedLanguage;\r\n    if (options.cacheLanguageResolution && resolvedLanguage) {\r\n        resolvedLanguage = resolvedLanguage;\r\n    }\r\n    else {\r\n        if (isPseudo || !options.language) {\r\n            resolvedLanguage = '.nls.json';\r\n        }\r\n        else {\r\n            var locale = options.language;\r\n            while (locale) {\r\n                var candidate = '.nls.' + locale + '.json';\r\n                if (fs.existsSync(file + candidate)) {\r\n                    resolvedLanguage = candidate;\r\n                    break;\r\n                }\r\n                else {\r\n                    var index = locale.lastIndexOf('-');\r\n                    if (index > 0) {\r\n                        locale = locale.substring(0, index);\r\n                    }\r\n                    else {\r\n                        resolvedLanguage = '.nls.json';\r\n                        locale = null;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (options.cacheLanguageResolution) {\r\n            resolvedLanguage = resolvedLanguage;\r\n        }\r\n    }\r\n    return file + resolvedLanguage;\r\n}\r\nfunction findInTheBoxBundle(root) {\r\n    var language = options.language;\r\n    while (language) {\r\n        var candidate = path.join(root, \"nls.bundle.\" + language + \".json\");\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n        else {\r\n            var index = language.lastIndexOf('-');\r\n            if (index > 0) {\r\n                language = language.substring(0, index);\r\n            }\r\n            else {\r\n                language = undefined;\r\n            }\r\n        }\r\n    }\r\n    // Test if we can reslove the default bundle.\r\n    if (language === undefined) {\r\n        var candidate = path.join(root, 'nls.bundle.json');\r\n        if (fs.existsSync(candidate)) {\r\n            return candidate;\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\nfunction mkdir(directory) {\r\n    try {\r\n        fs.mkdirSync(directory);\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'EEXIST') {\r\n            return;\r\n        }\r\n        else if (err.code === 'ENOENT') {\r\n            var parent = path.dirname(directory);\r\n            if (parent !== directory) {\r\n                mkdir(parent);\r\n                fs.mkdirSync(directory);\r\n            }\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n}\r\nfunction createDefaultNlsBundle(folder) {\r\n    var metaData = readJsonFileSync(path.join(folder, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_1 in metaData) {\r\n        var entry = metaData[module_1];\r\n        result[module_1] = entry.messages;\r\n    }\r\n    return result;\r\n}\r\nfunction createNLSBundle(header, metaDataPath) {\r\n    var languagePackLocation = options.translationsConfig[header.id];\r\n    if (!languagePackLocation) {\r\n        return undefined;\r\n    }\r\n    var languagePack = readJsonFileSync(languagePackLocation).contents;\r\n    var metaData = readJsonFileSync(path.join(metaDataPath, 'nls.metadata.json'));\r\n    var result = Object.create(null);\r\n    for (var module_2 in metaData) {\r\n        var entry = metaData[module_2];\r\n        var translations = languagePack[header.outDir + \"/\" + module_2];\r\n        if (translations) {\r\n            var resultMessages = [];\r\n            for (var i = 0; i < entry.keys.length; i++) {\r\n                var messageKey = entry.keys[i];\r\n                var key = isString(messageKey) ? messageKey : messageKey.key;\r\n                var translatedMessage = translations[key];\r\n                if (translatedMessage === undefined) {\r\n                    translatedMessage = entry.messages[i];\r\n                }\r\n                resultMessages.push(translatedMessage);\r\n            }\r\n            result[module_2] = resultMessages;\r\n        }\r\n        else {\r\n            result[module_2] = entry.messages;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction touch(file) {\r\n    var d = new Date();\r\n    fs.utimes(file, d, d, function () {\r\n        // Do nothing. Ignore\r\n    });\r\n}\r\nfunction cacheBundle(key, bundle) {\r\n    resolvedBundles[key] = bundle;\r\n    return bundle;\r\n}\r\nfunction loadNlsBundleOrCreateFromI18n(header, bundlePath) {\r\n    var result;\r\n    var bundle = path.join(options.cacheRoot, header.id + \"-\" + header.hash + \".json\");\r\n    var useMemoryOnly = false;\r\n    var writeBundle = false;\r\n    try {\r\n        result = JSON.parse(fs.readFileSync(bundle, { encoding: 'utf8', flag: 'r' }));\r\n        touch(bundle);\r\n        return result;\r\n    }\r\n    catch (err) {\r\n        if (err.code === 'ENOENT') {\r\n            writeBundle = true;\r\n        }\r\n        else if (err instanceof SyntaxError) {\r\n            // We have a syntax error. So no valid JSON. Use\r\n            console.log(\"Syntax error parsing message bundle: \" + err.message + \".\");\r\n            fs.unlink(bundle, function (err) {\r\n                if (err) {\r\n                    console.error(\"Deleting corrupted bundle \" + bundle + \" failed.\");\r\n                }\r\n            });\r\n            useMemoryOnly = true;\r\n        }\r\n        else {\r\n            throw err;\r\n        }\r\n    }\r\n    result = createNLSBundle(header, bundlePath);\r\n    if (!result || useMemoryOnly) {\r\n        return result;\r\n    }\r\n    if (writeBundle) {\r\n        try {\r\n            fs.writeFileSync(bundle, JSON.stringify(result), { encoding: 'utf8', flag: 'wx' });\r\n        }\r\n        catch (err) {\r\n            if (err.code === 'EEXIST') {\r\n                return result;\r\n            }\r\n            throw err;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadDefaultNlsBundle(bundlePath) {\r\n    try {\r\n        return createDefaultNlsBundle(bundlePath);\r\n    }\r\n    catch (err) {\r\n        console.log(\"Generating default bundle from meta data failed.\", err);\r\n        return undefined;\r\n    }\r\n}\r\nfunction loadNlsBundle(header, bundlePath) {\r\n    var result;\r\n    // Core decided to use a language pack. Do the same in the extension\r\n    if (supportsLanguagePack()) {\r\n        try {\r\n            result = loadNlsBundleOrCreateFromI18n(header, bundlePath);\r\n        }\r\n        catch (err) {\r\n            console.log(\"Load or create bundle failed \", err);\r\n        }\r\n    }\r\n    if (!result) {\r\n        // No language pack found, but core is running in language pack mode\r\n        // Don't try to use old in the box bundles since the might be stale\r\n        // Fall right back to the default bundle.\r\n        if (options.languagePackSupport) {\r\n            return loadDefaultNlsBundle(bundlePath);\r\n        }\r\n        var candidate = findInTheBoxBundle(bundlePath);\r\n        if (candidate) {\r\n            try {\r\n                return readJsonFileSync(candidate);\r\n            }\r\n            catch (err) {\r\n                console.log(\"Loading in the box message bundle failed.\", err);\r\n            }\r\n        }\r\n        result = loadDefaultNlsBundle(bundlePath);\r\n    }\r\n    return result;\r\n}\r\nfunction tryFindMetaDataHeaderFile(file) {\r\n    var result;\r\n    var dirname = path.dirname(file);\r\n    while (true) {\r\n        result = path.join(dirname, 'nls.metadata.header.json');\r\n        if (fs.existsSync(result)) {\r\n            break;\r\n        }\r\n        var parent = path.dirname(dirname);\r\n        if (parent === dirname) {\r\n            result = undefined;\r\n            break;\r\n        }\r\n        else {\r\n            dirname = parent;\r\n        }\r\n    }\r\n    return result;\r\n}\r\nfunction loadMessageBundle(file) {\r\n    if (!file) {\r\n        // No file. We are in dev mode. Return the default\r\n        // localize function.\r\n        return localize;\r\n    }\r\n    // Remove extension since we load json files.\r\n    var ext = path.extname(file);\r\n    if (ext) {\r\n        file = file.substr(0, file.length - ext.length);\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.bundle) {\r\n        var headerFile = tryFindMetaDataHeaderFile(file);\r\n        if (headerFile) {\r\n            var bundlePath = path.dirname(headerFile);\r\n            var bundle = resolvedBundles[bundlePath];\r\n            if (bundle === undefined) {\r\n                try {\r\n                    var header = JSON.parse(fs.readFileSync(headerFile, 'utf8'));\r\n                    try {\r\n                        var nlsBundle = loadNlsBundle(header, bundlePath);\r\n                        bundle = cacheBundle(bundlePath, nlsBundle ? { header: header, nlsBundle: nlsBundle } : null);\r\n                    }\r\n                    catch (err) {\r\n                        console.error('Failed to load nls bundle', err);\r\n                        bundle = cacheBundle(bundlePath, null);\r\n                    }\r\n                }\r\n                catch (err) {\r\n                    console.error('Failed to read header file', err);\r\n                    bundle = cacheBundle(bundlePath, null);\r\n                }\r\n            }\r\n            if (bundle) {\r\n                var module_3 = file.substr(bundlePath.length + 1).replace(/\\\\/g, '/');\r\n                var messages = bundle.nlsBundle[module_3];\r\n                if (messages === undefined) {\r\n                    console.error(\"Messages for file \" + file + \" not found. See console for details.\");\r\n                    return function () {\r\n                        return 'Messages not found.';\r\n                    };\r\n                }\r\n                return createScopedLocalizeFunction(messages);\r\n            }\r\n        }\r\n    }\r\n    if (options.messageFormat === MessageFormat.both || options.messageFormat === MessageFormat.file) {\r\n        // Try to load a single file bundle\r\n        try {\r\n            var json = readJsonFileSync(resolveLanguage(file));\r\n            if (Array.isArray(json)) {\r\n                return createScopedLocalizeFunction(json);\r\n            }\r\n            else {\r\n                if (isDefined(json.messages) && isDefined(json.keys)) {\r\n                    return createScopedLocalizeFunction(json.messages);\r\n                }\r\n                else {\r\n                    console.error(\"String bundle '\" + file + \"' uses an unsupported format.\");\r\n                    return function () {\r\n                        return 'File bundle has unsupported format. See console for details';\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        catch (err) {\r\n            if (err.code !== 'ENOENT') {\r\n                console.error('Failed to load single file bundle', err);\r\n            }\r\n        }\r\n    }\r\n    console.error(\"Failed to load message bundle for file \" + file);\r\n    return function () {\r\n        return 'Failed to load message bundle. See console for details.';\r\n    };\r\n}\r\nexports.loadMessageBundle = loadMessageBundle;\r\nfunction config(opts) {\r\n    if (opts) {\r\n        if (isString(opts.locale)) {\r\n            options.locale = opts.locale.toLowerCase();\r\n            options.language = options.locale;\r\n            resolvedLanguage = undefined;\r\n            resolvedBundles = Object.create(null);\r\n        }\r\n        if (opts.messageFormat !== undefined) {\r\n            options.messageFormat = opts.messageFormat;\r\n        }\r\n        if (opts.bundleFormat === BundleFormat.standalone && options.languagePackSupport === true) {\r\n            options.languagePackSupport = false;\r\n        }\r\n    }\r\n    isPseudo = options.locale === 'pseudo';\r\n    return loadMessageBundle;\r\n}\r\nexports.config = config;\r\n//# sourceMappingURL=main.js.map",null,"/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { IExtension, IProjectType } from 'dataworkspace';\nimport { WorkspaceService } from '../services/workspaceService';\nimport { defaultProjectSaveLocation } from './projectLocationHelper';\nimport { openSpecificProjectNewProjectDialog } from '../dialogs/newProjectDialog';\n\nexport class DataWorkspaceExtension implements IExtension {\n\tconstructor(private workspaceService: WorkspaceService) {\n\t}\n\n\tgetProjectsInWorkspace(ext?: string, refreshFromDisk?: boolean): Promise<vscode.Uri[]> {\n\t\treturn this.workspaceService.getProjectsInWorkspace(ext, refreshFromDisk);\n\t}\n\n\taddProjectsToWorkspace(projectFiles: vscode.Uri[]): Promise<void> {\n\t\treturn this.workspaceService.addProjectsToWorkspace(projectFiles);\n\t}\n\n\tshowProjectsView(): void {\n\t\tvoid vscode.commands.executeCommand('dataworkspace.views.main.focus');\n\t}\n\n\trefreshProjectsTree(): void {\n\t\tthis.workspaceService.refreshProjectsTree();\n\t}\n\n\tget defaultProjectSaveLocation(): vscode.Uri | undefined {\n\t\treturn defaultProjectSaveLocation();\n\t}\n\n\tvalidateWorkspace(): Promise<boolean> {\n\t\treturn this.workspaceService.validateWorkspace();\n\t}\n\n\topenSpecificProjectNewProjectDialog(projectType: IProjectType): Promise<vscode.Uri | undefined> {\n\t\treturn openSpecificProjectNewProjectDialog(projectType, this.workspaceService);\n\t}\n\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\n\nexport interface IconPath {\n\tdark: string;\n\tlight: string;\n}\n\nexport class IconPathHelper {\n\tprivate static extensionContext: vscode.ExtensionContext;\n\tpublic static folder: IconPath;\n\tpublic static refresh: IconPath;\n\n\tpublic static setExtensionContext(extensionContext: vscode.ExtensionContext) {\n\t\tIconPathHelper.extensionContext = extensionContext;\n\n\t\tIconPathHelper.folder = IconPathHelper.makeIcon('folder', true);\n\t\tIconPathHelper.refresh = IconPathHelper.makeIcon('refresh', true);\n\t}\n\n\tprivate static makeIcon(name: string, sameIcon: boolean = false) {\n\t\tconst folder = 'images';\n\n\t\tif (sameIcon) {\n\t\t\treturn {\n\t\t\t\tdark: IconPathHelper.extensionContext.asAbsolutePath(`${folder}/${name}.svg`),\n\t\t\t\tlight: IconPathHelper.extensionContext.asAbsolutePath(`${folder}/${name}.svg`)\n\t\t\t};\n\t\t} else {\n\t\t\treturn {\n\t\t\t\tdark: IconPathHelper.extensionContext.asAbsolutePath(`${folder}/dark/${name}.svg`),\n\t\t\t\tlight: IconPathHelper.extensionContext.asAbsolutePath(`${folder}/light/${name}.svg`)\n\t\t\t};\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nexport class Log {\n\terror(msg: string): void {\n\t\tconsole.error(msg);\n\t}\n}\nconst Logger = new Log();\nexport default Logger;\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport * as fs from 'fs';\nimport * as constants from '../common/constants';\n\n/**\n * Returns the default location to save a new database project\n */\nexport function defaultProjectSaveLocation(): vscode.Uri | undefined {\n\treturn projectSaveLocationSettingIsValid() ? vscode.Uri.file(projectSaveLocationSetting()) : undefined;\n}\n\n/**\n * Get workspace configurations for this extension\n */\nfunction config(): vscode.WorkspaceConfiguration {\n\treturn vscode.workspace.getConfiguration(constants.ProjectConfigurationKey);\n}\n\n/**\n * Returns the workspace setting on the default location to save new database projects\n */\nfunction projectSaveLocationSetting(): string {\n\treturn config()[constants.ProjectSaveLocationKey];\n}\n\n/**\n * Returns if the default save location for new database projects workspace setting exists and is\n * a valid path\n */\nfunction projectSaveLocationSettingIsValid(): boolean {\n\treturn projectSaveLocationSettingExists() && fs.existsSync(projectSaveLocationSetting());\n}\n\n/**\n * Returns if a value for the default save location for new database projects exists\n */\nfunction projectSaveLocationSettingExists(): boolean {\n\treturn projectSaveLocationSetting() !== undefined && projectSaveLocationSetting() !== null\n\t\t&& projectSaveLocationSetting().trim() !== '';\n}\n\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport { IProjectProvider } from 'dataworkspace';\nimport * as vscode from 'vscode';\nimport { IProjectProviderRegistry } from './interfaces';\nimport { TelemetryActions, TelemetryReporter, TelemetryViews } from './telemetry';\n\nexport const ProjectProviderRegistry: IProjectProviderRegistry = new class implements IProjectProviderRegistry {\n\tprivate _providers = new Array<IProjectProvider>();\n\tprivate _providerFileExtensionMapping: { [key: string]: IProjectProvider } = {};\n\tprivate _providerProjectTypeMapping: { [key: string]: IProjectProvider } = {};\n\n\tregisterProvider(provider: IProjectProvider, providerId: string): vscode.Disposable {\n\t\tthis.validateProvider(provider);\n\t\tthis._providers.push(provider);\n\t\tprovider.supportedProjectTypes.forEach(projectType => {\n\t\t\tthis._providerFileExtensionMapping[projectType.projectFileExtension.toUpperCase()] = provider;\n\t\t\tthis._providerProjectTypeMapping[projectType.id.toUpperCase()] = provider;\n\t\t});\n\n\t\tTelemetryReporter.createActionEvent(TelemetryViews.ProviderRegistration, TelemetryActions.ProviderRegistered)\n\t\t\t.withAdditionalProperties({\n\t\t\t\tproviderId: providerId,\n\t\t\t\textensions: provider.supportedProjectTypes.map(p => p.projectFileExtension).sort().join(', ')\n\t\t\t})\n\t\t\t.send();\n\n\t\treturn new vscode.Disposable(() => {\n\t\t\tconst idx = this._providers.indexOf(provider);\n\t\t\tif (idx >= 0) {\n\t\t\t\tthis._providers.splice(idx, 1);\n\t\t\t\tprovider.supportedProjectTypes.forEach(projectType => {\n\t\t\t\t\tdelete this._providerFileExtensionMapping[projectType.projectFileExtension.toUpperCase()];\n\t\t\t\t\tdelete this._providerProjectTypeMapping[projectType.id.toUpperCase()];\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tget providers(): IProjectProvider[] {\n\t\treturn this._providers.slice(0);\n\t}\n\n\tclear(): void {\n\t\tthis._providers.length = 0;\n\t}\n\n\tvalidateProvider(provider: IProjectProvider): void {\n\t}\n\n\tgetProviderByProjectExtension(extension: string): IProjectProvider | undefined {\n\t\treturn extension ? this._providerFileExtensionMapping[extension.toUpperCase()] : undefined;\n\t}\n\n\tgetProviderByProjectType(projectType: string): IProjectProvider | undefined {\n\t\treturn projectType ? this._providerProjectTypeMapping[projectType.toUpperCase()] : undefined;\n\t}\n};\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\n/**\n * Deferred promise\n */\nexport class Deferred<T = void> {\n\tpromise: Promise<T>;\n\tresolve!: (value: T | PromiseLike<T>) => void;\n\treject!: (reason?: any) => void;\n\tconstructor() {\n\t\tthis.promise = new Promise<T>((resolve, reject) => {\n\t\t\tthis.resolve = resolve;\n\t\t\tthis.reject = reject;\n\t\t});\n\t}\n\n\tthen<TResult>(onfulfilled?: (value: T) => TResult | Thenable<TResult>, onrejected?: (reason: any) => TResult | Thenable<TResult>): Thenable<TResult>;\n\tthen<TResult>(onfulfilled?: (value: T) => TResult | Thenable<TResult>, onrejected?: (reason: any) => void): Thenable<TResult>;\n\tthen<TResult>(onfulfilled?: (value: T) => TResult | Thenable<TResult>, onrejected?: (reason: any) => TResult | Thenable<TResult>): Thenable<TResult> {\n\t\treturn this.promise.then(onfulfilled, onrejected);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport AdsTelemetryReporter from '@microsoft/ads-extension-telemetry';\nimport * as utils from './utils';\n\nconst packageJson = require('../../package.json');\n\nlet packageInfo = utils.getPackageInfo(packageJson)!;\n\nexport const TelemetryReporter = new AdsTelemetryReporter(packageInfo.name, packageInfo.version, packageInfo.aiKey);\n\n\nexport enum TelemetryViews {\n\tWorkspaceTreePane = 'WorkspaceTreePane',\n\tOpenExistingDialog = 'OpenExistingDialog',\n\tNewProjectDialog = 'NewProjectDialog',\n\tProviderRegistration = 'ProviderRegistration'\n}\n\nexport enum TelemetryActions {\n\tProviderRegistered = 'ProviderRegistered',\n\tProjectAddedToWorkspace = 'ProjectAddedToWorkspace',\n\tProjectRemovedFromWorkspace = 'ProjectRemovedFromWorkspace',\n\tOpeningProject = 'OpeningProject',\n\tNewProjectDialogLaunched = 'NewProjectDialogLaunched',\n\tOpenExistingDialogLaunched = 'OpenExistingDialogLaunched',\n\tNewProjectDialogCompleted = 'NewProjectDialogCompleted',\n\tGitClone = 'GitClone',\n\tProjectsLoaded = 'ProjectsLoaded'\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as fs from 'fs';\nimport type * as azdataType from 'azdata';\nimport * as vscode from 'vscode';\nimport * as constants from './constants';\n\nexport async function directoryExist(directoryPath: string): Promise<boolean> {\n\tconst stats = await getFileStatus(directoryPath);\n\treturn stats ? stats.isDirectory() : false;\n}\n\nexport async function fileExist(filePath: string): Promise<boolean> {\n\tconst stats = await getFileStatus(filePath);\n\treturn stats ? stats.isFile() : false;\n}\n\nasync function getFileStatus(path: string): Promise<fs.Stats | undefined> {\n\ttry {\n\t\tconst stats = await fs.promises.stat(path);\n\t\treturn stats;\n\t}\n\tcatch (e) {\n\t\tif (e.code === 'ENOENT') {\n\t\t\treturn undefined;\n\t\t}\n\t\telse {\n\t\t\tthrow e;\n\t\t}\n\t}\n}\n\nexport interface IPackageInfo {\n\tname: string;\n\tversion: string;\n\taiKey: string;\n}\n\nexport function getPackageInfo(packageJson: any): IPackageInfo | undefined {\n\tif (packageJson) {\n\t\treturn {\n\t\t\tname: packageJson.name,\n\t\t\tversion: packageJson.version,\n\t\t\taiKey: packageJson.aiKey\n\t\t};\n\t}\n\n\treturn undefined;\n}\n\n// Try to load the azdata API - but gracefully handle the failure in case we're running\n// in a context where the API doesn't exist (such as VS Code)\nlet azdataApi: typeof azdataType | undefined = undefined;\ntry {\n\tazdataApi = require('azdata');\n\tif (!azdataApi?.version) {\n\t\t// webpacking makes the require return an empty object instead of throwing an error so make sure we clear the var\n\t\tazdataApi = undefined;\n\t}\n} catch {\n\t// no-op\n}\n\n/**\n * Gets the azdata API if it's available in the context this extension is running in.\n * @returns The azdata API if it's available\n */\nexport function getAzdataApi(): typeof azdataType | undefined {\n\treturn azdataApi;\n}\n\n/**\n * Shows a message with a \"Learn More\" button\n * @param message Info message\n * @param link Link to open when \"Learn Button\" is clicked\n */\nexport async function showInfoMessageWithLearnMoreLink(message: string, link: string): Promise<void> {\n\tconst result = await vscode.window.showInformationMessage(message, constants.LearnMore);\n\tif (result === constants.LearnMore) {\n\t\tvoid vscode.env.openExternal(vscode.Uri.parse(link));\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport * as path from 'path';\nimport { IWorkspaceService } from './interfaces';\nimport { ProjectsFailedToLoad, UnknownProjectsError } from './constants';\nimport { WorkspaceTreeItem } from 'dataworkspace';\nimport { TelemetryReporter } from './telemetry';\n\n/**\n * Tree data provider for the workspace main view\n */\nexport class WorkspaceTreeDataProvider implements vscode.TreeDataProvider<WorkspaceTreeItem>{\n\tconstructor(private _workspaceService: IWorkspaceService) {\n\t\tthis._workspaceService.onDidWorkspaceProjectsChange(() => {\n\t\t\treturn this.refresh();\n\t\t});\n\t}\n\n\tprivate _onDidChangeTreeData: vscode.EventEmitter<void | WorkspaceTreeItem | null | undefined> | undefined = new vscode.EventEmitter<WorkspaceTreeItem | undefined | void>();\n\treadonly onDidChangeTreeData?: vscode.Event<void | WorkspaceTreeItem | null | undefined> | undefined = this._onDidChangeTreeData?.event;\n\n\tasync refresh(): Promise<void> {\n\t\tawait this._workspaceService.getProjectsInWorkspace(undefined, true);\n\t\tthis._onDidChangeTreeData?.fire();\n\t}\n\n\tgetTreeItem(element: WorkspaceTreeItem): vscode.TreeItem | Thenable<vscode.TreeItem> {\n\t\treturn element.treeDataProvider.getTreeItem(element.element);\n\t}\n\n\tasync getChildren(element?: WorkspaceTreeItem | undefined): Promise<WorkspaceTreeItem[]> {\n\t\tif (element) {\n\t\t\tconst items = await element.treeDataProvider.getChildren(element.element);\n\t\t\treturn items ? items.map(item => <WorkspaceTreeItem>{ treeDataProvider: element.treeDataProvider, element: item }) : [];\n\t\t}\n\t\telse {\n\t\t\t// if the element is undefined return the project tree items\n\t\t\tconst projects = await this._workspaceService.getProjectsInWorkspace(undefined, false);\n\t\t\tawait vscode.commands.executeCommand('setContext', 'isProjectsViewEmpty', projects.length === 0);\n\t\t\tconst unknownProjects: string[] = [];\n\t\t\tconst treeItems: WorkspaceTreeItem[] = [];\n\n\t\t\tconst typeMetric: Record<string, number> = {};\n\n\t\t\tlet errorCount = 0;\n\t\t\tfor (const project of projects) {\n\t\t\t\ttry {\n\t\t\t\t\tconst projectProvider = await this._workspaceService.getProjectProvider(project);\n\n\t\t\t\t\tthis.incrementProjectTypeMetric(typeMetric, project);\n\n\t\t\t\t\tif (projectProvider === undefined) {\n\t\t\t\t\t\tunknownProjects.push(project.path);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tconst treeDataProvider = await projectProvider.getProjectTreeDataProvider(project);\n\t\t\t\t\tif (treeDataProvider.onDidChangeTreeData) {\n\t\t\t\t\t\ttreeDataProvider.onDidChangeTreeData((e: any) => {\n\t\t\t\t\t\t\tthis._onDidChangeTreeData?.fire(e);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\tconst children = await treeDataProvider.getChildren(element);\n\t\t\t\t\tchildren?.forEach(child => {\n\t\t\t\t\t\ttreeItems.push({\n\t\t\t\t\t\t\ttreeDataProvider: treeDataProvider,\n\t\t\t\t\t\t\telement: child\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t} catch (e) {\n\t\t\t\t\terrorCount++;\n\t\t\t\t\tconsole.error(e.message);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (errorCount > 0) {\n\t\t\t\tvoid vscode.window.showErrorMessage(ProjectsFailedToLoad);\n\t\t\t}\n\n\t\t\tTelemetryReporter.sendMetricsEvent(typeMetric, 'OpenWorkspaceProjectTypes');\n\t\t\tTelemetryReporter.sendMetricsEvent(\n\t\t\t\t{\n\t\t\t\t\t'handled': projects.length - unknownProjects.length,\n\t\t\t\t\t'unhandled': unknownProjects.length\n\t\t\t\t},\n\t\t\t\t'OpenWorkspaceProjectsHandled');\n\n\t\t\tif (unknownProjects.length > 0) {\n\t\t\t\tvoid vscode.window.showErrorMessage(UnknownProjectsError(unknownProjects));\n\t\t\t}\n\n\t\t\treturn treeItems;\n\t\t}\n\t}\n\n\tprivate incrementProjectTypeMetric(typeMetric: Record<string, number>, projectUri: vscode.Uri) {\n\t\tconst ext = path.extname(projectUri.fsPath);\n\n\t\tif (!typeMetric.hasOwnProperty(ext)) {\n\t\t\ttypeMetric[ext] = 0;\n\t\t}\n\n\t\ttypeMetric[ext]++;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as azdataType from 'azdata';\nimport * as vscode from 'vscode';\nimport { getAzdataApi } from '../common/utils';\n\nexport interface Deferred<T> {\n\tresolve: (result: T | Promise<T>) => void;\n\treject: (reason: any) => void;\n}\n\nexport abstract class DialogBase {\n\tprotected _toDispose: vscode.Disposable[] = [];\n\tpublic dialogObject: azdataType.window.Dialog;\n\tprotected initDialogComplete: Deferred<void> | undefined;\n\tprotected initDialogPromise: Promise<void> = new Promise<void>((resolve, reject) => this.initDialogComplete = { resolve, reject });\n\n\tconstructor(dialogTitle: string, dialogName: string, okButtonText: string, dialogWidth: azdataType.window.DialogWidth = 600) {\n\t\tthis.dialogObject = getAzdataApi()!.window.createModelViewDialog(dialogTitle, dialogName, dialogWidth);\n\t\tthis.dialogObject.okButton.label = okButtonText;\n\t\tthis.register(this.dialogObject.cancelButton.onClick(() => this.onCancelButtonClicked()));\n\t\tthis.register(this.dialogObject.okButton.onClick(() => this.onOkButtonClicked()));\n\t\tthis.dialogObject.registerCloseValidator(async () => {\n\t\t\treturn this.validate();\n\t\t});\n\t}\n\n\tprotected abstract initialize(view: azdataType.ModelView): Promise<void>;\n\n\tabstract validate(): Promise<boolean>;\n\n\tpublic async open(): Promise<void> {\n\t\tconst tab = getAzdataApi()!.window.createTab('');\n\t\ttab.registerContent(async (view: azdataType.ModelView) => {\n\t\t\treturn this.initialize(view);\n\t\t});\n\t\tthis.dialogObject.content = [tab];\n\t\tgetAzdataApi()!.window.openDialog(this.dialogObject);\n\t\tawait this.initDialogPromise;\n\t}\n\n\tprotected onCancelButtonClicked(): void {\n\t\tthis.dispose();\n\t}\n\n\tprivate async onOkButtonClicked(): Promise<void> {\n\t\tawait this.onComplete();\n\t\tthis.dispose();\n\t}\n\n\tprotected async onComplete(): Promise<void> {\n\t}\n\n\tprotected dispose(): void {\n\t\tthis._toDispose.forEach(disposable => disposable.dispose());\n\t}\n\n\tprotected register(disposable: vscode.Disposable): void {\n\t\tthis._toDispose.push(disposable);\n\t}\n\n\tprotected showErrorMessage(message: string): void {\n\t\tthis.dialogObject.message = {\n\t\t\ttext: message,\n\t\t\tlevel: getAzdataApi()!.window.MessageLevel.Error\n\t\t};\n\t}\n\n\tpublic getErrorMessage(): azdataType.window.DialogMessage {\n\t\treturn this.dialogObject.message;\n\t}\n\n\tprotected createHorizontalContainer(view: azdataType.ModelView, items: azdataType.Component[]): azdataType.FlexContainer {\n\t\treturn view.modelBuilder.flexContainer().withItems(items, { CSSStyles: { 'margin-right': '5px', 'margin-bottom': '10px' } }).withLayout({ flexFlow: 'row', alignItems: 'center' }).component();\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as azdataType from 'azdata';\nimport * as vscode from 'vscode';\nimport * as path from 'path';\nimport { Deferred, DialogBase } from './dialogBase';\nimport { IWorkspaceService } from '../common/interfaces';\nimport * as constants from '../common/constants';\nimport { IProjectType } from 'dataworkspace';\nimport { directoryExist } from '../common/utils';\nimport { IconPathHelper } from '../common/iconHelper';\nimport { defaultProjectSaveLocation } from '../common/projectLocationHelper';\nimport { TelemetryActions, TelemetryReporter, TelemetryViews } from '../common/telemetry';\nimport { WorkspaceService } from '../services/workspaceService';\n\nclass NewProjectDialogModel {\n\tprojectTypeId: string = '';\n\tprojectFileExtension: string = '';\n\tname: string = '';\n\tlocation: string = '';\n\ttargetPlatform?: string;\n\tsdkStyleProject?: boolean;\n}\n\nexport async function openSpecificProjectNewProjectDialog(projectType: IProjectType, workspaceService: WorkspaceService): Promise<vscode.Uri | undefined> {\n\tconst dialog = new NewProjectDialog(workspaceService, projectType);\n\tawait dialog.open();\n\tawait dialog.newDialogPromise;\n\treturn dialog.projectUri;\n}\n\nexport class NewProjectDialog extends DialogBase {\n\tpublic model: NewProjectDialogModel = new NewProjectDialogModel();\n\tpublic formBuilder: azdataType.FormBuilder | undefined;\n\tpublic targetPlatformDropdownFormComponent: azdataType.FormComponent | undefined;\n\tpublic sdkProjectCheckboxFormComponent: azdataType.FormComponent | undefined;\n\tpublic newProjectDialogComplete: Deferred<void> | undefined;\n\tpublic newDialogPromise: Promise<void> = new Promise<void>((resolve, reject) => this.newProjectDialogComplete = { resolve, reject });\n\tpublic projectUri: vscode.Uri | undefined;\n\n\tconstructor(private workspaceService: IWorkspaceService, private specificProjectType?: IProjectType) {\n\t\tsuper(constants.NewProjectDialogTitle, 'NewProject', constants.CreateButtonText);\n\n\t\t// dialog launched from Welcome message button (only visible when no current workspace) vs. \"add project\" button\n\t\tTelemetryReporter.createActionEvent(TelemetryViews.NewProjectDialog, TelemetryActions.NewProjectDialogLaunched)\n\t\t\t.withAdditionalProperties({ isWorkspaceOpen: (vscode.workspace.workspaceFile !== undefined).toString() })\n\t\t\t.send();\n\t}\n\n\tasync validate(): Promise<boolean> {\n\t\ttry {\n\t\t\t// the selected location should be an existing directory\n\t\t\tconst parentDirectoryExists = await directoryExist(this.model.location);\n\t\t\tif (!parentDirectoryExists) {\n\t\t\t\tthis.showErrorMessage(constants.ProjectParentDirectoryNotExistError(this.model.location));\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// there shouldn't be an existing sub directory with the same name as the project in the selected location\n\t\t\tconst projectDirectoryExists = await directoryExist(path.join(this.model.location, this.model.name));\n\t\t\tif (projectDirectoryExists) {\n\t\t\t\tthis.showErrorMessage(constants.ProjectDirectoryAlreadyExistError(this.model.name, this.model.location));\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tif (await this.workspaceService.validateWorkspace() === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tcatch (err) {\n\t\t\tthis.showErrorMessage(err?.message ? err.message : err);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\toverride onCancelButtonClicked(): void {\n\t\tthis.newProjectDialogComplete?.resolve();\n\t\tthis.dispose();\n\t}\n\n\toverride async onComplete(): Promise<void> {\n\t\ttry {\n\n\t\t\tTelemetryReporter.createActionEvent(TelemetryViews.NewProjectDialog, TelemetryActions.NewProjectDialogCompleted)\n\t\t\t\t.withAdditionalProperties({ projectFileExtension: this.model.projectFileExtension, projectTemplateId: this.model.projectTypeId })\n\t\t\t\t.send();\n\n\t\t\tthis.projectUri = await this.workspaceService.createProject(this.model.name, vscode.Uri.file(this.model.location), this.model.projectTypeId, this.model.targetPlatform, this.model.sdkStyleProject);\n\t\t\tthis.newProjectDialogComplete?.resolve();\n\t\t}\n\t\tcatch (err) {\n\n\t\t\tTelemetryReporter.createErrorEvent(TelemetryViews.NewProjectDialog, TelemetryActions.NewProjectDialogCompleted)\n\t\t\t\t.withAdditionalProperties({ projectFileExtension: this.model.projectFileExtension, projectTemplateId: this.model.projectTypeId, error: err?.message ? err.message : err })\n\t\t\t\t.send();\n\n\t\t\tvoid vscode.window.showErrorMessage(err?.message ? err.message : err);\n\t\t}\n\t}\n\n\tprotected async initialize(view: azdataType.ModelView): Promise<void> {\n\t\tlet allProjectTypes = await this.workspaceService.getAllProjectTypes();\n\n\t\t// if a specific project type is specified, only show that one\n\t\tif (this.specificProjectType && allProjectTypes.find(p => p.id === this.specificProjectType?.id)) {\n\t\t\tallProjectTypes = [this.specificProjectType];\n\t\t}\n\n\t\tconst projectTypeRadioCardGroup = view.modelBuilder.radioCardGroup().withProps({\n\t\t\tcards: allProjectTypes.map((projectType: IProjectType) => {\n\t\t\t\treturn <azdataType.RadioCard>{\n\t\t\t\t\tid: projectType.id,\n\t\t\t\t\tlabel: projectType.displayName,\n\t\t\t\t\ticon: projectType.icon,\n\t\t\t\t\tdescriptions: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttextValue: projectType.displayName,\n\t\t\t\t\t\t\ttextStyles: {\n\t\t\t\t\t\t\t\t'font-size': '13px',\n\t\t\t\t\t\t\t\t'font-weight': 'bold'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, {\n\t\t\t\t\t\t\ttextValue: projectType.description\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t};\n\t\t\t}),\n\t\t\ticonHeight: '75px',\n\t\t\ticonWidth: '75px',\n\t\t\tcardWidth: '215px',\n\t\t\tcardHeight: '195px',\n\t\t\tariaLabel: constants.TypeTitle,\n\t\t\twidth: '500px',\n\t\t\ticonPosition: 'top',\n\t\t\tselectedCardId: allProjectTypes.length > 0 ? allProjectTypes[0].id : undefined\n\t\t}).component();\n\n\t\tthis.register(projectTypeRadioCardGroup.onSelectionChanged(async (e) => {\n\t\t\tthis.model.projectTypeId = e.cardId;\n\t\t\tconst selectedProject = allProjectTypes.find(p => p.id === e.cardId);\n\n\t\t\tif (selectedProject?.targetPlatforms) {\n\t\t\t\t// update the target platforms dropdown for the selected project type\n\t\t\t\ttargetPlatformDropdown.values = selectedProject?.targetPlatforms;\n\t\t\t\ttargetPlatformDropdown.value = this.getDefaultTargetPlatform(selectedProject);\n\n\t\t\t\tthis.formBuilder?.insertFormItem(this.targetPlatformDropdownFormComponent!, 3);\n\t\t\t} else {\n\t\t\t\t// remove the target version dropdown if the selected project type didn't provide values for this\n\t\t\t\tthis.formBuilder?.removeFormItem(this.targetPlatformDropdownFormComponent!);\n\t\t\t\tthis.model.targetPlatform = undefined;\n\t\t\t}\n\n\t\t\tif (selectedProject?.sdkStyleOption) {\n\t\t\t\tsdkProjectCheckbox.checked = true;\n\t\t\t\tthis.model.sdkStyleProject = true;\n\n\t\t\t\tif (selectedProject.sdkStyleLearnMoreUrl) {\n\t\t\t\t\tawait sdkLearnMore.updateProperty('url', selectedProject.sdkStyleLearnMoreUrl);\n\t\t\t\t\tsdkFormComponentGroup.addItem(sdkLearnMore);\n\t\t\t\t} else {\n\t\t\t\t\t// remove learn more link if the project type didn't provide it\n\t\t\t\t\tsdkFormComponentGroup.removeItem(sdkLearnMore);\n\t\t\t\t}\n\n\t\t\t\tthis.formBuilder?.addFormItem(this.sdkProjectCheckboxFormComponent!);\n\t\t\t} else {\n\t\t\t\tthis.model.sdkStyleProject = false;\n\t\t\t\tthis.formBuilder?.removeFormItem(this.sdkProjectCheckboxFormComponent!);\n\t\t\t}\n\t\t}));\n\n\t\tconst projectNameTextBox = view.modelBuilder.inputBox().withProps({\n\t\t\tariaLabel: constants.ProjectNameTitle,\n\t\t\tplaceHolder: constants.ProjectNamePlaceholder,\n\t\t\trequired: true,\n\t\t\twidth: constants.DefaultInputWidth\n\t\t}).component();\n\n\t\tthis.register(projectNameTextBox.onTextChanged(() => {\n\t\t\tthis.model.name = projectNameTextBox.value!;\n\t\t\treturn projectNameTextBox.updateProperty('title', projectNameTextBox.value);\n\t\t}));\n\n\t\tconst locationTextBox = view.modelBuilder.inputBox().withProps({\n\t\t\tariaLabel: constants.ProjectLocationTitle,\n\t\t\tplaceHolder: constants.ProjectLocationPlaceholder,\n\t\t\trequired: true,\n\t\t\twidth: constants.DefaultInputWidth\n\t\t}).component();\n\n\t\tthis.register(locationTextBox.onTextChanged(() => {\n\t\t\tthis.model.location = locationTextBox.value!;\n\t\t\treturn locationTextBox.updateProperty('title', locationTextBox.value);\n\t\t}));\n\n\t\tconst browseFolderButton = view.modelBuilder.button().withProps({\n\t\t\tariaLabel: constants.BrowseButtonText,\n\t\t\ticonPath: IconPathHelper.folder,\n\t\t\theight: '16px',\n\t\t\twidth: '18px'\n\t\t}).component();\n\t\tthis.register(browseFolderButton.onDidClick(async () => {\n\t\t\tlet folderUris = await vscode.window.showOpenDialog({\n\t\t\t\tcanSelectFiles: false,\n\t\t\t\tcanSelectFolders: true,\n\t\t\t\tcanSelectMany: false,\n\t\t\t\tdefaultUri: defaultProjectSaveLocation()\n\t\t\t});\n\t\t\tif (!folderUris || folderUris.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tconst selectedFolder = folderUris[0].fsPath;\n\t\t\tlocationTextBox.value = selectedFolder;\n\t\t\tthis.model.location = selectedFolder;\n\t\t}));\n\n\t\tconst targetPlatformDropdown = view.modelBuilder.dropDown().withProps({\n\t\t\tvalues: allProjectTypes[0].targetPlatforms,\n\t\t\tvalue: this.getDefaultTargetPlatform(allProjectTypes[0]),\n\t\t\tariaLabel: constants.TargetPlatform,\n\t\t\trequired: true,\n\t\t\twidth: constants.DefaultInputWidth\n\t\t}).component();\n\n\t\tthis.register(targetPlatformDropdown.onValueChanged(() => {\n\t\t\tthis.model.targetPlatform = targetPlatformDropdown.value! as string;\n\t\t}));\n\n\n\t\tthis.targetPlatformDropdownFormComponent = {\n\t\t\ttitle: constants.TargetPlatform,\n\t\t\trequired: true,\n\t\t\tcomponent: targetPlatformDropdown\n\t\t};\n\n\t\tconst sdkProjectCheckbox = view.modelBuilder.checkBox().withProps({\n\t\t\tchecked: true,\n\t\t\tlabel: constants.SdkStyleProject\n\t\t}).component();\n\n\t\tthis.register(sdkProjectCheckbox.onChanged(() => {\n\t\t\tthis.model.sdkStyleProject = sdkProjectCheckbox.checked;\n\t\t}));\n\n\t\tconst sdkLearnMore = view.modelBuilder.hyperlink().withProps({\n\t\t\tlabel: constants.LearnMore,\n\t\t\turl: ''\n\t\t}).component();\n\n\t\tconst sdkFormComponentGroup = view.modelBuilder.flexContainer()\n\t\t\t.withLayout({ flexFlow: 'row', alignItems: 'baseline' })\n\t\t\t.withItems([sdkProjectCheckbox], { CSSStyles: { flex: '0 0 auto', 'margin-right': '10px' } })\n\t\t\t.component();\n\n\t\tif (allProjectTypes[0].sdkStyleLearnMoreUrl) {\n\t\t\tawait sdkLearnMore.updateProperty('url', allProjectTypes[0].sdkStyleLearnMoreUrl);\n\t\t\tsdkFormComponentGroup.addItem(sdkLearnMore);\n\t\t}\n\n\t\tthis.sdkProjectCheckboxFormComponent = {\n\t\t\tcomponent: sdkFormComponentGroup,\n\t\t};\n\n\t\tthis.formBuilder = view.modelBuilder.formContainer().withFormItems([\n\t\t\t{\n\t\t\t\ttitle: constants.TypeTitle,\n\t\t\t\trequired: true,\n\t\t\t\tcomponent: projectTypeRadioCardGroup\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: constants.ProjectNameTitle,\n\t\t\t\trequired: true,\n\t\t\t\tcomponent: this.createHorizontalContainer(view, [projectNameTextBox])\n\t\t\t},\n\t\t\t{\n\t\t\t\ttitle: constants.ProjectLocationTitle,\n\t\t\t\trequired: true,\n\t\t\t\tcomponent: this.createHorizontalContainer(view, [locationTextBox, browseFolderButton])\n\t\t\t}\n\t\t]);\n\n\t\t// add version dropdown if the first project type has one\n\t\tif (allProjectTypes[0].targetPlatforms) {\n\t\t\tthis.formBuilder.addFormItem(this.targetPlatformDropdownFormComponent);\n\t\t}\n\n\t\t// add sdk style checkbox is the first project has the option\n\t\tif (allProjectTypes[0].sdkStyleOption) {\n\t\t\tthis.formBuilder.addFormItem(this.sdkProjectCheckboxFormComponent);\n\t\t}\n\n\t\tawait view.initializeModel(this.formBuilder.component());\n\t\tthis.initDialogComplete?.resolve();\n\t}\n\n\t/**\n\t * Gets the default target platform of the project type if there is one\n\t * @param projectType\n\t * @returns\n\t */\n\tgetDefaultTargetPlatform(projectType: IProjectType): string | undefined {\n\t\t// only return the specified default target platform if it's also included in the project type's array of target platforms\n\t\tif (projectType.defaultTargetPlatform && projectType.targetPlatforms?.includes(projectType.defaultTargetPlatform)) {\n\t\t\treturn projectType.defaultTargetPlatform;\n\t\t} else {\n\t\t\treturn undefined;\n\t\t}\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport * as path from 'path';\nimport * as constants from '../common/constants';\nimport { directoryExist, showInfoMessageWithLearnMoreLink } from '../common/utils';\nimport { defaultProjectSaveLocation } from '../common/projectLocationHelper';\nimport { WorkspaceService } from '../services/workspaceService';\n\n/**\n * Create flow for a New Project using only VS Code-native APIs such as QuickPick\n */\nexport async function createNewProjectWithQuickpick(workspaceService: WorkspaceService): Promise<void> {\n\t// Refresh list of project types\n\tconst projectTypes = (await workspaceService.getAllProjectTypes()).map(projType => {\n\t\treturn {\n\t\t\tlabel: projType.displayName,\n\t\t\tdescription: projType.description,\n\t\t\tid: projType.id,\n\t\t\ttargetPlatforms: projType.targetPlatforms,\n\t\t\tdefaultTargetPlatform: projType.defaultTargetPlatform,\n\t\t\tsdkOption: projType.sdkStyleOption,\n\t\t\tsdkLearnMoreUrl: projType.sdkStyleLearnMoreUrl,\n\t\t\tlearnMoreUrl: projType.learnMoreUrl\n\t\t} as vscode.QuickPickItem & { id: string, sdkOption?: boolean, targetPlatforms?: string[], defaultTargetPlatform?: string, sdkLearnMoreUrl?: string, learnMoreUrl?: string };\n\t});\n\n\t// 1. Prompt for project type\n\tconst projectType = await vscode.window.showQuickPick(projectTypes, { title: constants.SelectProjectType, ignoreFocusOut: true });\n\tif (!projectType) {\n\t\treturn;\n\t}\n\n\t// 2. Prompt for project name\n\tconst projectName = await vscode.window.showInputBox(\n\t\t{\n\t\t\ttitle: constants.EnterProjectName,\n\t\t\tvalidateInput: (value) => {\n\t\t\t\treturn value ? undefined : constants.NameCannotBeEmpty;\n\t\t\t},\n\t\t\tignoreFocusOut: true\n\t\t});\n\tif (!projectName) {\n\t\treturn;\n\t}\n\n\tconst defaultProjectSaveLoc = defaultProjectSaveLocation();\n\tconst browseProjectLocationOptions = [constants.BrowseEllipsisWithIcon];\n\tif (defaultProjectSaveLoc) {\n\t\tbrowseProjectLocationOptions.unshift(defaultProjectSaveLoc.fsPath);\n\t}\n\t// 3. Prompt for Project location\n\t// We validate that the folder doesn't already exist, and if it does keep prompting them to pick a new one\n\tlet projectLocation = '';\n\tlet browseProjectLocationTitle = constants.SelectProjectLocation;\n\twhile (true) {\n\t\tconst browseProjectLocation = await vscode.window.showQuickPick(\n\t\t\tbrowseProjectLocationOptions,\n\t\t\t{ title: browseProjectLocationTitle, ignoreFocusOut: true });\n\t\tif (!browseProjectLocation) {\n\t\t\t// User cancelled\n\t\t\treturn undefined;\n\t\t}\n\t\tif (browseProjectLocation === constants.BrowseEllipsisWithIcon) {\n\t\t\tconst locations = await vscode.window.showOpenDialog({\n\t\t\t\tcanSelectFiles: false,\n\t\t\t\tcanSelectFolders: true,\n\t\t\t\tcanSelectMany: false,\n\t\t\t\topenLabel: constants.Select,\n\t\t\t\ttitle: constants.SelectProjectLocation,\n\t\t\t\tdefaultUri: defaultProjectSaveLoc\n\t\t\t});\n\t\t\tif (!locations) {\n\t\t\t\t// User cancelled out of open dialog - let them choose location again\n\t\t\t\tbrowseProjectLocationTitle = constants.SelectProjectLocation;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tprojectLocation = locations[0].fsPath;\n\t\t} else {\n\t\t\tprojectLocation = browseProjectLocation;\n\t\t}\n\t\tconst locationExists = await directoryExist(path.join(projectLocation, projectName));\n\t\tif (!locationExists) {\n\t\t\t// Have a valid location so exit out now\n\t\t\tbreak;\n\t\t}\n\t\t// Otherwise show the browse quick pick again with the title updated with the error\n\t\tbrowseProjectLocationTitle = constants.ProjectDirectoryAlreadyExistErrorShort(projectName);\n\t\tcontinue;\n\t}\n\n\tlet targetPlatform;\n\tif (projectType.targetPlatforms) {\n\t\t// 4. Target platform of the project\n\t\tlet targetPlatforms: vscode.QuickPickItem[] = projectType.targetPlatforms.map(targetPlatform => { return { label: targetPlatform }; });\n\n\t\tif (projectType.defaultTargetPlatform) {\n\t\t\t// move the default target platform to be the first one in the list\n\t\t\tconst defaultIndex = targetPlatforms.findIndex(i => i.label === projectType.defaultTargetPlatform);\n\t\t\tif (defaultIndex > -1) {\n\t\t\t\ttargetPlatforms.splice(defaultIndex, 1);\n\t\t\t}\n\n\t\t\t// add default next to the default target platform\n\t\t\ttargetPlatforms.unshift({ label: projectType.defaultTargetPlatform, description: constants.Default });\n\t\t}\n\n\t\tconst selectedTargetPlatform = await vscode.window.showQuickPick(targetPlatforms, { title: constants.SelectTargetPlatform, ignoreFocusOut: true });\n\t\tif (!selectedTargetPlatform) {\n\t\t\t// User cancelled\n\t\t\treturn;\n\t\t}\n\n\t\ttargetPlatform = selectedTargetPlatform.label;\n\t}\n\n\tlet sdkStyle;\n\tif (projectType.sdkOption) {\n\t\t// 5. SDK-style project or not\n\t\tconst sdkLearnMoreButton: vscode.QuickInputButton = {\n\t\t\ticonPath: new vscode.ThemeIcon('link-external'),\n\t\t\ttooltip: constants.LearnMore\n\t\t};\n\t\tconst quickPick = vscode.window.createQuickPick();\n\t\tquickPick.items = [{ label: constants.YesRecommended }, { label: constants.No }];\n\t\tquickPick.title = constants.SdkStyleProject;\n\t\tquickPick.ignoreFocusOut = true;\n\t\tconst disposables: vscode.Disposable[] = [];\n\n\t\ttry {\n\t\t\tif (projectType.sdkLearnMoreUrl) {\n\t\t\t\t// add button to open sdkLearnMoreUrl if it was provided\n\t\t\t\tquickPick.buttons = [sdkLearnMoreButton];\n\t\t\t\tquickPick.placeholder = constants.SdkLearnMorePlaceholder;\n\t\t\t}\n\n\t\t\tlet sdkStylePromise = new Promise<boolean | undefined>((resolve) => {\n\t\t\t\tdisposables.push(\n\t\t\t\t\tquickPick.onDidHide(() => {\n\t\t\t\t\t\tresolve(undefined);\n\t\t\t\t\t}),\n\t\t\t\t\tquickPick.onDidChangeSelection((item) => {\n\t\t\t\t\t\tresolve(item[0].label === constants.YesRecommended);\n\t\t\t\t\t}));\n\n\t\t\t\tif (projectType.sdkLearnMoreUrl) {\n\t\t\t\t\tdisposables.push(quickPick.onDidTriggerButton(async () => {\n\t\t\t\t\t\tawait vscode.env.openExternal(vscode.Uri.parse(projectType.sdkLearnMoreUrl!));\n\t\t\t\t\t}));\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tquickPick.show();\n\t\t\tsdkStyle = await sdkStylePromise;\n\t\t\tquickPick.hide();\n\t\t} finally {\n\t\t\tdisposables.forEach(d => d.dispose());\n\t\t}\n\n\t\tif (sdkStyle === undefined) {\n\t\t\t// User cancelled\n\t\t\treturn;\n\t\t}\n\t}\n\n\tawait workspaceService.createProject(projectName, vscode.Uri.file(projectLocation), projectType.id, targetPlatform, sdkStyle);\n\n\t// Add info message with 'learn more' button if project type has a link\n\t// for user to learn more about the project type\n\tif (projectType.learnMoreUrl && projectType.defaultTargetPlatform) {\n\t\tvoid showInfoMessageWithLearnMoreLink(constants.LocalDevInfo(projectType.defaultTargetPlatform), projectType.learnMoreUrl);\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as azdataType from 'azdata';\nimport * as vscode from 'vscode';\nimport { DialogBase } from './dialogBase';\nimport * as constants from '../common/constants';\nimport { IWorkspaceService } from '../common/interfaces';\nimport { directoryExist, fileExist } from '../common/utils';\nimport { IconPathHelper } from '../common/iconHelper';\nimport { TelemetryActions, TelemetryReporter, TelemetryViews } from '../common/telemetry';\nimport { defaultProjectSaveLocation } from '../common/projectLocationHelper';\n\nexport class OpenExistingDialog extends DialogBase {\n\tpublic filePathTextBox: azdataType.InputBoxComponent | undefined;\n\tpublic filePathAndButtonComponent: azdataType.FormComponent | undefined;\n\tpublic gitRepoTextBoxComponent: azdataType.FormComponent | undefined;\n\tpublic localClonePathComponent: azdataType.FormComponent | undefined;\n\tpublic localClonePathTextBox: azdataType.InputBoxComponent | undefined;\n\tpublic localRadioButton: azdataType.RadioButtonComponent | undefined;\n\tpublic remoteGitRepoRadioButton: azdataType.RadioButtonComponent | undefined;\n\tpublic locationRadioButtonFormComponent: azdataType.FormComponent | undefined;\n\tpublic formBuilder: azdataType.FormBuilder | undefined;\n\n\tconstructor(private workspaceService: IWorkspaceService) {\n\t\tsuper(constants.OpenExistingDialogTitle, 'OpenProject', constants.OpenButtonText);\n\n\t\t// dialog launched from Welcome message button (only visible when no current workspace) vs. \"add project\" button\n\t\tTelemetryReporter.createActionEvent(TelemetryViews.OpenExistingDialog, TelemetryActions.OpenExistingDialogLaunched)\n\t\t\t.withAdditionalProperties({ isWorkspaceOpen: (vscode.workspace.workspaceFile !== undefined).toString() })\n\t\t\t.send();\n\t}\n\n\tasync validate(): Promise<boolean> {\n\t\ttry {\n\t\t\tif (this.localRadioButton?.checked) {\n\t\t\t\tawait this.validateFile(this.filePathTextBox!.value!, constants.Project.toLowerCase());\n\t\t\t} else {\n\t\t\t\tawait this.validateClonePath(<string>this.localClonePathTextBox!.value);\n\t\t\t}\n\n\t\t\tif (await this.workspaceService.validateWorkspace() === false) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\treturn true;\n\t\t}\n\t\tcatch (err) {\n\t\t\tthis.showErrorMessage(err?.message ? err.message : err);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tpublic async validateFile(file: string, fileType: string): Promise<void> {\n\t\tconst fileExists = await fileExist(file);\n\t\tif (!fileExists) {\n\t\t\tthrow new Error(constants.FileNotExistError(fileType, file));\n\t\t}\n\t}\n\n\tpublic async validateClonePath(location: string): Promise<void> {\n\t\t// only need to check if parent directory exists\n\t\t// if the same repo has been cloned before, the git clone will append the next number to the folder\n\t\tconst parentDirectoryExists = await directoryExist(location);\n\t\tif (!parentDirectoryExists) {\n\t\t\tthrow new Error(constants.CloneParentDirectoryNotExistError(location));\n\t\t}\n\t}\n\n\toverride async onComplete(): Promise<void> {\n\t\ttry {\n\t\t\t// save datapoint now because it'll get set to new value during validateWorkspace()\n\t\t\tconst telemetryProps: any = { hasWorkspaceOpen: (vscode.workspace.workspaceFile !== undefined).toString() };\n\n\t\t\tlet addProjectsPromise: Promise<void>;\n\n\t\t\tif (this.remoteGitRepoRadioButton!.checked) {\n\t\t\t\tTelemetryReporter.createActionEvent(TelemetryViews.OpenExistingDialog, TelemetryActions.GitClone)\n\t\t\t\t\t.withAdditionalProperties({ selectedTarget: 'project' })\n\t\t\t\t\t.send();\n\n\t\t\t\taddProjectsPromise = this.workspaceService.gitCloneProject((<azdataType.InputBoxComponent>this.gitRepoTextBoxComponent?.component).value!, this.localClonePathTextBox!.value!);\n\t\t\t} else {\n\t\t\t\ttelemetryProps.cancelled = 'false';\n\t\t\t\taddProjectsPromise = this.workspaceService.addProjectsToWorkspace([vscode.Uri.file(this.filePathTextBox!.value!)]);\n\t\t\t}\n\n\t\t\tTelemetryReporter.createActionEvent(TelemetryViews.OpenExistingDialog, TelemetryActions.OpeningProject)\n\t\t\t\t.withAdditionalProperties(telemetryProps)\n\t\t\t\t.send();\n\n\t\t\tawait addProjectsPromise;\n\t\t}\n\t\tcatch (err) {\n\t\t\tvoid vscode.window.showErrorMessage(err?.message ? err.message : err);\n\t\t}\n\t}\n\n\tprotected async initialize(view: azdataType.ModelView): Promise<void> {\n\t\tthis.localRadioButton = view.modelBuilder.radioButton().withProps({\n\t\t\tname: 'location',\n\t\t\tlabel: constants.Local,\n\t\t\tchecked: true\n\t\t}).component();\n\n\t\tthis.register(this.localRadioButton.onDidChangeCheckedState(checked => {\n\t\t\tif (checked) {\n\t\t\t\tthis.formBuilder?.removeFormItem(<azdataType.FormComponent>this.gitRepoTextBoxComponent);\n\t\t\t\tthis.formBuilder?.removeFormItem(<azdataType.FormComponent>this.localClonePathComponent);\n\t\t\t\tthis.formBuilder?.insertFormItem(<azdataType.FormComponent>this.filePathAndButtonComponent, 1);\n\t\t\t}\n\t\t}));\n\n\t\tthis.remoteGitRepoRadioButton = view.modelBuilder.radioButton().withProps({\n\t\t\tname: 'location',\n\t\t\tlabel: constants.RemoteGitRepo\n\t\t}).component();\n\n\t\tthis.locationRadioButtonFormComponent = {\n\t\t\ttitle: constants.LocationSelectorTitle,\n\t\t\trequired: true,\n\t\t\tcomponent: view.modelBuilder.flexContainer()\n\t\t\t\t.withItems([this.localRadioButton, this.remoteGitRepoRadioButton], { flex: '0 0 auto', CSSStyles: { 'margin-right': '15px' } })\n\t\t\t\t.withProps({ ariaRole: 'radiogroup' })\n\t\t\t\t.component()\n\t\t};\n\n\t\tthis.register(this.remoteGitRepoRadioButton.onDidChangeCheckedState(checked => {\n\t\t\tif (checked) {\n\t\t\t\tthis.formBuilder?.removeFormItem(<azdataType.FormComponent>this.filePathAndButtonComponent);\n\t\t\t\tthis.formBuilder?.insertFormItem(<azdataType.FormComponent>this.gitRepoTextBoxComponent, 1);\n\t\t\t\tthis.formBuilder?.insertFormItem(<azdataType.FormComponent>this.localClonePathComponent, 2);\n\t\t\t}\n\t\t}));\n\n\t\tconst gitRepoTextBox = view.modelBuilder.inputBox().withProps({\n\t\t\tariaLabel: constants.GitRepoUrlTitle,\n\t\t\tplaceHolder: constants.GitRepoUrlPlaceholder,\n\t\t\trequired: true,\n\t\t\twidth: constants.DefaultInputWidth\n\t\t}).component();\n\n\t\tthis.register(gitRepoTextBox.onTextChanged(() => {\n\t\t\treturn gitRepoTextBox.updateProperty('title', this.localClonePathTextBox!.value!);\n\t\t}));\n\n\t\tthis.gitRepoTextBoxComponent = {\n\t\t\ttitle: constants.GitRepoUrlTitle,\n\t\t\tcomponent: gitRepoTextBox\n\t\t};\n\n\t\tthis.localClonePathTextBox = view.modelBuilder.inputBox().withProps({\n\t\t\tariaLabel: constants.LocalClonePathTitle,\n\t\t\tplaceHolder: constants.LocalClonePathPlaceholder,\n\t\t\trequired: true,\n\t\t\twidth: constants.DefaultInputWidth\n\t\t}).component();\n\n\t\tthis.register(this.localClonePathTextBox.onTextChanged(() => {\n\t\t\treturn this.localClonePathTextBox!.updateProperty('title', this.localClonePathTextBox!.value!);\n\t\t}));\n\n\t\tconst localClonePathBrowseFolderButton = view.modelBuilder.button().withProps({\n\t\t\tariaLabel: constants.BrowseButtonText,\n\t\t\ticonPath: IconPathHelper.folder,\n\t\t\twidth: '18px',\n\t\t\theight: '16px',\n\t\t}).component();\n\n\t\tthis.register(localClonePathBrowseFolderButton.onDidClick(async () => {\n\t\t\tconst folderUris = await vscode.window.showOpenDialog({\n\t\t\t\tcanSelectFiles: false,\n\t\t\t\tcanSelectFolders: true,\n\t\t\t\tcanSelectMany: false,\n\t\t\t\tdefaultUri: defaultProjectSaveLocation()\n\t\t\t});\n\t\t\tif (!folderUris || folderUris.length === 0) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst selectedFolder = folderUris[0].fsPath;\n\t\t\tthis.localClonePathTextBox!.value = selectedFolder;\n\t\t\tvoid this.localClonePathTextBox!.updateProperty('title', this.localClonePathTextBox!.value);\n\t\t}));\n\n\t\tthis.localClonePathComponent = {\n\t\t\ttitle: constants.LocalClonePathTitle,\n\t\t\tcomponent: this.createHorizontalContainer(view, [this.localClonePathTextBox, localClonePathBrowseFolderButton]),\n\t\t\trequired: true\n\t\t};\n\n\t\tthis.filePathTextBox = view.modelBuilder.inputBox().withProps({\n\t\t\tariaLabel: constants.LocationSelectorTitle,\n\t\t\tplaceHolder: constants.ProjectFilePlaceholder,\n\t\t\trequired: true,\n\t\t\twidth: constants.DefaultInputWidth\n\t\t}).component();\n\n\t\tthis.register(this.filePathTextBox.onTextChanged(() => {\n\t\t\treturn this.filePathTextBox!.updateProperty('title', this.filePathTextBox!.value!);\n\t\t}));\n\n\t\tconst localProjectBrowseFolderButton = view.modelBuilder.button().withProps({\n\t\t\tariaLabel: constants.BrowseButtonText,\n\t\t\ticonPath: IconPathHelper.folder,\n\t\t\twidth: '18px',\n\t\t\theight: '16px'\n\t\t}).component();\n\t\tthis.register(localProjectBrowseFolderButton.onDidClick(() => this.onBrowseButtonClick()));\n\n\t\tconst flexContainer = this.createHorizontalContainer(view, [this.filePathTextBox, localProjectBrowseFolderButton]);\n\t\tvoid flexContainer.updateCssStyles({ 'margin-top': '-10px' });\n\t\tthis.filePathAndButtonComponent = {\n\t\t\tcomponent: flexContainer\n\t\t};\n\n\t\tthis.formBuilder = view.modelBuilder.formContainer().withFormItems([\n\t\t\tthis.locationRadioButtonFormComponent,\n\t\t\tthis.filePathAndButtonComponent,\n\t\t]);\n\t\tawait view.initializeModel(this.formBuilder?.component());\n\t\tthis.initDialogComplete?.resolve();\n\t}\n\n\tpublic async onBrowseButtonClick(): Promise<void> {\n\t\tconst projectFilePath = await browseForProject(this.workspaceService);\n\t\tif (projectFilePath) {\n\t\t\tthis.filePathTextBox!.value = projectFilePath.fsPath;\n\t\t}\n\t}\n}\n\nexport async function browseForProject(workspaceService: IWorkspaceService): Promise<vscode.Uri | undefined> {\n\tconst filters: { [name: string]: string[] } = {};\n\tconst projectTypes = await workspaceService.getAllProjectTypes();\n\tfilters[constants.AllProjectTypes] = [...new Set(projectTypes.map(type => type.projectFileExtension))];\n\tprojectTypes.forEach(type => {\n\t\tfilters[type.displayName] = [type.projectFileExtension];\n\t});\n\n\tconst fileUris = await vscode.window.showOpenDialog({\n\t\tcanSelectFiles: true,\n\t\tcanSelectFolders: false,\n\t\tcanSelectMany: false,\n\t\topenLabel: constants.SelectProjectFileActionName,\n\t\tfilters: filters,\n\t\tdefaultUri: defaultProjectSaveLocation()\n\t});\n\n\treturn fileUris?.[0];\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport type * as azdataType from 'azdata';\nimport { IDashboardColumnInfo, IDashboardTable, IProjectAction, IProjectActionGroup, IProjectProvider, WorkspaceTreeItem } from 'dataworkspace';\nimport * as path from 'path';\nimport * as vscode from 'vscode';\nimport * as constants from '../common/constants';\nimport { IconPathHelper } from '../common/iconHelper';\nimport { IWorkspaceService } from '../common/interfaces';\nimport { fileExist, getAzdataApi } from '../common/utils';\n\nexport class ProjectDashboard {\n\n\tprivate dashboard: azdataType.window.ModelViewDashboard | undefined;\n\tprivate modelView: azdataType.ModelView | undefined;\n\tprivate projectProvider: IProjectProvider | undefined;\n\tprivate overviewTab: azdataType.DashboardTab | undefined;\n\tprivate rootContainer: azdataType.FlexContainer | undefined;\n\tprivate tableContainer: azdataType.Component | undefined;\n\n\tconstructor(private _workspaceService: IWorkspaceService, private _treeItem: WorkspaceTreeItem) {\n\t}\n\n\tpublic async showDashboard(): Promise<void> {\n\t\tconst project = this._treeItem.element.project;\n\n\t\tif (!(await fileExist(project.projectFilePath))) {\n\t\t\tthrow new Error(constants.fileDoesNotExist(project.projectFilePath));\n\t\t}\n\n\t\tif (!project.projectFileName) {\n\t\t\tthrow new Error(constants.projectNameNull);\n\t\t}\n\n\t\tthis.projectProvider = await this._workspaceService.getProjectProvider(vscode.Uri.file(project.projectFilePath));\n\t\tif (!this.projectProvider) {\n\t\t\tthrow new Error(constants.ProviderNotFoundForProjectTypeError(project.projectFilePath));\n\t\t}\n\n\t\tawait this.createDashboard(project.projectFileName, project.projectFilePath);\n\t\tawait this.dashboard!.open();\n\t}\n\n\tprivate async createDashboard(title: string, projectFilePath: string): Promise<void> {\n\t\tthis.dashboard = getAzdataApi()!.window.createModelViewDashboard(title, 'ProjectDashboard', { alwaysShowTabs: false });\n\t\tthis.dashboard.registerTabs(async (modelView: azdataType.ModelView) => {\n\t\t\tthis.modelView = modelView;\n\n\t\t\tthis.overviewTab = {\n\t\t\t\ttitle: '',\n\t\t\t\tid: 'overview-tab',\n\t\t\t\tcontent: this.createContainer(title, projectFilePath),\n\t\t\t\ttoolbar: this.createToolbarContainer(projectFilePath)\n\t\t\t};\n\t\t\treturn [\n\t\t\t\tthis.overviewTab\n\t\t\t];\n\t\t});\n\t}\n\n\tprivate createToolbarContainer(projectFilePath: string): azdataType.ToolbarContainer {\n\t\tconst projectActions: (IProjectAction | IProjectActionGroup)[] = this.projectProvider!.projectToolbarActions;\n\n\t\t// Add actions as buttons\n\t\tconst buttons: azdataType.ToolbarComponent[] = [];\n\n\t\tconst projectActionsLength = projectActions.length;\n\n\t\tprojectActions.forEach((action, actionIndex) => {\n\t\t\tif (this.isProjectAction(action)) {\n\t\t\t\tconst button = this.createButton(action);\n\t\t\t\tbuttons.push({ component: button, toolbarSeparatorAfter: (projectActionsLength - 1 === actionIndex) });\n\t\t\t} else {\n\t\t\t\tconst groupLength = action.actions.length;\n\n\t\t\t\taction.actions.forEach((groupAction, index) => {\n\t\t\t\t\tconst button = this.createButton(groupAction);\n\t\t\t\t\tbuttons.push({ component: button, toolbarSeparatorAfter: ((groupLength - 1 === index) || (projectActionsLength - 1 === actionIndex)) });\t// Add toolbar separator at the end of the group\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tconst refreshButton = this.modelView!.modelBuilder.button()\n\t\t\t.withProps({\n\t\t\t\tlabel: constants.Refresh,\n\t\t\t\ticonPath: IconPathHelper.refresh,\n\t\t\t\theight: '20px'\n\t\t\t}).component();\n\n\t\trefreshButton.onDidClick(() => {\n\t\t\tthis.rootContainer?.removeItem(this.tableContainer!);\n\t\t\tthis.tableContainer = this.createTables(projectFilePath);\n\t\t\tthis.rootContainer?.addItem(this.tableContainer);\n\t\t});\n\n\t\tbuttons.push({ component: refreshButton });\n\n\t\treturn this.modelView!.modelBuilder.toolbarContainer()\n\t\t\t.withToolbarItems(\n\t\t\t\tbuttons\n\t\t\t).component();\n\t}\n\n\tprivate isProjectAction(obj: any): obj is IProjectAction {\n\t\treturn obj.id !== undefined;\n\t}\n\n\tprivate createButton(projectAction: IProjectAction): azdataType.ButtonComponent {\n\t\tlet button = this.modelView!.modelBuilder.button()\n\t\t\t.withProps({\n\t\t\t\tlabel: projectAction.id,\n\t\t\t\ticonPath: projectAction.icon,\n\t\t\t\theight: '20px'\n\t\t\t}).component();\n\n\t\tbutton.onDidClick(() => {\n\t\t\tprojectAction.run(this._treeItem);\n\t\t});\n\n\t\treturn button;\n\t}\n\n\tprivate createContainer(title: string, projectFilePath: string): azdataType.FlexContainer {\n\t\tthis.rootContainer = this.modelView!.modelBuilder.flexContainer().withLayout(\n\t\t\t{\n\t\t\t\tflexFlow: 'column',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '100%'\n\t\t\t}).component();\n\n\t\tconst headerContainer = this.createHeader(title, projectFilePath);\n\t\tthis.tableContainer = this.createTables(projectFilePath);\n\n\t\tthis.rootContainer.addItem(headerContainer);\n\t\tthis.rootContainer.addItem(this.tableContainer);\n\n\t\treturn this.rootContainer;\n\t}\n\n\t/**\n\t * Create header with title, location and background\n\t */\n\tprivate createHeader(title: string, location: string): azdataType.Component {\n\t\tconst headerContainer = this.modelView!.modelBuilder.flexContainer().withLayout(\n\t\t\t{\n\t\t\t\tflexFlow: 'column',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '30%'\n\t\t\t}).component();\n\n\t\tconst header = this.modelView!.modelBuilder.flexContainer().withLayout(\n\t\t\t{\n\t\t\t\tflexFlow: 'column',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: '30%'\n\t\t\t}).component();\n\n\t\tconst titleLabel = this.modelView!.modelBuilder.text()\n\t\t\t.withProps({ value: title, CSSStyles: { 'margin-block-start': '20px', 'margin-block-end': '0px' } })\n\t\t\t.component();\n\t\theader.addItem(titleLabel, { CSSStyles: { 'padding-left': '34px', 'padding-top': '15px', 'font-size': '36px', 'font-weight': '400' } });\n\n\t\tconst projectFolderPath = path.dirname(location);\n\t\tconst locationLabel = this.modelView!.modelBuilder.text()\n\t\t\t.withProps({ value: projectFolderPath, CSSStyles: { 'margin-block-start': '20px', 'margin-block-end': '0px' } })\n\t\t\t.component();\n\t\theader.addItem(locationLabel, { CSSStyles: { 'padding-left': '34px', 'padding-top': '15px', 'padding-bottom': '50px', 'font-size': '16px' } });\n\n\t\tconst backgroundImage = this.projectProvider!.image; // background image added at the bottom right of the header\n\t\t// Files need to have the vscode-file scheme to be loaded by ADS\n\t\tconst backgroundUri = vscode.Uri.file(backgroundImage!.light.toString()).with({ scheme: 'vscode-file' });\n\t\theaderContainer.addItem(header, {\n\t\t\tCSSStyles: {\n\t\t\t\t'background-image': `url(${backgroundUri})`,\n\t\t\t\t'background-repeat': 'no-repeat',\n\t\t\t\t'background-position': '85% bottom',\n\t\t\t\t'background-size': '10%',\n\t\t\t\t'border-bottom': 'solid 1px #ccc',\n\t\t\t\t'width': '100%',\n\t\t\t\t'height': '100%'\n\t\t\t}\n\t\t});\n\n\t\treturn headerContainer;\n\t}\n\n\t/**\n\t * Adds all the tables to the container\n\t */\n\tprivate createTables(projectFile: string): azdataType.Component {\n\t\tconst dashboardData: IDashboardTable[] = this.projectProvider!.getDashboardComponents(projectFile);\n\n\t\tconst tableContainer = this.modelView!.modelBuilder.flexContainer().withLayout(\n\t\t\t{\n\t\t\t\tflexFlow: 'column',\n\t\t\t\twidth: '100%',\n\t\t\t\theight: 'auto'\n\t\t\t}).component();\n\n\t\tdashboardData.forEach(info => {\n\t\t\tconst tableNameLabel = this.modelView!.modelBuilder.text()\n\t\t\t\t.withProps({ value: info.name, CSSStyles: { 'margin-block-start': '30px', 'margin-block-end': '0px' } })\n\t\t\t\t.component();\n\t\t\ttableContainer.addItem(tableNameLabel, { CSSStyles: { 'padding-left': '25px', 'padding-bottom': '20px', ...constants.cssStyles.title } });\n\n\t\t\tif (info.data.length === 0) {\n\t\t\t\tconst noDataText = constants.noPreviousData(info.name.toLocaleLowerCase());\n\t\t\t\tconst noDataLabel = this.modelView!.modelBuilder.text()\n\t\t\t\t\t.withProps({ value: noDataText })\n\t\t\t\t\t.component();\n\t\t\t\ttableContainer.addItem(noDataLabel, { CSSStyles: { 'padding-left': '25px', 'padding-bottom': '20px' } });\n\t\t\t} else {\n\t\t\t\tconst columns: azdataType.DeclarativeTableColumn[] = [];\n\t\t\t\tinfo.columns.forEach((column: IDashboardColumnInfo) => {\n\t\t\t\t\tlet col = {\n\t\t\t\t\t\tdisplayName: column.displayName,\n\t\t\t\t\t\tvalueType: column.type === 'icon' ? getAzdataApi()!.DeclarativeDataType.component : getAzdataApi()!.DeclarativeDataType.string,\n\t\t\t\t\t\tisReadOnly: true,\n\t\t\t\t\t\twidth: column.width,\n\t\t\t\t\t\theaderCssStyles: {\n\t\t\t\t\t\t\t'border': 'none',\n\t\t\t\t\t\t\t...constants.cssStyles.tableHeader\n\t\t\t\t\t\t},\n\t\t\t\t\t\trowCssStyles: {\n\t\t\t\t\t\t\t...constants.cssStyles.tableRow\n\t\t\t\t\t\t},\n\t\t\t\t\t};\n\t\t\t\t\tcolumns.push(col);\n\t\t\t\t});\n\n\t\t\t\tconst data: azdataType.DeclarativeTableCellValue[][] = [];\n\t\t\t\tinfo.data.forEach(values => {\n\t\t\t\t\tconst columnValue: azdataType.DeclarativeTableCellValue[] = [];\n\t\t\t\t\tvalues.forEach(val => {\n\t\t\t\t\t\tif (typeof val === 'string') {\n\t\t\t\t\t\t\tcolumnValue.push({ value: val });\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst iconComponent = this.modelView!.modelBuilder.image().withProps({\n\t\t\t\t\t\t\t\ticonPath: val.icon,\n\t\t\t\t\t\t\t\twidth: '15px',\n\t\t\t\t\t\t\t\theight: '15px',\n\t\t\t\t\t\t\t\ticonHeight: '15px',\n\t\t\t\t\t\t\t\ticonWidth: '15px'\n\t\t\t\t\t\t\t}).component();\n\t\t\t\t\t\t\tconst stringComponent = this.modelView!.modelBuilder.text().withProps({\n\t\t\t\t\t\t\t\tvalue: val.text,\n\t\t\t\t\t\t\t\tCSSStyles: { 'margin-block-start': 'auto', 'block-size': 'auto', 'margin-block-end': '0px' }\n\t\t\t\t\t\t\t}).component();\n\n\t\t\t\t\t\t\tconst columnData = this.modelView!.modelBuilder.flexContainer().withItems([iconComponent, stringComponent], { flex: '0 0 auto', CSSStyles: { 'margin-right': '10px' } }).withLayout({ flexFlow: 'row' }).component();\n\t\t\t\t\t\t\tcolumnValue.push({ value: columnData });\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tdata.push(columnValue);\n\t\t\t\t});\n\n\t\t\t\tconst table = this.modelView!.modelBuilder.declarativeTable()\n\t\t\t\t\t.withProps({ columns: columns, dataValues: data, ariaLabel: info.name, CSSStyles: { 'margin-left': '30px' } }).component();\n\n\t\t\t\ttableContainer.addItem(table);\n\t\t\t}\n\t\t});\n\t\treturn tableContainer;\n\t}\n}\n","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport * as dataworkspace from 'dataworkspace';\nimport * as path from 'path';\nimport * as git from '../../../git/src/api/git';\nimport * as constants from '../common/constants';\nimport * as glob from 'fast-glob';\nimport { IWorkspaceService } from '../common/interfaces';\nimport { ProjectProviderRegistry } from '../common/projectProviderRegistry';\nimport Logger from '../common/logger';\nimport { TelemetryReporter, TelemetryViews, TelemetryActions } from '../common/telemetry';\nimport { Deferred } from '../common/promise';\nimport { getAzdataApi } from '../common/utils';\n\nconst WorkspaceConfigurationName = 'dataworkspace';\nconst ExcludedProjectsConfigurationName = 'excludedProjects';\n\nexport class WorkspaceService implements IWorkspaceService {\n\tprivate _onDidWorkspaceProjectsChange: vscode.EventEmitter<void> = new vscode.EventEmitter<void>();\n\treadonly onDidWorkspaceProjectsChange: vscode.Event<void> = this._onDidWorkspaceProjectsChange?.event;\n\n\tprivate openedProjects: vscode.Uri[] | undefined = undefined;\n\tprivate excludedProjects: string[] | undefined;\n\n\tconstructor() {\n\t\tthis.getProjectsInWorkspace(undefined, true).catch(err => console.error('Error initializing projects in workspace ', err));\n\n\t\tTelemetryReporter.createActionEvent(TelemetryViews.WorkspaceTreePane, TelemetryActions.ProjectsLoaded)\n\t\t\t.withAdditionalProperties({\n\t\t\t\topenProjectCount: this.openedProjects?.length.toString() ?? '0',\n\t\t\t\texludedProjectCount: this.excludedProjects?.length.toString() ?? '0'\n\t\t\t}).send();\n\t}\n\n\tget isProjectProviderAvailable(): boolean {\n\t\tfor (const extension of vscode.extensions.all) {\n\t\t\tconst projectTypes = extension.packageJSON.contributes && extension.packageJSON.contributes.projects as string[];\n\t\t\tif (projectTypes && projectTypes.length > 0) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\t\treturn false;\n\t}\n\n\t/**\n\t * Verify that a workspace is open or that if one isn't and we're running in ADS, it's ok to create a workspace and restart ADS\n\t */\n\tasync validateWorkspace(): Promise<boolean> {\n\t\tif (getAzdataApi() && (!vscode.workspace.workspaceFolders || vscode.workspace.workspaceFolders.length === 0)) {\n\t\t\tconst result = await vscode.window.showWarningMessage(constants.RestartConfirmation, { modal: true }, constants.OkButtonText);\n\t\t\tif (result === constants.OkButtonText) {\n\t\t\t\treturn true;\n\t\t\t} else {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t} else {\n\t\t\t// workspace is open or we're running in VS Code. VS Code doesn't require reloading the window when creating a workspace or\n\t\t\t// adding the first item to an open workspace and so this check is unnecessary there.\n\t\t\treturn true;\n\t\t}\n\t}\n\n\tpublic async addProjectsToWorkspace(projectFiles: vscode.Uri[]): Promise<void> {\n\t\t// 1. Include new workspace folders if any of the new projects' locations aren't already included\n\n\t\tconst newWorkspaceFolders: string[] = [];\n\n\t\tfor (const projectFile of projectFiles) {\n\t\t\tconst relativePath = vscode.workspace.asRelativePath(projectFile, false);\n\n\t\t\tif (relativePath === undefined || vscode.Uri.file(relativePath).fsPath === projectFile.fsPath) {\n\t\t\t\tnewWorkspaceFolders.push(path.dirname(projectFile.path));\n\t\t\t}\n\t\t}\n\n\t\tif (newWorkspaceFolders.length > 0) {\n\t\t\t// Add to the end of the workspace folders to avoid a restart of the extension host if we can\n\t\t\tvscode.workspace.updateWorkspaceFolders(vscode.workspace.workspaceFolders?.length || 0, undefined, ...(newWorkspaceFolders.map(folder => ({ uri: vscode.Uri.file(folder) }))));\n\t\t}\n\n\t\t// 2. Compare projcets being added against prior (cached) list of projects in the workspace\n\n\t\tconst previousProjects: string[] = (await this.getProjectsInWorkspace(undefined, false)).map(p => p.path);\n\t\tlet newProjectAdded: boolean = false;\n\t\tconst projectsAlreadyOpen: string[] = [];\n\n\t\tfor (const projectFile of projectFiles) {\n\t\t\tif (previousProjects.includes(projectFile.path)) {\n\t\t\t\tprojectsAlreadyOpen.push(projectFile.fsPath);\n\t\t\t\tvoid vscode.window.showInformationMessage(constants.ProjectAlreadyOpened(projectFile.fsPath));\n\t\t\t}\n\t\t\telse {\n\t\t\t\tnewProjectAdded = true;\n\n\t\t\t\tTelemetryReporter.createActionEvent(TelemetryViews.WorkspaceTreePane, TelemetryActions.ProjectAddedToWorkspace)\n\t\t\t\t\t.withAdditionalProperties({\n\t\t\t\t\t\tprojectType: path.extname(projectFile.fsPath)\n\t\t\t\t\t}).send();\n\t\t\t}\n\t\t}\n\n\t\t// 3. Check if the project was previously excluded and remove it from the list of excluded projects if it was\n\t\tconst excludedProjects = this.getWorkspaceConfigurationValue<string[]>(ExcludedProjectsConfigurationName);\n\t\tconst updatedExcludedProjects = excludedProjects.filter(excludedProj => !projectFiles.find(newProj => vscode.workspace.asRelativePath(newProj) === excludedProj));\n\t\tif (excludedProjects.length !== updatedExcludedProjects.length) {\n\t\t\tawait this.setWorkspaceConfigurationValue(ExcludedProjectsConfigurationName, updatedExcludedProjects);\n\t\t}\n\n\t\t// 4. If any new projects are detected, fire event to refresh projects tree\n\t\tif (newProjectAdded) {\n\t\t\tthis._onDidWorkspaceProjectsChange.fire();\n\t\t}\n\t}\n\n\tpublic async getAllProjectTypes(): Promise<dataworkspace.IProjectType[]> {\n\t\tawait this.ensureProviderExtensionLoaded();\n\t\tconst projectTypes: dataworkspace.IProjectType[] = [];\n\t\tProjectProviderRegistry.providers.forEach(provider => {\n\t\t\tprojectTypes.push(...provider.supportedProjectTypes);\n\t\t});\n\t\treturn projectTypes;\n\t}\n\n\tprivate getProjectsPromise: Deferred<void> | undefined = undefined;\n\n\t/**\n\t * Returns all the projects in the workspace\n\t * @param ext project extension to filter on. If this is passed in, this will only return projects with this file extension\n\t * @param refreshFromDisk whether to rescan the folder for project files, or return the cached version. Defaults to false.\n\t * @returns array of file URIs for projects\n\t */\n\tpublic async getProjectsInWorkspace(ext?: string, refreshFromDisk: boolean = false): Promise<vscode.Uri[]> {\n\n\t\tif (refreshFromDisk || this.openedProjects === undefined) { // always check if nothing cached\n\t\t\tawait this.refreshProjectsFromDisk();\n\t\t}\n\n\t\tif (this.openedProjects === undefined) {\n\t\t\tthrow new Error(constants.openedProjectsUndefinedAfterRefresh);\n\t\t}\n\n\t\t// remove excluded projects specified in workspace file\n\t\tthis.excludedProjects = this.getWorkspaceConfigurationValue<string[]>(ExcludedProjectsConfigurationName);\n\t\tthis.openedProjects = this.openedProjects.filter(project => !this.excludedProjects?.find(excludedProject => excludedProject === vscode.workspace.asRelativePath(project)));\n\n\t\t// filter by specified extension\n\t\tif (ext) {\n\t\t\treturn this.openedProjects.filter(p => p.fsPath.toLowerCase().endsWith(ext.toLowerCase()));\n\t\t} else {\n\t\t\treturn this.openedProjects;\n\t\t}\n\t}\n\n\tprivate async refreshProjectsFromDisk(): Promise<void> {\n\t\t// Only allow one disk scan to be happening at a time\n\t\tif (this.getProjectsPromise) {\n\t\t\treturn this.getProjectsPromise.promise;\n\t\t}\n\n\t\tthis.getProjectsPromise = new Deferred();\n\n\t\ttry {\n\t\t\tconst projectPromises = vscode.workspace.workspaceFolders?.map(f => this.getAllProjectsInFolder(f.uri)) ?? [];\n\t\t\tthis.openedProjects = (await Promise.all(projectPromises)).reduce((prev, curr) => prev.concat(curr), []);\n\t\t\tthis.getProjectsPromise.resolve();\n\t\t} catch (err) {\n\t\t\tthis.getProjectsPromise.reject(err);\n\t\t\tthrow err;\n\t\t} finally {\n\t\t\tthis.getProjectsPromise = undefined;\n\t\t}\n\t}\n\n\t/**\n\t * Fire event to refresh projects tree\n\t */\n\tpublic refreshProjectsTree(): void {\n\t\tthis._onDidWorkspaceProjectsChange.fire();\n\t}\n\n\t/**\n\t * Returns an array of all the supported projects in the folder\n\t * @param folder folder to look look for projects\n\t * @returns array of file URIs for supported projects\n\t */\n\tasync getAllProjectsInFolder(folder: vscode.Uri): Promise<vscode.Uri[]> {\n\t\t// get the unique supported project extensions\n\t\tconst supportedProjectExtensions = [...new Set((await this.getAllProjectTypes()).map(p => { return p.projectFileExtension; }))];\n\n\t\t// path needs to use forward slashes for glob to work\n\t\tconst escapedPath = glob.escapePath(folder.fsPath.replace(/\\\\/g, '/'));\n\n\t\t// can filter for multiple file extensions using folder/**/*.{sqlproj,csproj} format, but this notation doesn't work if there's only one extension\n\t\t// so the filter needs to be in the format folder/**/*.sqlproj if there's only one supported projectextension\n\t\tconst projFilter = supportedProjectExtensions.length > 1 ? path.posix.join(escapedPath, '**', `*.{${supportedProjectExtensions.toString()}}`) : path.posix.join(escapedPath, '**', `*.${supportedProjectExtensions[0]}`);\n\n\t\t// glob will return an array of file paths with forward slashes, so they need to be converted back if on windows\n\t\treturn (await glob(projFilter)).map(p => vscode.Uri.file(path.resolve(p)));\n\t}\n\n\tasync getProjectProvider(projectFile: vscode.Uri): Promise<dataworkspace.IProjectProvider | undefined> {\n\t\tconst projectType = path.extname(projectFile.path).replace(/\\./g, '');\n\t\tlet provider = ProjectProviderRegistry.getProviderByProjectExtension(projectType);\n\t\tif (!provider) {\n\t\t\tawait this.ensureProviderExtensionLoaded(projectType);\n\t\t}\n\t\treturn ProjectProviderRegistry.getProviderByProjectExtension(projectType);\n\t}\n\n\tasync createProject(name: string, location: vscode.Uri, projectTypeId: string, projectTargetVersion?: string, sdkStyleProject?: boolean): Promise<vscode.Uri> {\n\t\tconst provider = ProjectProviderRegistry.getProviderByProjectType(projectTypeId);\n\t\tif (provider) {\n\t\t\tconst projectFile = await provider.createProject(name, location, projectTypeId, projectTargetVersion, sdkStyleProject);\n\t\t\tawait this.addProjectsToWorkspace([projectFile]);\n\t\t\tthis._onDidWorkspaceProjectsChange.fire();\n\t\t\treturn projectFile;\n\t\t} else {\n\t\t\tthrow new Error(constants.ProviderNotFoundForProjectTypeError(projectTypeId));\n\t\t}\n\t}\n\n\tasync gitCloneProject(url: string, localClonePath: string): Promise<void> {\n\t\tconst gitApi: git.API = (<git.GitExtension>vscode.extensions.getExtension('vscode.git')!.exports).getAPI(1);\n\t\tconst opts = {\n\t\t\tlocation: vscode.ProgressLocation.Notification,\n\t\t\ttitle: constants.gitCloneMessage(url),\n\t\t\tcancellable: true\n\t\t};\n\n\t\ttry {\n\t\t\t// show git output channel\n\t\t\tvoid vscode.commands.executeCommand('git.showOutput');\n\t\t\tconst repositoryPath = await vscode.window.withProgress(\n\t\t\t\topts,\n\t\t\t\t(progress, token) => gitApi.clone(url!, { parentPath: localClonePath!, progress, recursive: true }, token)\n\t\t\t);\n\n\t\t\t// get all the project files in the cloned repo and add them to workspace\n\t\t\tconst repoProjects = (await this.getAllProjectsInFolder(vscode.Uri.file(repositoryPath)));\n\t\t\tawait this.addProjectsToWorkspace(repoProjects);\n\t\t} catch (e) {\n\t\t\tvoid vscode.window.showErrorMessage(constants.gitCloneError);\n\t\t\tconsole.error(e);\n\t\t}\n\t}\n\n\t/**\n\t * Ensure the project provider extension for the specified project is loaded\n\t * @param projectType The file extension of the project, if not specified, all project provider extensions will be loaded.\n\t */\n\tprivate async ensureProviderExtensionLoaded(projectType: string | undefined = undefined): Promise<void> {\n\t\tconst projType = projectType ? projectType.toUpperCase() : undefined;\n\t\tlet extension: vscode.Extension<any>;\n\t\tfor (extension of vscode.extensions.all) {\n\t\t\tconst projectTypes = extension.packageJSON.contributes && extension.packageJSON.contributes.projects as string[];\n\t\t\t// Process only when this extension is contributing project providers\n\t\t\tif (projectTypes && projectTypes.length > 0) {\n\t\t\t\tif (projType) {\n\t\t\t\t\tif (projectTypes.findIndex((proj: string) => proj.toUpperCase() === projType) !== -1) {\n\t\t\t\t\t\tawait this.handleProjectProviderExtension(extension);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tawait this.handleProjectProviderExtension(extension);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tprivate async handleProjectProviderExtension(extension: vscode.Extension<any>): Promise<void> {\n\t\ttry {\n\t\t\tif (!extension.isActive) {\n\t\t\t\tawait extension.activate();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tLogger.error(constants.ExtensionActivationError(extension.id, err));\n\t\t}\n\n\t\tif (extension.isActive && extension.exports && !ProjectProviderRegistry.providers.includes(extension.exports)) {\n\t\t\tProjectProviderRegistry.registerProvider(extension.exports, extension.id);\n\t\t}\n\t}\n\n\t/**\n\t * Adds the specified project to list of projects to hide in projects viewlet. This list is kept track of in the workspace file\n\t * @param projectFile uri of project to remove from projects viewlet\n\t */\n\tasync removeProject(projectFile: vscode.Uri): Promise<void> {\n\t\tTelemetryReporter.createActionEvent(TelemetryViews.WorkspaceTreePane, TelemetryActions.ProjectRemovedFromWorkspace)\n\t\t\t.withAdditionalProperties({\n\t\t\t\tprojectType: path.extname(projectFile.fsPath)\n\t\t\t}).send();\n\n\t\tconst excludedProjects = this.getWorkspaceConfigurationValue<string[]>(ExcludedProjectsConfigurationName);\n\t\texcludedProjects.push(vscode.workspace.asRelativePath(projectFile.fsPath));\n\t\tawait this.setWorkspaceConfigurationValue(ExcludedProjectsConfigurationName, [...new Set(excludedProjects)]);\n\t\tthis._onDidWorkspaceProjectsChange.fire();\n\t}\n\n\tgetWorkspaceConfigurationValue<T>(configurationName: string): T {\n\t\treturn vscode.workspace.getConfiguration(WorkspaceConfigurationName).get(configurationName) as T;\n\t}\n\n\tasync setWorkspaceConfigurationValue(configurationName: string, value: any): Promise<void> {\n\t\tawait vscode.workspace.getConfiguration(WorkspaceConfigurationName).update(configurationName, value, vscode.ConfigurationTarget.Workspace);\n\t}\n}\n","module.exports = require(\"@opentelemetry/tracing\");","module.exports = require(\"applicationinsights-native-metrics\");","module.exports = require(\"assert\");","module.exports = require(\"async_hooks\");","module.exports = require(\"azdata\");","module.exports = require(\"child_process\");","module.exports = require(\"console\");","module.exports = require(\"constants\");","module.exports = require(\"crypto\");","module.exports = require(\"dns\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"module\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"timers\");","module.exports = require(\"url\");","module.exports = require(\"util\");","module.exports = require(\"vscode\");","module.exports = require(\"zlib\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the Source EULA. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\n\nimport * as vscode from 'vscode';\nimport { WorkspaceTreeDataProvider } from './common/workspaceTreeDataProvider';\nimport { WorkspaceService } from './services/workspaceService';\nimport { WorkspaceTreeItem, IExtension } from 'dataworkspace';\nimport { DataWorkspaceExtension } from './common/dataWorkspaceExtension';\nimport { NewProjectDialog } from './dialogs/newProjectDialog';\nimport { browseForProject, OpenExistingDialog } from './dialogs/openExistingDialog';\nimport { IWorkspaceService } from './common/interfaces';\nimport { IconPathHelper } from './common/iconHelper';\nimport { ProjectDashboard } from './dialogs/projectDashboard';\nimport { getAzdataApi } from './common/utils';\nimport { createNewProjectWithQuickpick } from './dialogs/newProjectQuickpick';\n\nexport async function activate(context: vscode.ExtensionContext): Promise<IExtension> {\n\tconst azdataApi = getAzdataApi();\n\tvoid vscode.commands.executeCommand('setContext', 'azdataAvailable', !!azdataApi);\n\tconst workspaceService = new WorkspaceService();\n\n\tconst workspaceTreeDataProvider = new WorkspaceTreeDataProvider(workspaceService);\n\tcontext.subscriptions.push(vscode.workspace.onDidChangeWorkspaceFolders(async () => {\n\t\tawait workspaceTreeDataProvider.refresh();\n\t}));\n\tconst dataWorkspaceExtension = new DataWorkspaceExtension(workspaceService);\n\tcontext.subscriptions.push(vscode.window.registerTreeDataProvider('dataworkspace.views.main', workspaceTreeDataProvider));\n\tcontext.subscriptions.push(vscode.extensions.onDidChange(() => {\n\t\tsetProjectProviderContextValue(workspaceService);\n\t}));\n\tsetProjectProviderContextValue(workspaceService);\n\n\tcontext.subscriptions.push(vscode.commands.registerCommand('projects.new', async () => {\n\t\tif (azdataApi) {\n\t\t\tconst dialog = new NewProjectDialog(workspaceService);\n\t\t\tawait dialog.open();\n\t\t} else {\n\t\t\tawait createNewProjectWithQuickpick(workspaceService);\n\t\t}\n\t}));\n\n\tcontext.subscriptions.push(vscode.commands.registerCommand('projects.openExisting', async () => {\n\t\tif (azdataApi) {\n\t\t\tconst dialog = new OpenExistingDialog(workspaceService);\n\t\t\tawait dialog.open();\n\t\t} else {\n\t\t\tconst projectFileUri = await browseForProject(workspaceService);\n\t\t\tif (!projectFileUri) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tawait workspaceService.addProjectsToWorkspace([projectFileUri]);\n\t\t}\n\t}));\n\n\tcontext.subscriptions.push(vscode.commands.registerCommand('dataworkspace.refresh', async () => {\n\t\tawait workspaceTreeDataProvider.refresh();\n\t}));\n\n\tcontext.subscriptions.push(vscode.commands.registerCommand('dataworkspace.close', () => {\n\t\treturn vscode.commands.executeCommand('workbench.action.closeFolder');\n\t}));\n\n\tcontext.subscriptions.push(vscode.commands.registerCommand('projects.removeProject', async (treeItem: WorkspaceTreeItem) => {\n\t\tawait workspaceService.removeProject(vscode.Uri.file(treeItem.element.project.projectFilePath));\n\t}));\n\n\tcontext.subscriptions.push(vscode.commands.registerCommand('projects.manageProject', async (treeItem: WorkspaceTreeItem) => {\n\t\tconst dashboard = new ProjectDashboard(workspaceService, treeItem);\n\t\tawait dashboard.showDashboard();\n\t}));\n\n\tIconPathHelper.setExtensionContext(context);\n\n\treturn Promise.resolve(dataWorkspaceExtension);\n}\n\nfunction setProjectProviderContextValue(workspaceService: IWorkspaceService): void {\n\tvoid vscode.commands.executeCommand('setContext', 'isProjectProviderAvailable', workspaceService.isProjectProviderAvailable);\n}\n\nexport function deactivate(): void {\n}\n"],"sourceRoot":""}